(function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dumi-project/",r(r.s=5)})({"++0Y":function(e,t,r){"use strict";var n=t,i=r("Jkyt"),o=r("CzZC");function a(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var o=t.resolvedType.values,a=Object.keys(o),s=0;s<a.length;++s)t.repeated&&o[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",o[a[s]])("m%s=%j",n,o[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n);break}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n);break}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),u=o.safeProp(s.name);s.map?(r("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),a(r,s,n,u+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),a(r,s,n,u+"[i]")("}")("}")):(s.resolvedType instanceof i||r("if(d%s!=null){",u),a(r,s,n,u),s.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var r=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],u=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?a:u).push(t[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",o.safeProp(n[c].name));r("}")}if(a.length){for(r("if(o.objects||o.defaults){"),c=0;c<a.length;++c)r("d%s={}",o.safeProp(a[c].name));r("}")}if(u.length){for(r("if(o.defaults){"),c=0;c<u.length;++c){var l=u[c],f=o.safeProp(l.name);if(l.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",f,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l["long"])r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",f)("}else")("d%s=o.longs===String?%j:%i",f,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var h="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",f,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",f,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",f,f)("}")}else r("d%s=%j",f,l.typeDefault)}r("}")}var p=!1;for(c=0;c<t.length;++c){l=t[c];var d=e._fieldsArray.indexOf(l);f=o.safeProp(l.name);l.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",f,f)("d%s={}",f)("for(var j=0;j<ks2.length;++j){"),s(r,l,d,f+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",f,f)("d%s=[]",f)("for(var j=0;j<m%s.length;++j){",f),s(r,l,d,f+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",f,l.name),s(r,l,d,f),l.partOf&&r("if(o.oneofs)")("d%s=%j",o.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}},"++zV":function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.toKey,s=i.set;n({target:"Reflect",stat:!0},{defineMetadata:function(e,t,r){var n=arguments.length<4?void 0:a(arguments[3]);s(e,t,o(r),n)}})},"+2oP":function(e,t,r){"use strict";var n=r("I+eb"),i=r("hh1v"),o=r("6LWA"),a=r("I8vh"),s=r("UMSQ"),u=r("/GqU"),c=r("hBjN"),l=r("tiKp"),f=r("Hd5f"),h=r("rkAj"),p=f("slice"),d=h("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),m=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!p||!d},{slice:function(e,t){var r,n,l,f=u(this),h=s(f.length),p=a(e,h),d=a(void 0===t?h:t,h);if(o(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[v],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(f,p,d);for(n=new(void 0===r?Array:r)(y(d-p,0)),l=0;p<d;p++,l++)p in f&&c(n,l,f[p]);return n.length=l,n}})},"+6XX":function(e,t,r){var n=r("y1pI");function i(e){return n(this.__data__,e)>-1}e.exports=i},"+9rK":function(e,t,r){"use strict";function n(e,t){for(var r in t=t||{},e)t[r]=e[r];return t}function i(e,t,r,n){var i=n?" !== ":" === ",o=n?" || ":" && ",a=n?"!":"",s=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+o+"typeof "+t+i+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+o+s+"("+t+" % 1)"+o+t+i+t+(r?o+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?o+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}function o(e,t,r){switch(e.length){case 1:return i(e[0],t,r,!0);default:var n="",o=u(e);for(var a in o.array&&o.object&&(n=o["null"]?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete o["null"],delete o.array,delete o.object),o.number&&delete o.integer,o)n+=(n?" && ":"")+i(a,t,r,!0);return n}}e.exports={copy:n,checkDataType:i,checkDataTypes:o,coerceToTypes:s,toHash:u,getProperty:f,escapeQuotes:h,equal:r("aUsF"),ucs2length:r("d17/"),varOccurences:p,varReplace:d,schemaHasRules:v,schemaHasRulesExcept:m,schemaUnknownRules:y,toQuotedString:g,getPathExpr:b,getPath:_,getData:O,unescapeFragment:j,unescapeJsonPointer:T,escapeFragment:S,escapeJsonPointer:k};var a=u(["string","number","integer","boolean","null"]);function s(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var i=t[n];(a[i]||"array"===e&&"array"===i)&&(r[r.length]=i)}if(r.length)return r}else{if(a[t])return[t];if("array"===e&&"array"===t)return["array"]}}function u(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var c=/^[a-z$_][a-z$_0-9]*$/i,l=/'|\\/g;function f(e){return"number"==typeof e?"["+e+"]":c.test(e)?"."+e:"['"+h(e)+"']"}function h(e){return e.replace(l,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function p(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0}function d(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")}function v(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0}function m(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0}function y(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r}function g(e){return"'"+h(e)+"'"}function b(e,t,r,n){var i=r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return E(e,i)}function _(e,t,r){var n=g(r?"/"+k(t):f(t));return E(e,n)}var w=/^\/(?:[^~]|~0|~1)*$/,x=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function O(e,t,r){var n,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!w.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(a=e.match(x),!a)throw new Error("Invalid JSON-pointer: "+e);if(n=+a[1],i=a[2],"#"==i){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(o="data"+(t-n||""),!i)return o}for(var s=o,u=i.split("/"),c=0;c<u.length;c++){var l=u[c];l&&(o+=f(T(l)),s+=" && "+o)}return s}function E(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function j(e){return T(decodeURIComponent(e))}function S(e){return encodeURIComponent(k(e))}function k(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function T(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},"+H0l":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r("a3TU");function i(e,t){if(e.length!==t)return!1;for(var r=0;r<e.length;++r)if(!Number.isFinite(e[r]))return!1;return!0}function o(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n["b"].debug&&!i(e,t))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return e}},"+M1K":function(e,t,r){var n=r("ppGB");e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"+pnj":function(e,t,r){"use strict";var n=r("q1tI"),i=r.n(n),o=r("dEAq"),a=r("dMo/"),s={"zh-CN":{name:"\u5c5e\u6027\u540d",description:"\u63cf\u8ff0",type:"\u7c7b\u578b",default:"\u9ed8\u8ba4\u503c",required:"(\u5fc5\u9009)"},"en-US":{name:"Name",description:"Description",type:"Type",default:"Default",required:"(required)"}};t["a"]=function(e){var t=e.identifier,r=e["export"],u=Object(o["useApiData"])(t),c=Object(n["useContext"])(o["context"]),l=c.locale,f=/^zh|cn$/i.test(l)?s["zh-CN"]:s["en-US"];return i.a.createElement(i.a.Fragment,null,u&&i.a.createElement(a["a"],null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,f.name),i.a.createElement("th",null,f.description),i.a.createElement("th",null,f.type),i.a.createElement("th",null,f["default"]))),i.a.createElement("tbody",null,u[r].map((function(e){return i.a.createElement("tr",{key:e.identifier},i.a.createElement("td",null,e.identifier),i.a.createElement("td",null,e.description||"--"),i.a.createElement("td",null,i.a.createElement("code",null,e.type)),i.a.createElement("td",null,i.a.createElement("code",null,e["default"]||e.required&&f.required||"--")))})))))}},"+rE/":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("tJVT"),i=r("fWQN"),o=r("mtLc"),a=r("rePB"),s=r("zXfU"),u=r("a3TU"),c=r("n+fv"),l=1e-6,f=6371e3,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.phi,n=void 0===r?0:r,o=t.theta,s=void 0===o?0:o,u=t.radius,c=void 0===u?1:u,l=t.bearing,h=t.pitch,p=t.altitude,d=t.radiusScale,v=void 0===d?f:d;Object(i["a"])(this,e),Object(a["a"])(this,"phi",void 0),Object(a["a"])(this,"theta",void 0),Object(a["a"])(this,"radius",void 0),Object(a["a"])(this,"radiusScale",void 0),this.phi=n,this.theta=s,this.radius=c||p||1,this.radiusScale=v||1,void 0!==l&&(this.bearing=l),void 0!==h&&(this.pitch=h),this.check()}return Object(o["a"])(e,[{key:"toString",value:function(){return this.formatString(u["b"])}},{key:"formatString",value:function(e){var t=e.printTypes,r=void 0!==t&&t,n=u["e"];return"".concat(r?"Spherical":"","[rho:").concat(n(this.radius),",theta:").concat(n(this.theta),",phi:").concat(n(this.phi),"]")}},{key:"equals",value:function(e){return Object(u["d"])(this.radius,e.radius)&&Object(u["d"])(this.theta,e.theta)&&Object(u["d"])(this.phi,e.phi)}},{key:"exactEquals",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"bearing",get:function(){return 180-Object(u["c"])(this.phi)},set:function(e){this.phi=Math.PI-Object(u["h"])(e)}},{key:"pitch",get:function(){return Object(u["c"])(this.theta)},set:function(e){this.theta=Object(u["h"])(e)}},{key:"longitude",get:function(){return Object(u["c"])(this.phi)}},{key:"latitude",get:function(){return Object(u["c"])(this.theta)}},{key:"lng",get:function(){return Object(u["c"])(this.phi)}},{key:"lat",get:function(){return Object(u["c"])(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}},{key:"set",value:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}},{key:"clone",value:function(){return(new e).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:"fromLngLatZ",value:function(e){var t=Object(n["a"])(e,3),r=t[0],i=t[1],o=t[2];return this.radius=1+o/this.radiusScale,this.phi=Object(u["h"])(i),this.theta=Object(u["h"])(r),this.check()}},{key:"fromVector3",value:function(e){return this.radius=c["h"](e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(u["a"])(e[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new s["a"](0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){return this.phi=Math.max(l,Math.min(Math.PI-l,this.phi)),this}},{key:"check",value:function(){if(!Number.isFinite(this.phi)||!Number.isFinite(this.theta)||!(this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}]),e}()},"+rWl":function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),i=r.n(n),o=e=>{var t=e.title;return i.a.createElement("h1",null,t)};t["default"]=()=>i.a.createElement(o,{title:"First Demo"})},"+wdc":function(e,t,r){"use strict";var n,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var r=t.unstable_now();u(!0,r),u=null}catch(n){throw setTimeout(e,0),n}},f=Date.now();t.unstable_now=function(){return Date.now()-f},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,d=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var y=p.now();t.unstable_now=function(){return p.now()-y}}var g=!1,b=null,_=-1,w=5,x=0;a=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,E=O.port2;O.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+w;try{b(!0,e)?E.postMessage(null):(g=!1,b=null)}catch(r){throw E.postMessage(null),r}}else g=!1},n=function(e){b=e,g||(g=!0,E.postMessage(null))},i=function(e,r){_=d((function(){e(t.unstable_now())}),r)},o=function(){v(_),_=-1}}function j(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<T(i,t)))break e;e[n]=t,e[r]=i,r=n}}function S(e){return e=e[0],void 0===e?null:e}function k(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,r))void 0!==u&&0>T(u,a)?(e[n]=u,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==u&&0>T(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function T(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var P=[],A=[],I=1,C=null,R=3,M=!1,L=!1,D=!1;function N(e){for(var t=S(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,j(P,t)}t=S(A)}}function F(e){if(D=!1,N(e),!L)if(null!==S(P))L=!0,n(z);else{var t=S(A);null!==t&&i(F,t.startTime-e)}}function z(e,r){L=!1,D&&(D=!1,o()),M=!0;var n=R;try{for(N(r),C=S(P);null!==C&&(!(C.expirationTime>r)||e&&!a());){var s=C.callback;if(null!==s){C.callback=null,R=C.priorityLevel;var u=s(C.expirationTime<=r);r=t.unstable_now(),"function"===typeof u?C.callback=u:C===S(P)&&k(P),N(r)}else k(P);C=S(P)}if(null!==C)var c=!0;else{var l=S(A);null!==l&&i(F,l.startTime-r),c=!1}return c}finally{C=null,R=n,M=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||M||(L=!0,n(z))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return S(P)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var r=R;R=t;try{return e()}finally{R=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=R;R=e;try{return t()}finally{R=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:B(e)}else a=B(e),u=s;return a=u+a,e={id:I++,callback:r,priorityLevel:e,startTime:u,expirationTime:a,sortIndex:-1},u>s?(e.sortIndex=u,j(A,e),null===S(P)&&e===S(A)&&(D?o():D=!0,i(F,u-s))):(e.sortIndex=a,j(P,e),L||M||(L=!0,n(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=S(P);return r!==C&&null!==C&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<C.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=R;return function(){var r=R;R=t;try{return e.apply(this,arguments)}finally{R=r}}}},"+ywr":function(e,t,r){var n=r("dOgj");n("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"//Jx":function(e,t,r){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=r("cjZW"),o=r("eXaU");function a(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)u(e,o[a],t);else u(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function u(e,t,n){for(var o,a=0;a<r.length;a++){var s=r[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},r.push(o));var u={keyword:e,definition:n,custom:!0,code:i,implements:n["implements"]};o.rules.push(u),r.custom[e]=u}return r.keywords[e]=r.all[e]=!0,this}function s(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function u(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this}function c(e,t){c.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(r(e))return!0;if(c.errors=r.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}e.exports={add:a,get:s,remove:u,validate:c}},"/GC/":function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r("oBTY"),i=r("jrin"),o=r("fWQN"),a=r("mtLc"),s=r("rePB"),u=r("DOHC"),c="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source";Object(u["a"])();function l(e){try{var t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(n){return null}}var f,h=function(){function e(t){Object(o["a"])(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";Object(s["a"])(this,"storage",void 0),Object(s["a"])(this,"id",void 0),Object(s["a"])(this,"config",{}),this.storage=l(n),this.id=t,this.config={},Object.assign(this.config,r),this._loadConfiguration()}return Object(a["a"])(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function p(e){var t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=Math.max(t-e.length,0);return"".concat(" ".repeat(r)).concat(e)}function v(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>n&&(r=Math.min(r,n/e.width));var o=e.width*r,a=e.height*r,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}function m(e){return"string"===typeof e?f[e.toUpperCase()]||f.WHITE:e}function y(e,t,r){return u["a"]||"string"!==typeof e||(t&&(t=m(t),e="\x1b[".concat(t,"m").concat(e,"\x1b[39m")),r&&(t=m(r),e="\x1b[".concat(r+10,"m").concat(e,"\x1b[49m"))),e}(function(e){e[e["BLACK"]=30]="BLACK",e[e["RED"]=31]="RED",e[e["GREEN"]=32]="GREEN",e[e["YELLOW"]=33]="YELLOW",e[e["BLUE"]=34]="BLUE",e[e["MAGENTA"]=35]="MAGENTA",e[e["CYAN"]=36]="CYAN",e[e["WHITE"]=37]="WHITE",e[e["BRIGHT_BLACK"]=90]="BRIGHT_BLACK",e[e["BRIGHT_RED"]=91]="BRIGHT_RED",e[e["BRIGHT_GREEN"]=92]="BRIGHT_GREEN",e[e["BRIGHT_YELLOW"]=93]="BRIGHT_YELLOW",e[e["BRIGHT_BLUE"]=94]="BRIGHT_BLUE",e[e["BRIGHT_MAGENTA"]=95]="BRIGHT_MAGENTA",e[e["BRIGHT_CYAN"]=96]="BRIGHT_CYAN",e[e["BRIGHT_WHITE"]=97]="BRIGHT_WHITE"})(f||(f={}));var g=r("rAM+");function b(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],n=Object.getPrototypeOf(e),i=Object.getOwnPropertyNames(n),o=Object(g["a"])(i);try{var a=function(){var n=t.value;"function"===typeof e[n]&&(r.find((function(e){return n===e}))||(e[n]=e[n].bind(e)))};for(o.s();!(t=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}function _(e,t){if(!e)throw new Error(t||"Assertion failed")}var w=r("dL5O");function x(){var e,t,r;if(u["a"]&&"performance"in w["b"])e=null===w["b"]||void 0===w["b"]||null===(t=w["b"].performance)||void 0===t||null===(r=t.now)||void 0===r?void 0:r.call(t);else if("hrtime"in w["a"]){var n,i=null===w["a"]||void 0===w["a"]||null===(n=w["a"].hrtime)||void 0===n?void 0:n.call(w["a"]);e=1e3*i[0]+i[1]/1e6}else e=Date.now();return e}var O=r(4),E={debug:u["a"]&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},j={enabled:!0,level:0};function S(){}var k={},T={once:!0},P=function(){function e(){Object(o["a"])(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""},r=t.id;Object(s["a"])(this,"id",void 0),Object(s["a"])(this,"VERSION",c),Object(s["a"])(this,"_startTs",x()),Object(s["a"])(this,"_deltaTs",x()),Object(s["a"])(this,"_storage",void 0),Object(s["a"])(this,"userData",{}),Object(s["a"])(this,"LOG_THROTTLE_TIMEOUT",0),this.id=r,this._storage=new h("__probe-".concat(this.id,"__"),j),this.userData={},this.timeStamp("".concat(this.id," started")),b(this),Object.seal(this)}return Object(a["a"])(e,[{key:"level",get:function(){return this.getLevel()},set:function(e){this.setLevel(e)}},{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((x()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((x()-this._deltaTs).toPrecision(10))}},{key:"priority",get:function(){return this.level},set:function(e){this.level=e}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration(Object(i["a"])({},e,t))}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"assert",value:function(e,t){_(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,E.warn,arguments,T)}},{key:"error",value:function(e){return this._getLogFunction(0,e,E.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,E.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,E.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this._getLogFunction(e,t,E.debug||E.info,arguments,T)}},{key:"table",value:function(e,t,r){return t?this._getLogFunction(e,t,console.table||S,r&&[r],{tag:L(t)}):S}},{key:"image",value:function(e){var t=e.logLevel,r=e.priority,n=e.image,i=e.message,o=void 0===i?"":i,a=e.scale,s=void 0===a?1:a;return this._shouldLog(t||r)?u["a"]?M({image:n,message:o,scale:s}):R({image:n,message:o,scale:s}):S}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||S)}},{key:"group",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},n=I({logLevel:e,message:t,opts:r}),i=r.collapsed;return n.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(n)}},{key:"groupCollapsed",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},r,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||S)}},{key:"withGroup",value:function(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=A(e)}},{key:"_getLogFunction",value:function(e,t,r,i,o){if(this._shouldLog(e)){var a;o=I({logLevel:e,message:t,args:i,opts:o}),r=r||o.method,_(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=x();var s=o.tag||o.message;if(o.once){if(k[s])return S;k[s]=x()}return t=C(this.id,o.message,o),(a=r).bind.apply(a,[console,t].concat(Object(n["a"])(o.args)))}return S}}]),e}();function A(e){if(!e)return 0;var t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return _(Number.isFinite(t)&&t>=0),t}function I(e){var t=e.logLevel,r=e.message;e.logLevel=A(t);var n=e.args?Array.from(e.args):[];while(n.length&&n.shift()!==r);switch(typeof t){case"string":case"function":void 0!==r&&n.unshift(r),e.message=t;break;case"object":Object.assign(e,t);break;default:}"function"===typeof e.message&&(e.message=e.message());var i=typeof e.message;return _("string"===i||"object"===i),Object.assign(e,{args:n},e.opts)}function C(e,t,r){if("string"===typeof t){var n=r.time?d(p(r.total)):"";t=r.time?"".concat(e,": ").concat(n,"  ").concat(t):"".concat(e,": ").concat(t),t=y(t,r.color,r.background)}return t}function R(e){var t=e.image,r=e.message,n=void 0===r?"":r,i=e.scale,o=void 0===i?1:i;return O["nodeAsciifyImage"]({image:t,message:n,scale:o}),S}function M(e){var t=e.image,r=e.message,i=void 0===r?"":r,o=e.scale,a=void 0===o?1:o;if("string"===typeof t){var s=new Image;return s.onload=function(){var e,t=v(s,i,a);(e=console).log.apply(e,Object(n["a"])(t))},s.src=t,S}var u,c=t.nodeName||"";if("img"===c.toLowerCase())return(u=console).log.apply(u,Object(n["a"])(v(t,i,a))),S;if("canvas"===c.toLowerCase()){var l=new Image;return l.onload=function(){var e;return(e=console).log.apply(e,Object(n["a"])(v(l,i,a)))},l.src=t.toDataURL(),S}return S}function L(e){for(var t in e)for(var r in e[t])return r||"untitled";return"empty"}Object(s["a"])(P,"VERSION",c)},"/GqU":function(e,t,r){var n=r("RK3t"),i=r("HYAF");e.exports=function(e){return n(i(e))}},"/Yfv":function(e,t,r){var n=r("dOgj");n("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"/b8u":function(e,t,r){var n=r("STAE");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/dIn":function(e,t,r){"use strict";r.d(t,"h",(function(){return A})),r.d(t,"f",(function(){return I})),r.d(t,"b",(function(){return se})),r.d(t,"d",(function(){return pe})),r.d(t,"e",(function(){return Ae})),r.d(t,"c",(function(){return O})),r.d(t,"g",(function(){return fr})),r.d(t,"a",(function(){return a}));var n=r("laie"),i=new n["a"]({id:"xviz"}),o=r("08aV"),a={METADATA:"METADATA",TIMESLICE:"TIMESLICE",DONE:"DONE",VIDEO_METADATA:"VIDEO_METADATA",VIDEO_FRAME:"VIDEO_FRAME",ERROR:"ERROR",INCOMPLETE:"INCOMPLETE"},s={COMPLETE_STATE:"COMPLETE",INCREMENTAL:"INCREMENTAL",PERSISTENT:"PERSISTENT",SNAPSHOT:"INCREMENTAL"},u=r("1OyB"),c=r("vuIU"),l=r("Ji7U"),f=r("md7G"),h=r("foSv"),p=r("c9N0"),d=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,[{key:"isValid",get:function(){return!1}},{key:"position",get:function(){return null}},{key:"bearing",get:function(){return null}}]),e}();function v(e){var t=0,r=0,n=0,i=e.length;if(1===i)return e[0];e[0]===e[i-1]&&(i-=1);for(var o=0;o<i;o++){var a=e[o];t+=a[0],r+=a[1],n+=a[2]||0}return[t/i,r/i,n/i]}function m(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function y(e,t){if(e){if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=_();return function(){var r,n=Object(h["a"])(e);if(t){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(f["a"])(this,r)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var w=null,x=0,O=function(e){Object(l["a"])(r,e);var t=b(r);function r(e){var n,i=e.id,o=e.timestamp;return Object(u["a"])(this,r),n=t.call(this),n.id=i,n.index=x++,n.state={},n.startTime=o,n.endTime=o,n._props=new Map,n._streams=new Map,n._attributes=new Map,n._geometry=null,n}return Object(c["a"])(r,[{key:"position",get:function(){var e=this._geometry;return e?Number.isFinite(e[0])?e:(this._geometry=v(e),this._geometry):null}},{key:"isValid",get:function(){return Boolean(this._geometry)}},{key:"streamNames",get:function(){return this._streams.keys()}},{key:"getBearingToObject",value:function(e){var t=this.position,r=e.position;if(t&&r){var n=Math.atan2(r[1]-t[1],r[0]-t[0])/Math.PI*180;return n}return null}},{key:"getDistanceToObject",value:function(e){var t=this.position,r=e.position,n=null;return t&&r&&(n=new p["b"](t).distance(r),n=Math.round(10*n)/10),n}},{key:"getAttributes",value:function(){return Object.fromEntries(this._attributes)}},{key:"getProp",value:function(e){return this._props.get(e)}},{key:"getFeature",value:function(e){return this._streams.get(e)}},{key:"_observe",value:function(e){this.startTime=Math.min(this.startTime,e),this.endTime=Math.max(this.endTime,e)}},{key:"_setAttribute",value:function(e,t,r,n){this._streams.set(e,n||t),this._attributes.set(t,r)}},{key:"_addFeature",value:function(e,t){this._streams.set(e,t),t.index=this.index,t.state=this.state;var r,n=m(this._props);try{for(n.s();!(r=n.n()).done;){var i=r.value;t[i[0]]=i[1]}}catch(a){n.e(a)}finally{n.f()}var o=t.center||t.vertices;if(o&&Array.isArray(o)){if(Number.isFinite(o[0]))o[2]=o[2]||0;else if(this._geometry)return;this._geometry=o}}},{key:"_setState",value:function(e,t){e&&(this.state[e]=t)}},{key:"_setProp",value:function(e,t){this._props.set(e,t)}},{key:"_reset",value:function(){this._props.size&&this._props.clear(),this._streams.size&&this._streams.clear(),this._attributes.size&&this._attributes.clear(),this._geometry=null}}],[{key:"setDefaultCollection",value:function(e){w=e}},{key:"observe",value:function(e,t){return w&&w.observe(e,t)}},{key:"get",value:function(e){return w&&w.get(e)}},{key:"clear",value:function(){return w&&w.clear()}},{key:"count",value:function(){return w&&w.count()}},{key:"resetAll",value:function(){return w&&w.resetAll()}},{key:"getAll",value:function(){return w&&w.getAll()}},{key:"getAllInCurrentFrame",value:function(){return w&&w.getAllInCurrentFrame()}},{key:"prune",value:function(e,t){return w&&w.prune(e,t)}}]),r}(d),E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.ObjectType,n=void 0===r?O:r;Object(u["a"])(this,e),this.objects=new Map,this.ObjectType=n}return Object(c["a"])(e,[{key:"clear",value:function(){this.objects.clear()}},{key:"count",value:function(){return this.objects.size}},{key:"observe",value:function(e,t){if(void 0!==e&&null!==e)if(e=e.toString(),this.objects.has(e)){var r=this.objects.get(e);r._observe(t)}else{var n=new this.ObjectType({id:e,timestamp:t});this.objects.set(e,n)}}},{key:"get",value:function(e){return void 0===e||null===e?null:(e=e.toString(),this.objects.get(e)||null)}},{key:"resetAll",value:function(){this.objects.forEach((function(e){return e._reset()}))}},{key:"getAll",value:function(){var e={};return this.objects.forEach((function(t,r){e[r]=t})),e}},{key:"getAllInCurrentFrame",value:function(){var e={};return this.objects.forEach((function(t,r){t.isValid&&(e[r]=t)})),e}},{key:"prune",value:function(e,t){var r=this.objects,n=[];r.forEach((function(r,i){(r.endTime<e||r.startTime>t)&&n.push(i)})),n.forEach((function(e){r["delete"](e)}))}}]),e}(),j={supportedVersions:[1,2],currentMajorVersion:1,pathDistanceThreshold:.1,TIME_WINDOW:.4,PLAYBACK_FRAME_RATE:10,STREAM_BLACKLIST:new Set,preProcessPrimitive:function(e){return e},ALLOW_MISSING_PRIMARY_POSE:!1,DYNAMIC_STREAM_METADATA:!1,TIMESTAMP_FORMAT:"seconds",PRIMARY_POSE_STREAM:"/vehicle_pose"},S=Object.assign({},j);O.setDefaultCollection(new E);var k=[];function T(e){k.push(e)}function P(){k.forEach((function(e){return e()}))}function A(e){Object.assign(S,e),Array.isArray(S.STREAM_BLACKLIST)&&(S.STREAM_BLACKLIST=new Set(S.STREAM_BLACKLIST)),P()}function I(){return S}var C=r("KQm4"),R=r("rePB");function M(e,t){if(!e)throw new Error(t||"xviz: assertion failed.")}var L={LEFT:0,RIGHT:1},D=function(e){return e.timestamp};function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.LEFT,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D;M(Number.isFinite(t),"valid timeslice search timestamp");var i,o,a=0,s=e.length-1;while(a<=s)if(i=(a+s)/2|0,o=n(e[i]),o<t)a=i+1;else{if(!(o>t))return r===L.LEFT?i:i+1;s=i-1}return a}var F=r("/GC/"),z=new F["a"]({id:"xviz"}).enable(),B=r("B7nP");function U(e){var t=e.longitude,r=e.latitude,n=e.altitude,i=void 0===n?0:n,o=Number.isFinite(e.longitude)&&Number.isFinite(e.latitude)?[t,r,i]:null,a=new p["d"](e),s=a.getTransformationMatrix(),u=Object(B["a"])(o||[0,0,0],s.transform([0,0,0]));return{origin:o,vehicleRelativeTransform:s,trackPosition:u,heading:a.yaw/Math.PI*180}}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Object(R["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=W(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function W(e,t){if(e){if("string"===typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z(e){return e&&e.length?e[0].timestamp:(z.warn("Missing entry or timestamp in lookAhead array")(),0)}function X(e,t){var r,n=q(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=O.get(i.id);o&&o._addFeature(e,i)}}catch(a){n.e(a)}finally{n.f()}}function $(e,t){var r=e.lastIndexOf("/"),n=e;-1!==r&&(n="".concat(e.substring(r+1)));var i,o=q(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=O.get(a.id);s&&s._setAttribute(e,n,a.variable)}}catch(u){o.e(u)}finally{o.f()}}var Y=function(){function e(t,r,n,i,o){Object(u["a"])(this,e),this.features={},this.variables={},this.pointCloud=null,this.lookAheads={},this.components={},this.links={},this.poses={},this.streams={},this.initialize(t,r,n,i,o)}return Object(c["a"])(e,[{key:"getCurrentFrame",value:function(e,t){var r=e.vehiclePose;if(!r)return null;var n=I(),i=n.OBJECT_STREAM,o=G(G(G({},e),U(r)),{},{vehiclePose:r,features:this.features,lookAheads:this.lookAheads,pointCloud:this.pointCloud,components:this.components,variables:this.variables,streams:this.streams,links:this.links,poses:this.poses});if(O.resetAll(),t&&t(o),i)X(i,this.features[i]||[]);else{for(var a in this.features){var s=this.features[a];s.length&&s[0].id&&X(a,s)}for(var u in this.variables){var c=this.variables[u];c.length&&c[0].id&&X(u,c)}this.updateObjectsFromTimeSeries()}return o.objects=O.getAllInCurrentFrame(),o}},{key:"initialize",value:function(e,t,r,n,i){var o=this,a=e&&Object.keys(e).length>0?e:null;i.forEach((function(e){for(var r in e)null!==o.streams[r]&&!o.streams[r]&&o._includeStream(a,r)&&o.addStreamDatum(e[r],r,t,o)})),r.forEach((function(e){for(var t in e)null!==o.links[t]&&!o.links[t]&&o._includeStream(a,t)&&(o.links[t]=e[t])})),n.forEach((function(e){for(var t in e)null!==o.poses[t]&&!o.poses[t]&&o._includeStream(a,t)&&(o.poses[t]=e[t])}))}},{key:"addStreamDatum",value:function(e,t,r){if(this.streams[t]=e,e){this.setLabelsOnXVIZObjects(e.labels);var n=e.features,i=void 0===n?[]:n,o=e.lookAheads,a=void 0===o?[]:o,s=e.variable,u=e.pointCloud,c=void 0===u?null:u;if(a.length&&r>0){var l=e.time+r,f=N(a,l,L.RIGHT,Z);f&&(this.lookAheads[t]=a[f-1])}i.length&&(this.features[t]=i),c&&(this.pointCloud=c),void 0!==s&&(this.variables[t]=s)}}},{key:"updateObjectsFromTimeSeries",value:function(){var e,t=new Set([].concat(Object(C["a"])(Object.keys(this.features)),Object(C["a"])(Object.keys(this.variables)))),r=new Set(Object.keys(this.streams).filter((function(e){return!t.has(e)}))),n=q(r);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=this.streams[i];Array.isArray(o)&&$(i,o)}}catch(a){n.e(a)}finally{n.f()}}},{key:"setLabelsOnXVIZObjects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){var t=O.get(e.id);t&&e.labelName&&t._setProp(e.labelName,e.value)}))}},{key:"getStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.streams[e]||this.poses[e];return r||t}},{key:"_includeStream",value:function(e,t){return!e||e[t]}}]),e}();function K(e,t){if(e===t)return!0;if(Array.isArray(e)){var r=e.length;if(!t||t.length!==r)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}return!1}function J(e){var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=!t||i.length!==t.length||i.some((function(e,r){return!K(e,t[r])}));return a&&(r=e.apply(void 0,i),t=i),r}}var Q=J((function(e,t,r,n){i.get("getCurrentLogSliceMemoized").incrementCount();for(var o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];return new Y(e,t,r,n,a)})),ee=J((function(e,t,r,n){return e.getCurrentFrame({vehiclePose:t,trackedObjectId:r},n)})),te={longitude:0,latitude:0,x:0,y:0,z:0},re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u["a"])(this,e),this.opts=t,this.time=0,this.lookAheadMs=0}return Object(c["a"])(e,[{key:"getCurrentFrame",value:function(e,t){i.get("getCurrentFrame").incrementCount();var r=this.getLogSlice(e);if(!r)return null;var n=I(),o=n.PRIMARY_POSE_STREAM,a=n.ALLOW_MISSING_PRIMARY_POSE,s=a?te:null,u=r.getStream(o,s);return u!==this._lastVehiclePose&&(i.get("vehiclePose").incrementCount(),this._lastVehiclePose=u),ee(r,u,t,this.opts.postProcessFrame)}},{key:"getTime",value:function(){return this.time}},{key:"setTime",value:function(e){return this.time=e,M(Number.isFinite(this.time),"Invalid time"),this}},{key:"setLookAheadTimeOffset",value:function(e){return this.lookAheadMs=e,this}},{key:"getLogSlice",value:function(e){if(this._empty())return null;var t=I(),r=t.TIME_WINDOW,n=this._getTimeRangeInReverse(this.time-r,this.time),o=n.streams,a=n.links,s=n.poses;return this._streamsByReverseTime=o,this._linksByReverseTime=a,this._posesByReverseTime=s,i.get("geometry-refresh").incrementCount(),Q.apply(void 0,[e,this.lookAheadMs,this._linksByReverseTime,this._posesByReverseTime].concat(Object(C["a"])(this._streamsByReverseTime)))}},{key:"empty",value:function(){M(!1)}},{key:"_getTimeRangeInReverse",value:function(e,t){M(!1)}}]),e}();function ne(e){var t=ie();return function(){var r,n=Object(h["a"])(e);if(t){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(f["a"])(this,r)}}function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){Object(l["a"])(r,e);var t=ne(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var o in Object(u["a"])(this,r),e=t.call(this,i),e.logs={},n){var a=n[o];M(Array.isArray(a)&&a.length>0,"Invalid log data");var s=e._getTimeFromObject(a[0]);e.logs[o]={data:a,index:null,time:s}}return e}Object(c["a"])(r,[{key:"_empty",value:function(){return!this.logs||0===Object.keys(this.logs).length}},{key:"_getTimeRangeInReverse",value:function(e,t){var r={};for(var n in this.logs){var i=this._lookupStreamDatum(n,e,t);i&&(r[n]=i)}return{streams:[r],links:[],poses:[]}}},{key:"_lookupStreamDatum",value:function(e,t,r){var n=this.logs[e];M(n,"Invalid log"),r<n.time&&(n.time=0,n.index=null);var i,o=n.index||0,a=null;n.index=null;for(var s=o;s<n.data.length;++s){var u=this._getTimeFromObject(n.data[s]);if(u>t&&u<=r)a=s,i=u;else if(u>r)break}return null===a?null:(n.index=a,n.time=i,n.data[a])}},{key:"_getTimeFromObject",value:function(e){return e.time||e.attributes&&e.attributes.transmission_time}}])})(re);function oe(e){var t=ae();return function(){var r,n=Object(h["a"])(e);if(t){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(f["a"])(this,r)}}function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var se=function(e){Object(l["a"])(r,e);var t=oe(r);function r(e,n){var i;return Object(u["a"])(this,r),i=t.call(this,n),i.streamBuffer=e,i}return Object(c["a"])(r,[{key:"_empty",value:function(){return!this.streamBuffer||!this.streamBuffer.size}},{key:"_getTimeRangeInReverse",value:function(e,t){var r=this.streamBuffer.getTimeslices({start:e,end:t}).reverse();return{streams:r.map((function(e){return e.streams})).filter(Boolean),links:r.map((function(e){return e.links})).filter(Boolean),poses:r.map((function(e){return e.poses})).filter(Boolean)}}}]),r}(re),ue=L.LEFT,ce=L.RIGHT,le=0,fe=1,he=2,pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.startOffset,n=void 0===r?null:r,i=t.endOffset,o=void 0===i?null:i,a=t.maxLength,s=void 0===a?null:a;Object(u["a"])(this,e),Number.isFinite(n)&&Number.isFinite(o)?(M(n<=0&&o>=0,"Steam buffer offset"),this.bufferType=fe):this.bufferType=le,this.options={startOffset:n,endOffset:o,maxLength:s},this.bufferStart=null,this.bufferEnd=null,this.timeslices=[],this.persistent=[],this.streams={},this.videos={},this.persistentStreams={},this.lastUpdate=0,this.streamCount=0,this.hasBuffer=this.hasBuffer.bind(this)}return Object(c["a"])(e,[{key:"size",get:function(){return this.timeslices.length+this.persistent.length}},{key:"updateFixedBuffer",value:function(e,t){var r=this.bufferStart,n=this.bufferEnd,i=this.options.maxLength;return M(e<t,"updateFixedBuffer start / end"),M(this.bufferType===le||this.bufferType===he,"updateFixedBuffer multiple buffer types"),this.bufferType=he,i?!Number.isFinite(r)||e>n+i||e<r-i?(this.bufferStart=e,this.bufferEnd=Math.min(t,e+i)):e<r?(this.bufferStart=e,this.bufferEnd=Math.min(n,e+i)):(this.bufferStart=Math.min(n,t-i),this.bufferEnd=Math.min(this.bufferStart+i,t)):(this.bufferStart=e,this.bufferEnd=t),this._pruneBuffer(),{start:this.bufferStart,end:this.bufferEnd,oldStart:r,oldEnd:n}}},{key:"getBufferRange",value:function(){if(this.bufferType!==le){var e=this.bufferStart,t=this.bufferEnd;if(Number.isFinite(e))return{start:e,end:t}}return{start:null,end:null}}},{key:"getLoadedTimeRange",value:function(){var e=this.timeslices,t=e.length;return t>0?{start:e[0].timestamp,end:e[t-1].timestamp}:null}},{key:"getTimeslices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,r=e.end,n=this.timeslices,i=this.persistent,o=Number.isFinite(t)?this._indexOf(t,ue):0,a=Number.isFinite(r)?this._indexOf(r,ce):n.length,s=Number.isFinite(r)?N(i,r,ce):i.length;return i.slice(0,s).concat(n.slice(o,a))}},{key:"getStreams",value:function(){var e=this.streams,t={};for(var r in e)t[r]=e[r].filter((function(e){return void 0!==e}));return t}},{key:"getVideos",value:function(){var e=this.videos,t={};for(var r in e)t[r]=e[r].filter((function(e){return void 0!==e}));return t}},{key:"getVehiclePoses",value:function(){return this.timeslices.map((function(e){return e.vehiclePose})).filter(Boolean)}},{key:"insert",value:function(e){var t=e.timestamp,r=e.updateType;if(!this.isInBufferRange(t))return!1;e.streams=e.streams||{},e.videos=e.videos||{},e.links=e.links||{},e.poses=e.poses||{};var n=this.timeslices,i=this.streams,o=this.videos;if("PERSISTENT"===r)return this._insertPersistentSlice(e),this.lastUpdate++,!0;for(var a in e.streams)i[a]||(i[a]=new Array(n.length),this.streamCount++);for(var s in e.videos)o[s]||(o[s]=new Array(n.length));var u=this._indexOf(t,ue),c=n[u];return c&&c.timestamp===t?"COMPLETE"===r?this._insertTimesliceAt(u,1,e):this._mergeTimesliceAt(u,e):this._insertTimesliceAt(u,0,e),this.lastUpdate++,!0}},{key:"setCurrentTime",value:function(e){if(this.bufferType===fe){var t=this.options,r=t.startOffset,n=t.endOffset;this.bufferStart=e+r,this.bufferEnd=e+n,this._pruneBuffer()}}},{key:"valueOf",value:function(){return this.lastUpdate}},{key:"hasBuffer",value:function(e,t){if(!this.timeslices.length)return!0;var r=this.getLoadedTimeRange(),n=r.start,i=r.end;return e>=n&&t<=i}},{key:"isInBufferRange",value:function(e){var t=this.bufferStart,r=this.bufferEnd,n=this.bufferType;return n===le||!Number.isFinite(t)||e>=t&&e<=r}},{key:"_pruneBuffer",value:function(){var e=this.timeslices,t=this.streams,r=this.videos;if(e.length){var n=this._indexOf(this.bufferStart,ue),i=this._indexOf(this.bufferEnd,ce);O.prune(this.bufferStart,this.bufferEnd);var o=n>0,a=i<e.length;if(o||a){for(var s in a&&e.splice(i),o&&e.splice(0,n),t){var u=t[s];a&&u.splice(i),o&&u.splice(0,n)}for(var c in r){var l=r[c];a&&l.splice(i),o&&l.splice(0,n)}this.lastUpdate++}}}},{key:"_insertPersistentSlice",value:function(e){var t=this.persistent,r=this.persistentStreams,n=e.timestamp,i=e.streams,o=e.links,a=e.poses,s=N(t,n,ue),u=t[s];for(var c in u&&u.timestamp===n?Object.assign(u,e,{streams:Object.assign(u.streams,i),links:Object.assign(u.links,o),poses:Object.assign(u.poses,a)}):t.splice(s,0,e),i)c in r||(r[c]=!0,this.streamCount++)}},{key:"_mergeTimesliceAt",value:function(e,t){var r=this.timeslices,n=this.streams,i=this.videos,o=r[e];for(var a in Object.assign(o,t,{streams:Object.assign(o.streams,t.streams),links:Object.assign(o.links,t.links),poses:Object.assign(o.poses,t.poses),videos:Object.assign(o.videos,t.videos)}),t.streams){var s=t.streams[a];n[a][e]=s}for(var u in t.videos)i[u][e]=t.videos[u]}},{key:"_insertTimesliceAt",value:function(e,t,r){var n=this.timeslices,i=this.streams,o=this.videos;for(var a in n.splice(e,t,r),i)i[a].splice(e,t,r.streams[a]);for(var s in o)o[s].splice(e,t,r.videos[s])}},{key:"_indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue,r=this.timeslices;return N(r,e,t)}}]),e}(),de=r("ODXe"),ve=r("U8pU"),me=r("aSns"),ye=r.n(me);function ge(e){if("string"===typeof e)try{var t=ye.a.rgb(e).array();return Number.isFinite(t[3])&&(t[3]*=255),t}catch(r){return null}return Array.isArray(e)&&Number.isFinite(e[0])||ArrayBuffer.isView(e)&&Number.isFinite(e[0])?e:null}function be(e){switch(Object(ve["a"])(e)){case"string":return e=Number(e),isNaN(e)?null:e;case"number":return e;default:return null}}function _e(e){switch(Object(ve["a"])(e)){case"boolean":return e;case"string":return"false"!==e.toLowerCase();case"number":return Boolean(e);default:return null}}var we=function(e){return e},xe={opacity:be,stroked:_e,filled:_e,extruded:_e,height:be,stroke_color:ge,fill_color:ge,font_family:String,font_weight:String,text_size:be,text_rotation:be,text_anchor:String,text_baseline:String,radius:be,radius_min_pixels:be,radius_max_pixels:be,stroke_width:be,stroke_width_min_pixels:be,stroke_width_max_pixels:be},Oe={opacity:1,stroked:!0,filled:!0,extruded:!1,height:0,stroke_color:[0,0,0],fill_color:[255,255,255],font_family:"Arial",font_weight:"normal",text_size:12,text_rotation:0,text_anchor:"MIDDLE",text_baseline:"CENTER",radius:1,radius_pixels:1,radius_min_pixels:0,radius_max_pixels:Number.MAX_SAFE_INTEGER,stroke_width:.1,stroke_width_min_pixels:0,stroke_width_max_pixels:Number.MAX_SAFE_INTEGER,point_color_mode:"DEFAULT",point_color_domain:function(e){var t=e.getProperty("point_color_mode");switch(t&&(t=t.toUpperCase()),t){case"ELEVATION":return[0,3];case"DISTANCE_TO_VEHICLE":return[0,60];default:return[0,0]}}},Ee=function(){function e(t,r){Object(u["a"])(this,e),this.key=t;var n=xe[t]||we;this._value=n(r),null===this._value&&Array.isArray(r)&&(r.length>1?(this._value=r.map(n),this._valueCount=r.length):this._value=n(r[0])),null===this._value&&z.warn("illegal ".concat(t," value: ").concat(r))()}return Object(c["a"])(e,[{key:"getValue",value:function(e){if(this._valueCount){var t=(e.index||0)%this._valueCount;return this._value[t]}return this._value}}],[{key:"getDefault",value:function(e){return Oe[e]}},{key:"formatValue",value:function(e,t){var r=xe[e]||we;return r(t)}}]),e}(),je=/\S+/g,Se=/([=:~\*\^]+)/,ke=function(){return!0},Te=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(u["a"])(this,e);var n=r.slice().reverse().map((function(e){var r=t._parseSelector(e.name||"*"),n=r.selectors,i=r.validate,o=t._parseProperties(e);return{selectors:n,validate:i,properties:o}}));this.properties={},n.forEach((function(e){for(var r=0,n=Object.keys(e.properties);r<n.length;r++){var i=n[r],o=t.properties[i];o||(o=[],t.properties[i]=o),o.push(e)}})),this.rules=n}return Object(c["a"])(e,[{key:"getProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.base&&t.base.style&&t.base.style.hasOwnProperty(e)&&t.base.style[e];if(void 0!==r&&null!==r&&!1!==r)return Ee.formatValue(e,r);var n=this.properties[e],i=n&&n.find((function(e){return e.validate(t)}));return i?i.properties[e].getValue(t):null}},{key:"getPropertyDefault",value:function(e){var t=Ee.getDefault(e);return"function"===typeof t?t(this):t}},{key:"getPropertyDependencies",value:function(e){var t={},r=this.properties[e];return r?(r.forEach((function(e){e.selectors.forEach((function(e){if("*"!==e){var r=e.split(Se),n=Object(de["a"])(r,1),i=n[0];t[i]=1}}))})),Object.keys(t)):[]}},{key:"_getValidator",value:function(e){if("*"===e)return ke;var t=e.split(Se),r=Object(de["a"])(t,3),n=r[0],i=r[1],o=r[2];switch(i){case"=":return function(e){return e&&e[n]===o};default:return function(e){var t=e&&e.base&&e.base.classes;return e&&(t&&t.includes(n)||e[n])}}}},{key:"_parseSelector",value:function(e){var t,r=e.match(je);if(0===r.length||r.includes("*"))t=ke;else if(1===r.length){var n=this._getValidator(r[0]);t=function(e){return n(e)||n(e.state)}}else{var i=r.map(this._getValidator);t=function(e){return i.every((function(t){return t(e)||t(e.state)}))}}return{selectors:r,validate:t}}},{key:"_parseProperties",value:function(e){for(var t={},r=0,n=Object.keys(e.style);r<n.length;r++){var i=n[r];t[i]=new Ee(i,e.style[i])}return t}}]),e}(),Pe=new Te,Ae=function(){function e(t){for(var r in Object(u["a"])(this,e),this.stylesheets={},t)this.stylesheets[r]=new Te(t[r])}return Object(c["a"])(e,[{key:"getStylesheet",value:function(e){return this.stylesheets[e]||Pe}}]),e}();function Ie(e){var t=Ce();return function(){var r,n=Object(h["a"])(e);if(t){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(f["a"])(this,r)}}function Ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(function(e){Object(l["a"])(r,e);var t=Ie(r);function r(e){var n,i=e.vehicleLog,o=e.validate,a=void 0!==o&&o;return Object(u["a"])(this,r),a&&M(a||i,"sdv validate"),n=t.call(this),n.xvizLog=i,n}Object(c["a"])(r,[{key:"isValid",get:function(){return Boolean(this.xvizLog)}},{key:"position",get:function(){return this.xvizLog&&(new p["c"]).copy(this.xvizLog.carPosition)}},{key:"bearing",get:function(){return this.xvizLog&&Object(p["f"])(this.xvizLog.heading)}}])})(d);var Re=["circles","images","points","polygons","polylines","stadiums","texts"];function Me(e){var t=e.split("."),r=null,n=null,i=null,o=t.shift();return o&&(r=Number.parseInt(o,10)),o=t.shift(),o&&(n=Number.parseInt(o,10)),o=t.shift(),o&&(i=Number.parseInt(o,10)),{major:r,minor:n,patch:i}}function Le(e){var t=I(),r=t.currentMajorVersion;if(1===r&&e instanceof Array){if(0===e.length)return{type:null,primitives:e};if(e.length>0)return{type:e[0].type,primitives:e}}if(2===r)for(var n=Object.keys(e),i=0,o=n;i<o.length;i++){var a=o[i];if(Re.includes(a)){var s=a.slice(0,-1);return{type:s,primitives:e[a]}}}return{}}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){Object(R["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e){var t=I(),r=t.supportedVersions,n=e.version,i=null;if(void 0===n)i=1;else{var o=Me(n),a=o.major;i=a}if(!i)throw new Error("Unable to detect the XVIZ version.");if(A({currentMajorVersion:i}),r&&!r.includes(i))throw new Error("XVIZ version ".concat(i," is not supported.  Currently supported versions are ").concat(r,"."));return 1===i?ze(e):Be(e)}function ze(e){var t=e.streams||[],r=I(),n=r.STREAM_BLACKLIST,i={};Object.keys(t).forEach((function(e){n.has(e)||(i[e]=t[e])}));var o=Ue(e),a=o.logStartTime,s=o.logEndTime,u=o.eventStartTime,c=o.eventEndTime,l=Ne(Ne({},e),{},{streams:i,logStartTime:a,logEndTime:s,eventStartTime:u,eventEndTime:c});return l}function Be(e){var t=e.streams,r=I(),n=r.STREAM_BLACKLIST,i={};t&&Object.keys(t).forEach((function(e){n.has(e)||(i[e]=t[e])}));var o=e.log_info||{},a=Ue(o),s=a.logStartTime,u=a.logEndTime,c=a.eventStartTime,l=a.eventEndTime,f=Ve(i),h=Ne(Ne({},e),{},{streams:i,logStartTime:s,logEndTime:u,start_time:c,end_time:l,eventStartTime:c,eventEndTime:l,styles:f});return h}function Ue(e){var t=Number.isFinite(e.log_start_time)?e.log_start_time:null,r=Number.isFinite(e.log_end_time)?e.log_end_time:null,n=Number.isFinite(e.start_time)?e.start_time:t,i=Number.isFinite(e.end_time)?e.end_time:r;return{logStartTime:t,logEndTime:r,eventStartTime:n,eventEndTime:i}}function Ve(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r],i=[];n.stream_style&&i.push({name:"*",style:n.stream_style}),n.style_classes&&i.push.apply(i,Object(C["a"])(n.style_classes)),0!==i.length&&(t[r]=i)})),t}var Ge={LOOKAHEAD:"lookAheads",FEATURE:"features",LABEL:"labels",POINTCLOUD:"pointCloud",IMAGE:"images",COMPONENT:"components"};function qe(e,t,r,n,i,o,a){var s=t.type||i,u=t.vertices,c=t.center,l=e[s],f=l.enableZOffset,h=l.validate,p=l.normalize;if(f){var d=1e-6*r;if(u)for(var v=0;v<u.length;v++)u[v][2]=d;c&&2===c.length&&(c[2]=d)}return s&&(t.type=s),h(t,n,o)?(p&&p(t),a&&a(t),t):null}var We="undefined"!==typeof document;function He(e){var t=I().pathDistanceThreshold;if(0===t)return e;for(var r=Number.isFinite(e[0]),n=r?e.length/3:e.length,i=[],o=0,a=null,s=-1,u=0;u<n;u++){var c=Ze(e,u,r),l=-1===s||a.distance(c)>t;l&&(i[o++]=c[0],i[o++]=c[1],i[o++]=c[2],a=new p["c"](c[0],c[1],c[2]),s=u)}if(s!==n-1){var f=Ze(e,n-1,r);o-=3,i[o++]=f[0],i[o++]=f[1],i[o++]=f[2]}return i}function Ze(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null;return n=r?e.slice(3*t,3*t+3):e[t],n[2]=n[2]||0,n}var Xe={text:{category:Ge.LABEL,validate:function(e){return!0}},tree_table:{category:Ge.COMPONENT,validate:function(e){return!0}},points3d:{category:Ge.POINTCLOUD,validate:function(e,t,r){return e.vertices&&e.vertices.length>0}},points2d:{category:Ge.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>0},normalize:function(e){for(var t=0;t<e.vertices.length;t++)e.vertices[t][2]=0}},point2d:{category:Ge.FEATURE,enableZOffSet:!0,validate:function(e,t,r){return e.vertices&&1===e.vertices.length},normalize:function(e){e.vertices=e.vertices[0]}},line2d:{category:Ge.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>=2&&"/route_follower/kickout/object/velocity"!==t},normalize:function(e){e.vertices=He(e.vertices)}},polygon2d:{category:Ge.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>=3},normalize:function(e){Array.isArray(e.vertices)&&e.vertices.push(e.vertices[0])}},circle:{category:Ge.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>0}},circle2d:{category:Ge.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.center},normalize:function(e){e.vertices=e.center}}},$e=r("H7XF"),Ye=r.n($e);function Ke(e){e&&e.base&&e.base.object_id&&(e.id=e.base.object_id)}var Je={text:{category:Ge.FEATURE,validate:function(e){return!0},normalize:function(e){Ke(e)}},circle:{category:Ge.FEATURE,validate:function(e){return e.center},normalize:function(e){Ke(e)}},stadium:{category:Ge.FEATURE,validate:function(e){return e.start&&e.end},normalize:function(e){Ke(e)}},polyline:{category:Ge.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>=2},normalize:function(e){e.vertices=He(e.vertices),Ke(e)}},polygon:{category:Ge.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>=3},normalize:function(e){Ke(e)}},point:{category:Ge.POINTCLOUD,validate:function(e,t,r){return e.points&&e.points.length>0},normalize:function(e){e.vertices=e.points,Ke(e)}},image:{category:Ge.IMAGE,validate:function(e,t,r){return e.data},normalize:function(e){var t=e.data;delete e.data,"string"===typeof t&&(t=Ye.a.toByteArray(t));var r=e.format?"image/".concat(e.format):null;e.imageData=t,e.imageType=r,e.position&&(e.vertices=e.position),Ke(e)}}};function Qe(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=et(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function et(e,t){if(e){if("string"===typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rt(){var e={};for(var t in Ge)e[Ge[t]]=[];return e}var nt={doubles:"FLOAT",int32s:"INT32",bools:"BOOL",strings:"STRING"};function it(e,t,r,n){var i=I(),o=i.OBJECT_STREAM,a=i.preProcessPrimitive,s=i.DYNAMIC_STREAM_METADATA,u=1===I().currentMajorVersion?Xe:Je,c=Le(e);if(!c||!Array.isArray(c.primitives))return{};for(var l=c.type,f=c.primitives,h=rt(),p=null,d=0;d<f.length;d++){var v=f[d];if(v&&Array.isArray(v)){p=Ge.LOOKAHEAD,h[p].push([]);for(var m=0;m<v.length;m++){a({primitive:v[m],streamName:t,time:r});var y=qe(u,v[m],d,t,l,r,n);y&&h[p][d].push(y)}}else{a({primitive:v,streamName:t,time:r});var g=qe(u,v,d,t,l,r,n);p=u[v.type||l].category,g&&(h[p].push(g),We&&(t===o||!o&&g.id&&"features"===p)&&O.observe(g.id,r))}}h.vertices=mt(h.features);var b=gt(h.pointCloud);return b&&h.features.push({type:b.type,points:b.positions,colors:b.colors,ids:b.ids}),h.pointCloud=b,h.time=r,s&&(h.__metadata={category:"PRIMITIVE",primitive_type:l}),h}function ot(e,t,r,n){var i=I(),o=i.currentMajorVersion,a=i.DYNAMIC_STREAM_METADATA,s=1===o?at(e,t,r,n):st(e,t,r,n);return a&&(s.__metadata={category:"FUTURE_INSTANCE",primitive_type:s.lookAheads[0][0]&&s.lookAheads[0][0].type}),s}function at(e,t,r,n){var i=[];return e.forEach((function(e,o){var a=e.primitives,s=a.map((function(e){return qe(Xe,e,o,t,e.type,r,n)})).filter(Boolean);i.push(s)})),{time:r,lookAheads:i}}function st(e,t,r,n){var i=[],o=e.timestamps;return e.primitives.forEach((function(e,a){var s=Le(e),u=s.primitives.map((function(e){var i=qe(Je,e,a,t,s.type,r,n);return i.timestamp=o[a],i})).filter(Boolean);i.push(u)})),{time:r,lookAheads:i}}function ut(e,t,r){var n=I(),i=n.currentMajorVersion,o=n.DYNAMIC_STREAM_METADATA,a=1===i?ct(e,t,r):lt(e,t,r);return o&&(a.__metadata={category:"VARIABLE",scalar_type:Array.isArray(a.variable)&&a.variable[0]&&a.variable[0].type}),a}function ct(e,t,r){if(Array.isArray(e))return{time:r};var n,i=e.timestamps,o=e.values;n=1===o.length?o[0]:i?o.map((function(e,t){return[i[t],e]})):o;var a={time:r,variable:n};return a}function lt(e,t,r){if(Array.isArray(e))return{time:r};var n=e.variables;if(!n||!Array.isArray(n))return{};var i={time:r};return i.variable=n.map((function(e){var t=e.base,r=e.values,n=ht(r);return n&&n.values?(t&&t.object_id&&(n.id=t.object_id),n):null})).filter(Boolean),i}function ft(e,t){var r=I(),n=r.currentMajorVersion;return 2===n?pt(e,t):(z.error("Invalid time_series data in XVIZ version ".concat(n))(),null)}function ht(e){for(var t in e)if(t in nt)return{type:nt[t],values:e[t]};return null}function pt(e,t){if(!Array.isArray(e))return{};var r=I(),n=r.DYNAMIC_STREAM_METADATA,i={},o={};return e.forEach((function(e){var r=e.timestamp,a=e.streams,s=e.values,u=e.object_id,c=ht(s);return c&&c.values.length===a.length?(c.values.forEach((function(e,s){var l=a[s];if(!t.has(l)){var f=o[l],h=!1;if(f){var p=f[u];p?p.has(r)?h=!0:p.add(r):f[u]=new Set([r])}else o[l]=Object(R["a"])({},u,new Set([r]));if(h)z.warn("Unexpected time_series duplicate ignored: ".concat(l," ").concat(r," id: ").concat(u))();else{var d={time:r,variable:e};u&&(d.id=u);var v=i[l];v||(i[l]=[]),i[l].push(d),n&&(i.__metadata||(i.__metadata={}),i.__metadata[l]={category:"TIME_SERIES",scalar_type:c.type})}}})),i):null})),i}function dt(e){return Number.isFinite(e[0])?e.length/3:e.length}function vt(e,t){if(e){if(e.length/4===t)return 4;if(e.length/3===t)return 3;var r;if(r=Array.isArray(e[0])?e[0].length:e.length,3===r||4===r)return r;z.error("Unknown point color format")}return 0}function mt(e){var t,r=0,n=Qe(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.vertices&&(r+=dt(i.vertices))}}catch(d){n.e(d)}finally{n.f()}if(0===r)return null;var o,a=new Float64Array(3*r),s=0,u=Qe(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.vertices){var l=dt(c.vertices);if(Number.isFinite(c.vertices[0]))a.set(c.vertices,s),s+=3*l;else{var f,h=Qe(c.vertices);try{for(h.s();!(f=h.n()).done;){var p=f.value;a.set(p,s),s+=3}}catch(d){h.e(d)}finally{h.f()}}c.vertices=a.subarray(s-3*l,s)}}}catch(d){u.e(d)}finally{u.f()}return a}var yt=[0,0,0,255];function gt(e){if(0===e.length)return null;var t,r=0,n=Qe(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r+=dt(i.vertices)}}catch(l){n.e(l)}finally{n.f()}var o=null,a=new Float32Array(3*r),s=new Uint8ClampedArray(4*r),u=new Uint32Array(r),c=0;return e.forEach((function(e){var t=e.vertices,r=e.colors,n=dt(t);if(0!==n){var i=vt(r||e.color,n);null!==o&&o!==i&&z.error("Inconsistent point color format"),o=i;var l=r&&r.length===n*o;l&&s.set(r,c*o);var f=t.length===3*n;if(f&&a.set(t,3*c),Number.isFinite(e.id)&&u.fill(e.id,c,c+n),!f||!l&&o)for(var h=e.color||yt,p=0;p<n;p++,c++){if(!f){var d=t[p];a[3*c+0]=d[0],a[3*c+1]=d[1],a[3*c+2]=d[2]}!l&&o&&(r&&(h=r[p]),s[c*o+0]=h[0],s[c*o+1]=h[1],s[c*o+2]=h[2],4===o&&(s[c*o+3]=h[3]||255))}}})),{type:e[0].type,numInstances:r,positions:a,colors:o?s.subarray(0,o*r):null,ids:u}}function bt(e,t,r){var n=Object.assign({time:r},e);return I().DYNAMIC_STREAM_METADATA&&(n.__metadata={category:"UI_PRIMITIVE"}),n}var _t=r("nELz");function wt(e){return new Promise((function(t,r){var n,i=new FileReader;i.onload=function(e){n=e.target.result},i.onloadend=function(e){return t(n)},i.onerror=r,i.readAsArrayBuffer(e)}))}function xt(e,t,r){if(e instanceof Blob)wt(e).then((function(e){xt(e,t,r)}))["catch"](r);else try{var n=e;"string"===typeof e&&(n=JSON.parse(e));var i=Ot(n);t(i)}catch(o){r(o)}}function Ot(e){return e instanceof ArrayBuffer?jt(e):"metadata"===e.type?Et(e):{type:a.ERROR,message:"Unknown stream data type",data:e}}function Et(e){var t=Fe(e);return t.type=a.VIDEO_METADATA,t}function jt(e){var t=new DataView(e),r={type:a.VIDEO_FRAME},n=!0,i=new _t["TextDecoder"]("utf-8"),o=0;r.version=t.getUint32(o,n),o+=4,r.versionFlags=t.getUint32(o,n),o+=4;var s=t.getUint32(o,n),u=o+4;o+=4+s,r.stream=i.decode(e.slice(u,o)),r.timestamp=t.getFloat64(o,n),o+=8;var c=t.getUint32(o,n);return o+=4,r.imageData=e.slice(o,o+c),r.imageType="image/jpeg",r}var St=r("Ff2n"),kt=["vehicle_pose","state_updates"];function Tt(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Pt(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function Pt(e,t){if(e){if("string"===typeof e)return At(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Object(R["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rt(e,t){var r,n=I(),i=n.PRIMARY_POSE_STREAM,o=e.vehicle_pose,s=e.state_updates,u=Object(St["a"])(e,kt);if(o?r=o.time:s&&(r=s.reduce((function(e,t){return Math.max(e,t.timestamp)}),0)),!r)return{type:a.INCOMPLETE};var c={},l=Ct(Ct({},u),{},{type:a.TIMESLICE,streams:c,timestamp:r});if(s){var f=Mt(s,r,t);Object.assign(c,f)}return o&&(c[i]=o),l}function Mt(e,t,r){var n,i=I(),o=i.STREAM_BLACKLIST,a={},s={},u={},c={},l=Tt(e);try{for(l.s();!(n=l.n()).done;){var f=n.value;Object.assign(s,f.primitives),Object.assign(u,f.variables),Object.assign(c,f.futures)}}catch(h){l.e(h)}finally{l.f()}return Object.keys(s).filter((function(e){return!o.has(e)})).forEach((function(e){a[e]=it(s[e],e,t,r)})),Object.keys(u).filter((function(e){return!o.has(e)})).forEach((function(e){a[e]=ut(u[e],e,t)})),Object.keys(c).filter((function(e){return!o.has(e)})).forEach((function(e){a[e]=ot(c[e],e,t,r)})),a}function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){Object(R["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nt(e){var t=e.mapOrigin,r=e.map_origin,n=e.position,i=e.orientation,o=e.timestamp,a=r||t,s={timestamp:o};if(a){var u=a.longitude,c=a.latitude,l=a.altitude;Object.assign(s,{longitude:u,latitude:c,altitude:l})}if(n){var f=Object(de["a"])(n,3),h=f[0],p=f[1],d=f[2];Object.assign(s,{x:h,y:p,z:d})}if(i){var v=Object(de["a"])(i,3),m=v[0],y=v[1],g=v[2];Object.assign(s,{roll:m,pitch:y,yaw:g})}return I().DYNAMIC_STREAM_METADATA&&(s.__metadata={category:"POSE"}),Dt(Dt({},e),s)}var Ft=["target_pose"];function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Object(R["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e){var t=e.target_pose,r=Object(St["a"])(e,Ft);if(!t)throw new Error("Link must define a target_pose");return Bt({target_pose:t},r)}function Vt(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Gt(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function Gt(e,t){if(e){if("string"===typeof e)return qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qt(e,t):void 0}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wt(e,t){var r=e.update_type,n=e.updates,i=s[r.toUpperCase()];if(!i)return z.error('update_type of "'.concat(r,'" is not supported.'))(),{type:a.INCOMPLETE,message:"Unsupported update type"};if(!n)return{type:a.INCOMPLETE,message:'Missing required "updates" property'};if(n&&0===n.length)return{type:a.INCOMPLETE,message:'Property "updates" has length of 0, no data?'};n.length>1&&z.warn('Only XVIZ first update of "snapshot" is currently supported. Current updates has "'.concat(n.length,'" entries.'))();var o=n,u=null;if(o&&(u=o.reduce((function(e,t){return e?Math.max(e,t.timestamp):t&&t.timestamp}),null)),!Number.isFinite(u))return{type:a.INCOMPLETE,message:'Missing timestamp in "updates"'};var c={type:a.TIMESLICE,updateType:i,poses:{},streams:{},links:{},timestamp:u};if(o){var l=Ht(o,u,t),f=l.poses,h=l.streams,p=l.links;Object.assign(c.poses,f),Object.assign(c.streams,h),Object.assign(c.links,p)}return c}function Ht(e,t,r){var n,i=I(),o=i.STREAM_BLACKLIST,a={},s={},u={},c={},l={},f={},h=[],p={},d={},v=[],m=Vt(e);try{for(m.s();!(n=m.n()).done;){var y=n.value;Object.assign(u,y.links),Object.assign(c,y.poses),Object.assign(l,y.primitives),Object.assign(f,y.variables),Object.assign(p,y.future_instances),Object.assign(d,y.ui_primitives),y.time_series&&h&&h.push.apply(h,Object(C["a"])(y.time_series)),y.no_data_streams&&v.push.apply(v,Object(C["a"])(y.no_data_streams))}}catch(b){m.e(b)}finally{m.f()}if(Object.keys(u).filter((function(e){return!o.has(e)})).forEach((function(e){u[e]=Ut(u[e])})),Object.keys(c).filter((function(e){return!o.has(e)})).forEach((function(e){s[e]=Nt(c[e])})),Object.keys(l).filter((function(e){return!o.has(e)})).forEach((function(e){a[e]=it(l[e],e,t,r)})),Object.keys(f).filter((function(e){return!o.has(e)})).forEach((function(e){a[e]=ut(f[e],e,t)})),h.length){var g=ft(h,o);Object.assign(a,g)}return Object.keys(p).filter((function(e){return!o.has(e)})).forEach((function(e){a[e]=ot(p[e],e,t,r)})),Object.keys(d).filter((function(e){return!o.has(e)})).forEach((function(e){a[e]=bt(d[e],e,t)})),v.length&&v.forEach((function(e){return a[e]=null})),{poses:s,streams:a,links:u}}function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach((function(t){Object(R["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e,t,r,n){if("undefined"!==typeof Blob&&e instanceof Blob)xt(e,t,r);else{var i=n.messageType,a=n.messageFormat;try{var s=new o["b"](e,{messageType:i,messageFormat:a}),u=s.message();if(u){var c=u.data,l=u.type||void 0,f=Yt(c,Xt(Xt({},n),{},{v2Type:l}));t(f)}}catch(h){r(h)}}}function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.v2Type||e.type||e.message||e.update_type;switch(r){case"state_update":return Kt(e,t.convertPrimitive);case"metadata":return Xt(Xt({},Fe(e)),{},{type:a.METADATA});case"transform_log_done":return Xt(Xt({},e),{},{type:a.DONE});case"error":return Xt(Xt({},e),{},{message:"Stream server error",type:a.ERROR});case"done":return Xt(Xt({},e),{},{type:a.DONE});default:return Kt(e,t.convertPrimitive)}}function Kt(e,t){var r=I(),n=r.currentMajorVersion;return 1===n?Rt(e,t):Wt(e,t)}function Jt(e,t){e&&e.features.forEach((function(e){O.observe(e.id,t)}))}function Qt(e){if(e.type!==a.TIMESLICE)return e;var t=I(),r=t.OBJECT_STREAM,n=e.streams,i=e.timestamp;if(r)return Jt(n[r],i),e;for(var o in n){var s=n[o];s&&s.features&&s.features.length&&s.features[0].id&&Jt(s,i)}return e}function er(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=r||new Set;if(e){if(e instanceof ArrayBuffer)n.add(e);else if(e.buffer&&e.buffer instanceof ArrayBuffer)n.add(e.buffer);else if(t&&"object"===Object(ve["a"])(e))for(var i in e)er(e[i],!1,n)}else;return void 0===r?Array.from(n):null}var tr=function(){function e(t){var r=t.url,n=t.metadata;Object(u["a"])(this,e),this.worker=new Worker(r),this.isBusy=!1,this.metadata=n}return Object(c["a"])(e,[{key:"process",value:function(e){var t=this,r=this.worker;return new Promise((function(n,i){r.onmessage=function(e){t.isBusy=!1,n(e.data)},r.onerror=function(e){t.isBusy=!1,i(e)},t.isBusy=!0,r.postMessage(e,er(e))}))}},{key:"terminate",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),rr=function(){function e(t){var r=t.workerURL,n=t.maxConcurrency,i=void 0===n?1:n,o=t.debug,a=void 0===o?function(){}:o,s=t.initialMessage,c=void 0===s?null:s,l=t.capacity,f=void 0===l?null:l,h=t.id,p=void 0===h?"default":h;Object(u["a"])(this,e),this.id=p,this.workerURL=r,this.workers=[],this.queue=[],this.debug=a,this.capacity=f,this.dropped=0;for(var d=0;d<i;d++)this.workers[d]=new tr({url:this.workerURL,metadata:{name:"".concat(d,"/").concat(i)}});c&&this.broadcast(c)}return Object(c["a"])(e,[{key:"destroy",value:function(){this.workers.forEach((function(e){return e.terminate()}))}},{key:"getAvailableWorker",value:function(){return this.workers.find((function(e){return!e.isBusy}))}},{key:"broadcast",value:function(e){for(var t=this.workers.length,r=t-1;r>=0;r--)this.workers[r].worker.postMessage(e,er(e))}},{key:"next",value:function(){var e=this,t=this.queue;while(this.capacity&&t.length>this.capacity)t.shift(),this.dropped++;var r=function(){var r=e.getAvailableWorker();if(!r)return"break";var n=t.shift();e.debug({id:e.id,message:"processing",worker:r.metadata.name,backlog:t.length,dropped:e.dropped}),r.process(n.data).then(n.onResult)["catch"](n.onError).then((function(){e.debug({id:e.id,message:"waiting",worker:r.metadata.name,backlog:t.length,dropped:e.dropped}),e.next()}))};while(t.length){var n=r();if("break"===n)break}}},{key:"process",value:function(e,t,r){this.queue.push({data:e,onResult:t,onError:r}),this.next()}}]),e}();function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){Object(R["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var or='!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=140)}([function(e,t,r){var n=r(151)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o}));var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,r){"use strict";r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return s})),r.d(t,"l",(function(){return u})),r.d(t,"m",(function(){return c})),r.d(t,"e",(function(){return f})),r.d(t,"s",(function(){return p})),r.d(t,"r",(function(){return h})),r.d(t,"o",(function(){return d})),r.d(t,"i",(function(){return y})),r.d(t,"p",(function(){return m})),r.d(t,"h",(function(){return v})),r.d(t,"q",(function(){return g})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return O})),r.d(t,"c",(function(){return w})),r.d(t,"d",(function(){return _})),r.d(t,"n",(function(){return E})),r.d(t,"j",(function(){return j})),r.d(t,"k",(function(){return P})),r.d(t,"t",(function(){return S}));var n=r(13);const i=1/Math.PI*180,o=1/180*Math.PI,a={};function s(e={}){for(const t in e)Object(n.a)(t in a),a[t]=e[t];return a}function u(e,{precision:t=a.precision||4}={}){return e=function(e){return Math.round(e/a.EPSILON)*a.EPSILON}(e),"".concat(parseFloat(e.toPrecision(t)))}function c(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function f(e){return e.clone?e.clone():new Array(...e)}function l(e,t,r){if(c(e)){r=r||((n=e).clone?n.clone():new Array(n.length));for(let n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var n;return t(e)}function p(e){return d(e)}function h(e){return y(e)}function d(e,t){return l(e,e=>e*o,t)}function y(e,t){return l(e,e=>e*i,t)}function m(e){return l(e,e=>Math.sin(e))}function v(e){return l(e,e=>Math.cos(e))}function g(e){return l(e,e=>Math.tan(e))}function b(e){return l(e,e=>Math.asin(e))}function O(e){return l(e,e=>Math.acos(e))}function w(e){return l(e,e=>Math.atan(e))}function _(e,t,r){return l(e,e=>Math.max(t,Math.min(r,e)))}function E(e,t,r){return c(e)?e.map((e,n)=>E(e,t[n],r)):r*t+(1-r)*e}function j(e,t,r){const n=a.EPSILON;r&&(a.EPSILON=r);try{if(e===t)return!0;if(c(e)&&c(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!j(e[r],t[r]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{a.EPSILON=n}}function P(e,t){if(e===t)return!0;if(e&&"object"==typeof e&&t&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(e.exactEquals)return e.exactEquals(t)}if(c(e)&&c(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!P(e[r],t[r]))return!1;return!0}return!1}function S(e,t){const r=a.EPSILON;let n;a.EPSILON=e;try{n=t()}finally{a.EPSILON=r}return n}a.EPSILON=1e-12,a.debug=!1,a.precision=4,a.printTypes=!1,a.printDegrees=!1,a.printRowMajor=!0},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r(3);function i(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function o(e,t,r=""){if(n.f.debug&&!function(e,t){if(e.length!==t)return!1;for(let t=0;t<e.length;++t)if(!Number.isFinite(e[t]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers\'"));return e}const a={};function s(e,t){a[e]||(a[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(66);function i(e){return new n.a(e)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"h",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"m",(function(){return f})),r.d(t,"l",(function(){return l})),r.d(t,"n",(function(){return p})),r.d(t,"i",(function(){return h})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return y})),r.d(t,"a",(function(){return m})),r.d(t,"f",(function(){return g}));var n=r(2);function i(){var e=new n.a(3);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function a(e,t,r){var i=new n.a(3);return i[0]=e,i[1]=t,i[2]=r,i}function s(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function u(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e}function f(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function l(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function p(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],u=t[1],c=t[2],f=i*c-o*u,l=o*s-n*c,p=n*u-i*s,h=i*p-o*l,d=o*f-n*p,y=n*l-i*f,m=2*a;return f*=m,l*=m,p*=m,h*=2,d*=2,y*=2,e[0]=s+f+h,e[1]=u+l+d,e[2]=c+p+y,e}function h(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function d(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function y(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function m(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2],c=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(o*o+a*a+s*s),f=c&&u(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}var v,g=o;v=i()},function(e,t,r){"use strict";r.r(t),r.d(t,"assert",(function(){return i.a})),r.d(t,"isBrowser",(function(){return o.c})),r.d(t,"isWorker",(function(){return o.d})),r.d(t,"nodeVersion",(function(){return o.e})),r.d(t,"self",(function(){return o.f})),r.d(t,"window",(function(){return o.g})),r.d(t,"global",(function(){return o.b})),r.d(t,"document",(function(){return o.a})),r.d(t,"createWorker",(function(){return d})),r.d(t,"validateLoaderVersion",(function(){return l.a})),r.d(t,"makeTransformIterator",(function(){return g.a})),r.d(t,"getTransferList",(function(){return f.a})),r.d(t,"_WorkerFarm",(function(){return b.a})),r.d(t,"_WorkerPool",(function(){return O.a})),r.d(t,"_WorkerThread",(function(){return w.a})),r.d(t,"getLibraryUrl",(function(){return S})),r.d(t,"loadLibrary",(function(){return j})),r.d(t,"parseJSON",(function(){return R})),r.d(t,"isBuffer",(function(){return L})),r.d(t,"toBuffer",(function(){return V})),r.d(t,"bufferToArrayBuffer",(function(){return D})),r.d(t,"toArrayBuffer",(function(){return C.d})),r.d(t,"sliceArrayBuffer",(function(){return C.c})),r.d(t,"concatenateArrayBuffers",(function(){return C.b})),r.d(t,"compareArrayBuffers",(function(){return C.a})),r.d(t,"padTo4Bytes",(function(){return B})),r.d(t,"copyToArray",(function(){return z})),r.d(t,"copyArrayBuffer",(function(){return U})),r.d(t,"copyPaddedArrayBufferToDataView",(function(){return $})),r.d(t,"copyPaddedStringToDataView",(function(){return Z})),r.d(t,"padStringToByteAlignment",(function(){return X})),r.d(t,"copyStringToDataView",(function(){return q})),r.d(t,"copyBinaryToDataView",(function(){return G})),r.d(t,"getFirstCharacters",(function(){return I})),r.d(t,"getMagicString",(function(){return k})),r.d(t,"path",(function(){return n})),r.d(t,"setPathPrefix",(function(){return W.d})),r.d(t,"getPathPrefix",(function(){return W.b})),r.d(t,"resolvePath",(function(){return W.c})),r.d(t,"_addAliases",(function(){return W.a})),r.d(t,"makeTextEncoderIterator",(function(){return J.d})),r.d(t,"makeTextDecoderIterator",(function(){return J.c})),r.d(t,"makeLineIterator",(function(){return J.a})),r.d(t,"makeNumberedLineIterator",(function(){return J.b})),r.d(t,"forEach",(function(){return H.b})),r.d(t,"concatenateChunksAsync",(function(){return H.a})),r.d(t,"RequestScheduler",(function(){return Q.a})),r.d(t,"ChildProcessProxy",(function(){return K.a})),r.d(t,"_getMeshSize",(function(){return ee})),r.d(t,"getMeshBoundingBox",(function(){return te})),r.d(t,"getZeroOffsetArrayBuffer",(function(){return F}));var n={};r.r(n),r.d(n,"dirname",(function(){return Y}));var i=r(18),o=r(15),a=r(5),s=r(0),u=r.n(s),c=r(1),f=r(46),l=r(62);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){if("undefined"!=typeof self){var t,r=0,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,o){var a=r++;self.addEventListener("message",(function e(t){var r=t.data;if(r&&r.id===a)switch(r.type){case"parse-done":self.removeEventListener("message",e),i(r.result);break;case"parse-error":self.removeEventListener("message",e),o(r.message)}})),self.postMessage({type:"parse",id:a,arraybuffer:e,options:t,url:n},[e])}))};self.onmessage=(t=Object(c.a)(u.a.mark((function t(r){var i,o,a,s,c,p,h,d,m,g;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.data,t.prev=1,v(i,e.name)){t.next=4;break}return t.abrupt("return");case 4:return Object(l.a)(e,i.source.split("@")[1]),o=i.arraybuffer,a=i.byteOffset,s=void 0===a?0:a,c=i.byteLength,p=void 0===c?0:c,h=i.options,d=void 0===h?{}:h,t.next=8,y({loader:e,arraybuffer:o,byteOffset:s,byteLength:p,options:d,context:{parse:n}});case 8:m=t.sent,g=Object(f.a)(m),self.postMessage({type:"done",result:m},g),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),self.postMessage({type:"error",message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))),function(e){return t.apply(this,arguments)})}}function y(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(u.a.mark((function e(t){var r,n,i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arraybuffer,t.byteOffset,t.byteLength,i=t.options,o=t.context,!r.parseSync&&!r.parse){e.next=6;break}a=n,s=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,a=c.decode(n),s=r.parseTextSync,e.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return i=h(h({},i),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,s(a,h({},i),o,r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return e&&"parse"===e.type&&e.source&&e.source.startsWith("loaders.gl")}var g=r(103),b=r(104),O=r(63),w=r(64),_=r(54),E={};function j(e){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(u.a.mark((function e(t){var r,n,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]?i[2]:{},r&&(t=S(t,r,n)),E[t]=E[t]||x(t),e.next=6,E[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r){var n=r.modules||{};return n[e]?n[e]:o.c?r.CDN?(Object(i.a)(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(t,"@").concat("2.3.13","/dist/libs/").concat(e)):o.d?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function x(e){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(u.a.mark((function e(t){var r,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(o.c){e.next=9;break}return e.abrupt("return",_.requireFromFile&&_.requireFromFile(t));case 9:if(!o.d){e.next=11;break}return e.abrupt("return",importScripts(t));case 11:return e.next=13,fetch(t);case 13:return n=e.sent,e.next=16,n.text();case 16:return i=e.sent,e.abrupt("return",A(i,t));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){if(!o.c)return _.requireFromString&&_.requireFromString(e,t);if(o.d)return eval.call(o.b,e),null;var r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return k(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return k(e,r,t)}return""}function k(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}function R(e){try{return JSON.parse(e)}catch(t){throw new Error(\'Failed to parse JSON from data starting with "\'.concat(I(e),\'"\'))}}var M=r(9),N=r(30);function L(e){return e&&"object"===Object(M.a)(e)&&e.isBuffer}function V(e){return N.toBuffer?N.toBuffer(e):e}function D(e){return N.toArrayBuffer?N.toArrayBuffer(e):e}var C=r(24);function B(e){return e+3&-4}function F(e,t,r){return Object(C.c)(e,t,r)}function U(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(e,r,n),o=new Uint8Array(t);return i.set(o),e}function z(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var i=e.byteOffset,o=e.byteLength;n=new Uint8Array(e.buffer,i,o)}return t.set(n,r),r+B(n.byteLength)}function $(e,t,r){var n=B(r.byteLength),i=n-r.byteLength;if(e){var o=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),a=new Uint8Array(r);o.set(a);for(var s=0;s<i;++s)e.setUint8(t+r.byteLength+s,32)}return t+=n}function Z(e,t,r){return t=$(e,t,(new TextEncoder).encode(r))}function X(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,i="",o=0;o<n;++o)i+=" ";return e+i}function q(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r.charCodeAt(i));return t+n}function G(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r[i]),t++;return t+n}function Y(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}var W=r(40),J=r(49),H=r(73),Q=r(105),K=r(106);function ee(e){var t=0;for(var r in e){var n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t}function te(e){if(!e||!e.POSITION)return null;var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=e.POSITION.value,u=s&&s.length;if(!u)return null;for(var c=0;c<u;c+=3){var f=s[c],l=s[c+1],p=s[c+2];t=f<t?f:t,r=l<r?l:r,n=p<n?p:n,i=f>i?f:i,o=l>o?l:o,a=p>a?p:a}return[[t,r,n],[i,o,a]]}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(66);function i(e){var t,r;function i(t,r){try{var a=e[t](r),s=a.value,u=s instanceof n.a;Promise.resolve(u?s.wrapped:s).then((function(e){u?i("return"===t?"return":"next",e):o(a.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){o("throw",e)}}function o(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(o,a){var s={key:e,arg:n,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,i(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return function(){return new i(e.apply(this,arguments))}}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"l",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"k",(function(){return c})),r.d(t,"h",(function(){return f})),r.d(t,"m",(function(){return l})),r.d(t,"j",(function(){return p})),r.d(t,"d",(function(){return h})),r.d(t,"i",(function(){return d})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return m})),r.d(t,"f",(function(){return v})),r.d(t,"e",(function(){return g}));var n=r(2);function i(e){var t=new n.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,i){var o=new n.a(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function l(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function p(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function h(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function d(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=s+n*(r[3]-s),e}function y(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function m(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*o-u*i,l=c*i+u*n-a*o,p=c*o+a*i-s*n,h=-a*n-s*i-u*o;return e[0]=f*c+h*-a+l*-u-p*-s,e[1]=l*c+h*-s+p*-a-f*-u,e[2]=p*c+h*-u+f*-s-l*-a,e[3]=t[3],e}function v(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function g(e,t){var r=e[0],i=e[1],o=e[2],a=e[3],s=t[0],u=t[1],c=t[2],f=t[3];return Math.abs(r-s)<=n.b*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=n.b*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=n.b*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-f)<=n.b*Math.max(1,Math.abs(a),Math.abs(f))}var b,O;b=new n.a(4),n.a!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0,b[3]=0),O=b},function(e,t,r){"use strict";var n,i,o=e.exports=r(23),a=r(121);o.codegen=r(208),o.fetch=r(209),o.path=r(210),o.typedArrayIsLe=function(){var e=new Float32Array([-0]);return 128===new Uint8Array(e.buffer)[3]},o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},o.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var s=/\\\\/g,u=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\\w_]+$/.test(e)||o.isReserved(e)?\'["\'+e.replace(s,"\\\\\\\\").replace(u,\'\\\\"\')+\'"]\':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;n||(n=r(83));var i=new n(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var f=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(22));var t=new i("Enum"+f++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},Object.defineProperty(o,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(r(88)))}})},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new i(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function i(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(i=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new i(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";(function(e,n){r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return h}));var i=r(9),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=o.self||o.window||o.global,s=o.window||o.self||o.global,u=o.global||o.self||o.window,c=o.document||{},f="object"!==(void 0===n?"undefined":Object(i.a)(n))||"[object process]"!==String(n)||n.browser,l="function"==typeof importScripts,p=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/),h=p&&parseFloat(p[1])||0}).call(this,r(37),r(32))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){const n=t[0],i=t[1],o=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/o,e[1]=(r[1]*n+r[5]*i)/o,e}function i(e,t,r){const n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o||1;return e[0]=(r[0]*n+r[4]*i+r[8]*o)/a,e[1]=(r[1]*n+r[5]*i+r[9]*o)/a,e[2]=(r[2]*n+r[6]*i+r[10]*o)/a,e}function o(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e}function a(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e[3]=t[3],e}function s(e,t,r){const n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n+r[3]*i+r[6]*o,e[1]=r[1]*n+r[4]*i+r[7]*o,e[2]=r[2]*n+r[5]*i+r[8]*o,e[3]=t[3],e}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"i",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return p}));var n=r(2);function i(){var e=new n.a(9);return n.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function a(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=f*a-s*c,p=-f*o+s*u,h=c*o-a*u,d=r*l+n*p+i*h;return d?(d=1/d,e[0]=l*d,e[1]=(-f*n+i*c)*d,e[2]=(s*n-i*a)*d,e[3]=p*d,e[4]=(f*r-i*u)*d,e[5]=(-s*r+i*o)*d,e[6]=h*d,e[7]=(-c*r+n*u)*d,e[8]=(a*r-n*o)*d,e):null}function s(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*o-a*u)+r*(-c*i+a*s)+n*(u*i-o*s)}function u(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=r[0],h=r[1],d=r[2],y=r[3],m=r[4],v=r[5],g=r[6],b=r[7],O=r[8];return e[0]=p*n+h*a+d*c,e[1]=p*i+h*s+d*f,e[2]=p*o+h*u+d*l,e[3]=y*n+m*a+v*c,e[4]=y*i+m*s+v*f,e[5]=y*o+m*u+v*l,e[6]=g*n+b*a+O*c,e[7]=g*i+b*s+O*f,e[8]=g*o+b*u+O*l,e}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=r[0],h=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=p*n+h*a+c,e[7]=p*i+h*s+f,e[8]=p*o+h*u+l,e}function f(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=Math.sin(r),h=Math.cos(r);return e[0]=h*n+p*a,e[1]=h*i+p*s,e[2]=h*o+p*u,e[3]=h*a-p*n,e[4]=h*s-p*i,e[5]=h*u-p*o,e[6]=c,e[7]=f,e[8]=l,e}function l(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function p(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,f=n*a,l=n*s,p=i*a,h=i*s,d=i*u,y=o*a,m=o*s,v=o*u;return e[0]=1-l-d,e[3]=f-v,e[6]=p+m,e[1]=f+v,e[4]=1-c-d,e[7]=h-y,e[2]=p-m,e[5]=h+y,e[8]=1-c-l,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getXVIZConfig=function(){return s},t.setXVIZConfig=function(e){Object.assign(s,e),Array.isArray(s.STREAM_BLACKLIST)&&(s.STREAM_BLACKLIST=new Set(s.STREAM_BLACKLIST));u.forEach((function(e){return e()}))},t.subscribeXVIZConfigChange=function(e){u.push(e)};var n=o(r(142)),i=o(r(56));function o(e){return e&&e.__esModule?e:{default:e}}var a={supportedVersions:[1,2],currentMajorVersion:1,pathDistanceThreshold:.1,TIME_WINDOW:.4,PLAYBACK_FRAME_RATE:10,STREAM_BLACKLIST:new Set,preProcessPrimitive:function(e){return e},ALLOW_MISSING_PRIMARY_POSE:!1,DYNAMIC_STREAM_METADATA:!1,TIMESTAMP_FORMAT:"seconds",PRIMARY_POSE_STREAM:"/vehicle_pose"},s=Object.assign({},a);i.default.setDefaultCollection(new n.default);var u=[]},function(e,t,r){"use strict";e.exports=a;var n=r(43);((a.prototype=Object.create(n.prototype)).constructor=a).className="Enum";var i=r(50),o=r(12);function a(e,t,r,i,o){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var r=new a(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,r){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name \'"+e+"\' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name \'"+e+"\' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},a.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name \'"+e+"\' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},function(e,t,r){"use strict";(function(e){var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(118),n.base64=r(199),n.EventEmitter=r(200),n.float=r(201),n.inquire=r(119),n.utf8=r(202),n.pool=r(203),n.LongBits=r(204),n.global="undefined"!=typeof window&&window||void 0!==e&&e||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(n.global.process&&n.global.process.versions&&n.global.process.versions.node),n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,r(37))},function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return l}));var n=r(9),i=r(18),o=r(30);function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){if(o.toArrayBuffer&&(e=o.toArrayBuffer(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return e&&"object"===Object(n.a)(e)&&e._toArrayBuffer?e._toArrayBuffer():Object(i.a)(!1)}function c(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),i=new Uint8Array(t),o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),o=i.reduce((function(e,t){return e+t.byteLength}),0),s=new Uint8Array(o),u=0,c=a(i);try{for(c.s();!(n=c.n()).done;){var f=n.value;s.set(f,u),u+=f.byteLength}}catch(e){c.e(e)}finally{c.f()}return s.buffer}function l(e,t,r){var n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(2);function i(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function s(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}var u,c;u=new n.a(2),n.a!=Float32Array&&(u[0]=0,u[1]=0),c=u},,function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(28),i=r(3),o=r(4),a=r(53);class s extends n.a{static get ZYX(){return 0}static get YXZ(){return 1}static get XZY(){return 2}static get ZXY(){return 3}static get YZX(){return 4}static get XYZ(){return 5}static get RollPitchYaw(){return 0}static get DefaultOrder(){return s.ZYX}static get RotationOrders(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}static rotationOrder(e){return s.RotationOrders[e]}get ELEMENTS(){return 4}constructor(e=0,t=0,r=0,n=s.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(e,t,r,n)}fromQuaternion(e){const[t,r,n,i]=e,o=r*r,a=-2*(o+n*n)+1,u=2*(t*r+i*n);let c=-2*(t*n-i*r);const f=2*(r*n+i*t),l=-2*(t*t+o)+1;c=c>1?1:c,c=c<-1?-1:c;const p=Math.atan2(f,l),h=Math.asin(c),d=Math.atan2(u,a);return new s(p,h,d,s.RollPitchYaw)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}set(e=0,t=0,r=0,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}validate(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}toArray4(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}toVector3(e=[-0,-0,-0]){return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}get x(){return this[0]}set x(e){this[0]=Object(o.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(o.a)(e)}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}get alpha(){return this[0]}set alpha(e){this[0]=Object(o.a)(e)}get beta(){return this[1]}set beta(e){this[1]=Object(o.a)(e)}get gamma(){return this[2]}set gamma(e){this[2]=Object(o.a)(e)}get phi(){return this[0]}set phi(e){this[0]=Object(o.a)(e)}get theta(){return this[1]}set theta(e){this[1]=Object(o.a)(e)}get psi(){return this[2]}set psi(e){this[2]=Object(o.a)(e)}get roll(){return this[0]}set roll(e){this[0]=Object(o.a)(e)}get pitch(){return this[1]}set pitch(e){this[1]=Object(o.a)(e)}get yaw(){return this[2]}set yaw(e){this[2]=Object(o.a)(e)}get order(){return this[3]}set order(e){this[3]=function(e){if(e<0&&e>=6)throw new Error("Unknown Euler angle order");return e}(e)}fromVector3(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}fromArray(e,t=0){return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}fromRollPitchYaw(e,t,r){return this.set(e,t,r,s.ZYX)}fromRotationMatrix(e,t=s.DefaultOrder){return this._fromRotationMatrix(e,t),this.check()}getRotationMatrix(e){return this._getRotationMatrix(e)}getQuaternion(){const e=new a.a;switch(this[3]){case s.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case s.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case s.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case s.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case s.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case s.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error("Unknown Euler angle order")}}_fromRotationMatrix(e,t=s.DefaultOrder){const r=e.elements,n=r[0],o=r[4],a=r[8],u=r[1],c=r[5],f=r[9],l=r[2],p=r[6],h=r[10];switch(t=t||this[3]){case s.XYZ:this[1]=Math.asin(Object(i.d)(a,-1,1)),Math.abs(a)<.99999?(this[0]=Math.atan2(-f,h),this[2]=Math.atan2(-o,n)):(this[0]=Math.atan2(p,c),this[2]=0);break;case s.YXZ:this[0]=Math.asin(-Object(i.d)(f,-1,1)),Math.abs(f)<.99999?(this[1]=Math.atan2(a,h),this[2]=Math.atan2(u,c)):(this[1]=Math.atan2(-l,n),this[2]=0);break;case s.ZXY:this[0]=Math.asin(Object(i.d)(p,-1,1)),Math.abs(p)<.99999?(this[1]=Math.atan2(-l,h),this[2]=Math.atan2(-o,c)):(this[1]=0,this[2]=Math.atan2(u,n));break;case s.ZYX:this[1]=Math.asin(-Object(i.d)(l,-1,1)),Math.abs(l)<.99999?(this[0]=Math.atan2(p,h),this[2]=Math.atan2(u,n)):(this[0]=0,this[2]=Math.atan2(-o,c));break;case s.YZX:this[2]=Math.asin(Object(i.d)(u,-1,1)),Math.abs(u)<.99999?(this[0]=Math.atan2(-f,c),this[1]=Math.atan2(-l,n)):(this[0]=0,this[1]=Math.atan2(a,h));break;case s.XZY:this[2]=Math.asin(-Object(i.d)(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(p,c),this[1]=Math.atan2(a,n)):(this[0]=Math.atan2(-f,h),this[1]=0);break;default:throw new Error("Unknown Euler angle order")}return this[3]=t,this}_getRotationMatrix(e){const t=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=this.x,n=this.y,i=this.z,o=Math.cos(r),a=Math.cos(n),u=Math.cos(i),c=Math.sin(r),f=Math.sin(n),l=Math.sin(i);switch(this[3]){case s.XYZ:{const e=o*u,r=o*l,n=c*u,i=c*l;t[0]=a*u,t[4]=-a*l,t[8]=f,t[1]=r+n*f,t[5]=e-i*f,t[9]=-c*a,t[2]=i-e*f,t[6]=n+r*f,t[10]=o*a;break}case s.YXZ:{const e=a*u,r=a*l,n=f*u,i=f*l;t[0]=e+i*c,t[4]=n*c-r,t[8]=o*f,t[1]=o*l,t[5]=o*u,t[9]=-c,t[2]=r*c-n,t[6]=i+e*c,t[10]=o*a;break}case s.ZXY:{const e=a*u,r=a*l,n=f*u,i=f*l;t[0]=e-i*c,t[4]=-o*l,t[8]=n+r*c,t[1]=r+n*c,t[5]=o*u,t[9]=i-e*c,t[2]=-o*f,t[6]=c,t[10]=o*a;break}case s.ZYX:{const e=o*u,r=o*l,n=c*u,i=c*l;t[0]=a*u,t[4]=n*f-r,t[8]=e*f+i,t[1]=a*l,t[5]=i*f+e,t[9]=r*f-n,t[2]=-f,t[6]=c*a,t[10]=o*a;break}case s.YZX:{const e=o*a,r=o*f,n=c*a,i=c*f;t[0]=a*u,t[4]=i-e*l,t[8]=n*l+r,t[1]=l,t[5]=o*u,t[9]=-c*u,t[2]=-f*u,t[6]=r*l+n,t[10]=e-i*l;break}case s.XZY:{const e=o*a,r=o*f,n=c*a,i=c*f;t[0]=a*u,t[4]=-l,t[8]=f*u,t[1]=e*l+i,t[5]=o*u,t[9]=r*l-n,t[2]=n*l-r,t[6]=c*u,t[10]=i*l+e;break}default:throw new Error("Unknown Euler angle order")}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}toQuaternion(){const e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),i=Math.cos(.5*this.pitch),o=Math.sin(.5*this.pitch),s=e*r*i+t*n*o,u=e*n*i-t*r*o,c=e*r*o+t*n*i,f=t*r*i-e*n*o;return new a.a(u,c,f,s)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(3),i=r(13);class o extends(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array)){get ELEMENTS(){return Object(i.a)(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}to(e){return e===this?this:Object(n.m)(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n.f)}formatString(e){let t="";for(let r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+Object(n.l)(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!Object(n.j)(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,r){void 0===r&&(r=t,t=e,e=this);for(let n=0;n<this.ELEMENTS;++n){const i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}add(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]+=t[e];return this.check()}subtract(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]-=t[e];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(n.f.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers\'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return i}))},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MemorySourceSink",{enumerable:!0,get:function(){return f.MemorySourceSink}}),Object.defineProperty(t,"TextDecoder",{enumerable:!0,get:function(){return l.TextDecoder}}),Object.defineProperty(t,"TextEncoder",{enumerable:!0,get:function(){return l.TextEncoder}}),Object.defineProperty(t,"XVIZBinaryProvider",{enumerable:!0,get:function(){return w.XVIZBinaryProvider}}),Object.defineProperty(t,"XVIZBinaryReader",{enumerable:!0,get:function(){return u.XVIZBinaryReader}}),Object.defineProperty(t,"XVIZBinaryWriter",{enumerable:!0,get:function(){return i.XVIZBinaryWriter}}),Object.defineProperty(t,"XVIZData",{enumerable:!0,get:function(){return p.XVIZData}}),Object.defineProperty(t,"XVIZEnvelope",{enumerable:!0,get:function(){return y.XVIZEnvelope}}),Object.defineProperty(t,"XVIZFormatWriter",{enumerable:!0,get:function(){return a.XVIZFormatWriter}}),Object.defineProperty(t,"XVIZJSONProvider",{enumerable:!0,get:function(){return O.XVIZJSONProvider}}),Object.defineProperty(t,"XVIZJSONReader",{enumerable:!0,get:function(){return s.XVIZJSONReader}}),Object.defineProperty(t,"XVIZJSONWriter",{enumerable:!0,get:function(){return n.XVIZJSONWriter}}),Object.defineProperty(t,"XVIZMessage",{enumerable:!0,get:function(){return h.XVIZMessage}}),Object.defineProperty(t,"XVIZProtobufProvider",{enumerable:!0,get:function(){return _.XVIZProtobufProvider}}),Object.defineProperty(t,"XVIZProtobufReader",{enumerable:!0,get:function(){return c.XVIZProtobufReader}}),Object.defineProperty(t,"XVIZProtobufWriter",{enumerable:!0,get:function(){return o.XVIZProtobufWriter}}),Object.defineProperty(t,"XVIZProviderFactory",{enumerable:!0,get:function(){return b.XVIZProviderFactory}}),Object.defineProperty(t,"XVIZ_FORMAT",{enumerable:!0,get:function(){return m.XVIZ_FORMAT}}),Object.defineProperty(t,"XVIZ_GLTF_EXTENSION",{enumerable:!0,get:function(){return m.XVIZ_GLTF_EXTENSION}}),Object.defineProperty(t,"XVIZ_MESSAGE_NAMESPACE",{enumerable:!0,get:function(){return m.XVIZ_MESSAGE_NAMESPACE}}),Object.defineProperty(t,"XVIZ_MESSAGE_TYPE",{enumerable:!0,get:function(){return d.XVIZ_MESSAGE_TYPE}}),Object.defineProperty(t,"XVIZ_PROTOBUF_MESSAGE",{enumerable:!0,get:function(){return g.XVIZ_PROTOBUF_MESSAGE}}),Object.defineProperty(t,"encodeBinaryXVIZ",{enumerable:!0,get:function(){return i.encodeBinaryXVIZ}}),Object.defineProperty(t,"getDataContainer",{enumerable:!0,get:function(){return v.getDataContainer}}),Object.defineProperty(t,"getDataFormat",{enumerable:!0,get:function(){return v.getDataContainer}}),Object.defineProperty(t,"getObjectXVIZType",{enumerable:!0,get:function(){return v.getObjectXVIZType}}),Object.defineProperty(t,"getXVIZMessageType",{enumerable:!0,get:function(){return v.getXVIZMessageType}}),Object.defineProperty(t,"isBinaryXVIZ",{enumerable:!0,get:function(){return v.isBinaryXVIZ}}),Object.defineProperty(t,"isEnvelope",{enumerable:!0,get:function(){return v.isEnvelope}}),Object.defineProperty(t,"isGLBXVIZ",{enumerable:!0,get:function(){return v.isGLBXVIZ}}),Object.defineProperty(t,"isJSONString",{enumerable:!0,get:function(){return v.isJSONString}}),Object.defineProperty(t,"isPBEXVIZ",{enumerable:!0,get:function(){return v.isPBEXVIZ}}),Object.defineProperty(t,"isXVIZMessage",{enumerable:!0,get:function(){return v.isXVIZMessage}}),Object.defineProperty(t,"parseBinaryXVIZ",{enumerable:!0,get:function(){return v.parseBinaryXVIZ}}),Object.defineProperty(t,"parsePBEXVIZ",{enumerable:!0,get:function(){return v.parsePBEXVIZ}}),Object.defineProperty(t,"unpackEnvelope",{enumerable:!0,get:function(){return v.unpackEnvelope}});var n=r(100),i=r(101),o=r(108),a=r(216),s=r(217),u=r(225),c=r(226),f=r(227),l=r(39),p=r(128),h=r(129),d=r(90),y=r(228),m=r(45),v=r(61),g=r(75),b=r(229),O=r(130),w=r(131),_=r(132)},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=s(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";e.exports=c;var n=r(43);((c.prototype=Object.create(n.prototype)).constructor=c).className="Field";var i,o=r(22),a=r(44),s=r(12),u=/^required|optional|repeated$/;function c(e,t,r,i,o,c,f){if(s.isObject(i)?(f=o,c=i,i=o=void 0):s.isObject(o)&&(f=c,c=o,o=void 0),n.call(this,e,c),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(r))throw TypeError("type must be a string");if(void 0!==i&&!u.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!s.isString(o))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=f}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(e,t,r,n){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(i,o){s.decorateType(i.constructor).add(new c(o,e,t,r,{default:n}))}},c._configure=function(e){i=e}},function(e,t,r){"use strict";(function(e,n){r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return f}));const i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document,process:"object"==typeof n&&n},o=globalThis,a=i.self||i.window||i.global,s=i.window||i.self||i.global,u=i.document||{},c=i.process||{},f=console}).call(this,r(37),r(32))},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(47),i=r(3),o=r(4),a=r(7),s=r(19);const u=[0,0,0],c={};class f extends n.a{static get ZERO(){return c.ZERO=c.ZERO||Object.freeze(new f(0,0,0,0))}constructor(e=0,t=0,r=0){super(-0,-0,-0),1===arguments.length&&Object(i.m)(e)?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t),Object(o.a)(r)),this[0]=e,this[1]=t,this[2]=r)}set(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y),Object(o.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}angle(e){return a.a(this,e)}cross(e){return a.c(this,this,e),this.check()}rotateX({radians:e,origin:t=u}){return a.i(this,this,t,e),this.check()}rotateY({radians:e,origin:t=u}){return a.j(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=u}){return a.k(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return a.m(this,this,e),this.check()}transformAsVector(e){return Object(s.c)(this,this,e),this.check()}transformByMatrix3(e){return a.l(this,this,e),this.check()}transformByMatrix2(e){return Object(s.b)(this,this,e),this.check()}transformByQuaternion(e){return a.n(this,this,e),this.check()}}},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var i=r(9),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=o.global||o.self||o.window,s="object"!==(void 0===n?"undefined":Object(i.a)(n))||"[object process]"!==String(n)||n.browser,u=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/);u&&parseFloat(u[1])}).call(this,r(37),r(32))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_UPDATE_TYPE=void 0,Object.defineProperty(t,"XVIZ_GLTF_EXTENSION",{enumerable:!0,get:function(){return n.XVIZ_GLTF_EXTENSION}}),t.XVIZ_MESSAGE_TYPE=void 0;var n=r(31);t.XVIZ_MESSAGE_TYPE={METADATA:"METADATA",TIMESLICE:"TIMESLICE",DONE:"DONE",VIDEO_METADATA:"VIDEO_METADATA",VIDEO_FRAME:"VIDEO_FRAME",ERROR:"ERROR",INCOMPLETE:"INCOMPLETE"};t.STATE_UPDATE_TYPE={COMPLETE_STATE:"COMPLETE",INCREMENTAL:"INCREMENTAL",PERSISTENT:"PERSISTENT",SNAPSHOT:"INCREMENTAL"}},function(e,t,r){"use strict";"undefined"==typeof TextDecoder&&r(147),e.exports={TextEncoder:TextEncoder,TextDecoder:TextDecoder}},function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return u}));var n="",i={};function o(e){n=e}function a(){return n}function s(e){Object.assign(i,e)}function u(e){for(var t in i)if(e.startsWith(t)){var r=i[t];e=e.replace(t,r)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(n).concat(e)),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATTRIBUTE_TYPE_TO_COMPONENTS=t.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE=t.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY=void 0,t.getAccessorArrayTypeAndLength=function(e,t){var r=u[e.componentType],i=a[e.type],o=s[e.componentType],c=e.count*i,f=e.count*i*o;return(0,n.assert)(f>=0&&f<=t.byteLength),{ArrayType:r,length:c,byteLength:f}},t.getAccessorTypeFromSize=function(e){return i[e-1]||i[0]},t.getComponentTypeFromArray=function(e){var t=o.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t},t.getFullUri=function(e,t){return e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:")?e:t.substr(0,t.lastIndexOf("/")+1)+e};var n=r(59),i=["SCALAR","VEC2","VEC3","VEC4"],o=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),a={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};t.ATTRIBUTE_TYPE_TO_COMPONENTS=a;var s={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};t.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE=s;var u={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};t.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY=u},function(e,t,r){"use strict";function n(e,t,r,n){var i=n?" !== ":" === ",o=n?" || ":" && ",a=n?"!":"",s=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+o+"typeof "+t+i+\'"object"\'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+\'"number"\'+o+s+"("+t+" % 1)"+o+t+i+t+(r?o+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+\'"\'+e+\'"\'+(r?o+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+\'"\'+e+\'"\'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:n,checkDataTypes:function(e,t,r){switch(e.length){case 1:return n(e[0],t,r,!0);default:var i="",a=o(e);for(var s in a.array&&a.object&&(i=a.null?"(":"(!"+t+" || ",i+="typeof "+t+\' !== "object")\',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)i+=(i?" && ":"")+n(s,t,r,!0);return i}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var o=t[n];(i[o]||"array"===e&&"array"===o)&&(r[r.length]=o)}if(r.length)return r}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:u,escapeQuotes:c,equal:r(78),ucs2length:r(162),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:f,getPathExpr:function(e,t,r,n){return h(e,r?"\'/\' + "+t+(n?"":".replace(/~/g, \'~0\').replace(/\\\\//g, \'~1\')"):n?"\'[\' + "+t+" + \']\'":"\'[\\\\\'\' + "+t+" + \'\\\\\']\'")},getPath:function(e,t,r){var n=f(r?"/"+d(t):u(t));return h(e,n)},getData:function(e,t,r){var n,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!l.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(p)))throw new Error("Invalid JSON-pointer: "+e);if(n=+a[1],"#"==(i=a[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(o="data"+(t-n||""),!i)return o}for(var s=o,c=i.split("/"),f=0;f<c.length;f++){var h=c[f];h&&(o+=u(y(h)),s+=" && "+o)}return s},unescapeFragment:function(e){return y(decodeURIComponent(e))},unescapeJsonPointer:y,escapeFragment:function(e){return encodeURIComponent(d(e))},escapeJsonPointer:d};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/\'|\\\\/g;function u(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"[\'"+c(e)+"\']"}function c(e){return e.replace(s,"\\\\$&").replace(/\\n/g,"\\\\n").replace(/\\r/g,"\\\\r").replace(/\\f/g,"\\\\f").replace(/\\t/g,"\\\\t")}function f(e){return"\'"+c(e)+"\'"}var l=/^\\/(?:[^~]|~0|~1)*$/,p=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function h(e,t){return\'""\'==e?t:(e+" + "+t).replace(/([^\\\\])\' \\+ \'/g,"$1")}function d(e){return e.replace(/~/g,"~0").replace(/\\//g,"~1")}function y(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,r){"use strict";e.exports=o,o.className="ReflectionObject";var n,i=r(12);function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},o.prototype.getOption=function(e){if(this.options)return this.options[e]},o.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},o.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){n=e}},function(e,t,r){"use strict";var n=t,i=r(12),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var r=0,n={};for(t|=0;r<e.length;)n[o[r+t]]=e[r++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZ_MESSAGE_NAMESPACE=t.XVIZ_GLTF_EXTENSION=t.XVIZ_FORMAT=void 0;var n=Object.freeze({BINARY_GLB:"BINARY_GLB",BINARY_PBE:"BINARY_PBE",JSON_BUFFER:"JSON_BUFFER",JSON_STRING:"JSON_STRING",OBJECT:"OBJECT"});t.XVIZ_FORMAT=n;t.XVIZ_MESSAGE_NAMESPACE="xviz";t.XVIZ_GLTF_EXTENSION="AVS_xviz"},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(9);function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,a=r||new Set;if(e){if(o(e))a.add(e);else if(o(e.buffer))a.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===Object(n.a)(e))for(var s in e)i(e[s],t,a)}else;return void 0===r?Array.from(a):[]}function o(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(28),i=r(4),o=r(13);class a extends n.a{get ELEMENTS(){return Object(o.a)(!1),0}copy(e){return Object(o.a)(!1),this}get x(){return this[0]}set x(e){this[0]=Object(i.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(i.a)(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-e[r];t+=n*n}return Object(i.a)(t)}dot(e){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(i.a)(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t[e];return this.check()}divide(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t[e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Object(o.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(i.a)(this[e])}setComponent(e,t){return Object(o.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(4),i=r(65),o=r(19),a=r(2);function s(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=t[9],h=t[10],d=t[11],y=t[12],m=t[13],v=t[14],g=t[15],b=r[0],O=r[1],w=r[2],_=r[3];return e[0]=b*n+O*s+w*l+_*y,e[1]=b*i+O*u+w*p+_*m,e[2]=b*o+O*c+w*h+_*v,e[3]=b*a+O*f+w*d+_*g,b=r[4],O=r[5],w=r[6],_=r[7],e[4]=b*n+O*s+w*l+_*y,e[5]=b*i+O*u+w*p+_*m,e[6]=b*o+O*c+w*h+_*v,e[7]=b*a+O*f+w*d+_*g,b=r[8],O=r[9],w=r[10],_=r[11],e[8]=b*n+O*s+w*l+_*y,e[9]=b*i+O*u+w*p+_*m,e[10]=b*o+O*c+w*h+_*v,e[11]=b*a+O*f+w*d+_*g,b=r[12],O=r[13],w=r[14],_=r[15],e[12]=b*n+O*s+w*l+_*y,e[13]=b*i+O*u+w*p+_*m,e[14]=b*o+O*c+w*h+_*v,e[15]=b*a+O*f+w*d+_*g,e}function u(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var c=r(25),f=r(7),l=r(11);const p=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),d=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),y={};class m extends i.a{static get IDENTITY(){return y.IDENTITY=y.IDENTITY||Object.freeze(new m(p)),y.IDENTITY}static get ZERO(){return y.ZERO=y.ZERO||Object.freeze(new m(h)),y.ZERO}get INDICES(){return d}get ELEMENTS(){return 16}get RANK(){return 4}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=c,this[10]=f,this[11]=l,this[12]=p,this[13]=h,this[14]=d,this[15]=y,this.check()}setRowMajor(e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y){return this[0]=e,this[1]=i,this[2]=u,this[3]=p,this[4]=t,this[5]=o,this[6]=c,this[7]=h,this[8]=r,this[9]=a,this[10]=f,this[11]=d,this[12]=n,this[13]=s,this[14]=l,this[15]=y,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(p)}fromQuaternion(e){return function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,f=n*a,l=n*s,p=i*a,h=i*s,d=i*u,y=o*a,m=o*s,v=o*u;e[0]=1-l-d,e[1]=f+v,e[2]=p-m,e[3]=0,e[4]=f-v,e[5]=1-c-d,e[6]=h+y,e[7]=0,e[8]=p+m,e[9]=h-y,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}frustum({left:e,right:t,bottom:r,top:n,near:i,far:o}){return o===1/0?m._computeInfinitePerspectiveOffCenter(this,e,t,r,n,i):function(e,t,r,n,i,o,a){var s=1/(r-t),u=1/(i-n),c=1/(o-a);e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0}(this,e,t,r,n,i,o),this.check()}static _computeInfinitePerspectiveOffCenter(e,t,r,n,i,o){const a=2*o/(r-t),s=2*o/(i-n),u=(r+t)/(r-t),c=(i+n)/(i-n),f=-2*o;return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=f,e[15]=0,e}lookAt(e,t,r){return 1===arguments.length&&({eye:e,center:t,up:r}=e),function(e,t,r,n){var i,o,s,u,c,f,l,p,h,d,y=t[0],m=t[1],v=t[2],g=n[0],b=n[1],O=n[2],w=r[0],_=r[1],E=r[2];Math.abs(y-w)<a.b&&Math.abs(m-_)<a.b&&Math.abs(v-E)<a.b?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(l=y-w,p=m-_,h=v-E,i=b*(h*=d=1/Math.hypot(l,p,h))-O*(p*=d),o=O*(l*=d)-g*h,s=g*p-b*l,(d=Math.hypot(i,o,s))?(i*=d=1/d,o*=d,s*=d):(i=0,o=0,s=0),u=p*s-h*o,c=h*i-l*s,f=l*o-p*i,(d=Math.hypot(u,c,f))?(u*=d=1/d,c*=d,f*=d):(u=0,c=0,f=0),e[0]=i,e[1]=u,e[2]=l,e[3]=0,e[4]=o,e[5]=c,e[6]=p,e[7]=0,e[8]=s,e[9]=f,e[10]=h,e[11]=0,e[12]=-(i*y+o*m+s*v),e[13]=-(u*y+c*m+f*v),e[14]=-(l*y+p*m+h*v),e[15]=1)}(this,e,t=t||[0,0,0],r=r||[0,1,0]),this.check()}ortho({left:e,right:t,bottom:r,top:n,near:i=.1,far:o=500}){return function(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),c=1/(o-a);e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*c,e[15]=1}(this,e,t,r,n,i,o),this.check()}orthographic({fovy:e=45*Math.PI/180,aspect:t=1,focalDistance:r=1,near:n=.1,far:i=500}){if(e>2*Math.PI)throw Error("radians");const o=e/2,a=r*Math.tan(o),s=a*t;return(new m).ortho({left:-s,right:s,bottom:-a,top:a,near:n,far:i})}perspective({fovy:e,fov:t=45*Math.PI/180,aspect:r=1,near:n=.1,far:i=500}={}){if((e=e||t)>2*Math.PI)throw Error("radians");return function(e,t,r,n,i){var o,a=1/Math.tan(t/2);e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n)}(this,e,r,n,i),this.check()}determinant(){return t=(e=this)[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],p=e[11],h=e[12],d=e[13],y=e[14],m=e[15],(t*a-r*o)*(l*m-p*y)-(t*s-n*o)*(f*m-p*d)+(t*u-i*o)*(f*y-l*d)+(r*s-n*a)*(c*m-p*h)-(r*u-i*a)*(c*y-l*h)+(n*u-i*s)*(c*d-f*h);var e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y,m}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*o,e}transpose(){return function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}invert(){var e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y,m,v,g,b,O,w,_,E,j,P,S,x,T,A,I;return e=this,r=(t=this)[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],p=t[10],h=t[11],d=t[12],y=t[13],m=t[14],v=t[15],(I=(g=r*s-n*a)*(A=p*v-h*m)-(b=r*u-i*a)*(T=l*v-h*y)+(O=r*c-o*a)*(x=l*m-p*y)+(w=n*u-i*s)*(S=f*v-h*d)-(_=n*c-o*s)*(P=f*m-p*d)+(E=i*c-o*u)*(j=f*y-l*d))&&(I=1/I,e[0]=(s*A-u*T+c*x)*I,e[1]=(i*T-n*A-o*x)*I,e[2]=(y*E-m*_+v*w)*I,e[3]=(p*_-l*E-h*w)*I,e[4]=(u*S-a*A-c*P)*I,e[5]=(r*A-i*S+o*P)*I,e[6]=(m*O-d*E-v*b)*I,e[7]=(f*E-p*O+h*b)*I,e[8]=(a*T-s*S+c*j)*I,e[9]=(n*S-r*T-o*j)*I,e[10]=(d*_-y*O+v*g)*I,e[11]=(l*O-f*_-h*g)*I,e[12]=(s*P-a*x-u*j)*I,e[13]=(r*x-n*P+i*j)*I,e[14]=(y*b-d*w-m*g)*I,e[15]=(f*w-l*b+p*g)*I),this.check()}multiplyLeft(e){return s(this,e,this),this.check()}multiplyRight(e){return s(this,this,e),this.check()}rotateX(e){var t,r,n,i,o,a,s,u,c,f,l,p,h;return t=this,r=this,n=e,i=Math.sin(n),o=Math.cos(n),a=r[4],s=r[5],u=r[6],c=r[7],f=r[8],l=r[9],p=r[10],h=r[11],r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*o+f*i,t[5]=s*o+l*i,t[6]=u*o+p*i,t[7]=c*o+h*i,t[8]=f*o-a*i,t[9]=l*o-s*i,t[10]=p*o-u*i,t[11]=h*o-c*i,this.check()}rotateY(e){var t,r,n,i,o,a,s,u,c,f,l,p,h;return t=this,r=this,n=e,i=Math.sin(n),o=Math.cos(n),a=r[0],s=r[1],u=r[2],c=r[3],f=r[8],l=r[9],p=r[10],h=r[11],r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o-f*i,t[1]=s*o-l*i,t[2]=u*o-p*i,t[3]=c*o-h*i,t[8]=a*i+f*o,t[9]=s*i+l*o,t[10]=u*i+p*o,t[11]=c*i+h*o,this.check()}rotateZ(e){var t,r,n,i,o,a,s,u,c,f,l,p,h;return t=this,r=this,n=e,i=Math.sin(n),o=Math.cos(n),a=r[0],s=r[1],u=r[2],c=r[3],f=r[4],l=r[5],p=r[6],h=r[7],r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o+f*i,t[1]=s*o+l*i,t[2]=u*o+p*i,t[3]=c*o+h*i,t[4]=f*o-a*i,t[5]=l*o-s*i,t[6]=p*o-u*i,t[7]=h*o-c*i,this.check()}rotateXYZ([e,t,r]){return this.rotateX(e).rotateY(t).rotateZ(r)}rotateAxis(e,t){return function(e,t,r,n){var i,o,s,u,c,f,l,p,h,d,y,m,v,g,b,O,w,_,E,j,P,S,x,T,A=n[0],I=n[1],k=n[2],R=Math.hypot(A,I,k);R<a.b||(A*=R=1/R,I*=R,k*=R,i=Math.sin(r),s=1-(o=Math.cos(r)),u=t[0],c=t[1],f=t[2],l=t[3],p=t[4],h=t[5],d=t[6],y=t[7],m=t[8],v=t[9],g=t[10],b=t[11],O=A*A*s+o,w=I*A*s+k*i,_=k*A*s-I*i,E=A*I*s-k*i,j=I*I*s+o,P=k*I*s+A*i,S=A*k*s+I*i,x=I*k*s-A*i,T=k*k*s+o,e[0]=u*O+p*w+m*_,e[1]=c*O+h*w+v*_,e[2]=f*O+d*w+g*_,e[3]=l*O+y*w+b*_,e[4]=u*E+p*j+m*P,e[5]=c*E+h*j+v*P,e[6]=f*E+d*j+g*P,e[7]=l*E+y*j+b*P,e[8]=u*S+p*x+m*T,e[9]=c*S+h*x+v*T,e[10]=f*S+d*x+g*T,e[11]=l*S+y*x+b*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}scale(e){return Array.isArray(e)?u(this,this,e):u(this,this,[e,e,e]),this.check()}translate(e){var t,r,n,i,o,a,s,u,c,f,l,p,h,d,y,m,v,g;return t=this,r=this,m=(n=e)[0],v=n[1],g=n[2],r===t?(t[12]=r[0]*m+r[4]*v+r[8]*g+r[12],t[13]=r[1]*m+r[5]*v+r[9]*g+r[13],t[14]=r[2]*m+r[6]*v+r[10]*g+r[14],t[15]=r[3]*m+r[7]*v+r[11]*g+r[15]):(i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],f=r[6],l=r[7],p=r[8],h=r[9],d=r[10],y=r[11],t[0]=i,t[1]=o,t[2]=a,t[3]=s,t[4]=u,t[5]=c,t[6]=f,t[7]=l,t[8]=p,t[9]=h,t[10]=d,t[11]=y,t[12]=i*m+u*v+p*g+r[12],t[13]=o*m+c*v+h*g+r[13],t[14]=a*m+f*v+d*g+r[14],t[15]=s*m+l*v+y*g+r[15]),this.check()}transform(e,t){return 4===e.length?(t=l.n(t||[-0,-0,-0,-0],e,this),Object(n.b)(t,4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:r}=e;switch(r){case 2:t=c.d(t||[-0,-0],e,this);break;case 3:t=f.m(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(n.b)(t,e.length),t}transformAsVector(e,t){switch(e.length){case 2:t=Object(o.a)(t||[-0,-0],e,this);break;case 3:t=Object(o.c)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(n.b)(t,e.length),t}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,r){return this.identity().translate([e,t,r])}transformPoint(e,t){return Object(n.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}transformVector(e,t){return Object(n.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}transformDirection(e,t){return Object(n.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return f})),r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r(0),i=r.n(n),o=r(6),a=r(10),s=r(14);function u(e,t){return c.apply(this,arguments)}function c(){return(c=Object(a.a)(i.a.mark((function e(t,r){var n,a,u,c,f,l,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextDecoder(r),a=!0,u=!1,e.prev=3,f=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(f.next());case 7:return l=e.sent,a=l.done,e.next=11,Object(o.a)(l.value);case 11:if(p=e.sent,a){e.next=19;break}return h=p,e.next=16,"string"==typeof h?h:n.decode(h,{stream:!0});case 16:a=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),u=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==f.return){e.next=30;break}return e.next=30,Object(o.a)(f.return());case 30:if(e.prev=30,!u){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function f(e,t){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(i.a.mark((function e(t,r){var n,a,u,c,f,l,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextEncoder,a=!0,u=!1,e.prev=3,f=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(f.next());case 7:return l=e.sent,a=l.done,e.next=11,Object(o.a)(l.value);case 11:if(p=e.sent,a){e.next=19;break}return h=p,e.next=16,"string"==typeof h?n.encode(h):h;case 16:a=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),u=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==f.return){e.next=30;break}return e.next=30,Object(o.a)(f.return());case 30:if(e.prev=30,!u){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(i.a.mark((function e(t){var r,n,a,u,c,f,l,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",n=!0,a=!1,e.prev=3,c=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,Object(o.a)(f.value);case 11:if(l=e.sent,n){e.next=26;break}r+=l,p=void 0;case 16:if(!((p=r.indexOf("\\n"))>=0)){e.next=23;break}return h=r.slice(0,p+1),r=r.slice(p+1),e.next=21,h;case 21:e.next=16;break;case 23:n=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),a=!0,u=e.t0;case 32:if(e.prev=32,e.prev=33,n||null==c.return){e.next=37;break}return e.next=37,Object(o.a)(c.return());case 37:if(e.prev=37,!a){e.next=40;break}throw u;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case"end":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function d(e){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(i.a.mark((function e(t){var r,n,a,u,c,f,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,n=!0,a=!1,e.prev=3,c=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,Object(o.a)(f.value);case 11:if(l=e.sent,n){e.next=20;break}return p=l,e.next=16,{counter:r,line:p};case 16:r++;case 17:n=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),a=!0,u=e.t0;case 26:if(e.prev=26,e.prev=27,n||null==c.return){e.next=31;break}return e.next=31,Object(o.a)(c.return());case 31:if(e.prev=31,!a){e.next=34;break}throw u;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}},function(e,t,r){"use strict";e.exports=f;var n=r(43);((f.prototype=Object.create(n.prototype)).constructor=f).className="Namespace";var i,o,a,s=r(33),u=r(12);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function f(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function l(e){return e._nestedArray=null,e}f.fromJSON=function(e,t){return new f(e,t.options).addJSON(t.nested)},f.arrayToJSON=c,f.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},f.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(f.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),f.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},f.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?o.fromJSON:void 0!==t.id?s.fromJSON:f.fromJSON)(r[n],t));return this},f.prototype.get=function(e){return this.nested&&this.nested[e]||null},f.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},f.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof i||e instanceof a||e instanceof o||e instanceof f))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof f&&e instanceof f)||t instanceof i||t instanceof o)throw Error("duplicate name \'"+e.name+"\' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),l(this)},f.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),l(this)},f.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof f))throw Error("path conflicts with non-namespace objects")}else r.add(r=new f(n))}return t&&r.addJSON(t),r},f.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof f?e[t++].resolveAll():e[t++].resolve();return this.resolve()},f.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof f&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof f&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},f.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},f.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum \'"+e+"\' in "+this);return t},f.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error("no such Type or Enum \'"+e+"\' in "+this);return t},f.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service \'"+e+"\' in "+this);return t},f._configure=function(e,t,r){i=e,o=t,a=r}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(5),i=r(52);class o{constructor(e,t){Object(n.a)(this,"name",void 0),Object(n.a)(this,"type",void 0),Object(n.a)(this,"sampleSize",1),Object(n.a)(this,"time",void 0),Object(n.a)(this,"count",void 0),Object(n.a)(this,"samples",void 0),Object(n.a)(this,"lastTiming",void 0),Object(n.a)(this,"lastSampleTime",void 0),Object(n.a)(this,"lastSampleCount",void 0),Object(n.a)(this,"_count",0),Object(n.a)(this,"_time",0),Object(n.a)(this,"_samples",0),Object(n.a)(this,"_startTime",0),Object(n.a)(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=Object(i.a)(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(Object(i.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class a{constructor(e){Object(n.a)(this,"id",void 0),Object(n.a)(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(e=>this._getOrCreate(e))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:r}=e;return this.stats[t]||(this.stats[t]=e instanceof o?e:new o(t,r)),this.stats[t]}}},function(e,t,r){"use strict";(function(e){function n(){let t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){const r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(32))},function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(28),i=r(4),o=r(13),a=r(2),s=r(20),u=r(7),c=r(11);function f(){var e=new a.a(4);return a.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function l(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function p(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+a*s+i*c-o*u,e[1]=i*f+a*u+o*s-n*c,e[2]=o*f+a*c+n*u-i*s,e[3]=a*f-n*s-i*u-o*c,e}function h(e,t,r,n){var i,o,s,u,c,f=t[0],l=t[1],p=t[2],h=t[3],d=r[0],y=r[1],m=r[2],v=r[3];return(o=f*d+l*y+p*m+h*v)<0&&(o=-o,d=-d,y=-y,m=-m,v=-v),1-o>a.b?(i=Math.acos(o),s=Math.sin(i),u=Math.sin((1-n)*i)/s,c=Math.sin(n*i)/s):(u=1-n,c=n),e[0]=u*f+c*d,e[1]=u*l+c*y,e[2]=u*p+c*m,e[3]=u*h+c*v,e}function d(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*o+a]-t[3*a+o])*r,e[o]=(t[3*o+i]+t[3*i+o])*r,e[a]=(t[3*a+i]+t[3*i+a])*r}return e}c.b,c.g,c.c,c.l;var y,m,v,g,b,O,w=c.a,_=c.k,E=c.d,j=c.i,P=c.h,S=c.m,x=c.j,T=(c.f,c.e,y=u.b(),m=u.e(1,0,0),v=u.e(0,1,0),function(e,t,r){var n=u.d(t,r);return n<-.999999?(u.c(y,m,t),u.f(y)<1e-6&&u.c(y,v,t),u.h(y,y),l(e,y,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(u.c(y,t,r),e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=1+n,x(e,e))});g=f(),b=f(),O=s.a();const A=[0,0,0,1];class I extends n.a{constructor(e=0,t=0,r=0,n=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,r,n)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}fromMatrix3(e){return d(this,e),this.check()}identity(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}fromAxisRotation(e,t){return l(this,e,t),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=Object(i.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(i.a)(e)}get z(){return this[2]}set z(e){this[2]=Object(i.a)(e)}get w(){return this[3]}set w(e){this[3]=Object(i.a)(e)}len(){return P(this)}lengthSquared(){return S(this)}dot(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return E(this,e)}rotationTo(e,t){return T(this,e,t),this.check()}add(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return w(this,this,e),this.check()}calculateW(){var e,t,r,n,i;return e=this,r=(t=this)[0],n=t[1],i=t[2],e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}conjugate(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}invert(){var e,t,r,n,i,o,a,s;return e=this,r=(t=this)[0],n=t[1],i=t[2],o=t[3],s=(a=r*r+n*n+i*i+o*o)?1/a:0,e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=o*s,this.check()}lerp(e,t,r){return j(this,e,t,r),this.check()}multiplyRight(e,t){return Object(o.a)(!t),p(this,this,e),this.check()}multiplyLeft(e,t){return Object(o.a)(!t),p(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-n*s}(this,this,e),this.check()}rotateY(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u-o*s,e[1]=i*u+a*s,e[2]=o*u+n*s,e[3]=a*u-i*s}(this,this,e),this.check()}rotateZ(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=o*u+a*s,e[3]=a*u-o*s}(this,this,e),this.check()}scale(e){return _(this,this,e),this.check()}slerp(e,t,r){switch(arguments.length){case 1:({start:e=A,target:t,ratio:r}=arguments[0]);break;case 2:[t,r]=arguments,e=this}return h(this,e,t,r),this.check()}transformVector4(e,t=e){return c.o(t,e,this),Object(i.b)(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e,t){return this.multiplyLeft(e,t)}multiply(e,t){return this.multiplyRight(e,t)}}},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=r(94),a=(i=r(143))&&i.__esModule?i:{default:i},s=r(144);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=null,m=0,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,e);var t,r,n,i=p(a);function a(e){var t,r=e.id,n=e.timestamp;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).id=r,t.index=m++,t.state={},t.startTime=n,t.endTime=n,t._props=new Map,t._streams=new Map,t._attributes=new Map,t._geometry=null,t}return t=a,n=[{key:"setDefaultCollection",value:function(e){y=e}},{key:"observe",value:function(e,t){return y&&y.observe(e,t)}},{key:"get",value:function(e){return y&&y.get(e)}},{key:"clear",value:function(){return y&&y.clear()}},{key:"count",value:function(){return y&&y.count()}},{key:"resetAll",value:function(){return y&&y.resetAll()}},{key:"getAll",value:function(){return y&&y.getAll()}},{key:"getAllInCurrentFrame",value:function(){return y&&y.getAllInCurrentFrame()}},{key:"prune",value:function(e,t){return y&&y.prune(e,t)}}],(r=[{key:"position",get:function(){var e=this._geometry;return e?Number.isFinite(e[0])?e:(this._geometry=(0,s.getCentroid)(e),this._geometry):null}},{key:"isValid",get:function(){return Boolean(this._geometry)}},{key:"streamNames",get:function(){return this._streams.keys()}},{key:"getBearingToObject",value:function(e){var t=this.position,r=e.position;return t&&r?Math.atan2(r[1]-t[1],r[0]-t[0])/Math.PI*180:null}},{key:"getDistanceToObject",value:function(e){var t=this.position,r=e.position,n=null;return t&&r&&(n=new o.Vector2(t).distance(r),n=Math.round(10*n)/10),n}},{key:"getAttributes",value:function(){return Object.fromEntries(this._attributes)}},{key:"getProp",value:function(e){return this._props.get(e)}},{key:"getFeature",value:function(e){return this._streams.get(e)}},{key:"_observe",value:function(e){this.startTime=Math.min(this.startTime,e),this.endTime=Math.max(this.endTime,e)}},{key:"_setAttribute",value:function(e,t,r,n){this._streams.set(e,n||t),this._attributes.set(t,r)}},{key:"_addFeature",value:function(e,t){this._streams.set(e,t),t.index=this.index,t.state=this.state;var r,n=u(this._props);try{for(n.s();!(r=n.n()).done;){var i=r.value;t[i[0]]=i[1]}}catch(e){n.e(e)}finally{n.f()}var o=t.center||t.vertices;if(o&&Array.isArray(o)){if(Number.isFinite(o[0]))o[2]=o[2]||0;else if(this._geometry)return;this._geometry=o}}},{key:"_setState",value:function(e,t){e&&(this.state[e]=t)}},{key:"_setProp",value:function(e,t){this._props.set(e,t)}},{key:"_reset",value:function(){this._props.size&&this._props.clear(),this._streams.size&&this._streams.clear(),this._attributes.size&&this._attributes.clear(),this._geometry=null}}])&&f(t.prototype,r),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(a.default);t.default=v},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(3),i=r(35),o=r(7);class a{constructor({phi:e=0,theta:t=0,radius:r=1,bearing:n,pitch:i,altitude:o,radiusScale:a=6371e3}={}){this.phi=e,this.theta=t,this.radius=r||o||1,this.radiusScale=a||1,void 0!==n&&(this.bearing=n),void 0!==i&&(this.pitch=i),this.check()}toString(){return this.formatString(n.f)}formatString({printTypes:e=!1}){const t=n.l;return"".concat(e?"Spherical":"","[rho:").concat(t(this.radius),",theta:").concat(t(this.theta),",phi:").concat(t(this.phi),"]")}equals(e){return Object(n.j)(this.radius,e.radius)&&Object(n.j)(this.theta,e.theta)&&Object(n.j)(this.phi,e.phi)}exactEquals(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}get bearing(){return 180-Object(n.i)(this.phi)}set bearing(e){this.phi=Math.PI-Object(n.o)(e)}get pitch(){return Object(n.i)(this.theta)}set pitch(e){this.theta=Object(n.o)(e)}get longitude(){return Object(n.i)(this.phi)}get latitude(){return Object(n.i)(this.theta)}get lng(){return Object(n.i)(this.phi)}get lat(){return Object(n.i)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}clone(){return(new a).copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}fromLngLatZ([e,t,r]){this.radius=1+r/this.radiusScale,this.phi=Object(n.o)(t),this.theta=Object(n.o)(e)}fromVector3(e){return this.radius=o.g(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(n.d)(e[2]/this.radius,-1,1))),this.check()}toVector3(){return new i.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(48),i=r(35),o=r(27);class a{constructor({x:e=0,y:t=0,z:r=0,roll:n=0,pitch:a=0,yaw:s=0,position:u,orientation:c}={}){Array.isArray(u)&&3===u.length?this.position=new i.a(u):this.position=new i.a(e,t,r),Array.isArray(c)&&4===c.length?this.orientation=new o.a(c,c[3]):this.orientation=new o.a(n,a,s,o.a.RollPitchYaw)}get x(){return this.position.x}set x(e){this.position.x=e}get y(){return this.position.y}set y(e){this.position.y=e}get z(){return this.position.z}set z(e){this.position.z=e}get roll(){return this.orientation.roll}set roll(e){this.orientation.roll=e}get pitch(){return this.orientation.pitch}set pitch(e){this.orientation.pitch=e}get yaw(){return this.orientation.yaw}set yaw(e){this.orientation.yaw=e}getPosition(){return this.position}getOrientation(){return this.orientation}equals(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}exactEquals(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}getTransformationMatrix(){const e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),i=Math.cos(this.roll),o=Math.cos(this.pitch),a=Math.cos(this.yaw);return(new n.a).setRowMajor(a*o,-r*i+a*t*e,r*e+a*t*i,this.x,r*o,a*i+r*t*e,-a*e+r*t*i,this.y,-t,o*e,o*i,this.z,0,0,0,1)}getTransformationMatrixFromPose(e){return(new n.a).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}getTransformationMatrixToPose(e){return(new n.a).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"gltf/glb assertion failed.")}},function(e,t,r){"use strict";e.exports=a;var n=r(43);((a.prototype=Object.create(n.prototype)).constructor=a).className="OneOf";var i=r(33),o=r(12);function a(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}s(this)},a.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new a(r,e)),Object.defineProperty(t,r,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataContainer=l,t.getObjectXVIZType=w,t.getXVIZMessageType=function(e){switch(l(e)){case"binary":return y(e)?function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new DataView(e),n={};if(n.byteOffset=t,n.magic=r.getUint32(t+0,!1),n.version=r.getUint32(t+4,!0),n.byteLength=r.getUint32(t+8,!0),2!==n.version||n.byteLength<20)return null;n.jsonChunkLength=r.getUint32(t+12,!0),n.jsonChunkFormat=r.getUint32(t+16,!0);var i=1313821514,o=n.jsonChunkFormat===i||0===n.jsonChunkFormat;if(!o)return null;return n.jsonChunkByteOffset=20,new Uint8Array(e,t+n.jsonChunkByteOffset,n.jsonChunkLength)}(e);if(!t)return null;return p(new o.TextDecoder("utf8").decode(t))}(e):m(e)?(t=new Uint8Array(e,4),a.XVIZ_PROTOBUF_MESSAGE.Envelope.toObject(t,{enum:String}).type):(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),O(e));case"string":return O(e);case"object":return e.type?w(e.type):null}var t;return null},t.isBinaryXVIZ=d,t.isEnvelope=function(e){return e.type&&e.data},t.isGLBXVIZ=y,t.isJSONString=function(t){if(t instanceof Uint8Array)return function(t){var r=t.slice(0,5).find((function(e){return e>=32})),n=t.slice(-5);n instanceof e&&(n=e.from(n));var i=n.reverse().find((function(e){return e>=32}));return r=String.fromCharCode(r),i=String.fromCharCode(i),"{"===r&&"}"===i||"["===r&&"]"===i}(t);if("object"===u(t))return!1;var r=t.slice(0,5).trim(),n=t.slice(-5).trim();return r.startsWith("{")&&n.endsWith("}")||r.startsWith("[")&&n.endsWith("]")},t.isPBEXVIZ=m,t.isXVIZMessage=function(e){switch(l(e)){case"binary":return!!d(e)||(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),null!==O(e));case"string":return null!==O(e);case"object":return!!e.type&&null!==w(e.type)}return!1},t.parseBinaryXVIZ=function(e,t){if(t&&t.messageFormat===i.XVIZ_FORMAT.BINARY_PBE||h(e,{magic:a.MAGIC_PBE1}))return b(e,t);var r=new n.GLTFParser;r.parse(e,{createImages:!1});var o=r.getApplicationData("xviz");void 0===o&&(o=r.getExtension(i.XVIZ_GLTF_EXTENSION));return o},t.parsePBEXVIZ=b,t.unpackEnvelope=function(e){var t=e.type.split("/");return{namespace:t[0],type:t.slice(1).join("/"),data:e.data}};var n=r(218),i=r(45),o=r(39),a=r(75),s=r(80);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=/"type":\\s*"(xviz\\/\\w*)"/,f=/xviz\\/\\w*/;function l(t){return null==t?null:t instanceof e||t instanceof ArrayBuffer||ArrayBuffer.isView(t)?"binary":u(t)}function p(e,t){var r=e.match(c);return!r&&t&&(r=t.match(c)),r?r[1]:null}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.magic,n=t.magicAlt,i=new DataView(e),o=i.getUint32(0,!1);return o===r||n&&n===o}function d(e){return e instanceof ArrayBuffer&&(h(e,{magic:1482049882,magicAlt:1735152710})||h(e,{magic:a.MAGIC_PBE1}))}function y(e){return e instanceof ArrayBuffer&&h(e,{magic:1482049882,magicAlt:1735152710})}function m(e){return e instanceof ArrayBuffer&&h(e,{magic:a.MAGIC_PBE1})}function v(e){if(e&&e.ui_config)for(var t=0,r=Object.keys(e.ui_config);t<r.length;t++){var n=r[t];e.ui_config[n]=a.XVIZ_PROTOBUF_TYPE.UIPanelInfo.toObject(e.ui_config[n])}}function g(e,t){var r=t||e.$type;if(e&&r&&r.fields){var n=r.fields,i=function(t){var r=n[t];if(r&&e[r.name])if(!r.resolvedType&&r.repeated&&0===e[r.name].length)e[r.name]=void 0,delete e[r.name];else if(r.resolvedType)if(r.resolvedType instanceof s.Enum)r.repeated?0===e[r.name].length?(e[r.name]=void 0,delete e[r.name]):e[r.name]=e[r.name].map((function(e){return r.resolvedType.valuesById[e]})):e[r.name]=r.resolvedType.valuesById[e[r.name]];else if(r instanceof s.MapField)for(var i=0,o=Object.keys(e[r.name]);i<o.length;i++){var a=o[i];e[r.name][a]=g(e[r.name][a],r.resolvedType)}else r.resolvedType instanceof s.Type&&(r.repeated?0===e[r.name].length?(e[r.name]=void 0,delete e[r.name]):e[r.name]=e[r.name].map((function(e){return g(e,r.resolvedType)})):e[r.name]=g(e[r.name],r.resolvedType))};for(var o in n)i(o)}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.messageType,n={type:r,data:null},i=e;if(!n.type){var o=new Uint8Array(e,4),s=a.XVIZ_PROTOBUF_MESSAGE.Envelope.decode(o);n.type=s.type,i=s.data.value}switch(n.type){case"xviz/metadata":var u=a.XVIZ_PROTOBUF_MESSAGE.Metadata.decode(i);n.data=g(u),v(n.data);break;case"xviz/state_update":var c=a.XVIZ_PROTOBUF_MESSAGE.StateUpdate.decode(i);n.data=g(c);break;default:throw new Error("Unknown Message type ".concat(n.type))}return n}function O(e){var t=e.slice(0,50),r=e.slice(-50);return Number.isFinite(t[0])&&(t=String.fromCharCode.apply(null,t),r=String.fromCharCode.apply(null,r)),p(t,r)}function w(e){var t=e.match(f);return t?t[0]:null}}).call(this,r(72).Buffer)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(18);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2.3.13";Object(n.a)(e,"no loader provided");var r=e.version;t&&r&&(t=o(t),r=o(r))}function o(e){var t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),i=r.n(n),o=r(1),a=r(17),s=r(16),u=r(64),c=function(){function e(t){var r=t.source,n=t.name,i=void 0===n?"unnamed":n,o=t.maxConcurrency,s=void 0===o?1:o,u=t.onMessage,c=t.onDebug,f=void 0===c?function(){}:c,l=t.reuseWorkers,p=void 0===l||l;Object(a.a)(this,e),this.source=r,this.name=i,this.maxConcurrency=s,this.onMessage=u,this.onDebug=f,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.reuseWorkers=p}var t;return Object(s.a)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"process",value:function(e,t){var r=this;return new Promise((function(n,i){r.jobQueue.push({data:e,jobName:t,resolve:n,reject:i}),r._startQueuedJob()}))}},{key:"_startQueuedJob",value:(t=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:return r=this.jobQueue.shift(),this.onDebug({message:"processing",worker:t.name,job:r.jobName,backlog:this.jobQueue.length}),e.prev=7,e.t0=r,e.next=11,t.process(r.data);case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(7),r.reject(e.t2);case 18:return e.prev=18,this._onWorkerDone(t),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,15,18,21]])}))),function(){return t.apply(this,arguments)})},{key:"_onWorkerDone",value:function(e){this.isDestroyed?e.destroy():(this.reuseWorkers?this.idleQueue.push(e):(e.destroy(),this.count--),this._startQueuedJob())}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new u.a({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(0),i=r.n(n),o=r(1),a=r(17),s=r(16),u=r(18),c=new Map;function f(e){return"try {\\n  importScripts(\'".concat(e,"\');\\n} catch (error) {\\n  console.error(error);\\n}")}var l=r(46),p=0;function h(e){var t=e.data;(0,e.resolve)(t)}var d=function(){function e(t){var r=t.source,n=t.name,i=void 0===n?"web-worker-".concat(p++):n,o=t.onMessage;Object(a.a)(this,e);var s=function(e){if(Object(u.a)("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){var t=e.match(/^url\\((.*)\\)$/)[1];if(t&&!t.startsWith("http"))return t;e=f(t)}var r=c.get(e);if(!r){var n=new Blob([e],{type:"application/javascript"});r=URL.createObjectURL(n),c.set(e,r)}return r}(r,i);this.worker=new Worker(s,{name:i}),this.name=i,this.onMessage=o||h}var t;return Object(s.a)(e,[{key:"process",value:(t=Object(o.a)(i.a.mark((function e(t){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){r.worker.onmessage=function(t){r.onMessage({worker:r.worker,data:t.data,resolve:e,reject:n})},r.worker.onerror=function(e){var t="".concat(r.name,": WorkerThread.process() failed");e.message&&(t+=" ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));var i=new Error(t);console.error(e),n(i)};var i=Object(l.a)(t);r.worker.postMessage(t,i)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.worker.terminate(),this.worker=null}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(28),i=r(4),o=r(3),a=r(13);class s extends n.a{get ELEMENTS(){return Object(a.a)(!1),0}get RANK(){return Object(a.a)(!1),0}toString(){let e="[";if(o.f.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,r){return this[t*this.RANK+e]=Object(i.a)(r),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)t[e]=this[r+e];return t}setColumn(e,t){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)this[r+e]=t[e];return this}}},function(e,t,r){"use strict";function n(e){this.wrapped=e}r.d(t,"a",(function(){return n}))},function(e,t){},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r(69);function i(){return!("object"==typeof e&&"[object process]"===String(e)&&!e.browser)||Object(n.a)()}function o(){return i()&&"undefined"!=typeof document}}).call(this,r(32))},function(e,t,r){"use strict";(function(e){function n(t){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if(void 0!==e&&"object"==typeof e.versions&&Boolean(e.versions.electron))return!0;const r="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,n=t||r;return!!(n&&n.indexOf("Electron")>=0)}r.d(t,"a",(function(){return n}))}).call(this,r(32))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZBaseWriter=void 0;var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Writer must be provided a sink");this.sink=t}var t,r,i;return t=e,(r=[{key:"_checkValid",value:function(){if(!this.sink)throw new Error(\'Cannot use this Writer after "close()" has been called.\')}},{key:"close",value:function(){this.sink&&(this.sink.close(),this.sink=null)}}])&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.XVIZBaseWriter=i},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),f=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,r){"use strict";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar n=r(71),i=r(148),o=r(149);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError(\'"value" argument must not be a number\');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("\'offset\' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("\'length\' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError(\'"encoding" must be a valid string encoding\');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError(\'"size" argument must be a number\');if(e<0)throw new RangeError(\'"size" argument must not be negative\')}function l(e,t){if(f(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function O(e,t,r,n){return z(F(t,e.length-r),e,r,n)}function w(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return z(U(t),e,r,n)}function j(e,t,r,n){return z(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError(\'"list" argument must be an Array of Buffers\');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),f=e.slice(t,r),l=0;l<s;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return O(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function I(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(t>i||t<o)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,o){return o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:F(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var C=/[^+\\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,"")}(e).replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(37))},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return l}));var n=r(0),i=r.n(n),o=r(1),a=r(14),s=r(24),u=r(18);function c(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(i.a.mark((function e(t,r){var n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,o=n.done,a=n.value,!o){e.next=9;break}return t.return(),e.abrupt("return");case 9:if(!r(a)){e.next=12;break}return e.abrupt("return");case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(i.a.mark((function e(t){var r,n,o,c,f,l,p,h,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=[],o=!0,c=!1,e.prev=4,l=Object(a.a)(t);case 6:return e.next=8,l.next();case 8:return p=e.sent,o=p.done,e.next=12,p.value;case 12:if(h=e.sent,o){e.next=19;break}"string"==typeof(d=h)?n.push(d):r.push(d);case 16:o=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),c=!0,f=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==l.return){e.next=30;break}return e.next=30,l.return();case 30:if(e.prev=30,!c){e.next=33;break}throw f;case 33:return e.finish(30);case 34:return e.finish(25);case 35:if(!(n.length>0)){e.next=38;break}return Object(u.a)(0===r.length),e.abrupt("return",n.join(""));case 38:return e.abrupt("return",s.b.apply(void 0,r));case 39:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packBinaryJson=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o,f=s.flattenArrays,l=void 0===f||f,p=t,h=null;if("string"==typeof p&&0===p.indexOf("#/"))return"#".concat(p);if(Array.isArray(p)){var d=l&&c(n,p);if(!d)return p.map((function(t){return e(t,r,null,o)}));p=d.typedArray,h=d}if(ArrayBuffer.isView(p)&&r)return o&&o.isImage&&(h=a(a({},h),{},{isImage:!0})),u(r,p,n,h);if(null!==p&&"object"===i(p)){var y={};for(var m in p)["data","width_px","height_px"].every((function(e){return e in p}))&&(o=a(a({},o),{},{isImage:!0})),y[m]=e(p[m],r,m,o);return y}return p};var n=r(155);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n){if(e.isImage(t)||n&&n.isImage){var i=e.addImage(t);return"#/images/".concat(i)}var o=n&&n.size?{size:n.size}:{size:3},a=e.addBuffer(t,o);return"#/accessors/".concat(a)}function c(e,t){var r=null,i=3;return"vertices"!==e&&"points"!==e||(r=(0,n.flattenToTypedArray)(t,i,Float32Array)),"colors"===e&&(i=4===t[0].length?4:3,r=(0,n.flattenToTypedArray)(t,i,Uint8Array)),r?{typedArray:r,size:i}:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZ_PROTOBUF_TYPE_NAME=t.XVIZ_PROTOBUF_TYPE=t.XVIZ_PROTOBUF_ROOT=t.XVIZ_PROTOBUF_MESSAGE_NAME=t.XVIZ_PROTOBUF_MESSAGE=t.XVIZ_PROTOBUF_MAGIC=t.MAGIC_PBE1=void 0;var n=r(156),i={ENVELOPE:"xviz.v2.Envelope",START:"xviz.v2.Start",TRANSFORM_LOG:"xviz.v2.TransformLog",TRANSFORM_LOG_POINT_IN_TIME:"xviz.v2.TransformPointInTime",TRANSFORM_LOG_DONE:"xviz.v2.TransformLogDone",STATE_UPDATE:"xviz.v2.StateUpdate",RECONFIGURE:"xviz.v2.Reconfigure",METADATA:"xviz.v2.Metadata",ERROR:"xviz.v2.Error"};t.XVIZ_PROTOBUF_MESSAGE_NAME=i;var o={UI_PANEL_INFO:"xviz.v2.UIPanelInfo"};t.XVIZ_PROTOBUF_TYPE_NAME=o;t.MAGIC_PBE1=1346520369;var a=Uint8Array.from([80,66,69,49]);t.XVIZ_PROTOBUF_MAGIC=a;var s=(0,n.loadProtos)();t.XVIZ_PROTOBUF_ROOT=s;var u={Envelope:s.lookupType(i.ENVELOPE),Metadata:s.lookupType(i.METADATA),StateUpdate:s.lookupType(i.STATE_UPDATE)};t.XVIZ_PROTOBUF_MESSAGE=u;var c={UIPanelInfo:s.lookupType(o.UI_PANEL_INFO)};t.XVIZ_PROTOBUF_TYPE=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PROTO_DATA",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SCHEMA_DATA",{enumerable:!0,get:function(){return n.default}});var n=o(r(157)),i=o(r(158));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";var n=r(161),i=r(78),o=r(42),a=r(110),s=r(163);function u(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return u.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof a)return d(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,o,s,f=c.call(this,t,r);return f&&(i=f.schema,t=f.root,s=f.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=d(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function c(e,t){var r=n.parse(t),i=m(r),o=y(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=g(i),u=this._refs[s];if("string"==typeof u)return f.call(this,e,u,r);if(u instanceof a)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[s])instanceof a))return;if(u.validate||this._compile(u),s==g(t))return{schema:u,root:e,baseId:o};e=u}if(!e.schema)return;o=y(this._getId(e.schema))}return p.call(this,r,o,e.schema,e)}function f(e,t,r){var n=c.call(this,e,t);if(n){var i=n.schema,o=n.baseId;e=n.root;var a=this._getId(i);return a&&(o=b(o,a)),p.call(this,r,o,i,e)}}e.exports=u,u.normalizeId=g,u.fullPath=y,u.url=b,u.ids=function(e){var t=g(this._getId(e)),r={"":t},a={"":y(t,!1)},u={},c=this;return s(e,{allKeys:!0},(function(e,t,s,f,l,p,h){if(""!==t){var d=c._getId(e),y=r[f],m=a[f]+"/"+l;if(void 0!==h&&(m+="/"+("number"==typeof h?h:o.escapeFragment(h))),"string"==typeof d){d=y=g(y?n.resolve(y,d):d);var v=c._refs[d];if("string"==typeof v&&(v=c._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error(\'id "\'+d+\'" resolves to more than one schema\')}else if(d!=g(m))if("#"==d[0]){if(u[d]&&!i(e,u[d]))throw new Error(\'id "\'+d+\'" resolves to more than one schema\');u[d]=e}else c._refs[d]=m}r[t]=y,a[t]=m}})),u},u.inlineRef=d,u.schema=c;var l=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function p(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(r=r[s=o.unescapeFragment(s)]))break;var u;if(!l[s]&&((u=this._getId(r))&&(t=b(t,u)),r.$ref)){var f=b(t,r.$ref),p=c.call(this,n,f);p&&(r=p.schema,n=p.root,t=p.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var h=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(r=t[n])&&!e(r))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(r=t[i])&&!e(r))return!1}return!0}(e):t?function e(t){var r,n=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(r=t[i])&&(n+=e(r)),n==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(h[o])n++;else if("object"==typeof(r=t[o])&&(n+=e(r)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function y(e,t){return!1!==t&&(e=g(e)),m(n.parse(e))}function m(e){return n.serialize(e).split("#")[0]+"#"}var v=/#\\/?$/;function g(e){return e?e.replace(v,""):""}function b(e,t){return t=g(t),n.resolve(e,t)}},function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},function(e,t,r){"use strict";var n=r(77);function i(e,t,r){this.message=r||i.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can\'t resolve reference "+t+" from id "+e}},function(e,t,r){"use strict";e.exports=r(196)},function(e,t,r){"use strict";e.exports=l;var n,i=r(23),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function f(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}function p(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function d(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}l.create=i.Buffer?function(){return(l.create=function(){return new n})()}:function(){return new l},l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(d,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(d,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(d,t.length(),t)},l.prototype.bool=function(e){return this._push(p,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=l.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},l.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},l.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new u(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},l._configure=function(e){n=e}},function(e,t,r){"use strict";e.exports=u;var n,i=r(23),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")};function l(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}function d(e,t){var r,n=e.byteLength/t.BYTES_PER_ELEMENT;if(e.byteOffset%t.BYTES_PER_ELEMENT==0)r=new t(e.buffer,e.byteOffset,n);else{var i=e.byteOffset,o=e.byteOffset+e.byteLength;r=new t(e.buffer.slice(i,o))}return r}u.create=i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):f(e)})(e)}:f,u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.fixed32_array=function(){return d(this.bytes(),Uint32Array)},u.prototype.sfixed32_array=function(){return d(this.bytes(),Int32Array)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.float_array=function(){return d(this.bytes(),Float32Array)},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.double_array=function(){return d(this.bytes(),Float64Array)},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e;var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,r){"use strict";e.exports=g;var n=r(50);((g.prototype=Object.create(n.prototype)).constructor=g).className="Type";var i=r(22),o=r(60),a=r(33),s=r(84),u=r(85),c=r(87),f=r(82),l=r(81),p=r(12),h=r(122),d=r(123),y=r(124),m=r(125),v=r(126);function g(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),g.generateConstructor=function(e){for(var t,r=p.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",p.safeProp(t.name)):t.repeated&&r("this%s=[]",p.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},g.fromJSON=function(e,t){var r=new g(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),f=0;f<c.length;++f)r.add((void 0!==t.fields[c[f]].keyType?s.fromJSON:a.fromJSON)(c[f],t.fields[c[f]]));if(t.oneofs)for(c=Object.keys(t.oneofs),f=0;f<c.length;++f)r.add(o.fromJSON(c[f],t.oneofs[c[f]]));if(t.nested)for(c=Object.keys(t.nested),f=0;f<c.length;++f){var l=t.nested[c[f]];r.add((void 0!==l.id?a.fromJSON:void 0!==l.fields?g.fromJSON:void 0!==l.values?i.fromJSON:void 0!==l.methods?u.fromJSON:n.fromJSON)(c[f],l))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},g.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},g.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},g.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},g.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name \'"+e.name+"\' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name \'"+e.name+"\' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},g.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},g.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},g.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},g.prototype.create=function(e){return new this.ctor(e)},g.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=h(this)({Writer:l,types:t,util:p}),this.decode=d(this)({Reader:f,types:t,util:p}),this.verify=y(this)({types:t,util:p}),this.fromObject=m.fromObject(this)({types:t,util:p}),this.toObject=m.toObject(this)({types:t,util:p});var n=v[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},g.prototype.encode=function(e,t){return this.setup().encode(e,t)},g.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},g.prototype.decode=function(e,t){return this.setup().decode(e,t)},g.prototype.decodeDelimited=function(e){return e instanceof f||(e=f.create(e)),this.decode(e,e.uint32())},g.prototype.verify=function(e){return this.setup().verify(e)},g.prototype.fromObject=function(e){return this.setup().fromObject(e)},g.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},g.d=function(e){return function(t){p.decorateType(t,e)}}},function(e,t,r){"use strict";e.exports=a;var n=r(33);((a.prototype=Object.create(n.prototype)).constructor=a).className="MapField";var i=r(44),o=r(12);function a(e,t,r,i,a,s){if(n.call(this,e,t,i,void 0,void 0,a,s),!o.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,r){return"function"==typeof r?r=o.decorateType(r).name:r&&"object"==typeof r&&(r=o.decorateEnum(r).name),function(n,i){o.decorateType(n.constructor).add(new a(i,e,t,r))}}},function(e,t,r){"use strict";e.exports=s;var n=r(50);((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var i=r(86),o=r(12),a=r(120);function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),o=0;o<n.length;++o)r.add(i.fromJSON(n[o],t.methods[n[o]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name \'"+e.name+"\' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,i=new a.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var u=o.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\\w_]/g,"");i[u]=o.codegen(["r","c"],o.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},function(e,t,r){"use strict";e.exports=o;var n=r(43);((o.prototype=Object.create(n.prototype)).constructor=o).className="Method";var i=r(12);function o(e,t,r,o,a,s,u,c){if(i.isObject(a)?(u=a,a=s=void 0):i.isObject(s)&&(u=s,s=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");n.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=o,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},function(e,t,r){"use strict";e.exports=i;var n=r(23);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},function(e,t,r){"use strict";e.exports=l;var n=r(50);((l.prototype=Object.create(n.prototype)).constructor=l).className="Root";var i,o,a,s=r(33),u=r(22),c=r(60),f=r(12);function l(e){n.call(this,"",e),this.deferred=[],this.files=[]}function p(){}l.fromJSON=function(e,t){return t||(t=new l),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},l.prototype.resolvePath=f.path.resolve,l.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var i=this;if(!n)return f.asPromise(e,i,t,r);var s=n===p;function u(e,t){if(n){var r=n;if(n=null,s)throw e;r(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function l(e,t){try{if(f.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),f.isString(t)){o.filename=e;var n,a=o(t,i,r),l=0;if(a.imports)for(;l<a.imports.length;++l)(n=c(a.imports[l])||i.resolvePath(e,a.imports[l]))&&h(n);if(a.weakImports)for(l=0;l<a.weakImports.length;++l)(n=c(a.weakImports[l])||i.resolvePath(e,a.weakImports[l]))&&h(n,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){u(e)}s||d||u(null,i)}function h(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)s?l(e,a[e]):(++d,setTimeout((function(){--d,l(e,a[e])})));else if(s){var r;try{r=f.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||u(e))}l(e,r)}else++d,f.fetch(e,(function(r,o){--d,n&&(r?t?d||u(null,i):u(r):l(e,o))}))}var d=0;f.isString(t)&&(t=[t]);for(var y,m=0;m<t.length;++m)(y=i.resolvePath("",t[m]))&&h(y);if(s)return i;d||u(null,i)},l.prototype.loadSync=function(e,t){if(!f.isNode)throw Error("not supported");return this.load(e,t,p)},l.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"\'extend "+e.extend+"\' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function d(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}l.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||d(0,e)||this.deferred.push(e);else if(e instanceof u)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof i)for(var t=0;t<this.deferred.length;)d(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);h.test(e.name)&&(e.parent[e.name]=e)}},l.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);h.test(e.name)&&delete e.parent[e.name]}},l._configure=function(e,t,r){i=e,o=t,a=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZBaseReader=void 0;var n=r(61);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.source=t,this.options=r,this.suffix=r.suffix||"-frame.json",this.index=this._readIndex()}var t,r,s;return t=e,(r=[{key:"readMetadata",value:function(){if(this.source){var e=this.source.readSync(this._xvizMessage(1));return e||(e=this.source.readSync(this._xvizMessage(1,{forceJson:!0}))),e}}},{key:"readMessage",value:function(e){if(this.source)return this.source.readSync(this._xvizMessage(2+e))}},{key:"checkMessage",value:function(e){return!!this.source&&this.source.existsSync(this._xvizMessage(2+e))}},{key:"timeRange",value:function(){if(this.index){var e=this.index;return{startTime:e.startTime,endTime:e.endTime}}return{startTime:null,endTime:null}}},{key:"messageCount",value:function(){if(this.index)return this.index.timing.length}},{key:"findMessage",value:function(e){if(this.index){var t=this.index,r=t.startTime,n=t.endTime,i=t.timing,o=this.messageCount(),a=o>0?o-1:0;if(e<r)return{first:0,last:0};if(e>n)return{first:a,last:a};for(var s=i.findIndex((function(t){return t[0]>=e})),u=-1,c=a;c>=0;){if(i[c][1]<=e){u=c;break}c--}return-1===s&&(s=0),-1===u&&(u=a),{first:s,last:u}}}},{key:"close",value:function(){this.source.close()}},{key:"_xvizMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.forceJson,n=void 0!==r&&r;return 0===e||n?"".concat(e,"-frame.json"):"".concat(e).concat(this.suffix)}},{key:"_readIndex",value:function(){if(this.source){var e=this.source.readSync(this._xvizMessage(0));if(e){if((0,n.isJSONString)(e))return JSON.parse(e);if("object"===i(e))return e}}}}])&&a(t.prototype,r),s&&a(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.XVIZBaseReader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZ_MESSAGE_TYPE=void 0;var n=Object.freeze({START:"start",ERROR:"error",DONE:"done",METADATA:"metadata",STATE_UPDATE:"state_update",TRANSFORM_LOG:"transform_log",TRANSFORM_LOG_DONE:"transform_log_done",TRANSFORM_POINT_IN_TIME:"transform_point_in_time",RECONFIGURE:"reconfigure"});t.XVIZ_MESSAGE_TYPE=n},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZBaseProvider=void 0;var i=r(128);function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function d(){}function y(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==t&&r.call(g,a)&&(m=g);var b=y.prototype=h.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;this._invoke=function(o,a){function s(){return new t((function(i,s){!function i(o,a,s,u){var c=l(e[o],e,a);if("throw"!==c.type){var f=c.arg,p=f.value;return p&&"object"==n(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(p).then((function(e){f.value=e,s(f)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}(o,a,i,s)}))}return i=i?i.then(s,s):s()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return p}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=y,c(b,"constructor",y),c(y,"constructor",d),d.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},O(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(b),c(b,u,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;u(this,e),this.start=t,this.end=r,this.increment=n,this.current=t}return f(e,[{key:"valid",value:function(){return this.current<=this.end}},{key:"value",value:function(){return this.current}},{key:"next",value:function(){var e=this.valid();if(!e)return{valid:e};var t=this.current;return this.current+=this.increment,{valid:e,data:t}}}]),e}(),p=function(){function e(t){var r=t.reader,n=t.options;u(this,e),this.reader=r,this.options=n,this.metadata=null,this._valid=!1}var t,r;return f(e,[{key:"init",value:(r=s(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reader){e.next=2;break}return e.abrupt("return");case 2:if(t=this.reader.timeRange(),r=t.startTime,n=t.endTime,this.metadata=this._readMetadata(),this.metadata&&Number.isFinite(r)&&Number.isFinite(n)&&this.reader.checkMessage(0)&&(this._valid=!0),!this.metadata||Number.isFinite(r)&&Number.isFinite(n)){e.next=7;break}throw new Error("The data source is missing the data index");case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"valid",value:function(){return this._valid}},{key:"xvizMetadata",value:function(){return this.metadata}},{key:"xvizMessage",value:(t=s(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.next(),n=r.valid,i=r.data,n){e.next=3;break}return e.abrupt("return",null);case 3:return a=this._readMessage(i),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getMessageIterator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startTime,r=e.endTime,n=this.reader.timeRange(),i=n.startTime,o=n.endTime;if(Number.isFinite(t)||(t=i),Number.isFinite(r)||(r=o),t>r)return null;var a=this.reader.findMessage(t),s=this.reader.findMessage(r);return void 0!==a&&void 0!==s?new l(a.first,s.last):null}},{key:"_readMessage",value:function(e){var t=this.reader.readMessage(e);if(t)return new i.XVIZData(t)}},{key:"_readMetadata",value:function(){var e=this.reader.readMetadata();if(e)return new i.XVIZData(e)}}]),e}();t.XVIZBaseProvider=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRIMITIVE_CAT=void 0,t.normalizeXVIZPrimitive=function(e,t,r,n,i,o,a){var s=t.type||i,u=t.vertices,c=t.center,f=e[s],l=f.enableZOffset,p=f.validate,h=f.normalize;if(l){var d=1e-6*r;if(u)for(var y=0;y<u.length;y++)u[y][2]=d;c&&2===c.length&&(c[2]=d)}s&&(t.type=s);if(!p(t,n,o))return null;h&&h(t);a&&a(t);return t};t.PRIMITIVE_CAT={LOOKAHEAD:"lookAheads",FEATURE:"features",LABEL:"labels",POINTCLOUD:"pointCloud",IMAGE:"images",COMPONENT:"components"}},function(e,t){},function(e,t,r){"use strict";r.r(t);var n=r(95);r.d(t,"Vector2",(function(){return n.g})),r.d(t,"Vector3",(function(){return n.h})),r.d(t,"Vector4",(function(){return n.i})),r.d(t,"Matrix3",(function(){return n.b})),r.d(t,"Matrix4",(function(){return n.c})),r.d(t,"Quaternion",(function(){return n.e})),r.d(t,"config",(function(){return n.u})),r.d(t,"configure",(function(){return n.v})),r.d(t,"formatValue",(function(){return n.A})),r.d(t,"isArray",(function(){return n.B})),r.d(t,"clone",(function(){return n.t})),r.d(t,"equals",(function(){return n.y})),r.d(t,"exactEquals",(function(){return n.z})),r.d(t,"toRadians",(function(){return n.H})),r.d(t,"toDegrees",(function(){return n.G})),r.d(t,"radians",(function(){return n.D})),r.d(t,"degrees",(function(){return n.x})),r.d(t,"sin",(function(){return n.E})),r.d(t,"cos",(function(){return n.w})),r.d(t,"tan",(function(){return n.F})),r.d(t,"asin",(function(){return n.o})),r.d(t,"acos",(function(){return n.n})),r.d(t,"atan",(function(){return n.q})),r.d(t,"clamp",(function(){return n.s})),r.d(t,"lerp",(function(){return n.C})),r.d(t,"withEpsilon",(function(){return n.I})),r.d(t,"checkNumber",(function(){return n.r})),r.d(t,"_MathUtils",(function(){return n.k})),r.d(t,"SphericalCoordinates",(function(){return n.f})),r.d(t,"Pose",(function(){return n.d})),r.d(t,"Euler",(function(){return n.a})),r.d(t,"assert",(function(){return n.p})),r.d(t,"_SphericalCoordinates",(function(){return n.m})),r.d(t,"_Pose",(function(){return n.l})),r.d(t,"_Euler",(function(){return n.j}))},function(e,t,r){"use strict";(function(e){var n=r(3),i=r(96);r.d(t,"g",(function(){return i.a}));var o=r(35);r.d(t,"h",(function(){return o.a}));var a=r(97);r.d(t,"i",(function(){return a.a}));var s=r(98);r.d(t,"b",(function(){return s.a}));var u=r(48);r.d(t,"c",(function(){return u.a}));var c=r(53);r.d(t,"e",(function(){return c.a})),r.d(t,"u",(function(){return n.f})),r.d(t,"v",(function(){return n.g})),r.d(t,"A",(function(){return n.l})),r.d(t,"B",(function(){return n.m})),r.d(t,"t",(function(){return n.e})),r.d(t,"y",(function(){return n.j})),r.d(t,"z",(function(){return n.k})),r.d(t,"H",(function(){return n.s})),r.d(t,"G",(function(){return n.r})),r.d(t,"D",(function(){return n.o})),r.d(t,"x",(function(){return n.i})),r.d(t,"E",(function(){return n.p})),r.d(t,"w",(function(){return n.h})),r.d(t,"F",(function(){return n.q})),r.d(t,"o",(function(){return n.b})),r.d(t,"n",(function(){return n.a})),r.d(t,"q",(function(){return n.c})),r.d(t,"s",(function(){return n.d})),r.d(t,"C",(function(){return n.n})),r.d(t,"I",(function(){return n.t}));var f=r(4);r.d(t,"r",(function(){return f.a}));var l=r(99);r.d(t,"k",(function(){return l.a}));var p=r(57);r.d(t,"f",(function(){return p.a}));var h=r(58);r.d(t,"d",(function(){return h.a}));var d=r(27);r.d(t,"a",(function(){return d.a}));var y=r(13);r.d(t,"p",(function(){return y.a})),r.d(t,"m",(function(){return p.a})),r.d(t,"l",(function(){return h.a})),r.d(t,"j",(function(){return d.a}));const m={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e};(m.global||m.self||m.window).mathgl={config:n.f}}).call(this,r(37))},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(47),i=r(3),o=r(4),a=r(25),s=r(19);class u extends n.a{constructor(e=0,t=0){super(2),Object(i.m)(e)&&1===arguments.length?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t)),this[0]=e,this[1]=t)}set(e,t){return this[0]=e,this[1]=t,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y)),this[0]=e.x,this[1]=e.y,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return a.d(this,this,e),this.check()}transformAsVector(e){return Object(s.a)(this,this,e),this.check()}transformByMatrix3(e){return a.c(this,this,e),this.check()}transformByMatrix2x3(e){return a.b(this,this,e),this.check()}transformByMatrix2(e){return a.a(this,this,e),this.check()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(47),i=r(3),o=r(4),a=r(7),s=r(19);const u={};class c extends n.a{static get ZERO(){return u.ZERO=u.ZERO||Object.freeze(new c(0,0,0,0))}constructor(e=0,t=0,r=0,n=0){super(-0,-0,-0,-0),Object(i.m)(e)&&1===arguments.length?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t),Object(o.a)(r),Object(o.a)(n)),this[0]=e,this[1]=t,this[2]=r,this[3]=n)}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y),Object(o.a)(e.z),Object(o.a)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}get w(){return this[3]}set w(e){this[3]=Object(o.a)(e)}transform(e){return a.m(this,this,e),this.check()}transformByMatrix3(e){return Object(s.e)(this,this,e),this.check()}transformByMatrix2(e){return Object(s.d)(this,this,e),this.check()}transformByQuaternion(e){return a.n(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(65),i=r(4),o=r(19),a=r(20),s=r(25),u=r(7);const c=Object.freeze([1,0,0,0,1,0,0,0,1]),f=Object.freeze([0,0,0,0,0,0,0,0,0]),l=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),p={};class h extends n.a{static get IDENTITY(){return p.IDENTITY=p.IDENTITY||Object.freeze(new h(c)),p.IDENTITY}static get ZERO(){return p.ZERO=p.ZERO||Object.freeze(new h(f)),p.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return l}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,r,n,i,o,a,s,u){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this.check()}setRowMajor(e,t,r,n,i,o,a,s,u){return this[0]=e,this[1]=n,this[2]=a,this[3]=t,this[4]=i,this[5]=s,this[6]=r,this[7]=o,this[8]=u,this.check()}determinant(){return a.b(this)}identity(){return this.copy(c)}fromQuaternion(e){return a.c(this,e),this.check()}transpose(){return a.i(this,this),this.check()}invert(){return a.d(this,this),this.check()}multiplyLeft(e){return a.e(this,e,this),this.check()}multiplyRight(e){return a.e(this,this,e),this.check()}rotate(e){return a.f(this,this,e),this.check()}scale(e){return Array.isArray(e)?a.g(this,this,e):a.g(this,this,[e,e,e]),this.check()}translate(e){return a.h(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=s.c(t||[-0,-0],e,this);break;case 3:t=u.l(t||[-0,-0,-0],e,this);break;case 4:t=Object(o.e)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(i.b)(t,e.length),t}transformVector(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}}},function(e,t,r){"use strict";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZJSONWriter=void 0;var i=r(70),o=r(146),a=r(39),s=r(31);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=l(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}}).apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){return"".concat(e+2,"-frame")},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,n,i=h(l);function l(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,l),t=i.call(this,e);var n=r.envelope,o=void 0===n||n,a=r.precision,s=void 0===a?10:a,c=r.asArrayBuffer,f=void 0!==c&&c;return t.messageTimings={messages:new Map},t.wroteMessageIndex=null,t.options={envelope:o,precision:s,asArrayBuffer:f},t}return t=l,(r=[{key:"writeMetadata",value:function(e){this._checkValid(),this._saveTimestamp(e),this.options.envelope&&(e=s.XVIZEnvelope.Metadata(e));var t=JSON.stringify(e);this.writeToSink("1-frame.json",t)}},{key:"writeMessage",value:function(e,t){var r=this;this._checkValid(),this._saveTimestamp(t,e),this.options.envelope&&(t=s.XVIZEnvelope.StateUpdate(t));var n=(0,o.xvizConvertJson)(t),i=JSON.stringify(n,(function(e,t){return"number"==typeof t?Number(t.toFixed(r.options.precision)):t}));this.writeToSink("".concat(m(e),".json"),i)}},{key:"_writeMessageIndex",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error("Error writing time index file. Messages are missing between ".concat(r+2," and ").concat(e+2));a.push(n.get(e))})),i.timing=a;var s=JSON.stringify(i);this.writeToSink("0-frame.json",s),this.wroteMessageIndex=a.length}},{key:"close",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),f(y(l.prototype),"close",this).call(this))}},{key:"_saveTimestamp",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error("Cannot find timestamp");if(0===n.length||!n.every((function(e){return"number"==typeof e.timestamp})))throw new Error("XVIZ updates did not contain a valid timestamp");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,m(t)])}}},{key:"writeToSink",value:function(e,t){this.options.asArrayBuffer&&(t=(new a.TextEncoder).encode(t)),this.sink.writeSync(e,t)}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.XVIZBaseWriter);t.XVIZJSONWriter=v},function(e,t,r){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZBinaryWriter=void 0,t.encodeBinaryXVIZ=g;var i=r(70),o=r(150),a=r(74),s=r(31);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=l(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}}).apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(t){if(ArrayBuffer.isView(t)&&(t=t.buffer),void 0!==e&&t instanceof ArrayBuffer){for(var r=new e(t.byteLength),n=new Uint8Array(t),i=0;i<r.length;++i)r[i]=n[i];return r}throw new Error("Failed to convert to buffer")}var v=function(e){return"".concat(e+2,"-frame")};function g(e,t){var r=new o.GLTFBuilder(t),n=(0,a.packBinaryJson)(e,r,null,t);return!0===t.useAVSXVIZExtension?r.addExtension(s.XVIZ_GLTF_EXTENSION,n,{nopack:!0}):r.addApplicationData("xviz",n,{nopack:!0}),r.encodeAsGLB(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(o,e);var t,r,n,i=h(o);function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,o),t=i.call(this,e);var n=r.envelope,a=void 0===n||n,s=r.flattenArrays,c=void 0===s||s,f=r.DracoWriter,l=r.DracoLoader;return t.messageTimings={messages:new Map},t.wroteMessageIndex=null,t.options={envelope:a,flattenArrays:c,DracoWriter:f,DracoLoader:l},t.encodingOptions={flattenArrays:t.options.flattenArrays},t.options.DracoWriter&&(t.encodingOptions.DracoWriter=f),t.options.DracoLoader&&(t.encodingOptions.DracoLoader=l),t}return t=o,(r=[{key:"writeMetadata",value:function(e){this._checkValid(),this._saveTimestamp(e),this.options.envelope&&(e=s.XVIZEnvelope.Metadata(e));var t=g(e,this.encodingOptions);this.sink.writeSync("1-frame.glb",m(t),{flag:"w"})}},{key:"writeMessage",value:function(e,t){this._checkValid(),this._saveTimestamp(t,e),this.options.envelope&&(t=s.XVIZEnvelope.StateUpdate(t));var r=g(t,this.encodingOptions);this.sink.writeSync("".concat(v(e),".glb"),m(r),{flag:"w"})}},{key:"_writeMessageIndex",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error("Error writing time index file. Messages are missing between ".concat(r+2," and ").concat(e+2));a.push(n.get(e))})),i.timing=a,this.sink.writeSync("0-frame.json",JSON.stringify(i)),this.wroteMessageIndex=a.length}},{key:"close",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),f(y(o.prototype),"close",this).call(this))}},{key:"_saveTimestamp",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error("Cannot find timestamp");if(0===n.length||!n.every((function(e){return"number"==typeof e.timestamp})))throw new Error("XVIZ updates did not contain a valid timestamp");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,v(t)])}}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.XVIZBaseWriter);t.XVIZBinaryWriter=b}).call(this,r(72).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UBER_POINT_CLOUD_EXTENSION=t.KHR_DRACO_MESH_COMPRESSION=void 0;t.KHR_DRACO_MESH_COMPRESSION="KHR_draco_mesh_compression";t.UBER_POINT_CLOUD_EXTENSION="UBER_draco_point_cloud_compression"},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),i=r.n(n),o=r(6),a=r(10),s=r(14);function u(e,t,r){return c.apply(this,arguments)}function c(){return(c=Object(a.a)(i.a.mark((function e(t,r,n){var a,u,c,f,l,p,h,d,y,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new r(n),u=!0,c=!1,e.prev=3,l=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(l.next());case 7:return p=e.sent,u=p.done,e.next=11,Object(o.a)(p.value);case 11:if(h=e.sent,u){e.next=23;break}return d=h,e.next=16,Object(o.a)(a.write(d));case 16:if(!(y=e.sent)){e.next=20;break}return e.next=20,y;case 20:u=!0,e.next=5;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(3),c=!0,f=e.t0;case 29:if(e.prev=29,e.prev=30,u||null==l.return){e.next=34;break}return e.next=34,Object(o.a)(l.return());case 34:if(e.prev=34,!c){e.next=37;break}throw f;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.next=41,Object(o.a)(a.end());case 41:if(!(m=e.sent)){e.next=45;break}return e.next=45,m;case 45:case"end":return e.stop()}}),e,null,[[3,25,29,39],[30,,34,38]])})))).apply(this,arguments)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),i=r.n(n),o=r(1),a=r(17),s=r(16),u=r(63),c=function(){function e(t){var r=t.maxConcurrency,n=void 0===r?5:r,i=t.onMessage,o=void 0===i?null:i,s=t.onDebug,u=void 0===s?function(){}:s,c=t.reuseWorkers,f=void 0===c||c;Object(a.a)(this,e),this.maxConcurrency=n,this.onMessage=o,this.onDebug=u,this.workerPools=new Map,this.reuseWorkers=f}var t;return Object(s.a)(e,null,[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}]),Object(s.a)(e,[{key:"setProps",value:function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug),"reuseWorkers"in e&&(this.reuseWorkers=e.reuseWorkers)}},{key:"destroy",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:"process",value:(t=Object(o.a)(i.a.mark((function e(t,r,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._getWorkerPool(t,r),e.abrupt("return",o.process(n));case 2:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_getWorkerPool",value:function(e,t){var r=this.workerPools.get(t);return r||(r=new u.a({source:e,name:t,onMessage:f.bind(null,this.onMessage),maxConcurrency:this.maxConcurrency,onDebug:this.onDebug,reuseWorkers:this.reuseWorkers}),this.workerPools.set(t,r)),r}}]),e}();function f(e,t){var r=t.worker,n=t.data,i=t.resolve,o=t.reject;if(e)e({worker:r,data:n,resolve:i,reject:o});else switch(n.type){case"done":i(n.result);break;case"error":o(n.message)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(5),i=r(17),o=r(16),a=r(51);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={id:"request-scheduler",throttleRequests:!0,maxRequests:6},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e),this.props=u(u({},c),t),this.requestQueue=[],this.activeRequestCount=0,this.requestMap=new Map,this.stats=new a.b({id:t.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever"),this._deferredUpdate=null}return Object(o.a)(e,[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:"_issueRequest",value:function(e){var t=this,r=e.handle,n=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this._deferredUpdate||(this._deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this._deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t)if(this.requestQueue.length>0){var r=this.requestQueue.shift();this._issueRequest(r)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}()},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return v}));var n=r(0),i=r.n(n),o=r(29),a=r(5),s=r(1),u=r(17),c=r(16),f=r(67),l=r.n(f),p=r(18),h=r(139);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={command:null,arguments:[],portArg:null,port:"auto",basePort:5e3,wait:2e3,nodeSpawnOptions:{maxBuffer:512e4},onSuccess:function(e){console.log("Started ".concat(e.options.command))}},v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,n=void 0===r?"browser-driver":r;Object(u.a)(this,t),this.id=n,this.childProcess=null,this.port=null}var r,n,a;return Object(c.a)(t,[{key:"start",value:(a=Object(s.a)(i.a.mark((function e(){var t,r,n=this,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},t=y(y({},m),t),Object(p.a)(t.command&&"string"==typeof t.command),this.options=t,r=Object(o.a)(t.arguments),this.port=t.port,!t.portArg){e.next=12;break}if("auto"!==this.port){e.next=11;break}return e.next=10,Object(h.a)(t.basePort);case 10:this.port=e.sent;case 11:r.push(t.portArg,this.port);case 12:return e.next=14,new Promise((function(e,i){try{var o=setTimeout((function(){t.onSuccess&&t.onSuccess(n),e({})}),t.wait);console.log("Spawning ".concat(t.command," ").concat(t.arguments.join(" "))),n.childProcess=l.a.spawn(t.command,r,t.spawn),n.childProcess.stderr.on("data",(function(e){console.log(\'Child process wrote to stderr: "\'.concat(e,\'".\')),clearTimeout(o),i(new Error(e))})),n.childProcess.on("error",(function(e){console.log("Child process errored with ".concat(e)),clearTimeout(o),i(e)})),n.childProcess.on("close",(function(e){console.log("Child process exited with ".concat(e)),n.childProcess=null}))}catch(e){i(e)}}));case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"stop",value:(n=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.childProcess&&(this.childProcess.kill(),this.childProcess=null);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"exit",value:(r=Object(s.a)(i.a.mark((function t(){var r,n=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:0,t.prev=1,t.next=4,this.stop();case 4:e.exit(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0.message||t.t0),e.exit(1);case 11:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(){return r.apply(this,arguments)})}]),t}()}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padTo4Bytes=function(e){return e+3&-4}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZProtobufWriter=void 0,t.xvizConvertProtobuf=b;var n=r(70),i=r(75);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=l(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}}).apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){return"".concat(e+2,"-frame")},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,r,n,o=h(a);function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,a),t=o.call(this,e);var n=r.envelope,i=void 0===n||n;return t.messageTimings={messages:new Map},t.wroteMessageIndex=null,t.options={envelope:i},t}return t=a,(r=[{key:"writeMetadata",value:function(e){this._checkValid(),this._saveTimestamp(e);var t=b(e),r={type:i.XVIZ_PROTOBUF_MESSAGE.Metadata,msg:i.XVIZ_PROTOBUF_MESSAGE.Metadata.fromObject(t)};this.options.envelope&&this._applyEnvelope(r);var n=r.type.encode(r.msg).finish(),o=new Uint8Array(n.byteLength+4);o.set(i.XVIZ_PROTOBUF_MAGIC,0),o.set(n,4),this.writeToSink("1-frame.pbe",o)}},{key:"writeMessage",value:function(e,t){this._checkValid(),this._saveTimestamp(t,e);var r=b(t),n={type:i.XVIZ_PROTOBUF_MESSAGE.StateUpdate,msg:i.XVIZ_PROTOBUF_MESSAGE.StateUpdate.fromObject(r)};this.options.envelope&&this._applyEnvelope(n);var o=n.type.encode(n.msg).finish(),a=new Uint8Array(o.byteLength+4);a.set(i.XVIZ_PROTOBUF_MAGIC,0),a.set(o,4),this.writeToSink("".concat(m(e),".pbe"),a)}},{key:"_applyEnvelope",value:function(e){if(e.type===i.XVIZ_PROTOBUF_MESSAGE.Metadata){var t=e.type.encode(e.msg).finish();e.type=i.XVIZ_PROTOBUF_MESSAGE.Envelope,e.msg=e.type.fromObject({type:"xviz/metadata",data:{type_url:"xviz.v2.Metadata",value:t}})}else if(e.type===i.XVIZ_PROTOBUF_MESSAGE.StateUpdate){var r=e.type.encode(e.msg).finish();e.type=i.XVIZ_PROTOBUF_MESSAGE.Envelope,e.msg=e.type.fromObject({type:"xviz/state_update",data:{type_url:"xviz.v2.StateUpdate",value:r}})}}},{key:"_writeMessageIndex",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error("Error writing time index file. Messages are missing between ".concat(r+2," and ").concat(e+2));a.push(n.get(e))})),i.timing=a;var s=JSON.stringify(i);this.writeToSink("0-frame.json",s),this.wroteMessageIndex=a.length}},{key:"close",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),f(y(a.prototype),"close",this).call(this))}},{key:"_saveTimestamp",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error("Cannot find timestamp");if(0===n.length||!n.every((function(e){return"number"==typeof e.timestamp})))throw new Error("XVIZ updates did not contain a valid timestamp");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,m(t)])}}},{key:"writeToSink",value:function(e,t){this.sink.writeSync(e,t)}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.XVIZBaseWriter);t.XVIZProtobufWriter=v;var g=["stroke_color","fill_color"];function b(e,t){if(Array.isArray(e)){if("vertices"!==t&&"points"!==t&&"colors"!==t)return e.map((function(e){return b(e,t)}));if(Array.isArray(e[0])){var r=[];return e.forEach((function(e){return r.push.apply(r,a(e))})),r}if(ArrayBuffer.isView(e[0])){var n=[];return e.forEach((function(e){return n.push.apply(n,a(Array.from(e)))})),n}if(Number.isFinite(e[0]))return e;if("object"===o(e[0]))return e.map((function(e){return b(e,t)}))}if(ArrayBuffer.isView(e))return Array.from(e);if(g.includes(t)&&"string"==typeof e&&e.match(/^#([0-9a-f]{3,4})|([0-9a-f]{6,8})$/i))return function(e){var t=e.substring(1),r=t.length;if(3!==r&&4!==r&&6!==r&&8!==r)return null;for(var n=[],i=3===t.length||4===t.length?1:2,o=0;o<t.length;o+=i)n.push(parseInt(t.substr(o,i),16));return n}(e);if(null!==e&&"object"===o(e)){if(Object.keys(e).includes("data")&&"images"===t)return e;for(var i={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s];i[c]=b(e[c],c)}return i}return e}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZValidator=t.ValidationError=void 0,t.newAjv=b;var i,o=(i=r(159))&&i.__esModule?i:{default:i},a=r(76);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return h(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)})(e)}function h(e,t,r){return(h=d()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&y(i,r.prototype),i}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(i,e);var t,r,n=(t=i,r=d(),function(){var e,n=m(t);if(r){var i=m(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return f(this,e)});function i(){var e;c(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),Error.captureStackTrace(l(e),i),e}return u(i)}(p(Error));t.ValidationError=v;var g=function(){function e(){for(var t in c(this,e),this.ajv=b(),a.SCHEMA_DATA){var r=a.SCHEMA_DATA[t];this.ajv.addSchema(r,t)}}return u(e,[{key:"validateMetadata",value:function(e){this.validate("session/metadata.schema.json",e)}},{key:"validateStateUpdate",value:function(e){this.validate("session/state_update.schema.json",e)}},{key:"validateStreamSet",value:function(e){this.validate("core/stream_set.schema.json",e)}},{key:"validatePose",value:function(e){this.validate("core/pose.schema.json",e)}},{key:"validatePrimitive",value:function(e,t){this.validate("primitives/".concat(e,".schema.json"),t)}},{key:"validateTimeSeries",value:function(e){this.validate("core/timeseries_state.schema.json",e)}},{key:"validateFutureInstances",value:function(e){this.validate("core/future_instances.schema.json",e)}},{key:"validateVariable",value:function(e){this.validate("core/variable.schema.json",e)}},{key:"validateAnnotation",value:function(e,t){this.validate("core/annotation_".concat(e,".schema.json"),t)}},{key:"validate",value:function(e,t){var r=this._getSchema(e);if(void 0===r)throw"Could not load schema: ".concat(e);if(!r(t)){var n=JSON.stringify(r.errors,null,"  ");throw new v("Validation errors: ".concat(n))}}},{key:"schemaCount",value:function(){return Object.keys(this.ajv._schemas).length}},{key:"hasSchema",value:function(e){return void 0!==this._getSchema(e)}},{key:"_getSchema",value:function(e){return e.endsWith(".schema.json")||(e+=".schema.json"),this.ajv.getSchema(e)}}]),e}();function b(){var e,t;return e=new o.default({meta:!1,schemaId:"id",extendRefs:"fail"}),t=r(193),e.addMetaSchema(t),e._opts.defaultMeta=t.id,e.removeKeyword("propertyNames"),e.removeKeyword("contains"),e.removeKeyword("const"),e}t.XVIZValidator=g},function(e,t,r){"use strict";var n=r(42);e.exports=function(e){n.copy(e,this)}},function(e,t,r){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},o={key:n,value:e[n]};return r(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,a;if(Array.isArray(t)){for(a="[",r=0;r<t.length;r++)r&&(a+=","),a+=e(t[r])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(a="",r=0;r<u.length;r++){var c=u[r],f=e(t[c]);f&&(a&&(a+=","),a+=JSON.stringify(c)+":"+f)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { \'use strict\'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var c=e.level,f=e.dataLevel,l=e.schema["false schema"],p=e.schemaPath+e.util.getProperty("false schema"),h=e.errSchemaPath+"/false schema",d=!e.opts.allErrors,y="data"+(f||""),m="valid"+c;if(!1===e.schema){e.isTop?d=!0:n+=" var "+m+" = false; ",(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'false schema\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: \'boolean schema is false\' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";var v=n;n=J.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+m+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var g=e.isTop;c=e.level=0,f=e.dataLevel=0,y="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{c=e.level,y="data"+((f=e.dataLevel)||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}m="valid"+c,d=!e.opts.allErrors;var O="",w="",_=e.schema.type,E=Array.isArray(_);if(_&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==_.indexOf("null")&&(_=_.concat("null")):"null"!=_&&(_=[_,"null"],E=!0)),E&&1==_.length&&(_=_[0],E=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error(\'$ref: validation keywords used in schema at path "\'+e.errSchemaPath+\'" (see option extendRefs)\');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn(\'$ref: keywords ignored in schema at path "\'+e.errSchemaPath+\'"\'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),_){if(e.opts.coerceTypes)var j=e.util.coerceToTypes(e.opts.coerceTypes,_);var P=e.RULES.types[_];if(j||E||!0===P||P&&!H(P)){p=e.schemaPath+".type",h=e.errSchemaPath+"/type",p=e.schemaPath+".type",h=e.errSchemaPath+"/type";var S=E?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[S](_,y,e.opts.strictNumbers,!0)+") { ",j){var x="dataType"+c,T="coerced"+c;n+=" var "+x+" = typeof "+y+"; var "+T+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+x+" == \'object\' && Array.isArray("+y+") && "+y+".length == 1) { "+y+" = "+y+"[0]; "+x+" = typeof "+y+"; if ("+e.util.checkDataType(e.schema.type,y,e.opts.strictNumbers)+") "+T+" = "+y+"; } "),n+=" if ("+T+" !== undefined) ; ";var A=j;if(A)for(var I,k=-1,R=A.length-1;k<R;)"string"==(I=A[k+=1])?n+=" else if ("+x+" == \'number\' || "+x+" == \'boolean\') "+T+" = \'\' + "+y+"; else if ("+y+" === null) "+T+" = \'\'; ":"number"==I||"integer"==I?(n+=" else if ("+x+" == \'boolean\' || "+y+" === null || ("+x+" == \'string\' && "+y+" && "+y+" == +"+y+" ","integer"==I&&(n+=" && !("+y+" % 1)"),n+=")) "+T+" = +"+y+"; "):"boolean"==I?n+=" else if ("+y+" === \'false\' || "+y+" === 0 || "+y+" === null) "+T+" = false; else if ("+y+" === \'true\' || "+y+" === 1) "+T+" = true; ":"null"==I?n+=" else if ("+y+" === \'\' || "+y+" === 0 || "+y+" === false) "+T+" = null; ":"array"==e.opts.coerceTypes&&"array"==I&&(n+=" else if ("+x+" == \'string\' || "+x+" == \'number\' || "+x+" == \'boolean\' || "+y+" == null) "+T+" = ["+y+"]; ");n+=" else {   ",(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'type\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: \'",n+=E?""+_.join(","):""+_,n+="\' } ",!1!==e.opts.messages&&(n+=" , message: \'should be ",n+=E?""+_.join(","):""+_,n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";v=n;n=J.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+T+" !== undefined) {  ";var M=f?"data"+(f-1||""):"parentData";n+=" "+y+" = "+T+"; ",f||(n+="if ("+M+" !== undefined)"),n+=" "+M+"["+(f?e.dataPathArr[f]:"parentDataProperty")+"] = "+T+"; } "}else{(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'type\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: \'",n+=E?""+_.join(","):""+_,n+="\' } ",!1!==e.opts.messages&&(n+=" , message: \'should be ",n+=E?""+_.join(","):""+_,n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";v=n;n=J.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!o)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(n+=" } if (errors === ",n+=g?"0":"errs_"+c,n+=") { ",w+="}");else{var N=e.RULES;if(N)for(var L=-1,V=N.length-1;L<V;)if(H(P=N[L+=1])){if(P.type&&(n+=" if ("+e.util.checkDataType(P.type,y,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==P.type&&e.schema.properties){l=e.schema.properties;var D=Object.keys(l);if(D)for(var C,B=-1,F=D.length-1;B<F;){if(void 0!==($=l[C=D[B+=1]]).default){var U=y+e.util.getProperty(C);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+U;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+U+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+U+" === null || "+U+" === \'\' "),n+=" ) "+U+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault($.default)+" ":n+=" "+JSON.stringify($.default)+" ",n+="; "}}}else if("array"==P.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){k=-1;for(var $,Z=z.length-1;k<Z;)if(void 0!==($=z[k+=1]).default){U=y+"["+k+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+U;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+U+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+U+" === null || "+U+" === \'\' "),n+=" ) "+U+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault($.default)+" ":n+=" "+JSON.stringify($.default)+" ",n+="; "}}}var X=P.rules;if(X)for(var q,G=-1,Y=X.length-1;G<Y;)if(Q(q=X[G+=1])){var W=q.code(e,q.keyword,P.type);W&&(n+=" "+W+" ",d&&(O+="}"))}if(d&&(n+=" "+O+" ",O=""),P.type&&(n+=" } ",_&&_===P.type&&!j)){n+=" else { ";var J;p=e.schemaPath+".type",h=e.errSchemaPath+"/type";(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'type\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: \'",n+=E?""+_.join(","):""+_,n+="\' } ",!1!==e.opts.messages&&(n+=" , message: \'should be ",n+=E?""+_.join(","):""+_,n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";v=n;n=J.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}d&&(n+=" if (errors === ",n+=g?"0":"errs_"+c,n+=") { ",w+="}")}}function H(e){for(var t=e.rules,r=0;r<t.length;r++)if(Q(t[r]))return!0}function Q(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return d&&(n+=" "+w+" "),g?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+m+" = errors === errs_"+c+";",n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(a||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s;var h="maximum"==t,d=h?"exclusiveMaximum":"exclusiveMinimum",y=e.schema[d],m=e.opts.$data&&y&&y.$data,v=h?"<":">",g=h?">":"<",b=void 0;if(!p&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!m&&void 0!==y&&"number"!=typeof y&&"boolean"!=typeof y)throw new Error(d+" must be number or boolean");if(m){var O=e.util.getData(y.$data,a,e.dataPathArr),w="exclusive"+o,_="exclType"+o,E="exclIsNumber"+o,j="\' + "+(x="op"+o)+" + \'";i+=" var schemaExcl"+o+" = "+O+"; ",i+=" var "+w+"; var "+_+" = typeof "+(O="schemaExcl"+o)+"; if ("+_+" != \'boolean\' && "+_+" != \'undefined\' && "+_+" != \'number\') { ";var P;b=d;(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'"+(b||"_exclusiveLimit")+"\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: \'"+d+" should be boolean\' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var S=i;i=P.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != \'number\') || "),i+=" "+_+" == \'number\' ? ( ("+w+" = "+n+" === undefined || "+O+" "+v+"= "+n+") ? "+l+" "+g+"= "+O+" : "+l+" "+g+" "+n+" ) : ( ("+w+" = "+O+" === true) ? "+l+" "+g+"= "+n+" : "+l+" "+g+" "+n+" ) || "+l+" !== "+l+") { var op"+o+" = "+w+" ? \'"+v+"\' : \'"+v+"=\'; ",void 0===s&&(b=d,c=e.errSchemaPath+"/"+d,n=O,p=m)}else{j=v;if((E="number"==typeof y)&&p){var x="\'"+j+"\'";i+=" if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != \'number\') || "),i+=" ( "+n+" === undefined || "+y+" "+v+"= "+n+" ? "+l+" "+g+"= "+y+" : "+l+" "+g+" "+n+" ) || "+l+" !== "+l+") { "}else{E&&void 0===s?(w=!0,b=d,c=e.errSchemaPath+"/"+d,n=y,g+="="):(E&&(n=Math[h?"min":"max"](y,s)),y===(!E||n)?(w=!0,b=d,c=e.errSchemaPath+"/"+d,g+="="):(w=!1,j+="="));x="\'"+j+"\'";i+=" if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != \'number\') || "),i+=" "+l+" "+g+" "+n+" || "+l+" !== "+l+") { "}}b=b||t,(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'"+(b||"_limit")+"\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+x+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: \'should be "+j+" ",i+=p?"\' + "+n:n+"\'"),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";S=i;return i=P.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",f&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(a||""),p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!p&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != \'number\') || "),i+=" "+l+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var h=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'"+(h||"_limitItems")+"\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: \'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=p?"\' + "+n+" + \'":""+s,i+=" items\' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var y=i;return i=d.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(a||""),p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!p&&"number"!=typeof s)throw new Error(t+" must be number");var h="maxLength"==t?">":"<";i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != \'number\') || "),!1===e.opts.unicode?i+=" "+l+".length ":i+=" ucs2length("+l+") ",i+=" "+h+" "+n+") { ";var d=t,y=y||[];y.push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'"+(d||"_limitLength")+"\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: \'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=p?"\' + "+n+" + \'":""+s,i+=" characters\' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var m=i;return i=y.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(a||""),p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!p&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != \'number\') || "),i+=" Object.keys("+l+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var h=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'"+(h||"_limitProperties")+"\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: \'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=p?"\' + "+n+" + \'":""+s,i+=" properties\' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var y=i;return i=d.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i}},function(e){e.exports=JSON.parse(\'{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}\')},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";t.Service=r(207)},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(o.compareFieldsById),u=0;u<s.length;++u){var c=s[u].resolve(),f=e._fieldsArray.indexOf(c),l=c.resolvedType instanceof n?"int32":c.type,p=i.basic[l];t="m"+o.safeProp(c.name),c.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|i.mapKey[c.keyType],c.keyType),void 0===p?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",f,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,l,t),r("}")("}")):c.repeated?(r("if(%s!=null&&%s.length){",t,t),c.packed&&void 0!==i.packed[l]?r("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",l,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===p?a(r,c,f,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(c.id<<3|p)>>>0,l,t)),r("}")):(c.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),void 0===p?a(r,c,f,t):r("w.uint32(%i).%s(%s)",(c.id<<3|p)>>>0,l,t))}return r("return w")};var n=r(22),i=r(44),o=r(12);function a(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},function(e,t,r){"use strict";e.exports=function(e){var t=o.typedArrayIsLe(),r=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&r("if((t&7)===4)")("break");r("switch(t>>>3){");for(var s=0;s<e.fieldsArray.length;++s){var u=e._fieldsArray[s].resolve(),c=u.resolvedType instanceof n?"int32":u.type,f="m"+o.safeProp(u.name);r("case %i:",u.id),u.map?(r("r.skip().pos++")("if(%s===util.emptyObject)",f)("%s={}",f)("k=r.%s()",u.keyType)("r.pos++"),void 0!==i.long[u.keyType]?void 0===i.basic[c]?r(\'%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())\',f,s):r(\'%s[typeof k==="object"?util.longToHash(k):k]=r.%s()\',f,c):void 0===i.basic[c]?r("%s[k]=types[%i].decode(r,r.uint32())",f,s):r("%s[k]=r.%s()",f,c)):t&&u.repeated&&"float"===c?r("%s=r.float_array()",f):t&&u.repeated&&"double"===c?r("%s=r.double_array()",f):t&&u.repeated&&"fixed32"===c?r("%s=r.fixed32_array()",f):t&&u.repeated&&"sfixed32"===c?r("%s=r.sfixed32_array()",f):u.repeated?(r("if(!(%s&&%s.length))",f,f)("%s=[]",f),void 0!==i.packed[c]&&r("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",f,c)("}else"),void 0===i.basic[c]?r(u.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",f,s):r("%s.push(r.%s())",f,c)):void 0===i.basic[c]?r(u.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",f,s):r("%s=r.%s()",f,c),r("break")}for(r("default:")("r.skipType(t&7)")("break")("}")("}"),s=0;s<e._fieldsArray.length;++s){var l=e._fieldsArray[s];l.required&&r("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",a(l))}return r("return m")};var n=r(22),i=r(44),o=r(12);function a(e){return"missing required \'"+e.name+"\'"}},function(e,t,r){"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")(\'if(typeof m!=="object"||m===null)\')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var u=0;u<e.fieldsArray.length;++u){var c=e._fieldsArray[u].resolve(),f="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",f,c.name),c.map)t("if(!util.isObject(%s))",f)("return%j",o(c,"object"))("var k=Object.keys(%s)",f)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,u,f+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",f)("return%j",o(c,"array"))("for(var i=0;i<%s.length;++i){",f),a(t,c,u,f+"[i]")("}");else{if(c.partOf){var l=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",l)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",l)}a(t,c,u,f)}c.optional&&t("}")}return t("return null")};var n=r(22),i=r(12);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e(\'if(typeof %s!=="number")\',i)("return%j",o(t,"number"));break;case"bool":e(\'if(typeof %s!=="boolean")\',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e(\'if(!(%s&&typeof %s.length==="number"||util.isString(%s)))\',i,i,i)("return%j",o(t,"buffer"))}return e}function s(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",o(t,"boolean key"))}return e}},function(e,t,r){"use strict";var n=t,i=r(22),o=r(12);function a(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var o=t.resolvedType.values,a=Object.keys(o),s=0;s<a.length;++s)t.repeated&&o[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",o[a[s]])("m%s=%j",n,o[a[s]])("break");e("}")}else e(\'if(typeof d%s!=="object")\',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)(\'else if(typeof d%s==="string")\',n)("m%s=parseInt(d%s,10)",n,n)(\'else if(typeof d%s==="number")\',n)("m%s=d%s",n,n)(\'else if(typeof d%s==="object")\',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e(\'if(typeof d%s==="string")\',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e(\'if(typeof m%s==="number")\',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),u=o.safeProp(s.name);s.map?(r("if(d%s){",u)(\'if(typeof d%s!=="object")\',u)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),a(r,s,n,u+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),a(r,s,n,u+"[i]")("}")("}")):(s.resolvedType instanceof i||r("if(d%s!=null){",u),a(r,s,n,u),s.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var r=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],u=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?a:u).push(t[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",o.safeProp(n[c].name));r("}")}if(a.length){for(r("if(o.objects||o.defaults){"),c=0;c<a.length;++c)r("d%s={}",o.safeProp(a[c].name));r("}")}if(u.length){for(r("if(o.defaults){"),c=0;c<u.length;++c){var f=u[c],l=o.safeProp(f.name);if(f.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",l,f.resolvedType.valuesById[f.typeDefault],f.typeDefault);else if(f.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",f.typeDefault.low,f.typeDefault.high,f.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,f.typeDefault.toString(),f.typeDefault.toNumber());else if(f.bytes){var p="["+Array.prototype.slice.call(f.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,f.typeDefault))("else{")("d%s=%s",l,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else r("d%s=%j",l,f.typeDefault)}r("}")}var h=!1;for(c=0;c<t.length;++c){f=t[c];var d=e._fieldsArray.indexOf(f);l=o.safeProp(f.name);f.map?(h||(h=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),s(r,f,d,l+"[ks2[j]]")("}")):f.repeated?(r("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),s(r,f,d,l+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",l,f.name),s(r,f,d,l),f.partOf&&r("if(o.oneofs)")("d%s=%j",o.safeProp(f.partOf.name),f.name)),r("}")}return r("return d")}},function(e,t,r){"use strict";var n=t,i=r(87);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+r,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=this.lookup(r);n&&(e=n.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return o["@type"]=e.$type.fullName,o}return this.toObject(e,t)}}},function(e,t,r){"use strict";e.exports=h;var n=/[\\s{}=;:[\\],\'"()<>]/g,i=/(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)")/g,o=/(?:\'([^\'\\\\]*(?:\\\\.[^\'\\\\]*)*)\')/g,a=/^ *[*/]+ */,s=/^\\s*\\*?\\/*/,u=/\\n/g,c=/\\s/,f=/\\\\(.?)/g,l={0:"\\0",r:"\\r",n:"\\n",t:"\\t"};function p(e){return e.replace(f,(function(e,t){switch(t){case"\\\\":case"":return t;default:return l[t]||""}}))}function h(e,t){e=e.toString();var r=0,f=e.length,l=1,h=null,d=null,y=0,m=!1,v=[],g=null;function b(e){return Error("illegal "+e+" (line "+l+")")}function O(t){return e.charAt(t)}function w(r,n){h=e.charAt(r++),y=l,m=!1;var i,o=r-(t?2:3);do{if(--o<0||"\\n"===(i=e.charAt(o))){m=!0;break}}while(" "===i||"\\t"===i);for(var c=e.substring(r,n).split(u),f=0;f<c.length;++f)c[f]=c[f].replace(t?s:a,"").trim();d=c.join("\\n").trim()}function _(t){var r=E(t),n=e.substring(t,r);return/^\\s*\\/{1,2}/.test(n)}function E(e){for(var t=e;t<f&&"\\n"!==O(t);)t++;return t}function j(){if(v.length>0)return v.shift();if(g)return function(){var t="\'"===g?o:i;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw b("string");return r=t.lastIndex,P(g),g=null,p(n[1])}();var a,s,u,h,d;do{if(r===f)return null;for(a=!1;c.test(u=O(r));)if("\\n"===u&&++l,++r===f)return null;if("/"===O(r)){if(++r===f)throw b("comment");if("/"===O(r))if(t){if(h=r,d=!1,_(r)){d=!0;do{if((r=E(r))===f)break;r++}while(_(r))}else r=Math.min(f,E(r)+1);d&&w(h,r),l++,a=!0}else{for(d="/"===O(h=r+1);"\\n"!==O(++r);)if(r===f)return null;++r,d&&w(h,r-1),++l,a=!0}else{if("*"!==(u=O(r)))return"/";h=r+1,d=t||"*"===O(h);do{if("\\n"===u&&++l,++r===f)throw b("comment");s=u,u=O(r)}while("*"!==s||"/"!==u);++r,d&&w(h,r-2),a=!0}}}while(a);var y=r;if(n.lastIndex=0,!n.test(O(y++)))for(;y<f&&!n.test(O(y));)++y;var m=e.substring(r,r=y);return\'"\'!==m&&"\'"!==m||(g=m),m}function P(e){v.push(e)}function S(){if(!v.length){var e=j();if(null===e)return null;P(e)}return v[0]}return Object.defineProperty({next:j,peek:S,push:P,skip:function(e,t){var r=S();if(r===e)return j(),!0;if(!t)throw b("token \'"+r+"\', \'"+e+"\' expected");return!1},cmnt:function(e){var r=null;return void 0===e?y===l-1&&(t||"*"===h||m)&&(r=d):(y<e&&S(),y!==e||m||!t&&"/"!==h||(r=d)),r}},"line",{get:function(){return l}})}h.unescape=p},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZData=void 0;var n=r(61),i=r(129),o=r(39),a=r(45);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,t),this._data=e,this._opts=r,this._dataFormat=void 0,this._xvizType=void 0,this._message=void 0,this._determineFormat(),!this._dataFormat)throw new Error("Unknown XVIZ data format")}var r,c,f;return r=t,(c=[{key:"buffer",get:function(){return this._data}},{key:"format",get:function(){return this._dataFormat}},{key:"type",get:function(){if(this._message)return this._message.type;if(!this._xvizType){var e=this._opts.messageType||(0,n.getXVIZMessageType)(this._data);if(e){var t=e.split("/");this._xvizType={namespace:t[0],type:t[1]}}}return this._xvizType.type}},{key:"hasMessage",value:function(){return void 0!==this._message}},{key:"message",value:function(){var t=null;if(this._message)return this._message;var r=this._data;switch(this._dataFormat){case a.XVIZ_FORMAT.BINARY_GLB:r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),t=(0,n.parseBinaryXVIZ)(r);break;case a.XVIZ_FORMAT.BINARY_PBE:r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),t=(0,n.parseBinaryXVIZ)(r,this._opts);break;case a.XVIZ_FORMAT.JSON_BUFFER:var s=null;r instanceof e?s=r.toString():(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r=new Uint8Array(r),s=new o.TextDecoder("utf8").decode(r)),t=JSON.parse(s);break;case a.XVIZ_FORMAT.JSON_STRING:t=JSON.parse(r);break;case a.XVIZ_FORMAT.OBJECT:t=r;break;default:throw new Error("Unsupported format ".concat(this._dataFormat))}var u=new i.XVIZMessage(t);return u.data?(this._message=u,this._message):null}},{key:"_determineFormat",value:function(){var t=this._opts.messageFormat;if(t)this._dataFormat=t;else{var r=this._data;switch((0,n.getDataContainer)(r)){case"binary":r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),(0,n.isPBEXVIZ)(r)?this._dataFormat=a.XVIZ_FORMAT.BINARY_PBE:(0,n.isGLBXVIZ)(r)?this._dataFormat=a.XVIZ_FORMAT.BINARY_GLB:(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(0,n.isJSONString)(r)&&(this._dataFormat=a.XVIZ_FORMAT.JSON_BUFFER));break;case"string":(0,n.isJSONString)(r)&&(this._dataFormat=a.XVIZ_FORMAT.JSON_STRING);break;case"object":this._dataFormat=a.XVIZ_FORMAT.OBJECT}}}}])&&u(r.prototype,c),f&&u(r,f),Object.defineProperty(r,"prototype",{writable:!1}),t}();t.XVIZData=c}).call(this,r(72).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZMessage=void 0;var n=r(61),i=r(90),o=r(45);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.message=t,this._message=null,this._setupTypeData()}var t,r,s;return t=e,(r=[{key:"type",get:function(){return this._message?this._message.type:null}},{key:"data",get:function(){return this._message?this._message.data:null}},{key:"_setupTypeData",value:function(){if((0,n.isEnvelope)(this.message)){var e=(0,n.unpackEnvelope)(this.message);"xviz"===e.namespace&&(this._message=e)}else this.message.version?this._message={namespace:o.XVIZ_MESSAGE_NAMESPACE,type:i.XVIZ_MESSAGE_TYPE.METADATA,data:this.message}:this.message.update_type&&this.message.updates?this._message={namespace:o.XVIZ_MESSAGE_NAMESPACE,type:i.XVIZ_MESSAGE_TYPE.STATE_UPDATE,data:this.message}:this._message={namespace:null,type:null,data:this.message}}}])&&a(t.prototype,r),s&&a(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.XVIZMessage=s},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZJSONProvider=void 0;var i=r(31);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,r,n,o=f(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,a(a({},e),{},{reader:new i.XVIZJSONReader(e.source,e.options)}))}return t=s,r&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(r(91).XVIZBaseProvider);t.XVIZJSONProvider=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZBinaryProvider=void 0;var i=r(31);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,r,n,o=f(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,a(a({},e),{},{reader:new i.XVIZBinaryReader(e.source,e.options)}))}return t=s,r&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(r(91).XVIZBaseProvider);t.XVIZBinaryProvider=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZProtobufProvider=void 0;var i=r(31);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,r,n,o=f(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,a(a({},e),{},{reader:new i.XVIZProtobufReader(e.source,e.options)}))}return t=s,r&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(r(91).XVIZBaseProvider);t.XVIZProtobufProvider=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLogMetadata=function(e){var t=(0,n.getXVIZConfig)().supportedVersions,r=e.version,o=null;if(void 0===r)o=1;else{var a=(0,i.parseVersionString)(r).major;o=a}if(!o)throw new Error("Unable to detect the XVIZ version.");(0,n.setXVIZConfig)({currentMajorVersion:o});if(t&&!t.includes(o))throw new Error("XVIZ version ".concat(o," is not supported.  Currently supported versions are ").concat(t,"."));return 1===o?f(e):l(e)},t.parseLogMetadataV1=f,t.parseLogMetadataV2=l;var n=r(21),i=r(134);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=e.streams||[],r=(0,n.getXVIZConfig)().STREAM_BLACKLIST,i={};Object.keys(t).forEach((function(e){r.has(e)||(i[e]=t[e])}));var o=p(e),a=o.logStartTime,s=o.logEndTime,c=o.eventStartTime,f=o.eventEndTime;return u(u({},e),{},{streams:i,logStartTime:a,logEndTime:s,eventStartTime:c,eventEndTime:f})}function l(e){var t=e.streams,r=(0,n.getXVIZConfig)().STREAM_BLACKLIST,i={};t&&Object.keys(t).forEach((function(e){r.has(e)||(i[e]=t[e])}));var a,s,c=p(e.log_info||{}),f=c.logStartTime,l=c.logEndTime,h=c.eventStartTime,d=c.eventEndTime,y=(a=i,s={},Object.keys(a).forEach((function(e){var t=a[e],r=[];t.stream_style&&r.push({name:"*",style:t.stream_style}),t.style_classes&&r.push.apply(r,o(t.style_classes)),0!==r.length&&(s[e]=r)})),s);return u(u({},e),{},{streams:i,logStartTime:f,logEndTime:l,start_time:h,end_time:d,eventStartTime:h,eventEndTime:d,styles:y})}function p(e){var t=Number.isFinite(e.log_start_time)?e.log_start_time:null,r=Number.isFinite(e.log_end_time)?e.log_end_time:null;return{logStartTime:t,logEndTime:r,eventStartTime:Number.isFinite(e.start_time)?e.start_time:t,eventEndTime:Number.isFinite(e.end_time)?e.end_time:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureUnFlattenedVertices=function(e){if(e.length>0&&!Array.isArray(e[0]))return o(e);return e},t.getPrimitiveData=function(e){var t=(0,n.getXVIZConfig)().currentMajorVersion;if(1===t&&e instanceof Array){if(0===e.length)return{type:null,primitives:e};if(e.length>0)return{type:e[0].type,primitives:e}}if(2===t)for(var r=Object.keys(e),o=0,a=r;o<a.length;o++){var s=a[o];if(i.includes(s))return{type:s.slice(0,-1),primitives:e[s]}}return{}},t.parseVersionString=function(e){var t=e.split("."),r=null,n=null,i=null,o=t.shift();o&&(r=Number.parseInt(o,10));(o=t.shift())&&(n=Number.parseInt(o,10));(o=t.shift())&&(i=Number.parseInt(o,10));return{major:r,minor:n,patch:i}},t.unFlattenVertices=o;var n=r(21),i=["circles","images","points","polygons","polylines","stadiums","texts"];function o(e){for(var t=[],r=0;r<e.length;r+=3)t.push([e[r],e[r+1],e[r+2]]);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStreamFutures=m,t.parseStreamFuturesV1=v,t.parseStreamFuturesV2=g,t.parseStreamPrimitive=y,t.parseStreamTimeSeries=function(e,t){var r=(0,n.getXVIZConfig)().currentMajorVersion;if(2===r)return function(e,t){if(!Array.isArray(e))return{};var r=(0,n.getXVIZConfig)().DYNAMIC_STREAM_METADATA,i={},o={};return e.forEach((function(e){var n=e.timestamp,a=e.streams,u=e.values,c=e.object_id,f=_(u);return f&&f.values.length===a.length?(f.values.forEach((function(e,u){var l=a[u];if(!t.has(l)){var p=o[l],h=!1;if(p){var d=p[c];d?d.has(n)?h=!0:d.add(n):p[c]=new Set([n])}else o[l]=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}({},c,new Set([n]));if(h)s.default.warn("Unexpected time_series duplicate ignored: ".concat(l," ").concat(n," id: ").concat(c))();else{var y={time:n,variable:e};c&&(y.id=c),i[l]||(i[l]=[]),i[l].push(y),r&&(i.__metadata||(i.__metadata={}),i.__metadata[l]={category:"TIME_SERIES",scalar_type:f.type})}}})),i):null})),i}(e,t);return s.default.error("Invalid time_series data in XVIZ version ".concat(r))(),null},t.parseStreamUIPrimitives=P,t.parseStreamVariable=b,t.parseStreamVariableV1=O,t.parseStreamVariableV2=w,t.parseXVIZStream=function(e,t){var r=e[0],n=r.primitives,i=r.ui_primitives,o=r.variables,a=r.futures;if(n){var s=Object.keys(n)[0];return e.map((function(e){return y(e.primitives[s],s,e.timestamp,t)}))}if(o){var u=Object.keys(o)[0];return e.map((function(e){return b(e.variables[u],u,e.timestamp)}))}if(a){var c=Object.keys(a)[0];return e.map((function(e){return m(e.futures[c],c,e.timestamp,t)}))}if(i){var f=Object.keys(i)[0];return e.map((function(e){return P(e.ui_primitives[f],f,e.timestamp)}))}return{}};var n=r(21),i=r(92),o=l(r(56)),a=r(235),s=l(r(136)),u=r(134),c=l(r(237)),f=l(r(238));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d={doubles:"FLOAT",int32s:"INT32",bools:"BOOL",strings:"STRING"};function y(e,t,r,l){var h=(0,n.getXVIZConfig)(),d=h.OBJECT_STREAM,y=h.preProcessPrimitive,m=h.DYNAMIC_STREAM_METADATA,v=1===(0,n.getXVIZConfig)().currentMajorVersion?c.default:f.default,g=(0,u.getPrimitiveData)(e);if(!g||!Array.isArray(g.primitives))return{};for(var b=g.type,O=g.primitives,w=function(){var e={};for(var t in i.PRIMITIVE_CAT)e[i.PRIMITIVE_CAT[t]]=[];return e}(),_=null,P=0;P<O.length;P++){var S=O[P];if(S&&Array.isArray(S)){w[_=i.PRIMITIVE_CAT.LOOKAHEAD].push([]);for(var x=0;x<S.length;x++){y({primitive:S[x],streamName:t,time:r});var T=(0,i.normalizeXVIZPrimitive)(v,S[x],P,t,b,r,l);T&&w[_][P].push(T)}}else{y({primitive:S,streamName:t,time:r});var A=(0,i.normalizeXVIZPrimitive)(v,S,P,t,b,r,l);_=v[S.type||b].category,A&&(w[_].push(A),a.isMainThread&&(t===d||!d&&A.id&&"features"===_)&&o.default.observe(A.id,r))}}w.vertices=function(e){var t,r=0,n=p(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.vertices&&(r+=E(i.vertices))}}catch(e){n.e(e)}finally{n.f()}if(0===r)return null;var o,a=new Float64Array(3*r),s=0,u=p(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.vertices){var f=E(c.vertices);if(Number.isFinite(c.vertices[0]))a.set(c.vertices,s),s+=3*f;else{var l,h=p(c.vertices);try{for(h.s();!(l=h.n()).done;){var d=l.value;a.set(d,s),s+=3}}catch(e){h.e(e)}finally{h.f()}}c.vertices=a.subarray(s-3*f,s)}}}catch(e){u.e(e)}finally{u.f()}return a}(w.features);var I=function(e){if(0===e.length)return null;var t,r=0,n=p(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r+=E(i.vertices)}}catch(e){n.e(e)}finally{n.f()}var o=null,a=new Float32Array(3*r),u=new Uint8ClampedArray(4*r),c=new Uint32Array(r),f=0;return e.forEach((function(e){var t=e.vertices,r=e.colors,n=E(t);if(0!==n){var i=function(e,t){if(e){if(e.length/4===t)return 4;if(e.length/3===t)return 3;var r;if(3===(r=Array.isArray(e[0])?e[0].length:e.length)||4===r)return r;s.default.error("Unknown point color format")}return 0}(r||e.color,n);null!==o&&o!==i&&s.default.error("Inconsistent point color format"),o=i;var l=r&&r.length===n*o;l&&u.set(r,f*o);var p=t.length===3*n;if(p&&a.set(t,3*f),Number.isFinite(e.id)&&c.fill(e.id,f,f+n),!p||!l&&o)for(var h=e.color||j,d=0;d<n;d++,f++){if(!p){var y=t[d];a[3*f+0]=y[0],a[3*f+1]=y[1],a[3*f+2]=y[2]}!l&&o&&(r&&(h=r[d]),u[f*o+0]=h[0],u[f*o+1]=h[1],u[f*o+2]=h[2],4===o&&(u[f*o+3]=h[3]||255))}}})),{type:e[0].type,numInstances:r,positions:a,colors:o?u.subarray(0,o*r):null,ids:c}}(w.pointCloud);return I&&w.features.push({type:I.type,points:I.positions,colors:I.colors,ids:I.ids}),w.pointCloud=I,w.time=r,m&&(w.__metadata={category:"PRIMITIVE",primitive_type:b}),w}function m(e,t,r,i){var o=(0,n.getXVIZConfig)(),a=o.currentMajorVersion,s=o.DYNAMIC_STREAM_METADATA,u=1===a?v(e,t,r,i):g(e,t,r,i);return s&&(u.__metadata={category:"FUTURE_INSTANCE",primitive_type:u.lookAheads[0][0]&&u.lookAheads[0][0].type}),u}function v(e,t,r,n){var o=[];return e.forEach((function(e,a){var s=e.primitives.map((function(e){return(0,i.normalizeXVIZPrimitive)(c.default,e,a,t,e.type,r,n)})).filter(Boolean);o.push(s)})),{time:r,lookAheads:o}}function g(e,t,r,n){var o=[],a=e.timestamps;return e.primitives.forEach((function(e,s){var c=(0,u.getPrimitiveData)(e),l=c.primitives.map((function(e){var o=(0,i.normalizeXVIZPrimitive)(f.default,e,s,t,c.type,r,n);return o.timestamp=a[s],o})).filter(Boolean);o.push(l)})),{time:r,lookAheads:o}}function b(e,t,r){var i=(0,n.getXVIZConfig)(),o=i.currentMajorVersion,a=i.DYNAMIC_STREAM_METADATA,s=1===o?O(e,t,r):w(e,t,r);return a&&(s.__metadata={category:"VARIABLE",scalar_type:Array.isArray(s.variable)&&s.variable[0]&&s.variable[0].type}),s}function O(e,t,r){if(Array.isArray(e))return{time:r};var n=e.timestamps,i=e.values;return{time:r,variable:1===i.length?i[0]:n?i.map((function(e,t){return[n[t],e]})):i}}function w(e,t,r){if(Array.isArray(e))return{time:r};var n=e.variables;if(!n||!Array.isArray(n))return{};var i={time:r};return i.variable=n.map((function(e){var t=e.base,r=_(e.values);return r&&r.values?(t&&t.object_id&&(r.id=t.object_id),r):null})).filter(Boolean),i}function _(e){for(var t in e)if(t in d)return{type:d[t],values:e[t]};return null}function E(e){return Number.isFinite(e[0])?e.length/3:e.length}var j=[0,0,0,255];function P(e,t,r){var i=Object.assign({time:r},e);return(0,n.getXVIZConfig)().DYNAMIC_STREAM_METADATA&&(i.__metadata={category:"UI_PRIMITIVE"}),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new(r(245).Log)({id:"xviz"}).enable();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterVertices=function(e){var t=(0,i.getXVIZConfig)().pathDistanceThreshold;if(0===t)return e;for(var r=Number.isFinite(e[0]),a=r?e.length/3:e.length,s=[],u=0,c=null,f=-1,l=0;l<a;l++){var p=o(e,l,r);(-1===f||c.distance(p)>t)&&(s[u++]=p[0],s[u++]=p[1],s[u++]=p[2],c=new n.Vector3(p[0],p[1],p[2]),f=l)}if(f!==a-1){var h=o(e,a-1,r);u-=3,s[u++]=h[0],s[u++]=h[1],s[u++]=h[2]}return s};var n=r(94),i=r(21);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null;return(n=r?e.slice(3*t,3*t+3):e[t])[2]=n[2]||0,n}},function(e,t,r){"use strict";r.r(t),r.d(t,"ImageLoader",(function(){return z})),r.d(t,"ImageWriter",(function(){return W})),r.d(t,"getBinaryImageMetadata",(function(){return V})),r.d(t,"isImageTypeSupported",(function(){return h})),r.d(t,"getDefaultImageType",(function(){return d})),r.d(t,"isImage",(function(){return m})),r.d(t,"getImageType",(function(){return v})),r.d(t,"getImageSize",(function(){return g})),r.d(t,"getImageData",(function(){return g})),r.d(t,"loadImage",(function(){return me})),r.d(t,"loadImageArray",(function(){return Ee})),r.d(t,"loadImageCube",(function(){return Re})),r.d(t,"HTMLImageLoader",(function(){return z})),r.d(t,"getSupportedImageType",(function(){return De})),r.d(t,"isBinaryImage",(function(){return Ne})),r.d(t,"getBinaryImageMIMEType",(function(){return Le})),r.d(t,"getBinaryImageSize",(function(){return Ve}));var n=r(0),i=r.n(n),o=r(1);function a(e,t){if(!e)throw new Error(t)}var s=r(36),u=s.a._parseImageNode,c="undefined"!=typeof Image,f="undefined"!=typeof ImageBitmap,l=Boolean(u),p=!!s.b||l;function h(e){switch(e){case"auto":return f||c||p;case"imagebitmap":return f;case"image":return c;case"data":return p;case"html":return c;case"ndarray":return p;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}function d(){if(f)return"imagebitmap";if(c)return"image";if(p)return"data";throw new Error("Install \'@loaders.gl/polyfills\' to parse images under Node.js")}var y=r(9);function m(e){return Boolean(b(e))}function v(e){var t=b(e);if(!t)throw new Error("Not an image");return t}function g(e){switch(v(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),r=t.getContext("2d");if(r)return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:return a(!1)}}function b(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"===Object(y.a)(e)&&e.data&&e.width&&e.height?"data":null}var O=/^data:image\\/svg\\+xml/,w=/\\.svg((\\?|#).*)?$/;function _(e){return e&&(O.test(e)||w.test(e))}function E(e,t){if(_(t)){var r=(new TextDecoder).decode(e);return"data:image/svg+xml;base64,".concat(btoa(r))}return j(e,t)}function j(e,t){if(_(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function P(e,t,r){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(i.a.mark((function e(t,r,n){var o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=E(t,n),a=self.URL||self.webkitURL,s="string"!=typeof o&&a.createObjectURL(o),e.prev=3,e.next=6,x(s||o,r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,s&&a.revokeObjectURL(s),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function x(e,t){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new Image).src=t,!(r.image&&r.image.decode&&n.decode)){e.next=6;break}return e.next=5,n.decode();case 5:return e.abrupt("return",n);case 6:return e.next=8,new Promise((function(e,r){try{n.onload=function(){return e(n)},n.onerror=function(e){return r(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(e){r(e)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A={},I=!0;function k(e,t,r){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(i.a.mark((function e(t,r,n){var o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_(n)){e.next=7;break}return e.next=3,P(t,r,n);case 3:a=e.sent,o=a,e.next=8;break;case 7:o=j(t,n);case 8:return s=r&&r.imagebitmap,e.next=11,M(o,s);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(i.a.mark((function e(t){var r,n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L(r=n.length>1&&void 0!==n[1]?n[1]:null)&&I||(r=null),!r){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),I=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function L(e){for(var t in e||A)return!1;return!0}function V(e){var t=D(e);return function(e){var t=D(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=D(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var r=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),n=r.tableMarkers,i=r.sofMarkers,o=2;for(;o+9<t.byteLength;){var a=t.getUint16(o,!1);if(i.has(a))return{mimeType:"image/jpeg",height:t.getUint16(o+5,!1),width:t.getUint16(o+7,!1)};if(!n.has(a))return null;o+=2,o+=t.getUint16(o,!1)}return null}(t)||function(e){var t=D(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||function(e){var t=D(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength))return null;return{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}}(t)}function D(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function C(e,t){var r=(V(e)||{}).mimeType,n=s.a._parseImageNode;return a(n),n(e,r,t)}function B(e,t,r){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(i.a.mark((function e(t,r,n){var o,s,u,c,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(r=r||{}).image||{},s=o.type||"auto",u=(n||{}).url,c=U(s),e.t0=c,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,k(t,r,u);case 10:return f=e.sent,e.abrupt("break",21);case 12:return e.next=14,P(t,r,u);case 14:return f=e.sent,e.abrupt("break",21);case 16:return e.next=18,C(t,r);case 18:return f=e.sent,e.abrupt("break",21);case 20:a(!1);case 21:return"data"===s&&(f=g(f)),e.abrupt("return",f);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){switch(e){case"auto":case"data":return d();default:return h(e),e}}var z={id:"image",name:"Images",version:"2.3.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:B,tests:[function(e){return Boolean(V(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}},$=s.a._encodeImageNode;function Z(){return(Z=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=r||{}).image=r.image||{},e.abrupt("return",$?$(t,{type:r.image.mimeType}):q(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=!0;function q(e,t){return G.apply(this,arguments)}function G(){return(G=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u,c,f,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.image,o=n.mimeType,a=n.jpegQuality,s=g(t),u=s.width,c=s.height,(f=document.createElement("canvas")).width=u,f.height=c,Y(t,f),e.next=8,new Promise((function(e,t){if(a&&X)try{return void f.toBlob(e,o,a)}catch(e){X=!1}f.toBlob(e,o)}));case 8:return l=e.sent,e.next=11,l.arrayBuffer();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===r&&0===n&&"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var i=t.getContext("bitmaprenderer");if(i)return i.transferFromImageBitmap(e),t}var o=t.getContext("2d");if(e.data){var a=new Uint8ClampedArray(e.data),s=new ImageData(a,e.width,e.height);return o.putImageData(s,0,0),t}return o.drawImage(e,0,0),t}var W={name:"Images",extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:function(e,t){return Z.apply(this,arguments)}},J=r(5),H=r(40);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){var n=e;"function"==typeof e&&(n=e(K(K({},t),r))),a("string"==typeof n);var i=t.baseUrl;return i&&(n="/"===i[i.length-1]?"".concat(i).concat(n):"".concat(i,"/").concat(n)),Object(H.c)(n)}var te=function(e){return e&&"object"===Object(y.a)(e)};function re(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(o.a)(i.a.mark((function e(t,r){var n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,ie(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t,r){return oe.apply(this,arguments)}function oe(){return(oe=Object(o.a)(i.a.mark((function e(t,r,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,ue(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:if(!te(t)){e.next=8;break}return e.next=7,ae(t,r,n);case 7:return e.abrupt("return",e.sent);case 8:return o=t,e.next=11,r(o,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,r){return se.apply(this,arguments)}function se(){return(se=Object(o.a)(i.a.mark((function e(t,r,n){var o,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in o=[],a={},s=function(e){var i=ie(t[e],r,n).then((function(t){a[e]=t}));o.push(i)},t)s(u);return e.next=6,Promise.all(o);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(o.a)(i.a.mark((function e(t,r){var n,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},o=t.map((function(e){return ie(e,r,n)})),e.next=4,Promise.all(o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t,r){return le.apply(this,arguments)}function le(){return(le=Object(o.a)(i.a.mark((function e(t,r,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t,(function(e){return pe(e,r,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t,r){return he.apply(this,arguments)}function he(){return(he=Object(o.a)(i.a.mark((function e(t,r,n){var o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return o=e.sent,e.next=5,o.arrayBuffer();case 5:return a=e.sent,e.next=8,r(a,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(i.a.mark((function e(t){var r,n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,ge(t,r);case 3:return n=e.sent,e.next=6,fe(n,B,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t){return be.apply(this,arguments)}function be(){return(be=Object(o.a)(i.a.mark((function e(t,r){var n,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:{},0===(o=r&&r.image&&r.image.mipLevels||0)){e.next=8;break}return e.next=5,Oe(t,o,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=ee(t,r,n);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t,r,n){return we.apply(this,arguments)}function we(){return(we=Object(o.a)(i.a.mark((function e(t,r,n,o){var s,u,c,f,l,p,h,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],"auto"!==r){e.next=9;break}return u=ee(t,n,ye(ye({},o),{},{lod:0})),e.next=5,pe(u,B,n);case 5:c=e.sent,f=g(c),l=f.width,p=f.height,r=_e({width:l,height:p}),s.push(u);case 9:for(a(r>0),h=s.length;h<r;++h)d=ee(t,n,ye(ye({},o),{},{lod:h})),s.push(d);return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}function Ee(e,t){return je.apply(this,arguments)}function je(){return(je=Object(o.a)(i.a.mark((function e(t,r){var n,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=3,Pe(t,r,n);case 3:return o=e.sent,e.next=6,fe(o,B,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=u.length>2&&void 0!==u[2]?u[2]:{},o=[],a=0;a<t;a++)s=ge(r,n,{index:a}),o.push(s);return e.next=5,Promise.all(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function Ie(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in n={},o=[],a=0,s=function(e){var i=ge(t,r,Te(Te({},Ae[a]),{},{index:a++})).then((function(t){n[e]=t}));o.push(i)},Ae)s(u);return e.next=7,Promise.all(o);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(o.a)(i.a.mark((function e(t){var r,n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,Ie(t,r);case 3:return n=e.sent,e.next=6,fe(n,B,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t){var r=V(e);return t?Boolean(r&&r.mimeType===t):Boolean(r)}function Le(e){var t=V(e);return t?t.mimeType:null}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=V(e);if(r)return{width:r.width,height:r.height};throw t=t||"unknown",new Error("invalid image data for type: ".concat(t))}function De(){return d()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(67),i=r.n(n);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;return new Promise((function(t,r){i.a.exec("lsof -i -P -n | grep LISTEN",(function(r,n,i){if(r)t(e);else{var o=[],a=/:(\\d+) \\(LISTEN\\)/;n.split("\\n").forEach((function(e){var t=e.match(a);t&&o.push(Number(t[1]))}));for(var s=e;o.includes(s);)s++;t(s)}}))}))}},function(e,t,r){"use strict";var n,i=(n=r(141))&&n.__esModule?n:{default:n};"undefined"!=typeof self&&(0,i.default)({})(self)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(21),i=r(145),o=r(242),a=r(243),s=r(38);t.default=function(e){return function(t){function r(e){var r=new Set;switch(e.type){case s.XVIZ_MESSAGE_TYPE.TIMESLICE:for(var n in e.streams){var i=e.streams[n];i&&((0,a.getTransferList)(i.pointCloud,!0,r),(0,a.getTransferList)(i.vertices,!1,r),i.images&&i.images.length&&i.images.forEach((function(e){return(0,a.getTransferList)(e,!0,r)})))}break;case s.XVIZ_MESSAGE_TYPE.VIDEO_FRAME:(0,a.getTransferList)(e.imageData,!1,r)}e=(0,o.preSerialize)(e),t.postMessage(e,Array.from(r))}function u(e){throw e}(0,n.setXVIZConfig)(e),t.onmessage=function(e){e.data&&e.data.xvizConfig?(0,n.setXVIZConfig)(e.data.xvizConfig):e.data&&(e.data.opts?(0,i.parseXVIZMessageSync)(e.data.data,r,u,e.data.opts):(0,i.parseXVIZMessageSync)(e.data,r,u))}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(56))&&n.__esModule?n:{default:n};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.ObjectType,n=void 0===r?i.default:r;o(this,e),this.objects=new Map,this.ObjectType=n}var t,r,n;return t=e,(r=[{key:"clear",value:function(){this.objects.clear()}},{key:"count",value:function(){return this.objects.size}},{key:"observe",value:function(e,t){if(null!=e)if(e=e.toString(),this.objects.has(e))this.objects.get(e)._observe(t);else{var r=new this.ObjectType({id:e,timestamp:t});this.objects.set(e,r)}}},{key:"get",value:function(e){return null==e?null:(e=e.toString(),this.objects.get(e)||null)}},{key:"resetAll",value:function(){this.objects.forEach((function(e){return e._reset()}))}},{key:"getAll",value:function(){var e={};return this.objects.forEach((function(t,r){e[r]=t})),e}},{key:"getAllInCurrentFrame",value:function(){var e={};return this.objects.forEach((function(t,r){t.isValid&&(e[r]=t)})),e}},{key:"prune",value:function(e,t){var r=this.objects,n=[];r.forEach((function(r,i){(r.endTime<e||r.startTime>t)&&n.push(i)})),n.forEach((function(e){r.delete(e)}))}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=s},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"isValid",get:function(){return!1}},{key:"position",get:function(){return null}},{key:"bearing",get:function(){return null}}])&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCentroid=function(e){var t=0,r=0,n=0,i=e.length;if(1===i)return e[0];e[0]===e[i-1]&&(i-=1);for(var o=0;o<i;o++){var a=e[o];t+=a[0],r+=a[1],n+=a[2]||0}return[t/i,r/i,n/i]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXVIZData=d,t.parseXVIZMessageSync=function(e,t,r,n){if("undefined"!=typeof Blob&&e instanceof Blob)return void(0,a.parseVideoMessageV1)(e,t,r);var o=n.messageType,s=n.messageFormat;try{var u=new i.XVIZData(e,{messageType:o,messageFormat:s}).message();if(u){var c=u.data,f=u.type||void 0,l=d(c,p(p({},n),{},{v2Type:f}));t(l)}}catch(e){r(e)}};var n=r(38),i=r(31),o=r(133),a=r(230),s=f(r(234)),u=f(r(239)),c=r(21);function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.v2Type||e.type||e.message||e.update_type;switch(r){case"state_update":return y(e,t.convertPrimitive);case"metadata":return p(p({},(0,o.parseLogMetadata)(e)),{},{type:n.XVIZ_MESSAGE_TYPE.METADATA});case"transform_log_done":return p(p({},e),{},{type:n.XVIZ_MESSAGE_TYPE.DONE});case"error":return p(p({},e),{},{message:"Stream server error",type:n.XVIZ_MESSAGE_TYPE.ERROR});case"done":return p(p({},e),{},{type:n.XVIZ_MESSAGE_TYPE.DONE});default:return y(e,t.convertPrimitive)}}function y(e,t){return 1===(0,c.getXVIZConfig)().currentMajorVersion?(0,s.default)(e,t):(0,u.default)(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xvizConvertJson=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(t))return t.map((function(t){return e(t,r,n+1)}));if(ArrayBuffer.isView(t)){if("vertices"!==r&&"points"!==r||n>0)return Array.from(t);var o=t.length;if(o%3!=0)throw new Error("TypeArray conversion failure. The array is expect to be divisible by 3");for(var s=[],c=o/3,f=0;f<c;f++)s.push(Array.from(t.slice(3*f,3*f+3)));return s}if(null!==t&&"object"===u(t)){var l=Object.keys(t);if(l.includes("data")&&"images"===r)return a(a({},t),{},{data:i.default.fromByteArray(t.data)});var p={};for(var h in t)p[h]=e(t[h],h);return p}return t};var n,i=(n=r(71))&&n.__esModule?n:{default:n};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t){},function(e,t){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nt.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,p=r?-1:1,h=e[t+l];for(l+=p,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=d,a/=256,c-=8);e[r+h-d]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.GLTFBuilder=void 0;var i,o=r(138),a=r(59),s=r(102),u=(i=r(153))&&i.__esModule?i:{default:i},c=r(74);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,r,n,i=d(u);function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,u),(e=i.call(this,t)).DracoWriter=t.DracoWriter,e.DracoLoader=t.DracoLoader,e}return t=u,(r=[{key:"addApplicationData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:(0,c.packBinaryJson)(t,this,null,r);return this.json[e]=n,this}},{key:"addExtraData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:(0,c.packBinaryJson)(t,this,null,r);return this.json.extras=this.json.extras||{},this.json.extras[e]=n,this}},{key:"addExtension",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,a.assert)(t);var n=r.nopack?t:(0,c.packBinaryJson)(t,this,null,r);return this.json.extensions=this.json.extensions||{},this.json.extensions[e]=n,this.registerUsedExtension(e),this}},{key:"addRequiredExtension",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,a.assert)(t);var n=r.nopack?t:(0,c.packBinaryJson)(t,this,null,r);return this.addExtension(e,n),this.registerRequiredExtension(e),this}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"addMesh",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=this._addAttributes(e),i={primitives:[{attributes:n,indices:t,mode:r}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addCompressedMesh",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(!this.DracoWriter||!this.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");this.registerRequiredExtension(s.KHR_DRACO_MESH_COMPRESSION);var n=this.DracoWriter.encodeSync({attributes:e}),i=this.DracoLoader.parseSync({attributes:e}),o=this._addFauxAttributes(i.attributes),a=this.addBufferView(n),u={primitives:[{attributes:o,mode:r,extensions:f({},s.KHR_DRACO_MESH_COMPRESSION,{bufferView:a,attributes:o})}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(u),this.json.meshes.length-1}},{key:"addCompressedPointCloud",value:function(e){if(!this.DracoWriter||!this.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");e.mode=0;var t=this.DracoWriter.encodeSync(e,{pointcloud:!0}),r=this.addBufferView(t),n={primitives:[{attributes:{},mode:0,extensions:f({},s.UBER_POINT_CLOUD_EXTENSION,{bufferView:r})}]};return this.registerRequiredExtension(s.UBER_POINT_CLOUD_EXTENSION),this.json.meshes=this.json.meshes||[],this.json.meshes.push(n),this.json.meshes.length-1}},{key:"addImage",value:function(e){var t=this.addBufferView(e),r=(0,o.getBinaryImageMetadata)(e)||{};if(r){var n=r.mimeType,i=r.width,a=r.height;this.json.images.push({bufferView:t,mimeType:n,width:i,height:a})}else this.json.images.push({bufferView:t});return this.json.images.length-1}}])&&p(t.prototype,r),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u.default);t.GLTFBuilder=v},function(e,t,r){var n=r(152).default;function i(){"use strict";\n/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new S(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h={};function d(){}function y(){}function m(){}var v={};f(v,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==r&&o.call(b,s)&&(v=b);var O=m.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;this._invoke=function(i,a){function s(){return new t((function(r,s){!function r(i,a,s,u){var c=p(e[i],e,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==n(l)&&o.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(l).then((function(e){f.value=e,s(f)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}(i,a,r,s)}))}return r=r?r.then(s,s):s()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return h}var n=p(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function x(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return y.prototype=m,f(O,"constructor",m),f(m,"constructor",y),y.displayName=f(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,f(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},w(_.prototype),f(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new _(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(O),f(O,c,"Generator"),f(O,s,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(8),o=r(138),a=r(41),s=r(107),u=(n=r(154))&&n.__esModule?n:{default:n},c=r(74);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.byteLength=0,this.json={buffers:[{byteLength:0}],bufferViews:[],accessors:[],images:[],meshes:[]},this.sourceBuffers=[],this.log=t.log||console}var t,r,n;return t=e,(r=[{key:"getByteLength",value:function(){return this.byteLength}},{key:"isImage",value:function(e){return(0,o.isImage)(e)}},{key:"encodeSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.encodeAsGLB(e)}},{key:"encodeAsGLB",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._packBinaryChunk(),e.magic&&console.warn("Custom glTF magic number no longer supported");var t={version:2,json:this.json,binary:this.arrayBuffer},r=(0,u.default)(t,null,0,e),n=new ArrayBuffer(r),i=new DataView(n);return(0,u.default)(t,i,0,e),n}},{key:"addApplicationData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:(0,c.packBinaryJson)(t,this,null,r);return this.json[e]=n,this}},{key:"addBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},r=this.addBufferView(e),n={size:t.size,componentType:(0,a.getComponentTypeFromArray)(e),count:Math.round(e.length/t.size)};return this.addAccessor(r,Object.assign(n,t))}},{key:"addBufferView",value:function(e){var t=e.byteLength||e.length;return this.json.bufferViews.push({buffer:0,byteOffset:this.byteLength,byteLength:t}),this.byteLength+=(0,s.padTo4Bytes)(t),this.sourceBuffers.push(e),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){return this.json.accessors.push({bufferView:e,type:(0,a.getAccessorTypeFromSize)(t.size),componentType:t.componentType,count:t.count}),this.json.accessors.length-1}},{key:"_pack",value:function(){return this._packBinaryChunk(),{arrayBuffer:this.arrayBuffer,json:this.json}}},{key:"_packBinaryChunk",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),n=0,o=0;o<this.sourceBuffers.length;o++){var a=this.sourceBuffers[o];n=(0,i.copyToArray)(a,r,n)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:"_getInternalCounts",value:function(){return{buffers:this.json.buffers.length,bufferViews:this.json.bufferViews.length,accessors:this.json.accessors.length,images:this.json.images.length}}}])&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.magic,o=void 0===i?1179937895:i,a=e.version,s=void 0===a?2:a,u=e.json,c=void 0===u?{}:u,f=e.binary,l=r;t&&(t.setUint32(r+0,o,!0),t.setUint32(r+4,s,!0),t.setUint32(r+8,0,!0));var p=r+8,h=r+=12;t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,1313821514,!0));r+=8;var d=JSON.stringify(c);if(r=(0,n.copyPaddedStringToDataView)(t,r,d,4),t){var y=r-h-8;t.setUint32(h+0,y,!0)}if(f){var m=r;if(t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,5130562,!0)),r+=8,r=(0,n.copyPaddedArrayBufferToDataView)(t,r,f,4),t){var v=r-m-8;t.setUint32(m+0,v,!0)}}if(t){var g=r-l;t.setUint32(p,g,!0)}return r};var n=r(8)},function(e,t,r){"use strict";function n(e){return Number.isFinite(e[0])}function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=0,n=0,o=-1;++o<e.length;){var a=e[o];Array.isArray(a)||ArrayBuffer.isView(a)?r+=i(a):n++}return r+(0===r&&n<t?t:n)}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.isFinite,r=-1;++r<e.length;){var n=e[r];if(Array.isArray(n)||ArrayBuffer.isView(n)){if(!o(n,t))return!1}else if(!t(n))return!1}return!0}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return s(e,t,r,0),t}function s(e,t,r,n){for(var i=-1,o=0;++i<e.length;){var a=e[i];Array.isArray(a)||ArrayBuffer.isView(a)?n=s(a,t,r,n):o<r&&(t[n++]=a,o++)}return o>0&&o<r&&(t[n++]=0),n}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenToTypedArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;if(0===e.length)return new Float32Array(0);if(!o(e))return null;if(n(e))return r.from(e);var s=i(e,t),u=new r(s);return a(e,u,t),u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EXTENSION_PROPERTY",{enumerable:!0,get:function(){return a.EXTENSION_PROPERTY}}),Object.defineProperty(t,"MessageTypes",{enumerable:!0,get:function(){return o.MessageTypes}}),Object.defineProperty(t,"SCHEMA_DATA",{enumerable:!0,get:function(){return n.SCHEMA_DATA}}),Object.defineProperty(t,"StructEncode",{enumerable:!0,get:function(){return u.StructEncode}}),Object.defineProperty(t,"XVIZSessionValidator",{enumerable:!0,get:function(){return o.XVIZSessionValidator}}),Object.defineProperty(t,"XVIZValidator",{enumerable:!0,get:function(){return i.XVIZValidator}}),Object.defineProperty(t,"enumToIntField",{enumerable:!0,get:function(){return s.enumToIntField}}),Object.defineProperty(t,"getProtoEnumTypes",{enumerable:!0,get:function(){return s.getProtoEnumTypes}}),Object.defineProperty(t,"getXVIZProtoTypes",{enumerable:!0,get:function(){return a.getXVIZProtoTypes}}),Object.defineProperty(t,"loadProtos",{enumerable:!0,get:function(){return a.loadProtos}}),Object.defineProperty(t,"protoEnumsToInts",{enumerable:!0,get:function(){return s.protoEnumsToInts}});var n=r(76),i=r(109),o=r(194),a=r(195),s=r(213),u=r(214)},function(e){e.exports=JSON.parse(\'{"envelope.schema.json":{"id":"https://xviz.org/schema/envelope.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ data envelope","type":"object","properties":{"type":{},"data":{}},"anyOf":[{"properties":{"type":{"type":"string","pattern":"^((?!xviz/).)*$"},"data":{"type":"object"}}},{"properties":{"type":{"enum":["xviz/start"]},"data":{"$ref":"https://xviz.org/schema/session/start.json"}}},{"properties":{"type":{"enum":["xviz/metadata"]},"data":{"$ref":"https://xviz.org/schema/session/metadata.json"}}},{"properties":{"type":{"enum":["xviz/transform_log"]},"data":{"$ref":"https://xviz.org/schema/session/transform_log.json"}}},{"properties":{"type":{"enum":["xviz/state_update"]},"data":{"$ref":"https://xviz.org/schema/session/state_update.json"}}},{"properties":{"type":{"enum":["xviz/transform_log_done"]},"data":{"$ref":"https://xviz.org/schema/session/transform_log_done.json"}}},{"properties":{"type":{"enum":["xviz/reconfigure"]},"data":{"$ref":"https://xviz.org/schema/session/reconfigure.json"}}},{"properties":{"type":{"enum":["xviz/error"]},"data":{"$ref":"https://xviz.org/schema/session/error.json"}}},{"properties":{"type":{"enum":["xviz/transform_point_in_time"]},"data":{"$ref":"https://xviz.org/schema/session/transform_point_in_time.json"}}}],"required":["type","data"],"additionalProperties":false},"ui-primitives/treetable.schema.json":{"id":"https://xviz.org/schema/ui-primitives/treetable.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Treetable","type":"object","properties":{"columns":{"type":"array","items":{"type":"object","properties":{"display_text":{"type":"string"},"type":{"type":"string","enum":["INT32","DOUBLE","STRING","BOOLEAN"]},"unit":{"type":"string"}},"required":["display_text","type"],"additionalProperties":false},"additionalItems":false},"nodes":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"parent":{"type":"integer"},"column_values":{"type":"array","items":{"type":"string"},"additionalItems":false}},"required":["id"],"additionalProperties":false},"additionalItems":false}},"additionalProperties":false},"style/_color.schema.json":{"id":"https://xviz.org/schema/style/_color.json","$schema":"http://json-schema.org/draft-04/schema#","description":"Internal XVIZ RGBA color type","oneOf":[{"type":"array","items":{"type":"number"},"minimum":0,"maximum":255,"minItems":3,"maxItems":4,"additionalItems":false},{"type":"string","pattern":"^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$"}]},"style/class.schema.json":{"id":"https://xviz.org/schema/style/class.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Style Class","type":"object","properties":{"name":{"type":"string"},"style":{"$ref":"https://xviz.org/schema/style/object_value.json"}},"additionalProperties":false,"required":["name","style"]},"style/object_value.schema.json":{"id":"https://xviz.org/schema/style/object_value.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Object Style Value","type":"object","properties":{"fill_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_width":{"type":"number"},"radius":{"type":"number"},"text_size":{"type":"number"},"text_rotation":{"type":"number"},"text_anchor":{"enum":["START","MIDDLE","END"]},"text_baseline":{"enum":["TOP","CENTER","BOTTOM"]},"height":{"type":"number"}},"anyOf":[{"required":["fill_color"]},{"required":["stroke_color"]},{"required":["stroke_width"]},{"required":["radius"]},{"required":["text_size"]},{"required":["text_rotation"]},{"required":["text_anchor"]},{"required":["text_baseline"]}],"additionalProperties":false},"style/stream_value.schema.json":{"id":"https://xviz.org/schema/style/stream_value.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream Style Value","type":"object","properties":{"fill_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_width":{"type":"number"},"radius":{"type":"number"},"text_size":{"type":"number"},"text_rotation":{"type":"number"},"text_anchor":{"enum":["START","MIDDLE","END"]},"text_baseline":{"enum":["TOP","CENTER","BOTTOM"]},"height":{"type":"number"},"radius_pixels":{"type":"number","minimum":0},"radius_min_pixels":{"type":"number","minimum":0},"radius_max_pixels":{"type":"number","minimum":0},"stroke_width_min_pixels":{"type":"number","minimum":0},"stroke_width_max_pixels":{"type":"number","minimum":0},"opacity":{"type":"number","minimum":0,"maximum":1},"stroked":{"type":"boolean"},"filled":{"type":"boolean"},"extruded":{"type":"boolean"},"font_family":{"type":"string"},"font_weight":{"type":"number"},"point_color_mode":{"enum":["ELEVATION","DISTANCE_TO_VEHICLE"]},"point_color_domain":{"type":"array","minItems":2,"maxItems":2,"items":{"type":"number"}}},"anyOf":[{"required":["fill_color"]},{"required":["stroke_color"]},{"required":["stroke_width"]},{"required":["radius"]},{"required":["radius_pixels"]},{"required":["text_size"]},{"required":["text_rotation"]},{"required":["text_anchor"]},{"required":["text_baseline"]},{"required":["radius_min_pixels"]},{"required":["radius_max_pixels"]},{"required":["stroke_width_min_pixels"]},{"required":["stroke_width_max_pixels"]},{"required":["opacity"]},{"required":["stroked"]},{"required":["filled"]},{"required":["extruded"]},{"required":["font_family"]},{"required":["font_weight"]},{"required":["point_color_mode"]},{"required":["point_color_domain"]}],"additionalProperties":false},"session/camera_info.schema.json":{"id":"https://xviz.org/schema/session/camera_info.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Camera Information","type":"object","properties":{"human_name":{"type":"string"},"source":{"type":"string"},"vehicle_position":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"vehicle_orientation":{"$ref":"https://xviz.org/schema/math/matrix3x3.json"},"pixel_width":{"type":"number","minimum":0},"pixel_height":{"type":"number","minimum":0},"rectification_projection":{"$ref":"https://xviz.org/schema/math/matrix3x3.json"},"gl_projection":{"$ref":"https://xviz.org/schema/math/matrix4x4.json"}},"required":["human_name","source"],"dependencies":{"pixel_width":["pixel_height"],"pixel_height":["pixel_width"],"rectification_projection":["pixel_width","pixel_height"],"gl_projection":["rectification_projection","vehicle_position","vehicle_orientation"]},"additionalProperties":false},"session/error.schema.json":{"id":"https://xviz.org/schema/session/error.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Error","type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false},"session/log_info.schema.json":{"id":"https://xviz.org/schema/session/log_info.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Metadata Log timing information","type":"object","properties":{"start_time":{"type":"number"},"end_time":{"type":"number"}},"additionalProperties":true},"session/metadata.schema.json":{"id":"https://xviz.org/schema/session/metadata.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Metadata","type":"object","properties":{"version":{"type":"string"},"streams":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/session/stream_metadata.json"}},"cameras":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/session/camera_info.json"}},"stream_aliases":{"type":"object","additionalProperties":{"type":"string"}},"ui_config":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/session/ui_panel_info.json"}},"log_info":{"$ref":"https://xviz.org/schema/session/log_info.json"},"map_info":{"type":"object"},"vehicle_info":{"type":"object"}},"required":["version"],"additionalProperties":false},"session/reconfigure.schema.json":{"id":"https://xviz.org/schema/session/reconfigure.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Reconfigure message","type":"object","properties":{"update_type":{"enum":["DELTA","FULL"]},"config_update":{"type":"object"}},"required":["update_type","config_update"],"additionalProperties":false},"session/start.schema.json":{"id":"https://xviz.org/schema/session/start.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Start","type":"object","properties":{"version":{"type":"string","pattern":"^(0|[1-9]\\\\\\\\d*)\\\\\\\\.(0|[1-9]\\\\\\\\d*)\\\\\\\\.(0|[1-9]\\\\\\\\d*)(-(0|[1-9]\\\\\\\\d*|\\\\\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(\\\\\\\\.(0|[1-9]\\\\\\\\d*|\\\\\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\\\\\\\\+[0-9a-zA-Z-]+(\\\\\\\\.[0-9a-zA-Z-]+)*)?$"},"profile":{"type":"string"},"session_type":{},"message_format":{"type":"string","enum":["JSON","BINARY"]},"log":{}},"required":["version"],"oneOf":[{"properties":{"session_type":{"type":"string","enum":["LOG"]},"log":{"pattern":".*"}},"required":["version","log"]},{"properties":{"session_type":{"type":"string","enum":["LIVE"]}},"required":["version"],"not":{"required":["log"]}}],"additionalProperties":false},"session/state_update.schema.json":{"id":"https://xviz.org/schema/session/state_update.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream Update","type":"object","properties":{"update_type":{"type":"string","enum":["COMPLETE_STATE","INCREMENTAL","SNAPSHOT","PERSISTENT"]},"updates":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/stream_set.json"},"minItems":1,"additionalItems":false}},"required":["update_type","updates"],"additionalProperties":false},"session/stream_metadata.schema.json":{"id":"https://xviz.org/schema/session/stream_metadata.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream Metadata","type":"object","properties":{"source":{"type":"string"},"units":{"type":"string"},"coordinate":{},"transform":{"$ref":"https://xviz.org/schema/math/matrix4x4.json"},"transform_callback":{"type":"string"},"category":{"enum":["ANNOTATION","FUTURE_INSTANCE","POSE","PRIMITIVE","UI_PRIMITIVE","TIME_SERIES","VARIABLE"]},"scalar_type":{"enum":["FLOAT","INT32","BOOL","STRING"]},"primitive_type":{"enum":["CIRCLE","IMAGE","POINT","POLYGON","POLYLINE","STADIUM","TEXT"]},"ui_primitive_type":{"enum":["TREETABLE"]},"annotation_type":{"enum":["VISUAL"]},"stream_style":{"$ref":"https://xviz.org/schema/style/stream_value.json"},"style_classes":{"type":"array","items":{"$ref":"https://xviz.org/schema/style/class.json"},"additionalItems":false}},"allOf":[{"anyOf":[{"properties":{"coordinate":{"enum":["GEOGRAPHIC","IDENTITY"]}}},{"properties":{"coordinate":{"enum":["VEHICLE_RELATIVE"]}}},{"properties":{"coordinate":{"enum":["DYNAMIC"]}},"required":["transform_callback"]}]},{"anyOf":[{"properties":{"category":{"enum":["TIME_SERIES","VARIABLE"]}},"required":["scalar_type"]},{"properties":{"category":{"enum":["FUTURE_INSTANCE","PRIMITIVE"]}},"required":["primitive_type"]},{"properties":{"category":{"enum":["UI_PRIMITIVE"]}},"required":["ui_primitive_type"]},{"properties":{"category":{"enum":["ANNOTATION"]}},"required":["annotation_type"]},{"properties":{"category":{"enum":["POSE"]}}}]}],"additionalProperties":false},"session/transform_log.schema.json":{"id":"https://xviz.org/schema/session/transform_log.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Transform Log","type":"object","properties":{"id":{"type":"string"},"start_timestamp":{"type":"number"},"end_timestamp":{"type":"number"},"desired_streams":{"type":"array","items":{"type":"string"},"additionalItems":false}},"required":["id"],"additionalProperties":false},"session/transform_log_done.schema.json":{"id":"https://xviz.org/schema/session/transform_log_done.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Transform Log Done","type":"object","properties":{"id":{"type":"string"}},"required":["id"],"additionalProperties":false},"session/transform_point_in_time.schema.json":{"id":"https://xviz.org/schema/session/transform_point_in_time.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Transform Point In Time","type":"object","properties":{"id":{"type":"string"},"query_timestamp":{"type":"number"},"desired_streams":{"type":"array","items":{"type":"string"},"additionalItems":false}},"required":["id","query_timestamp"],"additionalProperties":false},"session/ui_panel_info.schema.json":{"id":"https://xviz.org/schema/session/ui_panel_info.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session UI Panel Info","type":"object","properties":{"name":{"type":"string"},"needed_streams":{"type":"array","items":{"type":"string"},"additionalItems":false},"config":{"oneOf":[{"type":"object"},{"type":"string"}]}},"required":["name","config"],"additionalProperties":false},"primitives/circle.schema.json":{"id":"https://xviz.org/schema/primitives/circle.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["CIRCLE"]},"center":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"radius":{"type":"number"}},"required":["center","radius"],"additionalProperties":false},"primitives/image.schema.json":{"id":"https://xviz.org/schema/primitives/image.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Image primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["IMAGE"]},"position":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"data":{"type":"string","contentEncoding":"base64","pattern":"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"},"width_px":{"type":"integer","minValue":0},"height_px":{"type":"integer","minValue":0}},"required":["data","width_px","height_px"],"additionalProperties":false},"primitives/point.schema.json":{"id":"https://xviz.org/schema/primitives/point.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["POINT"]},"points":{"$ref":"https://xviz.org/schema/math/point3d_list.schema.json"},"colors":{"type":"array","oneOf":[{"items":{"$ref":"https://xviz.org/schema/style/_color.json"}},{"type":"array","items":{"type":"number"},"minimum":0,"maximum":255,"minItems":4}],"additionalItems":false}},"required":["points"],"additionalProperties":false},"primitives/polygon.schema.json":{"id":"https://xviz.org/schema/primitives/polygon.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Polygon primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"vertices":{"$ref":"https://xviz.org/schema/math/point3d_list.schema.json"}},"required":["vertices"],"additionalProperties":false},"primitives/polyline.schema.json":{"id":"https://xviz.org/schema/primitives/polyline.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Polyline primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"vertices":{"$ref":"https://xviz.org/schema/math/point3d_list.schema.json"}},"required":["vertices"],"additionalProperties":false},"primitives/stadium.schema.json":{"id":"https://xviz.org/schema/primitives/stadium.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"start":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"end":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"radius":{"type":"number"}},"required":["start","end","radius"],"additionalProperties":false},"primitives/text.schema.json":{"id":"https://xviz.org/schema/primitives/text.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Text primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["TEXT"]},"position":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"text":{"type":"string"}},"required":["position","text"],"additionalProperties":false},"math/matrix3x3.schema.json":{"id":"https://xviz.org/schema/math/matrix3x3.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","oneOf":[{"type":"array","items":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"minItems":3,"maxItems":3,"additionalItems":false},{"type":"array","items":{"type":"number"},"minItems":9,"maxItems":9,"additionalItems":false}]},"math/matrix4x4.schema.json":{"id":"https://xviz.org/schema/math/matrix4x4.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","oneOf":[{"type":"array","items":{"type":"array","items":{"type":"number"},"minItems":4,"maxItems":4,"additionalItems":false},"minItems":4,"maxItems":4,"additionalItems":false},{"type":"array","items":{"type":"number"},"minItems":16,"maxItems":16,"additionalItems":false}]},"math/point3d_list.schema.json":{"id":"https://xviz.org/schema/math/point3d_list.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point 3D list","oneOf":[{"type":"array","items":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"minItems":1,"additionalItems":false},{"type":"array","items":{"type":"number"},"minItems":3,"additionalItems":false}]},"math/vector3x1.schema.json":{"id":"https://xviz.org/schema/math/vector3x1.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"additionalItems":false},"declarative-ui/component_base.schema.json":{"id":"https://xviz.org/schema/declarative-ui/component_base.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"type":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"}}},"declarative-ui/panel.schema.json":{"id":"https://xviz.org/schema/declarative-ui/panel.json","$schema":"http://json-schema.org/draft-04/schema#","description":"Declarative UI Panel Info","allOf":[{"$ref":"#/definitions/with_children"}],"properties":{"type":{"enum":["PANEL"]},"name":{},"layout":{},"interactions":{},"children":{}},"additionalProperties":false,"definitions":{"with_children":{"type":"object","properties":{"type":{"type":"string"},"name":{"type":"string"},"layout":{"type":"string","enum":["VERTICAL","HORIZONTAL"]},"interactions":{"type":"array","items":{"type":"string","enum":["REORDERABLE","DRAG_OUT"]},"additionalItems":false},"children":{"type":"array","items":{"anyOf":[{"$ref":"https://xviz.org/schema/declarative-ui/components/metric.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/plot.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/table.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/treetable.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/video.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/select.json"},{"$ref":"#/definitions/container"}]},"additionalItems":false}},"required":["name","children"]},"container":{"title":"container","description":"Group of components","allOf":[{"$ref":"#/definitions/with_children"}],"properties":{"type":{"enum":["CONTAINER"]},"name":{},"layout":{},"interactions":{},"children":{}},"required":["type"],"additionalProperties":false}}},"declarative-ui/components/_onchange.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/_onchange.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"target":{"type":"string"}},"required":["target"],"additionalProperties":false},"declarative-ui/components/_tabular.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/_tabular.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"stream":{"type":"string"},"displayObjectId":{"type":"boolean"}},"required":["type","title","stream"]},"declarative-ui/components/metric.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/metric.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["METRIC"]},"title":{},"description":{},"streams":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false}},"required":["type","title","streams"],"additionalProperties":false},"declarative-ui/components/plot.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/plot.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["PLOT"]},"title":{},"description":{},"independentVariable":{"type":"string"},"dependentVariables":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false},"regions":{"type":"array","minItems":1,"additionalItems":false,"items":{"type":"object","properties":{"x":{"type":"string"},"yMin":{"type":"string"},"yMax":{"type":"string"}},"required":["x","yMin","yMax"],"additionalProperties":false}}},"anyOf":[{"required":["type","title","independentVariable","dependentVariables"]},{"required":["type","title","regions"]}],"additionalProperties":false},"declarative-ui/components/select.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/select.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["SELECT"]},"title":{},"description":{},"stream":{"type":"string"},"onchange":{"$ref":"https://xviz.org/schema/declarative-ui/components/_onchange.json"}},"required":["type","title","stream","onchange"],"additionalProperties":false},"declarative-ui/components/table.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/table.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/components/_tabular.json"}],"properties":{"type":{"enum":["TABLE"]},"title":{},"description":{},"stream":{},"displayObjectId":{}},"additionalProperties":false},"declarative-ui/components/treetable.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/treetable.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/components/_tabular.json"}],"properties":{"type":{"enum":["TREETABLE"]},"title":{},"description":{},"stream":{},"displayObjectId":{}},"additionalProperties":false},"declarative-ui/components/video.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/video.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["VIDEO"]},"title":{},"description":{},"cameras":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false}},"required":["type","cameras"],"additionalProperties":false},"core/_annotation_list.schema.json":{"id":"https://xviz.org/schema/core/_annotation_list.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"Internal XVIZ annotation list","type":"array","items":{"anyOf":[{"$ref":"https://xviz.org/schema/core/annotation_visual.json"}]},"additionalItems":false},"core/annotation_base.schema.json":{"id":"https://xviz.org/schema/core/annotation_base.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"object_id":{"type":"string"}},"required":["object_id"]},"core/annotation_state.schema.json":{"id":"https://xviz.org/schema/core/annotation_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Annotation State","type":"object","properties":{"visuals":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/annotation_visual.json"},"additionalItems":false}},"additionalProperties":false},"core/annotation_visual.schema.json":{"id":"https://xviz.org/schema/core/annotation_visual.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Visual Annotation","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/annotation_base.json"},"style_classes":{"type":"array","items":{"type":"string"},"additionalItems":false},"inline_style":{"$ref":"https://xviz.org/schema/style/object_value.json"}},"additionalProperties":false,"anyOf":[{"required":["base","inline_style"]},{"required":["base","style_classes"]}]},"core/future_instances.schema.json":{"id":"https://xviz.org/schema/core/future_instances.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Future Instances","type":"object","properties":{"timestamps":{"type":"array","minItems":1,"items":{"type":"number","minimum":0},"additionalItems":false},"primitives":{"type":"array","minItems":1,"items":{"$ref":"https://xviz.org/schema/core/primitive_state.json"}}},"required":["timestamps","primitives"],"additionalProperties":false},"core/link_state.schema.json":{"id":"https://xviz.org/schema/core/link_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Link State","type":"object","properties":{"target_pose":{"type":"string"}},"required":["target_pose"]},"core/pose.schema.json":{"id":"https://xviz.org/schema/core/pose.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"timestamp":{"type":"number","minimum":0},"map_origin":{"type":"object","properties":{"longitude":{"type":"number"},"latitude":{"type":"number"},"altitude":{"type":"number"}},"required":["longitude","latitude","altitude"],"additionalProperties":false},"position":{"type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"additionalItems":false},"orientation":{"type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"additionalItems":false}},"required":["position","orientation"],"additionalProperties":true},"core/primitive_base.schema.json":{"id":"https://xviz.org/schema/core/primitive_base.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"type":{"type":"string"},"object_id":{"type":"string"},"style":{"$ref":"https://xviz.org/schema/style/object_value.json"},"classes":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false}}},"core/primitive_state.schema.json":{"id":"https://xviz.org/schema/core/primitive_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Primitive State","type":"object","properties":{"circles":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/circle.json"},"additionalItems":false},"images":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/image.json"},"additionalItems":false},"points":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/point.json"},"additionalItems":false},"polygons":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/polygon.json"},"additionalItems":false},"polylines":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/polyline.json"},"additionalItems":false},"stadiums":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/stadium.json"},"additionalItems":false},"texts":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/text.json"},"additionalItems":false}},"additionalProperties":false},"core/stream_set.schema.json":{"id":"https://xviz.org/schema/core/stream_set.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream set","type":"object","properties":{"timestamp":{"type":"number"},"poses":{"type":"object","properties":{"/vehicle_pose":{"$ref":"https://xviz.org/schema/core/pose.json"}},"additionalProperties":{"$ref":"https://xviz.org/schema/core/pose.json"}},"primitives":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/primitive_state.json"}},"ui_primitives":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/ui_primitive_state.json"}},"time_series":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/timeseries_state.schema.json"},"minItems":1,"additionalItems":false},"future_instances":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/future_instances.json"}},"variables":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/variable_state.json"}},"annotations":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/annotation_state.json"}},"no_data_streams":{"type":"array","items":{"type":"string"},"additionalItems":false},"links":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/link_state.json"}}},"required":["timestamp"],"anyOf":[{"required":["poses"]},{"required":["primitives"]},{"required":["ui_primitives"]},{"required":["time_series"]},{"required":["future_instances"]},{"required":["variables"]},{"required":["annotations"]}],"additionalProperties":false},"core/timeseries_state.schema.json":{"id":"https://xviz.org/schema/core/timeseries_state.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Timeseries State","type":"object","properties":{"timestamp":{"type":"number","minimum":0},"streams":{"type":"array","items":{"type":"string"},"additionalItems":false},"values":{"$ref":"https://xviz.org/schema/core/values.schema.json"},"object_id":{"type":"string"}},"required":["timestamp","streams","values"],"additionalProperties":false},"core/ui_primitive_state.schema.json":{"id":"https://xviz.org/schema/core/ui_primitive_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ UI Primitive State","type":"object","properties":{"treetable":{"$ref":"https://xviz.org/schema/ui-primitives/treetable.json"}},"additionalProperties":false},"core/value.schema.json":{"id":"https://xviz.org/schema/core/value.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Value","oneOf":[{"type":"number"},{"type":"string"},{"type":"boolean"}]},"core/values.schema.json":{"id":"https://xviz.org/schema/core/values.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Values","type":"object","properties":{"doubles":{"type":"array","items":{"type":"number"},"additionalItems":false},"int32s":{"type":"array","items":{"type":"integer"},"additionalItems":false},"bools":{"type":"array","items":{"type":"boolean"},"additionalItems":false},"strings":{"type":"array","items":{"type":"string"},"additionalItems":false}},"additionalProperties":false,"anyOf":[{"required":["doubles"]},{"required":["int32s"]},{"required":["bools"]},{"required":["strings"]}]},"core/variable.schema.json":{"id":"https://xviz.org/schema/core/variable.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Variable State","type":"object","properties":{"base":{"type":"object","properties":{"object_id":{"type":"string"}},"additionalProperties":false},"values":{"$ref":"https://xviz.org/schema/core/values.schema.json"}},"required":["values"],"additionalProperties":false},"core/variable_state.schema.json":{"id":"https://xviz.org/schema/core/variable_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Variable State","type":"object","properties":{"variables":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/variable.json"},"additionalItems":false}},"required":["variables"],"additionalProperties":false}}\')},function(e){e.exports=JSON.parse(\'{"nested":{"xviz":{"nested":{"v2":{"options":{"csharp_namespace":"xviz.V2","go_package":"v2pb","java_multiple_files":true,"java_outer_classname":"UiprimitivesProto","java_package":"com.xviz.v2","objc_class_prefix":"XVIZ","php_namespace":"Xviz\\\\\\\\V2"},"nested":{"VisualBase":{"options":{"(xviz_json_schema)":"core/annotation_base"},"fields":{"object_id":{"type":"string","id":1}}},"Visual":{"options":{"(xviz_json_schema)":"core/annotation_visual"},"fields":{"base":{"type":"VisualBase","id":1},"style_classes":{"rule":"repeated","type":"string","id":2},"inline_style":{"type":"StyleObjectValue","id":3}}},"StreamSet":{"options":{"(xviz_json_schema)":"core/stream_set"},"fields":{"timestamp":{"type":"double","id":1},"poses":{"keyType":"string","type":"Pose","id":2},"primitives":{"keyType":"string","type":"PrimitiveState","id":3},"time_series":{"rule":"repeated","type":"TimeSeriesState","id":4},"future_instances":{"keyType":"string","type":"FutureInstances","id":6},"variables":{"keyType":"string","type":"VariableState","id":7},"annotations":{"keyType":"string","type":"AnnotationState","id":8},"ui_primitives":{"keyType":"string","type":"UIPrimitiveState","id":9},"no_data_streams":{"rule":"repeated","type":"string","id":10},"links":{"keyType":"string","type":"Link","id":11}}},"Pose":{"options":{"(xviz_json_schema)":"core/pose"},"fields":{"timestamp":{"type":"double","id":1},"map_origin":{"type":"MapOrigin","id":2},"position":{"rule":"repeated","type":"double","id":3},"orientation":{"rule":"repeated","type":"double","id":4}}},"MapOrigin":{"fields":{"longitude":{"type":"double","id":1},"latitude":{"type":"double","id":2},"altitude":{"type":"double","id":3}}},"PrimitiveState":{"options":{"(xviz_json_schema)":"core/primitive_state"},"fields":{"polygons":{"rule":"repeated","type":"Polygon","id":1},"polylines":{"rule":"repeated","type":"Polyline","id":2},"texts":{"rule":"repeated","type":"Text","id":3},"circles":{"rule":"repeated","type":"Circle","id":4},"points":{"rule":"repeated","type":"Point","id":5},"stadiums":{"rule":"repeated","type":"Stadium","id":6},"images":{"rule":"repeated","type":"Image","id":7}}},"UIPrimitiveState":{"options":{"(xviz_json_schema)":"core/ui_primitive_state"},"fields":{"treetable":{"type":"TreeTable","id":1}}},"TimeSeriesState":{"options":{"(xviz_json_schema)":"core/timeseries_state"},"fields":{"timestamp":{"type":"double","id":1},"object_id":{"type":"string","id":2},"streams":{"rule":"repeated","type":"string","id":3},"values":{"type":"Values","id":4}}},"FutureInstances":{"options":{"(xviz_json_schema)":"core/future_instances"},"fields":{"timestamps":{"rule":"repeated","type":"double","id":1},"primitives":{"rule":"repeated","type":"PrimitiveState","id":2}}},"VariableState":{"options":{"(xviz_json_schema)":"core/variable_state"},"fields":{"variables":{"rule":"repeated","type":"Variable","id":1}}},"AnnotationState":{"options":{"(xviz_json_schema)":"core/annotation_state"},"fields":{"visuals":{"rule":"repeated","type":"Visual","id":1}}},"Variable":{"options":{"(xviz_json_schema)":"core/variable"},"fields":{"base":{"type":"VariableBase","id":1},"values":{"type":"Values","id":2}}},"VariableBase":{"fields":{"object_id":{"type":"string","id":1}}},"Values":{"options":{"(xviz_json_schema)":"core/values"},"fields":{"doubles":{"rule":"repeated","type":"double","id":2},"int32s":{"rule":"repeated","type":"int32","id":3},"bools":{"rule":"repeated","type":"bool","id":4},"strings":{"rule":"repeated","type":"string","id":5}}},"Link":{"options":{"(xviz_json_schema)":"core/link_state"},"fields":{"target_pose":{"type":"string","id":1}}},"Envelope":{"fields":{"type":{"type":"string","id":1},"data":{"type":"google.protobuf.Any","id":2}}},"xviz_json_schema":{"type":"string","id":54200,"extend":"google.protobuf.MessageOptions"},"PrimitiveBase":{"fields":{"object_id":{"type":"string","id":1},"classes":{"rule":"repeated","type":"string","id":2},"style":{"type":"StyleObjectValue","id":3}}},"Circle":{"options":{"(xviz_json_schema)":"primitives/circle"},"fields":{"base":{"type":"PrimitiveBase","id":1},"center":{"rule":"repeated","type":"float","id":2},"radius":{"type":"float","id":3}}},"Image":{"options":{"(xviz_json_schema)":"primitives/image"},"fields":{"base":{"type":"PrimitiveBase","id":1},"position":{"rule":"repeated","type":"float","id":2},"data":{"type":"bytes","id":3},"width_px":{"type":"uint32","id":4},"height_px":{"type":"uint32","id":5}}},"Point":{"options":{"(xviz_json_schema)":"primitives/point"},"fields":{"base":{"type":"PrimitiveBase","id":1},"points":{"rule":"repeated","type":"float","id":2},"colors":{"type":"bytes","id":3}}},"Polygon":{"options":{"(xviz_json_schema)":"primitives/polygon"},"fields":{"base":{"type":"PrimitiveBase","id":1},"vertices":{"rule":"repeated","type":"float","id":2}}},"Polyline":{"options":{"(xviz_json_schema)":"primitives/polyline"},"fields":{"base":{"type":"PrimitiveBase","id":1},"vertices":{"rule":"repeated","type":"float","id":2},"colors":{"type":"bytes","id":3}}},"Stadium":{"options":{"(xviz_json_schema)":"primitives/stadium"},"fields":{"base":{"type":"PrimitiveBase","id":1},"start":{"rule":"repeated","type":"float","id":2},"end":{"rule":"repeated","type":"float","id":3},"radius":{"type":"float","id":4}}},"Text":{"options":{"(xviz_json_schema)":"primitives/text"},"fields":{"base":{"type":"PrimitiveBase","id":1},"position":{"rule":"repeated","type":"float","id":2},"text":{"type":"string","id":3}}},"SessionType":{"values":{"SESSION_TYPE_INVALID":0,"LIVE":1,"LOG":2,"UNBUFFERED_LOG":3}},"Start":{"options":{"(xviz_json_schema)":"session/start"},"fields":{"version":{"type":"string","id":1},"profile":{"type":"string","id":2},"session_type":{"type":"SessionType","id":3},"message_format":{"type":"MessageFormat","id":4},"log":{"type":"string","id":5}},"nested":{"MessageFormat":{"values":{"START_MESSAGE_FORMAT_INVALID":0,"JSON":1,"BINARY":2}}}},"TransformLog":{"options":{"(xviz_json_schema)":"session/transform_log"},"fields":{"id":{"type":"string","id":1},"start_timestamp":{"type":"double","id":2},"end_timestamp":{"type":"double","id":3},"desired_streams":{"rule":"repeated","type":"string","id":4}}},"StateUpdate":{"options":{"(xviz_json_schema)":"session/state_update"},"fields":{"update_type":{"type":"UpdateType","id":1},"updates":{"rule":"repeated","type":"StreamSet","id":2}},"nested":{"UpdateType":{"values":{"STATE_UPDATE_UPDATE_TYPE_INVALID":0,"SNAPSHOT":1,"INCREMENTAL":2,"COMPLETE_STATE":3,"PERSISTENT":4}}}},"TransformLogDone":{"options":{"(xviz_json_schema)":"session/transform_log_done"},"fields":{"id":{"type":"string","id":1}}},"TransformPointInTime":{"options":{"(xviz_json_schema)":"session/transform_point_in_time"},"fields":{"id":{"type":"string","id":1},"query_timestamp":{"type":"double","id":2},"desired_streams":{"rule":"repeated","type":"string","id":3}}},"Reconfigure":{"options":{"(xviz_json_schema)":"session/reconfigure"},"fields":{"update_type":{"type":"UpdateType","id":1},"config_update":{"type":"google.protobuf.Struct","id":2}},"nested":{"UpdateType":{"values":{"RECONFIGURE_UPDATE_TYPE_INVALID":0,"DELTA":1,"FULL":2}}}},"Metadata":{"options":{"(xviz_json_schema)":"session/metadata"},"fields":{"version":{"type":"string","id":1},"streams":{"keyType":"string","type":"StreamMetadata","id":2},"cameras":{"keyType":"string","type":"CameraInfo","id":3},"stream_aliases":{"keyType":"string","type":"string","id":4},"ui_config":{"keyType":"string","type":"UIPanelInfo","id":5},"log_info":{"type":"LogInfo","id":6}}},"Error":{"options":{"(xviz_json_schema)":"session/error"},"fields":{"message":{"type":"string","id":1}}},"StreamMetadata":{"options":{"(xviz_json_schema)":"session/stream_metadata"},"fields":{"source":{"type":"string","id":1},"units":{"type":"string","id":2},"category":{"type":"Category","id":3},"scalar_type":{"type":"ScalarType","id":4},"primitive_type":{"type":"PrimitiveType","id":5},"ui_primitive_type":{"type":"UIPrimitiveType","id":6},"annotation_type":{"type":"AnnotationType","id":7},"stream_style":{"type":"StyleStreamValue","id":8},"style_classes":{"rule":"repeated","type":"StyleClass","id":9},"coordinate":{"type":"CoordinateType","id":10},"transform":{"rule":"repeated","type":"double","id":11},"transform_callback":{"type":"string","id":12}},"nested":{"Category":{"values":{"STREAM_METADATA_CATEGORY_INVALID":0,"PRIMITIVE":1,"TIME_SERIES":2,"VARIABLE":3,"ANNOTATION":4,"FUTURE_INSTANCE":5,"POSE":6,"UI_PRIMITIVE":7}},"ScalarType":{"values":{"STREAM_METADATA_SCALAR_TYPE_INVALID":0,"FLOAT":1,"INT32":2,"STRING":3,"BOOL":4}},"PrimitiveType":{"values":{"STREAM_METADATA_PRIMITIVE_TYPE_INVALID":0,"CIRCLE":1,"IMAGE":2,"POINT":3,"POLYGON":4,"POLYLINE":5,"STADIUM":6,"TEXT":7}},"UIPrimitiveType":{"values":{"STREAM_METADATA_UI_PRIMITIVE_TYPE_INVALID":0,"TREETABLE":1}},"AnnotationType":{"values":{"STREAM_METADATA_ANNOTATION_TYPE_INVALID":0,"VISUAL":1}},"CoordinateType":{"values":{"STREAM_METADATA_COORDINATE_TYPE_INVALID":0,"GEOGRAPHIC":1,"IDENTITY":2,"DYNAMIC":3,"VEHICLE_RELATIVE":4}}}},"CameraInfo":{"options":{"(xviz_json_schema)":"session/camera_info"},"fields":{"human_name":{"type":"string","id":1},"source":{"type":"string","id":2},"vehicle_position":{"rule":"repeated","type":"double","id":3},"vehicle_orientation":{"rule":"repeated","type":"double","id":4},"pixel_width":{"type":"double","id":5},"pixel_height":{"type":"double","id":6},"rectification_projection":{"rule":"repeated","type":"double","id":7},"gl_projection":{"rule":"repeated","type":"double","id":8}}},"UIPanelInfo":{"options":{"(xviz_json_schema)":"session/ui_panel_info"},"fields":{"name":{"type":"string","id":1},"needed_streams":{"rule":"repeated","type":"string","id":2},"config":{"type":"google.protobuf.Struct","id":3}}},"LogInfo":{"options":{"(xviz_json_schema)":"session/log_info"},"fields":{"start_time":{"type":"double","id":1},"end_time":{"type":"double","id":2}}},"StyleClass":{"options":{"(xviz_json_schema)":"style/class"},"fields":{"name":{"type":"string","id":1},"style":{"type":"StyleObjectValue","id":2}}},"StyleObjectValue":{"options":{"(xviz_json_schema)":"style/object_value"},"fields":{"fill_color":{"type":"bytes","id":1},"stroke_color":{"type":"bytes","id":2},"stroke_width":{"type":"float","id":3},"radius":{"type":"float","id":4},"text_size":{"type":"float","id":5},"text_rotation":{"type":"float","id":6},"text_anchor":{"type":"TextAnchor","id":7},"text_baseline":{"type":"TextAlignmentBaseline","id":8},"height":{"type":"float","id":9}}},"StyleStreamValue":{"options":{"(xviz_json_schema)":"style/stream_value"},"fields":{"fill_color":{"type":"bytes","id":1},"stroke_color":{"type":"bytes","id":2},"stroke_width":{"type":"float","id":3},"radius":{"type":"float","id":4},"text_size":{"type":"float","id":5},"text_rotation":{"type":"float","id":6},"text_anchor":{"type":"TextAnchor","id":7},"text_baseline":{"type":"TextAlignmentBaseline","id":8},"height":{"type":"float","id":9},"radius_min_pixels":{"type":"uint32","id":10},"radius_max_pixels":{"type":"uint32","id":11},"stroke_width_min_pixels":{"type":"uint32","id":12},"stroke_width_max_pixels":{"type":"uint32","id":13},"opacity":{"type":"float","id":14},"stroked":{"type":"bool","id":15},"filled":{"type":"bool","id":16},"extruded":{"type":"bool","id":17},"radius_pixels":{"type":"uint32","id":18},"font_weight":{"type":"uint32","id":19},"font_family":{"type":"string","id":20},"point_color_mode":{"type":"PointColorMode","id":21},"point_color_domain":{"rule":"repeated","type":"float","id":22}}},"Color":{"fields":{"values":{"type":"bytes","id":1}}},"TextAnchor":{"values":{"TEXT_ANCHOR_INVALID":0,"START":1,"MIDDLE":2,"END":3}},"TextAlignmentBaseline":{"values":{"TEXT_ALIGNMENT_BASELINE_INVALID":0,"TOP":1,"CENTER":2,"BOTTOM":3}},"PointColorMode":{"values":{"POINT_COLOR_MODE_INVALID":0,"ELEVATION":1,"DISTANCE_TO_VEHICLE":2}},"TreeTable":{"options":{"(xviz_json_schema)":"ui-primitives/treetable"},"fields":{"columns":{"rule":"repeated","type":"TreeTableColumn","id":1},"nodes":{"rule":"repeated","type":"TreeTableNode","id":2}}},"TreeTableColumn":{"fields":{"display_text":{"type":"string","id":1},"type":{"type":"ColumnType","id":2},"unit":{"type":"string","id":3}},"nested":{"ColumnType":{"values":{"TREE_TABLE_COLUMN_COLUMN_TYPE_INVALID":0,"INT32":1,"DOUBLE":2,"STRING":3,"BOOLEAN":4}}}},"TreeTableNode":{"fields":{"id":{"type":"int32","id":1},"parent":{"type":"int32","id":2},"column_values":{"rule":"repeated","type":"string","id":3}}}}}}},"google":{"nested":{"protobuf":{"nested":{"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"public_dependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weak_dependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"message_type":{"rule":"repeated","type":"DescriptorProto","id":4},"enum_type":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"source_code_info":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nested_type":{"rule":"repeated","type":"DescriptorProto","id":3},"enum_type":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extension_range":{"rule":"repeated","type":"ExtensionRange","id":5},"oneof_decl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reserved_range":{"rule":"repeated","type":"ReservedRange","id":9},"reserved_name":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"type_name":{"type":"string","id":6},"extendee":{"type":"string","id":2},"default_value":{"type":"string","id":7},"oneof_index":{"type":"int32","id":9},"json_name":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"input_type":{"type":"string","id":2},"output_type":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"client_streaming":{"type":"bool","id":5},"server_streaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"java_package":{"type":"string","id":1},"java_outer_classname":{"type":"string","id":8},"java_multiple_files":{"type":"bool","id":10},"java_generate_equals_and_hash":{"type":"bool","id":20,"options":{"deprecated":true}},"java_string_check_utf8":{"type":"bool","id":27},"optimize_for":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"go_package":{"type":"string","id":11},"cc_generic_services":{"type":"bool","id":16},"java_generic_services":{"type":"bool","id":17},"py_generic_services":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"cc_enable_arenas":{"type":"bool","id":31},"objc_class_prefix":{"type":"string","id":36},"csharp_namespace":{"type":"string","id":37},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"message_set_wire_format":{"type":"bool","id":1},"no_standard_descriptor_accessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"map_entry":{"type":"bool","id":7},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allow_alias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifier_value":{"type":"string","id":3},"positive_int_value":{"type":"uint64","id":4},"negative_int_value":{"type":"int64","id":5},"double_value":{"type":"double","id":6},"string_value":{"type":"bytes","id":7},"aggregate_value":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"name_part":{"rule":"required","type":"string","id":1},"is_extension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leading_comments":{"type":"string","id":3},"trailing_comments":{"type":"string","id":4},"leading_detached_comments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"source_file":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}}}}}}}}\')},function(e,t,r){"use strict";var n=r(160),i=r(77),o=r(164),a=r(110),s=r(111),u=r(165),c=r(166),f=r(187),l=r(42);e.exports=v,v.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error(\'no schema with key or ref "\'+e+\'"\')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);!0!==r.$async&&(this.errors=r.errors);return i},v.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},v.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,r,n);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return E(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,r,n,!0),this},v.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},v.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(d)?d:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},v.prototype.getSchema=function(e){var t=g(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=i.schema.call(e,{schema:{}},t);if(r){var o=r.schema,s=r.root,u=r.baseId,c=n.call(e,o,s,void 0,u);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:u,validate:c}),c}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=g(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=n+a.dataPath+" "+a.message+r)}return i.slice(0,-r.length)},v.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,u=this._cache.get(s);if(u)return u;n=n||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&n&&E(this,c);var f,l=!1!==this._opts.validateSchema&&!t;l&&!(f=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var p=i.ids.call(this,e),h=new a({id:c,schema:e,localRefs:p,cacheKey:s,meta:r});"#"!=c[0]&&n&&(this._refs[c]=h);this._cache.put(s,h),l&&f&&this.validateSchema(e,!0);return h},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=n.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,r=t.apply(this,arguments);return o.errors=t.errors,r}},v.prototype.compileAsync=r(188);var p=r(189);v.prototype.addKeyword=p.add,v.prototype.getKeyword=p.get,v.prototype.removeKeyword=p.remove,v.prototype.validateKeyword=p.validate;var h=r(79);v.ValidationError=h.Validation,v.MissingRefError=h.MissingRef,v.$dataMetaSchema=f;var d="http://json-schema.org/draft-07/schema",y=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=l.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:j,warn:j,error:j};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"auto":return _;case"id":return O;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=l.copy(e._opts),r=0;r<y.length;r++)delete t[y[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=r(192),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var n=r(117);e._opts.$data&&(n=f(n,m));e.addMetaSchema(n,d,!0),e._refs["http://json-schema.org/schema"]=d}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function g(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function O(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function _(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error(\'schema with key or id "\'+t+\'" already exists\')}function j(){}},function(e,t,r){"use strict";var n=r(77),i=r(42),o=r(79),a=r(111),s=r(112),u=i.ucs2length,c=r(78),f=o.Validation;function l(e,t,r){var n=h.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function p(e,t,r){var n=h.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function h(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function d(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function y(e){return"var default"+e+" = defaults["+e+"];"}function m(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function g(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}e.exports=function e(t,r,h,b){var O=this,w=this._opts,_=[void 0],E={},j=[],P={},S=[],x={},T=[];r=r||{schema:t,refVal:_,refs:E};var A=l.call(this,t,r,b),I=this._compilations[A.index];if(A.compiling)return I.callValidate=function e(){var t=I.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var k=this._formats,R=this.RULES;try{var M=L(t,r,h,b);I.validate=M;var N=I.callValidate;return N&&(N.schema=M.schema,N.errors=null,N.refs=M.refs,N.refVal=M.refVal,N.root=M.root,N.$async=M.$async,w.sourceCode&&(N.source=M.source)),M}finally{p.call(this,t,r,b)}function L(t,a,l,p){var h=!a||a&&a.schema==t;if(a.schema!=r.schema)return e.call(O,t,a,l,p);var b,P=!0===t.$async,x=s({isTop:!0,schema:t,isRoot:h,baseId:p,root:a,schemaPath:"",errSchemaPath:"#",errorPath:\'""\',MissingRefError:o.MissingRef,RULES:R,validate:s,util:i,resolve:n,resolveRef:V,usePattern:B,useDefault:F,useCustomRule:U,opts:w,formats:k,logger:O.logger,self:O});x=g(_,m)+g(j,d)+g(S,y)+g(T,v)+x,w.processCode&&(x=w.processCode(x,t));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",x)(O,R,k,r,_,S,T,c,u,f),_[0]=b}catch(e){throw O.logger.error("Error compiling schema, function code:",x),e}return b.schema=t,b.errors=null,b.refs=E,b.refVal=_,b.root=h?b:a,P&&(b.$async=!0),!0===w.sourceCode&&(b.source={code:x,patterns:j,defaults:S}),b}function V(t,i,o){i=n.url(t,i);var a,s,u=E[i];if(void 0!==u)return C(a=_[u],s="refVal["+u+"]");if(!o&&r.refs){var c=r.refs[i];if(void 0!==c)return C(a=r.refVal[c],s=D(i,a))}s=D(i);var f=n.call(O,L,r,i);if(void 0===f){var l=h&&h[i];l&&(f=n.inlineRef(l,w.inlineRefs)?l:e.call(O,l,r,h,t))}if(void 0!==f)return function(e,t){var r=E[e];_[r]=t}(i,f),C(f,s);!function(e){delete E[e]}(i)}function D(e,t){var r=_.length;return _[r]=t,E[e]=r,"refVal"+r}function C(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=P[e];return void 0===t&&(t=P[e]=j.length,j[t]=e),"pattern"+t}function F(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),r=x[t];return void 0===r&&(r=x[t]=S.length,S[r]=e),"default"+r}}function U(e,t,r,n){if(!1!==O._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o)if(!o(t)){var a="keyword schema is invalid: "+O.errorsText(o.errors);if("log"!=O._opts.validateSchema)throw new Error(a);O.logger.error(a)}}var s,u=e.definition.compile,c=e.definition.inline,f=e.definition.macro;if(u)s=u.call(O,t,r,n);else if(f)s=f.call(O,t,r,n),!1!==w.validateSchema&&O.validateSchema(s,!0);else if(c)s=c.call(O,n,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error(\'custom keyword "\'+e.keyword+\'"failed to compile\');var l=T.length;return T[l]=s,{code:"customRule"+l,validate:s}}}},function(e,t,r){\n/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),o="[\\\\!\\\\$\\\\&\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]",a=t("[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]",o),s=e?"[\\\\uE000-\\\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\\\-\\\\.\\\\_\\\\~]",e?"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]":"[]"),c=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\\\+\\\\-\\\\.]")+"*"),f=r(r(i+"|"+t(u,o,"[\\\\:]"))+"*"),l=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),p=r(l+"\\\\."+l+"\\\\."+l+"\\\\."+l),h=r(n+"{1,4}"),d=r(r(h+"\\\\:"+h)+"|"+p),y=r(r(h+"\\\\:")+"{6}"+d),m=r("\\\\:\\\\:"+r(h+"\\\\:")+"{5}"+d),v=r(r(h)+"?\\\\:\\\\:"+r(h+"\\\\:")+"{4}"+d),g=r(r(r(h+"\\\\:")+"{0,1}"+h)+"?\\\\:\\\\:"+r(h+"\\\\:")+"{3}"+d),b=r(r(r(h+"\\\\:")+"{0,2}"+h)+"?\\\\:\\\\:"+r(h+"\\\\:")+"{2}"+d),O=r(r(r(h+"\\\\:")+"{0,3}"+h)+"?\\\\:\\\\:"+h+"\\\\:"+d),w=r(r(r(h+"\\\\:")+"{0,4}"+h)+"?\\\\:\\\\:"+d),_=r(r(r(h+"\\\\:")+"{0,5}"+h)+"?\\\\:\\\\:"+h),E=r(r(r(h+"\\\\:")+"{0,6}"+h)+"?\\\\:\\\\:"),j=r([y,m,v,g,b,O,w,_,E].join("|")),P=r(r(u+"|"+i)+"+"),S=(r(j+"\\\\%25"+P),r(j+r("\\\\%25|\\\\%(?!"+n+"{2})")+P)),x=r("[vV]"+n+"+\\\\."+t(u,o,"[\\\\:]")+"+"),T=r("\\\\["+r(S+"|"+j+"|"+x)+"\\\\]"),A=r(r(i+"|"+t(u,o))+"*"),I=r(T+"|"+p+"(?!"+A+")|"+A),k=r("[0-9]*"),R=r(r(f+"@")+"?"+I+r("\\\\:"+k)+"?"),M=r(i+"|"+t(u,o,"[\\\\:\\\\@]")),N=r(M+"*"),L=r(M+"+"),V=r(r(i+"|"+t(u,o,"[\\\\@]"))+"+"),D=r(r("\\\\/"+N)+"*"),C=r("\\\\/"+r(L+D)+"?"),B=r(V+D),F=r(L+D),U="(?!"+M+")",z=(r(D+"|"+C+"|"+B+"|"+F+"|"+U),r(r(M+"|"+t("[\\\\/\\\\?]",s))+"*")),$=r(r(M+"|[\\\\/\\\\?]")+"*"),Z=r(r("\\\\/\\\\/"+R+D)+"|"+C+"|"+F+"|"+U),X=r(c+"\\\\:"+Z+r("\\\\?"+z)+"?"+r("\\\\#"+$)+"?"),q=r(r("\\\\/\\\\/"+R+D)+"|"+C+"|"+B+"|"+U),G=r(q+r("\\\\?"+z)+"?"+r("\\\\#"+$)+"?");return r(X+"|"+G),r(c+"\\\\:"+Z+r("\\\\?"+z)+"?"),r(r("\\\\/\\\\/("+r("("+f+")@")+"?("+I+")"+r("\\\\:("+k+")")+"?)")+"?("+D+"|"+C+"|"+F+"|"+U+")"),r("\\\\?("+z+")"),r("\\\\#("+$+")"),r(r("\\\\/\\\\/("+r("("+f+")@")+"?("+I+")"+r("\\\\:("+k+")")+"?)")+"?("+D+"|"+C+"|"+B+"|"+U+")"),r("\\\\?("+z+")"),r("\\\\#("+$+")"),r(r("\\\\/\\\\/("+r("("+f+")@")+"?("+I+")"+r("\\\\:("+k+")")+"?)")+"?("+D+"|"+C+"|"+F+"|"+U+")"),r("\\\\?("+z+")"),r("\\\\#("+$+")"),r("("+f+")@"),r("\\\\:("+k+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\\\+\\\\-\\\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\\\%\\\\:]",u,o),"g"),NOT_HOST:new RegExp(t("[^\\\\%\\\\[\\\\]\\\\:]",u,o),"g"),NOT_PATH:new RegExp(t("[^\\\\%\\\\/\\\\:\\\\@]",u,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\\\%\\\\/\\\\@]",u,o),"g"),NOT_QUERY:new RegExp(t("[^\\\\%]",u,o,"[\\\\:\\\\@\\\\/\\\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\\\%]",u,o,"[\\\\:\\\\@\\\\/\\\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,o),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\\\%]",u,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\\\[?("+j+")"+r(r("\\\\%25|\\\\%(?!"+n+"{2})")+"("+P+")")+"?\\\\]?$")}}var a=o(!1),s=o(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,f=/^xn--/,l=/[^\\0-\\x7E]/,p=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,y=String.fromCharCode;function m(e){throw new RangeError(h[e])}function v(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(p,".")).split("."),t).join(".");return n+i}function g(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},O=function(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=36)e=d(e/35);return d(n+36*e/(e+38))},w=function(e){var t,r=[],n=e.length,i=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&m("not-basic"),r.push(e.charCodeAt(u));for(var f=s>0?s+1:0;f<n;){for(var l=i,p=1,h=36;;h+=36){f>=n&&m("invalid-input");var y=(t=e.charCodeAt(f++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(y>=36||y>d((c-i)/p))&&m("overflow"),i+=y*p;var v=h<=a?1:h>=a+26?26:h-a;if(y<v)break;var g=36-v;p>d(c/g)&&m("overflow"),p*=g}var b=r.length+1;a=O(i-l,b,0==l),d(i/b)>c-o&&m("overflow"),o+=d(i/b),i%=b,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},_=function(e){var t=[],r=(e=g(e)).length,n=128,i=0,o=72,a=!0,s=!1,u=void 0;try{for(var f,l=e[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var p=f.value;p<128&&t.push(y(p))}}catch(e){s=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}var h=t.length,v=h;for(h&&t.push("-");v<r;){var w=c,_=!0,E=!1,j=void 0;try{for(var P,S=e[Symbol.iterator]();!(_=(P=S.next()).done);_=!0){var x=P.value;x>=n&&x<w&&(w=x)}}catch(e){E=!0,j=e}finally{try{!_&&S.return&&S.return()}finally{if(E)throw j}}var T=v+1;w-n>d((c-i)/T)&&m("overflow"),i+=(w-n)*T,n=w;var A=!0,I=!1,k=void 0;try{for(var R,M=e[Symbol.iterator]();!(A=(R=M.next()).done);A=!0){var N=R.value;if(N<n&&++i>c&&m("overflow"),N==n){for(var L=i,V=36;;V+=36){var D=V<=o?1:V>=o+26?26:V-o;if(L<D)break;var C=L-D,B=36-D;t.push(y(b(D+C%B,0))),L=d(C/B)}t.push(y(b(L,0))),o=O(i,T,v==h),i=0,++v}}}catch(e){I=!0,k=e}finally{try{!A&&M.return&&M.return()}finally{if(I)throw k}}++i,++n}return t.join("")},E=function(e){return v(e,(function(e){return l.test(e)?"xn--"+_(e):e}))},j=function(e){return v(e,(function(e){return f.test(e)?w(e.slice(4).toLowerCase()):e}))},P={};function S(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function x(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function T(e,t){function r(e){var r=x(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,i)),e}function A(e){return e.replace(/^0*(.*)/,"$1")||"0"}function I(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(A).join("."):e}function k(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],o=n[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=u(a,2),c=s[0],f=s[1],l=f?f.split(":").map(A):[],p=c.split(":").map(A),h=t.IPV4ADDRESS.test(p[p.length-1]),d=h?7:8,y=p.length-d,m=Array(d),v=0;v<d;++v)m[v]=l[v]||p[y+v]||"";h&&(m[d-1]=I(m[d-1],t));var g=m.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(g&&g.length>1){var O=m.slice(0,g.index),w=m.slice(g.index+g.length);b=O.join(":")+"::"+w.join(":")}else b=m.join(":");return o&&(b+="%"+o),b}return e}var R=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,M=void 0==="".match(/(){0}/)[1];function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(R);if(i){M?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?i[4]:void 0)),r.host&&(r.host=k(I(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=P[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)T(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=E(r.host.replace(n.PCT_ENCODED,x).toLowerCase())}catch(e){r.error=r.error||"Host\'s domain name can not be converted to ASCII via punycode: "+e}T(r,a)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function L(e,t){var r=!1!==t.iri?s:a,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(k(I(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var V=/^\\.\\.?\\//,D=/^\\/\\.(\\/|$)/,C=/^\\/\\.\\.(\\/|$)/,B=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function F(e){for(var t=[];e.length;)if(e.match(V))e=e.replace(V,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(C))e=e.replace(C,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(B);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:a,n=[],i=P[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?j(e.host):E(e.host.replace(r.PCT_ENCODED,x).toLowerCase())}catch(r){e.error=e.error||"Host\'s domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}T(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=L(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=F(u)),void 0===o&&(u=u.replace(/^\\/\\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=N(U(e,r),r),t=N(U(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=F(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=F(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function $(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,x)}var Z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},X={scheme:"https",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize};function q(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var G={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=q(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(q(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=u(r,2),i=n[0],o=n[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},Y={scheme:"wss",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},W={},J="[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]",H="[0-9A-Fa-f]",Q=r(r("%[EFef]"+H+"%"+H+H+"%"+H+H)+"|"+r("%[89A-Fa-f]"+H+"%"+H+H)+"|"+r("%"+H+H)),K=t("[\\\\!\\\\$\\\\%\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]",\'[\\\\"\\\\\\\\]\'),ee=new RegExp(J,"g"),te=new RegExp(Q,"g"),re=new RegExp(t("[^]","[A-Za-z0-9\\\\!\\\\$\\\\%\\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]","[\\\\.]",\'[\\\\"]\',K),"g"),ne=new RegExp(t("[^]",J,"[\\\\!\\\\$\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]"),"g"),ie=ne;function oe(e){var t=x(e);return t.match(ee)?t:e}var ae={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},a=r.query.split("&"),s=0,u=a.length;s<u;++s){var c=a[s].split("=");switch(c[0]){case"to":for(var f=c[1].split(","),l=0,p=f.length;l<p;++l)n.push(f[l]);break;case"subject":r.subject=$(c[1],t);break;case"body":r.body=$(c[1],t);break;default:i=!0,o[$(c[0],t)]=$(c[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var h=0,d=n.length;h<d;++h){var y=n[h].split("@");if(y[0]=$(y[0]),t.unicodeSupport)y[1]=$(y[1],t).toLowerCase();else try{y[1]=E($(y[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address\'s domain name can not be converted to ASCII via punycode: "+e}n[h]=y.join("@")}return r},serialize:function(e,t){var r,n=e,o=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var a=0,s=o.length;a<s;++a){var u=String(o[a]),c=u.lastIndexOf("@"),f=u.slice(0,c).replace(te,oe).replace(te,i).replace(re,S),l=u.slice(c+1);try{l=t.iri?j(l):E($(l,t).toLowerCase())}catch(e){n.error=n.error||"Email address\'s domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[a]=f+"@"+l}n.path=o.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var h=[];for(var d in p)p[d]!==W[d]&&h.push(d.replace(te,oe).replace(te,i).replace(ne,S)+"="+p[d].replace(te,oe).replace(te,i).replace(ie,S));return h.length&&(n.query=h.join("&")),n}},se=/^([^\\:]+)\\:(.*)/,ue={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(se),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),a=r[2],s=i+":"+(t.nid||o),u=P[s];n.nid=o,n.nss=a,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=P[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(n||t.nid)+":"+s,a}},ce=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,fe={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};P[Z.scheme]=Z,P[X.scheme]=X,P[G.scheme]=G,P[Y.scheme]=Y,P[ae.scheme]=ae,P[ue.scheme]=ue,P[fe.scheme]=fe,e.SCHEMES=P,e.pctEncChar=S,e.pctDecChars=x,e.parse=N,e.removeDotSegments=F,e.serialize=U,e.resolveComponents=z,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return U(z(N(e,n),N(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=U(N(e,t),t):"object"===n(e)&&(e=N(U(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=U(N(e,r),r):"object"===n(e)&&(e=U(e,r)),"string"==typeof t?t=U(N(t,r),r):"object"===n(t)&&(t=U(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,S)},e.unescapeComponent=$,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r}},function(e,t,r){"use strict";var n=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),function e(t,r,i,o,a,s,u,c,f,l){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var p in r(o,a,s,u,c,f,l),o){var h=o[p];if(Array.isArray(h)){if(p in n.arrayKeywords)for(var d=0;d<h.length;d++)e(t,r,i,h[d],a+"/"+p+"/"+d,s,a,p,o,d)}else if(p in n.propsKeywords){if(h&&"object"==typeof h)for(var y in h)e(t,r,i,h[y],a+"/"+p+"/"+y.replace(/~/g,"~0").replace(/\\//g,"~1"),s,a,p,o,y)}else(p in n.keywords||t.allKeys&&!(p in n.skipKeywords))&&e(t,r,i,h,a+"/"+p,s,a,p,o)}i(o,a,s,u,c,f,l)}}(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,r){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,r){"use strict";var n=r(42),i=/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,s=/^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,u=/^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&\'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&\'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&\'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&\'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&\'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&\'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&\'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&\'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&\'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&\'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\\x00-\\x20"\'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,f=/^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,l=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,p=/^(?:\\/(?:[^~/]|~0|~1)*)*$/,h=/^#(?:\\/(?:[a-z0-9_\\-.!$&\'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,d=/^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;function y(e){return e="full"==e?"full":"fast",n.copy(y[e])}function m(e){var t=e.match(i);if(!t)return!1;var r=+t[1],n=+t[2],a=+t[3];return n>=1&&n<=12&&a>=1&&a<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:o[n])}function v(e,t){var r=e.match(a);if(!r)return!1;var n=r[1],i=r[2],o=r[3],s=r[5];return(n<=23&&i<=59&&o<=59||23==n&&59==i&&60==o)&&(!t||s)}e.exports=y,y.fast={date:/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,time:/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,"date-time":/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,"uri-template":c,url:f,email:/^[a-z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:w,uuid:l,"json-pointer":p,"json-pointer-uri-fragment":h,"relative-json-pointer":d},y.full={date:m,time:v,"date-time":function(e){var t=e.split(g);return 2==t.length&&m(t[0])&&v(t[1],!0)},uri:function(e){return b.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&\'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&\'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&\'"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&\'"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&\'"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&\'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&\'"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&\'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&\'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&\'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:f,email:/^[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:w,uuid:l,"json-pointer":p,"json-pointer-uri-fragment":h,"relative-json-pointer":d};var g=/t|\\s/i;var b=/\\/|:/;var O=/[^\\\\]\\\\Z/;function w(e){if(O.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,r){"use strict";var n=r(167),i=r(42).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if("object"==typeof r){var o=Object.keys(r)[0];i=r[o],r=o,i.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:n[r],implements:i}})),e.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,r){"use strict";e.exports={$ref:r(168),allOf:r(169),anyOf:r(170),$comment:r(171),const:r(172),contains:r(173),dependencies:r(174),enum:r(175),format:r(176),if:r(177),items:r(178),maximum:r(113),minimum:r(113),maxItems:r(114),minItems:r(114),maxLength:r(115),minLength:r(115),maxProperties:r(116),minProperties:r(116),multipleOf:r(179),not:r(180),oneOf:r(181),pattern:r(182),properties:r(183),propertyNames:r(184),required:r(185),uniqueItems:r(186),validate:r(112)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o=" ",a=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(s||""),p="valid"+a;if("#"==u||"#/"==u)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var h=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===h){var d=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(d),(g=g||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: \'$ref\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: \'"+e.util.escapeQuotes(u)+"\' } ",!1!==e.opts.messages&&(o+=" , message: \'can\\\\\'t resolve reference "+e.util.escapeQuotes(u)+"\' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var y=o;o=g.pop(),!e.compositeRule&&f?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,d);e.logger.warn(d),f&&(o+=" if (true) { ")}}else if(h.inline){var m=e.util.copy(e);m.level++;var v="valid"+m.level;m.schema=h.schema,m.schemaPath="",m.errSchemaPath=u,o+=" "+e.validate(m).replace(/validate\\.schema/g,h.code)+" ",f&&(o+=" if ("+v+") { ")}else n=!0===h.$async||e.async&&!1!==h.$async,i=h.code}if(i){var g;(g=g||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+l+", (dataPath || \'\')",\'""\'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");f&&(o+=" var "+p+"; "),o+=" try { await "+b+"; ",f&&(o+=" "+p+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",f&&(o+=" "+p+" = false; "),o+=" } ",f&&(o+=" if ("+p+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",f&&(o+=" else { ")}return o}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var f="valid"+u.level,l=u.baseId,p=!0,h=i;if(h)for(var d,y=-1,m=h.length-1;y<m;)d=h[y+=1],(e.opts.strictKeywords?"object"==typeof d&&Object.keys(d).length>0||!1===d:e.util.schemaHasRules(d,e.RULES.all))&&(p=!1,u.schema=d,u.schemaPath=o+"["+y+"]",u.errSchemaPath=a+"/"+y,n+="  "+e.validate(u)+" ",u.baseId=l,s&&(n+=" if ("+f+") { ",c+="}"));return s&&(n+=p?" if (true) { ":" "+c.slice(0,-1)+" "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p="errs__"+i,h=e.util.copy(e),d="";h.level++;var y="valid"+h.level;if(a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var m=h.baseId;n+=" var "+p+" = errors; var "+l+" = false;  ";var v=e.compositeRule;e.compositeRule=h.compositeRule=!0;var g=a;if(g)for(var b,O=-1,w=g.length-1;O<w;)b=g[O+=1],h.schema=b,h.schemaPath=s+"["+O+"]",h.errSchemaPath=u+"/"+O,n+="  "+e.validate(h)+" ",h.baseId=m,n+=" "+l+" = "+l+" || "+y+"; if (!"+l+") { ",d+="}";e.compositeRule=h.compositeRule=v,n+=" "+d+" if (!"+l+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: \'anyOf\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: \'should match some schema in anyOf\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else c&&(n+=" if (true) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p=e.opts.$data&&a&&a.$data;p&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),p||(n+=" var schema"+i+" = validate.schema"+s+";"),n+="var "+l+" = equal("+f+", schema"+i+"); if (!"+l+") {   ";var h=h||[];h.push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'const\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: \'should be equal to constant\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var d=n;return n=h.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+d+"]); ":n+=" validate.errors = ["+d+"]; return false; ":n+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level,y="i"+i,m=h.dataLevel=e.dataLevel+1,v="data"+m,g=e.baseId,b=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all);if(n+="var "+p+" = errors;var "+l+";",b){var O=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=a,h.schemaPath=s,h.errSchemaPath=u,n+=" var "+d+" = false; for (var "+y+" = 0; "+y+" < "+f+".length; "+y+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var w=f+"["+y+"]";h.dataPathArr[m]=y;var _=e.validate(h);h.baseId=g,e.util.varOccurences(_,v)<2?n+=" "+e.util.varReplace(_,v,w)+" ":n+=" var "+v+" = "+w+"; "+_+" ",n+=" if ("+d+") break; }  ",e.compositeRule=h.compositeRule=O,n+="  if (!"+d+") {"}else n+=" if ("+f+".length == 0) {";var E=E||[];E.push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'contains\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: \'should contain a valid item\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var j=n;return n=E.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="errs__"+i,p=e.util.copy(e),h="";p.level++;var d="valid"+p.level,y={},m={},v=e.opts.ownProperties;for(w in a)if("__proto__"!=w){var g=a[w],b=Array.isArray(g)?m:y;b[w]=g}n+="var "+l+" = errors;";var O=e.errorPath;for(var w in n+="var missing"+i+";",m)if((b=m[w]).length){if(n+=" if ( "+f+e.util.getProperty(w)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(w)+"\') "),c){n+=" && ( ";var _=b;if(_)for(var E=-1,j=_.length-1;E<j;){I=_[E+=1],E&&(n+=" || "),n+=" ( ( "+(N=f+(M=e.util.getProperty(I)))+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(I)+"\') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?I:M)+") ) "}n+=")) {  ";var P="missing"+i,S="\' + "+P+" + \'";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,P,!0):O+" + "+P);var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'dependencies\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: \'"+e.util.escapeQuotes(w)+"\', missingProperty: \'"+S+"\', depsCount: "+b.length+", deps: \'"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var T=n;n=x.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+T+"]); ":n+=" validate.errors = ["+T+"]; return false; ":n+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var A=b;if(A)for(var I,k=-1,R=A.length-1;k<R;){I=A[k+=1];var M=e.util.getProperty(I),N=(S=e.util.escapeQuotes(I),f+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,I,e.opts.jsonPointers)),n+=" if ( "+N+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(I)+"\') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: \'dependencies\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: \'"+e.util.escapeQuotes(w)+"\', missingProperty: \'"+S+"\', depsCount: "+b.length+", deps: \'"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(h+="}",n+=" else { ")}e.errorPath=O;var L=p.baseId;for(var w in y){g=y[w];(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))&&(n+=" "+d+" = true; if ( "+f+e.util.getProperty(w)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(w)+"\') "),n+=") { ",p.schema=g,p.schemaPath=s+e.util.getProperty(w),p.errSchemaPath=u+"/"+e.util.escapeFragment(w),n+="  "+e.validate(p)+" ",p.baseId=L,n+=" }  ",c&&(n+=" if ("+d+") { ",h+="}"))}return c&&(n+="   "+h+" if ("+l+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p=e.opts.$data&&a&&a.$data;p&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var h="i"+i,d="schema"+i;p||(n+=" var "+d+" = validate.schema"+s+";"),n+="var "+l+";",p&&(n+=" if (schema"+i+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+i+")) "+l+" = false; else {"),n+=l+" = false;for (var "+h+"=0; "+h+"<"+d+".length; "+h+"++) if (equal("+f+", "+d+"["+h+"])) { "+l+" = true; break; }",p&&(n+="  }  "),n+=" if (!"+l+") {   ";var y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'enum\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: \'should be equal to one of the allowed values\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var m=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||"");if(!1===e.opts.format)return c&&(n+=" if (true) { "),n;var l,p=e.opts.$data&&a&&a.$data;p?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",l="schema"+i):l=a;var h=e.opts.unknownFormats,d=Array.isArray(h);if(p){n+=" var "+(y="format"+i)+" = formats["+l+"]; var "+(m="isObject"+i)+" = typeof "+y+" == \'object\' && !("+y+" instanceof RegExp) && "+y+".validate; var "+(v="formatType"+i)+" = "+m+" && "+y+".type || \'string\'; if ("+m+") { ",e.async&&(n+=" var async"+i+" = "+y+".async; "),n+=" "+y+" = "+y+".validate; } if (  ",p&&(n+=" ("+l+" !== undefined && typeof "+l+" != \'string\') || "),n+=" (","ignore"!=h&&(n+=" ("+l+" && !"+y+" ",d&&(n+=" && self._opts.unknownFormats.indexOf("+l+") == -1 "),n+=") || "),n+=" ("+y+" && "+v+" == \'"+r+"\' && !(typeof "+y+" == \'function\' ? ",e.async?n+=" (async"+i+" ? await "+y+"("+f+") : "+y+"("+f+")) ":n+=" "+y+"("+f+") ",n+=" : "+y+".test("+f+"))))) {"}else{var y;if(!(y=e.formats[a])){if("ignore"==h)return e.logger.warn(\'unknown format "\'+a+\'" ignored in schema at path "\'+e.errSchemaPath+\'"\'),c&&(n+=" if (true) { "),n;if(d&&h.indexOf(a)>=0)return c&&(n+=" if (true) { "),n;throw new Error(\'unknown format "\'+a+\'" is used in schema at path "\'+e.errSchemaPath+\'"\')}var m,v=(m="object"==typeof y&&!(y instanceof RegExp)&&y.validate)&&y.type||"string";if(m){var g=!0===y.async;y=y.validate}if(v!=r)return c&&(n+=" if (true) { "),n;if(g){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+f+"))) { "}else{n+=" if (! ";var b="formats"+e.util.getProperty(a);m&&(b+=".validate"),n+="function"==typeof y?" "+b+"("+f+") ":" "+b+".test("+f+") ",n+=") { "}}var O=O||[];O.push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'format\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",n+=p?""+l:""+e.util.toQuotedString(a),n+="  } ",!1!==e.opts.messages&&(n+=" , message: \'should match format \\"",n+=p?"\' + "+l+" + \'":""+e.util.escapeQuotes(a),n+="\\"\' "),e.opts.verbose&&(n+=" , schema:  ",n+=p?"validate.schema"+s:""+e.util.toQuotedString(a),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var w=n;return n=O.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level,y=e.schema.then,m=e.schema.else,v=void 0!==y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all)),g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=h.baseId;if(v||g){var O;h.createErrors=!1,h.schema=a,h.schemaPath=s,h.errSchemaPath=u,n+=" var "+p+" = errors; var "+l+" = true;  ";var w=e.compositeRule;e.compositeRule=h.compositeRule=!0,n+="  "+e.validate(h)+" ",h.baseId=b,h.createErrors=!0,n+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }  ",e.compositeRule=h.compositeRule=w,v?(n+=" if ("+d+") {  ",h.schema=e.schema.then,h.schemaPath=e.schemaPath+".then",h.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(h)+" ",h.baseId=b,n+=" "+l+" = "+d+"; ",v&&g?n+=" var "+(O="ifClause"+i)+" = \'then\'; ":O="\'then\'",n+=" } ",g&&(n+=" else { ")):n+=" if (!"+d+") { ",g&&(h.schema=e.schema.else,h.schemaPath=e.schemaPath+".else",h.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(h)+" ",h.baseId=b,n+=" "+l+" = "+d+"; ",v&&g?n+=" var "+(O="ifClause"+i)+" = \'else\'; ":O="\'else\'",n+=" } "),n+=" if (!"+l+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: \'if\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+O+" } ",!1!==e.opts.messages&&(n+=" , message: \'should match \\"\' + "+O+" + \'\\" schema\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p="errs__"+i,h=e.util.copy(e),d="";h.level++;var y="valid"+h.level,m="i"+i,v=h.dataLevel=e.dataLevel+1,g="data"+v,b=e.baseId;if(n+="var "+p+" = errors;var "+l+";",Array.isArray(a)){var O=e.schema.additionalItems;if(!1===O){n+=" "+l+" = "+f+".length <= "+a.length+"; ";var w=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+l+") {   ";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'additionalItems\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(n+=" , message: \'should NOT have more than "+a.length+" items\' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var E=n;n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=w,c&&(d+="}",n+=" else { ")}var j=a;if(j)for(var P,S=-1,x=j.length-1;S<x;)if(P=j[S+=1],e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0||!1===P:e.util.schemaHasRules(P,e.RULES.all)){n+=" "+y+" = true; if ("+f+".length > "+S+") { ";var T=f+"["+S+"]";h.schema=P,h.schemaPath=s+"["+S+"]",h.errSchemaPath=u+"/"+S,h.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),h.dataPathArr[v]=S;var A=e.validate(h);h.baseId=b,e.util.varOccurences(A,g)<2?n+=" "+e.util.varReplace(A,g,T)+" ":n+=" var "+g+" = "+T+"; "+A+" ",n+=" }  ",c&&(n+=" if ("+y+") { ",d+="}")}if("object"==typeof O&&(e.opts.strictKeywords?"object"==typeof O&&Object.keys(O).length>0||!1===O:e.util.schemaHasRules(O,e.RULES.all))){h.schema=O,h.schemaPath=e.schemaPath+".additionalItems",h.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+y+" = true; if ("+f+".length > "+a.length+") {  for (var "+m+" = "+a.length+"; "+m+" < "+f+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);T=f+"["+m+"]";h.dataPathArr[v]=m;A=e.validate(h);h.baseId=b,e.util.varOccurences(A,g)<2?n+=" "+e.util.varReplace(A,g,T)+" ":n+=" var "+g+" = "+T+"; "+A+" ",c&&(n+=" if (!"+y+") break; "),n+=" } }  ",c&&(n+=" if ("+y+") { ",d+="}")}}else if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u,n+="  for (var "+m+" = 0; "+m+" < "+f+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);T=f+"["+m+"]";h.dataPathArr[v]=m;A=e.validate(h);h.baseId=b,e.util.varOccurences(A,g)<2?n+=" "+e.util.varReplace(A,g,T)+" ":n+=" var "+g+" = "+T+"; "+A+" ",c&&(n+=" if (!"+y+") break; "),n+=" }"}return c&&(n+=" "+d+" if ("+p+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(a||""),p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!p&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+o+";if (",p&&(i+=" "+n+" !== undefined && ( typeof "+n+" != \'number\' || "),i+=" (division"+o+" = "+l+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",p&&(i+="  )  "),i+=" ) {   ";var h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'multipleOf\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: \'should be multiple of ",i+=p?"\' + "+n:n+"\'"),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var d=i;return i=h.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+l+" = errors;  ";var d,y=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.createErrors=!1,p.opts.allErrors&&(d=p.opts.allErrors,p.opts.allErrors=!1),n+=" "+e.validate(p)+" ",p.createErrors=!0,d&&(p.opts.allErrors=d),e.compositeRule=p.compositeRule=y,n+=" if ("+h+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'not\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: \'should NOT be valid\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var v=n;n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: \'not\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: \'should NOT be valid\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p="errs__"+i,h=e.util.copy(e),d="";h.level++;var y="valid"+h.level,m=h.baseId,v="prevValid"+i,g="passingSchemas"+i;n+="var "+p+" = errors , "+v+" = false , "+l+" = false , "+g+" = null; ";var b=e.compositeRule;e.compositeRule=h.compositeRule=!0;var O=a;if(O)for(var w,_=-1,E=O.length-1;_<E;)w=O[_+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(h.schema=w,h.schemaPath=s+"["+_+"]",h.errSchemaPath=u+"/"+_,n+="  "+e.validate(h)+" ",h.baseId=m):n+=" var "+y+" = true; ",_&&(n+=" if ("+y+" && "+v+") { "+l+" = false; "+g+" = ["+g+", "+_+"]; } else { ",d+="}"),n+=" if ("+y+") { "+l+" = "+v+" = true; "+g+" = "+_+"; }";return e.compositeRule=h.compositeRule=b,n+=d+"if (!"+l+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: \'oneOf\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(n+=" , message: \'should match exactly one schema in oneOf\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(a||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != \'string\') || "),i+=" !"+(p?"(new RegExp("+n+"))":e.usePattern(s))+".test("+l+") ) {   ";var h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'pattern\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=p?""+n:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: \'should match pattern \\"",i+=p?"\' + "+n+" + \'":""+e.util.escapeQuotes(s),i+="\\"\' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var d=i;return i=h.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="errs__"+i,p=e.util.copy(e),h="";p.level++;var d="valid"+p.level,y="key"+i,m="idx"+i,v=p.dataLevel=e.dataLevel+1,g="data"+v,b="dataProperties"+i,O=Object.keys(a||{}).filter(M),w=e.schema.patternProperties||{},_=Object.keys(w).filter(M),E=e.schema.additionalProperties,j=O.length||_.length,P=!1===E,S="object"==typeof E&&Object.keys(E).length,x=e.opts.removeAdditional,T=P||S||x,A=e.opts.ownProperties,I=e.baseId,k=e.schema.required;if(k&&(!e.opts.$data||!k.$data)&&k.length<e.opts.loopRequired)var R=e.util.toHash(k);function M(e){return"__proto__"!==e}if(n+="var "+l+" = errors;var "+d+" = true;",A&&(n+=" var "+b+" = undefined;"),T){if(n+=A?" "+b+" = "+b+" || Object.keys("+f+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+y+" = "+b+"["+m+"]; ":" for (var "+y+" in "+f+") { ",j){if(n+=" var isAdditional"+i+" = !(false ",O.length)if(O.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+y+") ";else{var N=O;if(N)for(var L=-1,V=N.length-1;L<V;)W=N[L+=1],n+=" || "+y+" == "+e.util.toQuotedString(W)+" "}if(_.length){var D=_;if(D)for(var C=-1,B=D.length-1;C<B;)oe=D[C+=1],n+=" || "+e.usePattern(oe)+".test("+y+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==x)n+=" delete "+f+"["+y+"]; ";else{var F=e.errorPath,U="\' + "+y+" + \'";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers)),P)if(x)n+=" delete "+f+"["+y+"]; ";else{n+=" "+d+" = false; ";var z=u;u=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'additionalProperties\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: \'"+U+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="\' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var $=n;n=re.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,c&&(n+=" break; ")}else if(S)if("failing"==x){n+=" var "+l+" = errors;  ";var Z=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=E,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var X=f+"["+y+"]";p.dataPathArr[v]=y;var q=e.validate(p);p.baseId=I,e.util.varOccurences(q,g)<2?n+=" "+e.util.varReplace(q,g,X)+" ":n+=" var "+g+" = "+X+"; "+q+" ",n+=" if (!"+d+") { errors = "+l+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+f+"["+y+"]; }  ",e.compositeRule=p.compositeRule=Z}else{p.schema=E,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);X=f+"["+y+"]";p.dataPathArr[v]=y;q=e.validate(p);p.baseId=I,e.util.varOccurences(q,g)<2?n+=" "+e.util.varReplace(q,g,X)+" ":n+=" var "+g+" = "+X+"; "+q+" ",c&&(n+=" if (!"+d+") break; ")}e.errorPath=F}j&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+d+") { ",h+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(O.length){var Y=O;if(Y)for(var W,J=-1,H=Y.length-1;J<H;){var Q=a[W=Y[J+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){var K=e.util.getProperty(W),ee=(X=f+K,G&&void 0!==Q.default);p.schema=Q,p.schemaPath=s+K,p.errSchemaPath=u+"/"+e.util.escapeFragment(W),p.errorPath=e.util.getPath(e.errorPath,W,e.opts.jsonPointers),p.dataPathArr[v]=e.util.toQuotedString(W);q=e.validate(p);if(p.baseId=I,e.util.varOccurences(q,g)<2){q=e.util.varReplace(q,g,X);var te=X}else{te=g;n+=" var "+g+" = "+X+"; "}if(ee)n+=" "+q+" ";else{if(R&&R[W]){n+=" if ( "+te+" === undefined ",A&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(W)+"\') "),n+=") { "+d+" = false; ";F=e.errorPath,z=u;var re,ne=e.util.escapeQuotes(W);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(F,W,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'required\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: \'"+ne+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\\\\'"+ne+"\\\\\'",n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";$=n;n=re.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,e.errorPath=F,n+=" } else { "}else c?(n+=" if ( "+te+" === undefined ",A&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(W)+"\') "),n+=") { "+d+" = true; } else { "):(n+=" if ("+te+" !== undefined ",A&&(n+=" &&   Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(W)+"\') "),n+=" ) { ");n+=" "+q+" } "}}c&&(n+=" if ("+d+") { ",h+="}")}}if(_.length){var ie=_;if(ie)for(var oe,ae=-1,se=ie.length-1;ae<se;){Q=w[oe=ie[ae+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){p.schema=Q,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),n+=A?" "+b+" = "+b+" || Object.keys("+f+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+y+" = "+b+"["+m+"]; ":" for (var "+y+" in "+f+") { ",n+=" if ("+e.usePattern(oe)+".test("+y+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);X=f+"["+y+"]";p.dataPathArr[v]=y;q=e.validate(p);p.baseId=I,e.util.varOccurences(q,g)<2?n+=" "+e.util.varReplace(q,g,X)+" ":n+=" var "+g+" = "+X+"; "+q+" ",c&&(n+=" if (!"+d+") break; "),n+=" } ",c&&(n+=" else "+d+" = true; "),n+=" }  ",c&&(n+=" if ("+d+") { ",h+="}")}}}return c&&(n+=" "+h+" if ("+l+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level;if(n+="var "+l+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=s,p.errSchemaPath=u;var d="key"+i,y="idx"+i,m="i"+i,v="\' + "+d+" + \'",g="data"+(p.dataLevel=e.dataLevel+1),b="dataProperties"+i,O=e.opts.ownProperties,w=e.baseId;O&&(n+=" var "+b+" = undefined; "),n+=O?" "+b+" = "+b+" || Object.keys("+f+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+d+" = "+b+"["+y+"]; ":" for (var "+d+" in "+f+") { ",n+=" var startErrs"+i+" = errors; ";var _=d,E=e.compositeRule;e.compositeRule=p.compositeRule=!0;var j=e.validate(p);p.baseId=w,e.util.varOccurences(j,g)<2?n+=" "+e.util.varReplace(j,g,_)+" ":n+=" var "+g+" = "+_+"; "+j+" ",e.compositeRule=p.compositeRule=E,n+=" if (!"+h+") { for (var "+m+"=startErrs"+i+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+d+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: \'propertyNames\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: \'"+v+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'property name \\\\\'"+v+"\\\\\' is invalid\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+="  if ("+l+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),l="valid"+i,p=e.opts.$data&&a&&a.$data;p&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var h="schema"+i;if(!p)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],y=a;if(y)for(var m,v=-1,g=y.length-1;v<g;){m=y[v+=1];var b=e.schema.properties[m];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(d[d.length]=m)}}else d=a;if(p||d.length){var O=e.errorPath,w=p||d.length>=e.opts.loopRequired,_=e.opts.ownProperties;if(c)if(n+=" var missing"+i+"; ",w){p||(n+=" var "+h+" = validate.schema"+s+"; ");var E="\' + "+(A="schema"+i+"["+(S="i"+i)+"]")+" + \'";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,A,e.opts.jsonPointers)),n+=" var "+l+" = true; ",p&&(n+=" if (schema"+i+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+i+")) "+l+" = false; else {"),n+=" for (var "+S+" = 0; "+S+" < "+h+".length; "+S+"++) { "+l+" = "+f+"["+h+"["+S+"]] !== undefined ",_&&(n+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+h+"["+S+"]) "),n+="; if (!"+l+") break; } ",p&&(n+="  }  "),n+="  if (!"+l+") {   ",(T=T||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'required\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: \'"+E+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\\\\'"+E+"\\\\\'",n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var j=n;n=T.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var P=d;if(P)for(var S=-1,x=P.length-1;S<x;){k=P[S+=1],S&&(n+=" || "),n+=" ( ( "+(L=f+(N=e.util.getProperty(k)))+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(k)+"\') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?k:N)+") ) "}n+=") {  ";var T;E="\' + "+(A="missing"+i)+" + \'";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,A,!0):O+" + "+A),(T=T||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: \'required\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: \'"+E+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\\\\'"+E+"\\\\\'",n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";j=n;n=T.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){p||(n+=" var "+h+" = validate.schema"+s+"; ");var A;E="\' + "+(A="schema"+i+"["+(S="i"+i)+"]")+" + \'";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,A,e.opts.jsonPointers)),p&&(n+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: \'required\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: \'"+E+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\\\\'"+E+"\\\\\'",n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),n+=" for (var "+S+" = 0; "+S+" < "+h+".length; "+S+"++) { if ("+f+"["+h+"["+S+"]] === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+h+"["+S+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: \'required\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: \'"+E+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\\\\'"+E+"\\\\\'",n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(n+="  }  ")}else{var I=d;if(I)for(var k,R=-1,M=I.length-1;R<M;){k=I[R+=1];var N=e.util.getProperty(k),L=(E=e.util.escapeQuotes(k),f+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,k,e.opts.jsonPointers)),n+=" if ( "+L+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", \'"+e.util.escapeQuotes(k)+"\') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: \'required\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: \'"+E+"\' } ",!1!==e.opts.messages&&(n+=" , message: \'",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\\\\'"+E+"\\\\\'",n+="\' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=O}else c&&(n+=" if (true) {");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,l="data"+(a||""),p="valid"+o,h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,(s||h)&&!1!==e.opts.uniqueItems){h&&(i+=" var "+p+"; if ("+n+" === false || "+n+" === undefined) "+p+" = true; else if (typeof "+n+" != \'boolean\') "+p+" = false; else { "),i+=" var i = "+l+".length , "+p+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,y=Array.isArray(d);if(!d||"object"==d||"array"==d||y&&(d.indexOf("object")>=0||d.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+l+"[i], "+l+"[j])) { "+p+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+l+"[i]; ";var m="checkDataType"+(y?"s":"");i+=" if ("+e.util[m](d,"item",e.opts.strictNumbers,!0)+") continue; ",y&&(i+=" if (typeof item == \'string\') item = \'\\"\' + item; "),i+=" if (typeof itemIndices[item] == \'number\') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",h&&(i+="  }  "),i+=" if (!"+p+") {   ";var v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: \'uniqueItems\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: \'should NOT have duplicate items (items ## \' + j + \' and \' + i + \' are identical)\' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var g=i;i=v.pop(),!e.compositeRule&&f?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",f&&(i+=" else { ")}else f&&(i+=" if (true) { ");return i}},function(e,t,r){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,o=t[r].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<n.length;i++){var s=n[i],u=a[s];u&&(a[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,r){"use strict";var n=r(79).MissingRef;e.exports=function e(t,r,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(i=r,r=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,r);return e.validate||function e(t){try{return o._compile(t)}catch(e){if(e instanceof n)return i(e);throw e}function i(n){var i=n.missingSchema;if(c(i))throw new Error("Schema "+i+" is loaded but "+n.missingRef+" cannot be resolved");var a=o._loadingSchemas[i];return a||(a=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(u,u),a.then((function(e){if(!c(i))return s(e).then((function(){c(i)||o.addSchema(e,i,void 0,r)}))})).then((function(){return e(t)}));function u(){delete o._loadingSchemas[i]}function c(e){return o._refs[e]||o._schemas[e]}}}(e)}));i&&a.then((function(e){i(null,e)}),i);return a;function s(t){var r=t.$schema;return r&&!o.getSchema(r)?e.call(o,{$ref:r},!0):Promise.resolve()}}},function(e,t,r){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=r(190),o=r(191);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)u(e,o[a],t);else u(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function u(e,t,n){for(var o,a=0;a<r.length;a++){var s=r[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},r.push(o));var u={keyword:e,definition:n,custom:!0,code:i,implements:n.implements};o.rules.push(u),r.custom[e]=u}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o=" ",a=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h="valid"+a,d="errs__"+a,y=e.opts.$data&&u&&u.$data;y?(o+=" var schema"+a+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=u;var m,v,g,b,O,w="definition"+a,_=this.definition,E="";if(y&&_.$data){O="keywordValidate"+a;var j=_.validateSchema;o+=" var "+w+" = RULES.custom[\'"+t+"\'].definition; var "+O+" = "+w+".validate;"}else{if(!(b=e.useCustomRule(this,u,e.schema,e)))return;i="validate.schema"+c,O=b.code,m=_.compile,v=_.inline,g=_.macro}var P=O+".errors",S="i"+a,x="ruleErr"+a,T=_.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(v||g||(o+=P+" = null;"),o+="var "+d+" = errors;var "+h+";",y&&_.$data&&(E+="}",o+=" if ("+i+" === undefined) { "+h+" = true; } else { ",j&&(E+="}",o+=" "+h+" = "+w+".validateSchema("+i+"); if ("+h+") { ")),v)_.statements?o+=" "+b.validate+" ":o+=" "+h+" = "+b.validate+"; ";else if(g){var A=e.util.copy(e);E="";A.level++;var I="valid"+A.level;A.schema=b.validate,A.schemaPath="";var k=e.compositeRule;e.compositeRule=A.compositeRule=!0;var R=e.validate(A).replace(/validate\\.schema/g,O);e.compositeRule=A.compositeRule=k,o+=" "+R}else{(V=V||[]).push(o),o="",o+="  "+O+".call( ",e.opts.passContext?o+="this":o+="self",m||!1===_.schema?o+=" , "+p+" ":o+=" , "+i+" , "+p+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || \'\')",\'""\'!=e.errorPath&&(o+=" + "+e.errorPath);var M=s?"data"+(s-1||""):"parentData",N=s?e.dataPathArr[s]:"parentDataProperty",L=o+=" , "+M+" , "+N+" , rootData )  ";o=V.pop(),!1===_.errors?(o+=" "+h+" = ",T&&(o+="await "),o+=L+"; "):o+=T?" var "+(P="customErrors"+a)+" = null; try { "+h+" = await "+L+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+P+" = e.errors; else throw e; } ":" "+P+" = null; "+h+" = "+L+"; "}if(_.modifying&&(o+=" if ("+M+") "+p+" = "+M+"["+N+"];"),o+=""+E,_.valid)l&&(o+=" if (true) { ");else{var V;o+=" if ( ",void 0===_.valid?(o+=" !",o+=g?""+I:""+h):o+=" "+!_.valid+" ",o+=") { ",n=this.keyword,(V=V||[]).push(o),o="",(V=V||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: \'"+(n||"custom")+"\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: \'"+this.keyword+"\' } ",!1!==e.opts.messages&&(o+=" , message: \'should pass \\""+this.keyword+"\\" keyword validation\' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),o+=" } "):o+=" {} ";var D=o;o=V.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+D+"]); ":o+=" validate.errors = ["+D+"]; return false; ":o+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var C=o;o=V.pop(),v?_.errors?"full"!=_.errors&&(o+="  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+x+" = vErrors["+S+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || \'\') + "+e.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+\'.schemaPath = "\'+f+\'"; } \',e.opts.verbose&&(o+=" "+x+".schema = "+i+"; "+x+".data = "+p+"; "),o+=" } "):!1===_.errors?o+=" "+C+" ":(o+=" if ("+d+" == errors) { "+C+" } else {  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+x+" = vErrors["+S+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || \'\') + "+e.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+\'.schemaPath = "\'+f+\'"; } \',e.opts.verbose&&(o+=" "+x+".schema = "+i+"; "+x+".data = "+p+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: \'"+(n||"custom")+"\' , dataPath: (dataPath || \'\') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: \'"+this.keyword+"\' } ",!1!==e.opts.messages&&(o+=" , message: \'should pass \\""+this.keyword+"\\" keyword validation\' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===_.errors?o+=" "+C+" ":(o+=" if (Array.isArray("+P+")) { if (vErrors === null) vErrors = "+P+"; else vErrors = vErrors.concat("+P+"); errors = vErrors.length;  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+x+" = vErrors["+S+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || \'\') + "+e.errorPath+";  "+x+\'.schemaPath = "\'+f+\'";  \',e.opts.verbose&&(o+=" "+x+".schema = "+i+"; "+x+".data = "+p+"; "),o+=" } } else { "+C+" } "),o+=" } ",l&&(o+=" else { ")}return o}},function(e,t,r){"use strict";var n=r(117);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse(\'{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}\')},function(e){e.exports=JSON.parse(\'{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}\')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZSessionValidator=t.MessageTypes=void 0;var n=r(109);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=Object.freeze({DISCONNECTED:"DISCONNECTED",CONNECTED:"CONNECTED",LOG_SESSION_INITIALIZING:"LOG_SESSION_INITIALIZING",LOG_SESSION_ACTIVE:"LOG_SESSION_ACTIVE",TRANSFORMING_LOG:"TRANSFORMING_LOG",LIVE_SESSION_INITIALIZING:"LIVE_SESSION_INITIALIZING",LIVE_SESSION_ACTIVE:"LIVE_SESSION_ACTIVE"}),s=Object.freeze({START:"START",ERROR:"ERROR",METADATA:"METADATA",TRANSFORM_LOG:"TRANSFORM_LOG",STATE_UPDATE:"STATE_UPDATE",TRANSFORM_LOG_DONE:"TRANSFORM_LOG_DONE"});t.MessageTypes=s;var u=Object.freeze({START:"session/start",ERROR:"session/error",METADATA:"session/metadata",TRANSFORM_LOG:"session/transform_log",STATE_UPDATE:"session/state_update",TRANSFORM_LOG_DONE:"session/transform_log_done"}),c=Object.freeze({DISCONNECTED:{},CONNECTED:{START:function(e){return e&&"LIVE"===e.session_type?a.LIVE_SESSION_INITIALIZING:a.LOG_SESSION_INITIALIZING}},LOG_SESSION_INITIALIZING:{ERROR:a.DISCONNECTED,METADATA:a.LOG_SESSION_ACTIVE},LOG_SESSION_ACTIVE:{TRANSFORM_LOG:a.TRANSFORMING_LOG},TRANSFORMING_LOG:{STATE_UPDATE:a.TRANSFORMING_LOG,ERROR:a.TRANSFORMING_LOG,TRANSFORM_LOG_DONE:a.LOG_SESSION_ACTIVE},LIVE_SESSION_INITIALIZING:{ERROR:a.DISCONNECTED,METADATA:a.LIVE_SESSION_ACTIVE},LIVE_SESSION_ACTIVE:{STATE_UPDATE:a.LIVE_SESSION_ACTIVE,ERROR:a.LIVE_SESSION_ACTIVE}}),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{verbose:!1};i(this,e),this.options=t,this.msgValidator=new n.XVIZValidator,this.state=a.DISCONNECTED,this.resetState()}var t,r,f;return t=e,(r=[{key:"onConnect",value:function(){this.state=a.CONNECTED,this.resetState()}},{key:"onStart",value:function(e){this.processMessage(e,s.START)}},{key:"onError",value:function(e){this.processMessage(e,s.ERROR)}},{key:"onMetadata",value:function(e){this.processMessage(e,s.METADATA)}},{key:"onTransformLog",value:function(e){this.processMessage(e,s.TRANSFORM_LOG)}},{key:"onStateUpdate",value:function(e){this.processMessage(e,s.STATE_UPDATE)}},{key:"onTransformLogDone",value:function(e){this.processMessage(e,s.TRANSFORM_LOG_DONE)}},{key:"onClose",value:function(){this.state=a.DISCONNECTED,this.lastMessage!==s.ERROR&&(this.stats.stateErrors[this.state]="Close should only happen on error")}},{key:"processMessage",value:function(e,t){this.recordMessage(e,t),this.runTransition(e,t)}},{key:"recordMessage",value:function(e,t){this.lastMessage=t,this.stats.messages[t]=this.stats.messages[t]+1||1;var r=u[t];if(void 0===r)throw Error(\'"\'.concat(t,\'" does not have a schema name\'));try{this.msgValidator.validate(r,e)}catch(r){if(!(r instanceof n.ValidationError))throw r;var i=r.toString(),o=this.stats.uniqueErrors[t],a=void 0===o;a?((o={})[i]=1,this.stats.uniqueErrors[t]=o):o[i]=o[i]+1||1,this.stats.validationErrors[t]=this.stats.validationErrors[t]+1||1,a&&this.options.invalidCallback&&this.options.invalidCallback(t,r,e)}}},{key:"runTransition",value:function(e,t){var r=c[this.state];if(void 0===r)throw Error("State: ".concat(this.state," does not have any transitions"));var n=r[t];"function"==typeof n&&(n=r[t](e)),void 0===n?this.stats.stateErrors[this.state]="While in ".concat(this.state," state, cannot accept message ").concat(t):this.state=n}},{key:"resetState",value:function(){this.stats={messages:{},validationErrors:{},uniqueErrors:{},stateErrors:{}},this.lastMessage=null}}])&&o(t.prototype,r),f&&o(t,f),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.XVIZSessionValidator=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_PROPERTY=void 0,t.getXVIZProtoTypes=function(e){var t=[];return function e(t,r){t instanceof n.Type&&r(t);t.nestedArray&&t.nestedArray.forEach((function(t){e(t,r)}))}(e,(function(e){void 0!==e.options&&void 0!==e.options["(xviz_json_schema)"]&&t.push(e)})),t},t.loadProtos=function(){return n.Root.fromJSON(i.PROTO_DATA)};var n=r(80),i=r(76);t.EXTENSION_PROPERTY="(xviz_json_schema)"},function(e,t,r){"use strict";var n=e.exports=r(197);n.build="full",n.tokenize=r(127),n.parse=r(211),n.common=r(212),n.Root._configure(n.Type,n.parse,n.common)},function(e,t,r){"use strict";var n=e.exports=r(198);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(122),n.decoder=r(123),n.verifier=r(124),n.converter=r(125),n.ReflectionObject=r(43),n.Namespace=r(50),n.Root=r(88),n.Enum=r(22),n.Type=r(83),n.Field=r(33),n.OneOf=r(60),n.MapField=r(84),n.Service=r(85),n.Method=r(86),n.Message=r(87),n.wrappers=r(126),n.types=r(44),n.util=r(12),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},function(e,t,r){"use strict";var n=t;function i(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build="minimal",n.Writer=r(81),n.BufferWriter=r(205),n.Reader=r(82),n.BufferReader=r(206),n.util=r(23),n.rpc=r(120),n.roots=r(121),n.configure=i,n.Writer._configure(n.BufferWriter),i()},function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,o=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=i[c>>2],n=(3&c)<<4,u=1;break;case 1:a[s++]=i[n|c>>4],n=(15&c)<<2,u=2;break;case 2:a[s++]=i[n|c>>6],a[s++]=i[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=i[n],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,r){for(var n,i=r,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error("invalid encoding");switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},function(e,t,r){"use strict";e.exports=i;var n=r(23);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\\0\\0\\0\\0\\0\\0\\0\\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=a;var n=r(81);(a.prototype=Object.create(n.prototype)).constructor=a;var i=r(23),o=i.Buffer;function a(){n.call(this)}a.alloc=function(e){return(a.alloc=i._Buffer_allocUnsafe)(e)};var s=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]};function u(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write(e,r)}a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(u,t,e),this}},function(e,t,r){"use strict";e.exports=o;var n=r(82);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(23);function o(e){n.call(this,e)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,r){"use strict";e.exports=i;var n=r(23);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";function n(e,t){"string"==typeof e&&(t=e,e=void 0);var r=[];function i(e){if("string"!=typeof e){var t=o();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),u=new Array(a.length),c=0;c<a.length;)s[c]=a[c],u[c]=e[a[c++]];return s[c]=t,Function.apply(null,s).apply(null,u)}return Function(t)()}for(var f=new Array(arguments.length-1),l=0;l<f.length;)f[l]=arguments[++l];if(l=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=f[l++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),l!==f.length)throw Error("parameter count mismatch");return r.push(e),i}function o(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\\n  "+r.join("\\n  ")+"\\n}"}return i.toString=o,i}e.exports=n,n.verbose=!1},function(e,t,r){"use strict";e.exports=o;var n=r(118),i=r(119)("fs");function o(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,(function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,r):n(o,this,e,t)}o.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},function(e,t,r){"use strict";var n=t,i=n.isAbsolute=function(e){return/^(?:\\/|\\w+:)/.test(e)},o=n.normalize=function(e){var t=(e=e.replace(/\\\\/g,"/").replace(/\\/{2,}/g,"/")).split("/"),r=i(e),n="";r&&(n=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=o(t)),i(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},function(e,t,r){"use strict";e.exports=j,j.filename=null,j.defaults={keepCase:!1};var n=r(127),i=r(88),o=r(83),a=r(33),s=r(84),u=r(60),c=r(22),f=r(85),l=r(86),p=r(44),h=r(12),d=/^[1-9][0-9]*$/,y=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,b=/^-?0[0-7]+$/,O=/^(?![eE])[0-9]*(?:\\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,_=/^(?:\\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,E=/^(?:\\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function j(e,t,r){t instanceof i||(r=t,t=new i),r||(r=j.defaults);var P,S,x,T,A,I=n(e,r.alternateCommentMode||!1),k=I.next,R=I.push,M=I.peek,N=I.skip,L=I.cmnt,V=!0,D=!1,C=t,B=r.keepCase?function(e){return e}:h.camelCase;function F(e,t,r){var n=j.filename;return r||(j.filename=null),Error("illegal "+(t||"token")+" \'"+e+"\' ("+(n?n+", ":"")+"line "+I.line+")")}function U(){var e,t=[];do{if(\'"\'!==(e=k())&&"\'"!==e)throw F(e);t.push(k()),N(e),e=M()}while(\'"\'===e||"\'"===e);return t.join("")}function z(e){var t=k();switch(t){case"\'":case\'"\':return R(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(g.test(e))return r*parseInt(e,8);if(O.test(e))return r*parseFloat(e);throw F(e,"number",t)}(t,!0)}catch(r){if(e&&_.test(t))return t;throw F(t,"value")}}function $(e,t){var r,n;do{!t||\'"\'!==(r=M())&&"\'"!==r?e.push([n=Z(k()),N("to",!0)?Z(k()):n]):e.push(U())}while(N(",",!0));N(";")}function Z(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw F(e,"id");if(y.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw F(e,"id")}function X(){if(void 0!==P)throw F("package");if(P=k(),!_.test(P))throw F(P,"name");C=C.define(P),N(";")}function q(){var e,t=M();switch(t){case"weak":e=x||(x=[]),k();break;case"public":k();default:e=S||(S=[])}t=U(),N(";"),e.push(t)}function G(){if(N("="),T=U(),!(D="proto3"===T)&&"proto2"!==T)throw F(T,"syntax");N(";")}function Y(e,t){switch(t){case"option":return H(e,t),N(";"),!0;case"message":return function(e,t){if(!w.test(t=k()))throw F(t,"type name");var r=new o(t);W(r,(function(e){if(!Y(r,e))switch(e){case"map":!function(e){N("<");var t=k();if(void 0===p.mapKey[t])throw F(t,"type");N(",");var r=k();if(!_.test(r))throw F(r,"type");N(">");var n=k();if(!w.test(n))throw F(n,"name");N("=");var i=new s(B(n),Z(k()),t,r);W(i,(function(e){if("option"!==e)throw F(e);H(i,e),N(";")}),(function(){ee(i)})),e.add(i)}(r);break;case"required":case"optional":case"repeated":J(r,e);break;case"oneof":!function(e,t){if(!w.test(t=k()))throw F(t,"name");var r=new u(B(t));W(r,(function(e){"option"===e?(H(r,e),N(";")):(R(e),J(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":$(r.extensions||(r.extensions=[]));break;case"reserved":$(r.reserved||(r.reserved=[]),!0);break;default:if(!D||!_.test(e))throw F(e);R(e),J(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=k()))throw F(t,"name");var r=new c(t);W(r,(function(e){switch(e){case"option":H(r,e),N(";");break;case"reserved":$(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw F(t,"name");N("=");var r=Z(k(),!0),n={};W(n,(function(e){if("option"!==e)throw F(e);H(n,e),N(";")}),(function(){ee(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=k()))throw F(t,"service name");var r=new f(t);W(r,(function(e){if(!Y(r,e)){if("rpc"!==e)throw F(e);!function(e,t){var r=L(),n=t;if(!w.test(t=k()))throw F(t,"name");var i,o,a,s,u=t;N("("),N("stream",!0)&&(o=!0);if(!_.test(t=k()))throw F(t);i=t,N(")"),N("returns"),N("("),N("stream",!0)&&(s=!0);if(!_.test(t=k()))throw F(t);a=t,N(")");var c=new l(u,n,i,a,o,s);c.comment=r,W(c,(function(e){if("option"!==e)throw F(e);H(c,e),N(";")})),e.add(c)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!_.test(t=k()))throw F(t,"reference");var r=t;W(null,(function(t){switch(t){case"required":case"repeated":case"optional":J(e,t,r);break;default:if(!D||!_.test(t))throw F(t);R(t),J(e,"optional",r)}}))}(e,t),!0}return!1}function W(e,t,r){var n=I.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=j.filename),N("{",!0)){for(var i;"}"!==(i=k());)t(i);N(";",!0)}else r&&r(),N(";"),e&&"string"!=typeof e.comment&&(e.comment=L(n))}function J(e,t,r){var n=k();if("group"!==n){if(!_.test(n))throw F(n,"type");var i=k();if(!w.test(i))throw F(i,"name");i=B(i),N("=");var s=new a(i,Z(k()),n,t,r);W(s,(function(e){if("option"!==e)throw F(e);H(s,e),N(";")}),(function(){ee(s)})),e.add(s),D||!s.repeated||void 0===p.packed[n]&&void 0!==p.basic[n]||s.setOption("packed",!1,!0)}else!function(e,t){var r=k();if(!w.test(r))throw F(r,"name");var n=h.lcFirst(r);r===n&&(r=h.ucFirst(r));N("=");var i=Z(k()),s=new o(r);s.group=!0;var u=new a(n,i,r,t);u.filename=j.filename,W(s,(function(e){switch(e){case"option":H(s,e),N(";");break;case"required":case"optional":case"repeated":J(s,e);break;default:throw F(e)}})),e.add(s).add(u)}(e,t)}function H(e,t){var r=N("(",!0);if(!_.test(t=k()))throw F(t,"name");var n=t;r&&(N(")"),n="("+n+")",t=M(),E.test(t)&&(n+=t,k())),N("="),Q(e,n)}function Q(e,t){if(N("{",!0))do{if(!w.test(A=k()))throw F(A,"name");"{"===M()?Q(e,t+"."+A):(N(":"),"{"===M()?Q(e,t+"."+A):K(e,t+"."+A,z(!0))),N(",",!0)}while(!N("}",!0));else K(e,t,z(!0))}function K(e,t,r){e.setOption&&e.setOption(t,r)}function ee(e){if(N("[",!0)){do{H(e,"option")}while(N(",",!0));N("]")}return e}for(;null!==(A=k());)switch(A){case"package":if(!V)throw F(A);X();break;case"import":if(!V)throw F(A);q();break;case"syntax":if(!V)throw F(A);G();break;case"option":H(C,A),N(";");break;default:if(Y(C,A)){V=!1;continue}throw F(A)}return j.filename=null,{package:P,imports:S,weakImports:x,syntax:T,root:t}}},function(e,t,r){"use strict";e.exports=o;var n,i=/\\/|\\./;function o(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),o[e]=t}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:n}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(e){return o[e]||null}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.enumToIntField=s,t.getProtoEnumTypes=function e(t){var r={};return t.nestedArray.map((function(t){void 0!==t.values?r[t.fullName]=t.values:void 0!==t.nestedArray&&Object.assign(r,e(t))})),r},t.protoEnumsToInts=o;var i=new Set(["double","float","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","bool","string","bytes"]);function o(e,t,r){if(void 0===r)throw"protoEnumsToInts needs defined enumTypes";var i=e.fields;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o],p=t[o],h=a(e,l.type,r);void 0!==h?s(h,o,t):l.map?c(l,t[o],r):l.repeated?f(l,t[o],r):"object"===n(p)&&u(l,p,r)}}function a(e,t,r){var n=r["".concat(e.fullName,".").concat(t)];return void 0===n&&(n=r["".concat(e.parent.fullName,".").concat(t)]),n}function s(e,t,r){var n=r[t];if(void 0!==n){var i=e[n];if(void 0===i){var o=\'Error: field "\'.concat(t,\'" has unknown enum value "\').concat(n,\'"\');throw new Error(o)}r[t]=i}}function u(e,t,r){i.has(e.type)||void 0===t||o(e.parent.lookupType(e.type),t,r)}function c(e,t,r){if(!i.has(e.type)&&void 0!==t){var n=e.parent.lookupType(e.type);for(var a in t){if(t.hasOwnProperty(a))o(n,t[a],r)}}}function f(e,t,r){if(!i.has(e.type)&&void 0!==t)for(var n=e.parent.lookupType(e.type),a=0;a<t.length;a++)o(n,t[a],r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructEncode=t.StructDecode=void 0;var n=r(80),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}n.default=e,r&&r.set(e,n);return n}(r(215));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=function(){function e(t){s(this,e),t=t||{},this.seenObjects=new Set,this.removeCircular=!0===t.removeCircular,this.stringify=!0===t.stringify}return c(e,[{key:"encodeStruct",value:function(e){var t={fields:{}};for(var r in this.seenObjects.add(e),e)if(e.hasOwnProperty(r)){var n=e[r];if(i.undefined(n))continue;t.fields[r]=this.encodeValue(n)}return this.seenObjects.delete(e),t}},{key:"encodeValue",value:function(e){var t;if(i.null(e))t={nullValue:0};else if(i.number(e))t={numberValue:e};else if(i.string(e))t={stringValue:e};else if(i.boolean(e))t={boolValue:e};else if(i.object(e))if(this.seenObjects.has(e)){if(!this.removeCircular)throw new Error(["This object contains a circular reference. To automatically","remove it, set the `removeCircular` option to true."].join(" "));t={stringValue:"[Circular]"}}else t={structValue:this.encodeStruct(e)};else if(i.array(e))t={listValue:{values:e.map(this.encodeValue.bind(this))}};else{if(!this.stringify)throw new Error("Value of type ".concat(a(e)," not recognized."));t={stringValue:String(e)}}return t}}]),e}();t.StructEncode=f;var l=function(){function e(){s(this,e)}return c(e,null,[{key:"decodeValue",value:function(t){switch(t.kind){case"structValue":return e.decodeStruct(t.structValue);case"nullValue":return null;case"listValue":return t.listValue.values.map(e.decodeValue);default:return t[t.kind]}}},{key:"decodeStruct",value:function(t){var r={};for(var n in t.fields)if(t.fields.hasOwnProperty(n)){var i=t.fields[n];r[n]=e.decodeValue(i)}return r}}]),e}();t.StructDecode=l,n.wrappers[".google.protobuf.Value"]={fromObject:function(e){return e?(new f).encodeValue(e):this.fromObject(e)},toObject:function(e){return l.decodeValue(e)}},n.wrappers[".google.protobuf.Struct"]={fromObject:function(e){return e?(new f).encodeStruct(e):this.fromObject(e)},toObject:function(e){return l.decodeStruct(e)}}},function(e,t,r){"use strict";\n/**!\n * is\n * the definitive JavaScript type testing library\n *\n * @copyright 2013-2014 Enrico Marino / Jordan Harband\n * @license MIT\n */var n,i,o=Object.prototype,a=o.hasOwnProperty,s=o.toString;"function"==typeof Symbol&&(n=Symbol.prototype.valueOf),"function"==typeof BigInt&&(i=BigInt.prototype.valueOf);var u=function(e){return e!=e},c={boolean:1,number:1,string:1,undefined:1},f=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,l=/^[A-Fa-f0-9]+$/,p={};p.a=p.type=function(e,t){return typeof e===t},p.defined=function(e){return void 0!==e},p.empty=function(e){var t,r=s.call(e);if("[object Array]"===r||"[object Arguments]"===r||"[object String]"===r)return 0===e.length;if("[object Object]"===r){for(t in e)if(a.call(e,t))return!1;return!0}return!e},p.equal=function(e,t){if(e===t)return!0;var r,n=s.call(e);if(n!==s.call(t))return!1;if("[object Object]"===n){for(r in e)if(!p.equal(e[r],t[r])||!(r in t))return!1;for(r in t)if(!p.equal(e[r],t[r])||!(r in e))return!1;return!0}if("[object Array]"===n){if((r=e.length)!==t.length)return!1;for(;r--;)if(!p.equal(e[r],t[r]))return!1;return!0}return"[object Function]"===n?e.prototype===t.prototype:"[object Date]"===n&&e.getTime()===t.getTime()},p.hosted=function(e,t){var r=typeof t[e];return"object"===r?!!t[e]:!c[r]},p.instance=p.instanceof=function(e,t){return e instanceof t},p.nil=p.null=function(e){return null===e},p.undef=p.undefined=function(e){return void 0===e},p.args=p.arguments=function(e){var t="[object Arguments]"===s.call(e),r=!p.array(e)&&p.arraylike(e)&&p.object(e)&&p.fn(e.callee);return t||r},p.array=Array.isArray||function(e){return"[object Array]"===s.call(e)},p.args.empty=function(e){return p.args(e)&&0===e.length},p.array.empty=function(e){return p.array(e)&&0===e.length},p.arraylike=function(e){return!!e&&!p.bool(e)&&a.call(e,"length")&&isFinite(e.length)&&p.number(e.length)&&e.length>=0},p.bool=p.boolean=function(e){return"[object Boolean]"===s.call(e)},p.false=function(e){return p.bool(e)&&!1===Boolean(Number(e))},p.true=function(e){return p.bool(e)&&!0===Boolean(Number(e))},p.date=function(e){return"[object Date]"===s.call(e)},p.date.valid=function(e){return p.date(e)&&!isNaN(Number(e))},p.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},p.error=function(e){return"[object Error]"===s.call(e)},p.fn=p.function=function(e){if("undefined"!=typeof window&&e===window.alert)return!0;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},p.number=function(e){return"[object Number]"===s.call(e)},p.infinite=function(e){return e===1/0||e===-1/0},p.decimal=function(e){return p.number(e)&&!u(e)&&!p.infinite(e)&&e%1!=0},p.divisibleBy=function(e,t){var r=p.infinite(e),n=p.infinite(t),i=p.number(e)&&!u(e)&&p.number(t)&&!u(t)&&0!==t;return r||n||i&&e%t==0},p.integer=p.int=function(e){return p.number(e)&&!u(e)&&e%1==0},p.maximum=function(e,t){if(u(e))throw new TypeError("NaN is not a valid value");if(!p.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e<t[r])return!1;return!0},p.minimum=function(e,t){if(u(e))throw new TypeError("NaN is not a valid value");if(!p.arraylike(t))throw new TypeError("second argument must be array-like");for(var r=t.length;--r>=0;)if(e>t[r])return!1;return!0},p.nan=function(e){return!p.number(e)||e!=e},p.even=function(e){return p.infinite(e)||p.number(e)&&e==e&&e%2==0},p.odd=function(e){return p.infinite(e)||p.number(e)&&e==e&&e%2!=0},p.ge=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e>=t},p.gt=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e>t},p.le=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e<=t},p.lt=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!p.infinite(e)&&!p.infinite(t)&&e<t},p.within=function(e,t,r){if(u(e)||u(t)||u(r))throw new TypeError("NaN is not a valid value");if(!p.number(e)||!p.number(t)||!p.number(r))throw new TypeError("all arguments must be numbers");return p.infinite(e)||p.infinite(t)||p.infinite(r)||e>=t&&e<=r},p.object=function(e){return"[object Object]"===s.call(e)},p.primitive=function(e){return!e||!("object"==typeof e||p.object(e)||p.fn(e)||p.array(e))},p.hash=function(e){return p.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},p.regexp=function(e){return"[object RegExp]"===s.call(e)},p.string=function(e){return"[object String]"===s.call(e)},p.base64=function(e){return p.string(e)&&(!e.length||f.test(e))},p.hex=function(e){return p.string(e)&&(!e.length||l.test(e))},p.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===s.call(e)&&"symbol"==typeof n.call(e)},p.bigint=function(e){return"function"==typeof BigInt&&"[object BigInt]"===s.call(e)&&"bigint"==typeof i.call(e)},e.exports=p},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZFormatWriter=void 0;var i=r(101),o=r(108),a=r(100),s=r(45),u=["format"];function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(r,e);var t=v(r);function r(e,n){return y(this,r),t.call(this,e,l(l({},n),{},{asArrayBuffer:!0}))}return d(r)}(a.XVIZJSONWriter);var w=function(){function e(t,r){var n=r.format,f=c(r,u);if(y(this,e),this.format=n,this.options=l({flattenArrays:!0},f),!n||n===s.XVIZ_FORMAT.OBJECT)throw new Error("Format ".concat(n," is not supported by XVIZFormatter."));this.writer=function(e,t,r){var n=null;switch(t){case s.XVIZ_FORMAT.BINARY_GLB:n=new i.XVIZBinaryWriter(e,r);break;case s.XVIZ_FORMAT.BINARY_PBE:n=new o.XVIZProtobufWriter(e,r);break;case s.XVIZ_FORMAT.JSON_BUFFER:n=new O(e,r);break;case s.XVIZ_FORMAT.JSON_STRING:n=new a.XVIZJSONWriter(e,r);break;default:throw new Error("Cannot convert XVIZData to format ".concat(t))}return n}(t,n,this.options)}return d(e,[{key:"writeMetadata",value:function(e){var t=e.message();this.writer.writeMetadata(t.data)}},{key:"writeMessage",value:function(e,t){var r=t.message();this.writer.writeMessage(e,r.data)}},{key:"close",value:function(){this.writer.close()}}]),e}();t.XVIZFormatWriter=w},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZJSONReader=void 0;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,r,n,i=f(a);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,a),i.call(this,e,o(o({},t),{},{suffix:"-frame.json"}))}return t=a,r&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(r(89).XVIZBaseReader);t.XVIZJSONReader=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GLTFParser=void 0,r(39);var n=r(244),i=r(41),o=r(219),a=r(102),s=c(r(220)),u=c(r(224));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function l(){}function d(){}function y(){}var m={};s(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==t&&r.call(g,i)&&(m=g);var b=y.prototype=l.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var n;this._invoke=function(i,o){function a(){return new t((function(n,a){!function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return f}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=y,s(b,"constructor",y),s(y,"constructor",d),d.displayName=s(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},O(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(b),s(b,a,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)}))}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O={fetchLinkedResources:!0,fetch:n.fetchFile,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,c,l,d;return t=e,(r=[{key:"parse",value:(d=g(h().mark((function e(t){var r,n=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:{},r=Object.assign({},O,r),this.parseSync(t,y(y({},r),{},{postProcess:!1,decompress:!1})),!r.fetchLinkedResources){e.next=6;break}return e.next=6,this._loadLinkedAssets(r);case 6:return r.decompress&&this._decompressMeshes(r),r.postProcess&&(new u.default).postProcess(this.gltf,this.glbParser,r),e.abrupt("return",this.gltf);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Object.assign({},O,t),e instanceof ArrayBuffer&&!s.default.isGLB(e,t)){var r=new TextDecoder;e=r.decode(e)}if("string"==typeof e&&(e=JSON.parse(e)),e instanceof ArrayBuffer?(this.glbParser=new s.default,this.gltf=this.glbParser.parseSync(e).json,this.json=this.gltf):(this.glbParser=null,this.gltf=e,this.json=e),t.decompress&&this._decompressMeshes(t),t.postProcess){var n=new u.default;n.postProcess(this.gltf,this.glbParser,t)}return this.gltf}},{key:"getApplicationData",value:function(e){return this.json?this.json[e]:this.glbParser?this.glbParser.getApplicationData(e):null}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),r=this.json.extensions||{};return t?r[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===p(t))return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),r}},{key:"_loadLinkedAssets",value:(l=g(h().mark((function e(t){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.gltf.buffers.map((function(e){return r._loadBuffer(e,t)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"_loadBuffer",value:(c=g(h().mark((function e(t,r){var n,o,a,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.uri||!r.uri){e.next=11;break}return n=r.fetch||window.fetch,o=(0,i.getFullUri)(t.uri,r.uri),e.next=5,n(o);case 5:return a=e.sent,e.next=8,a.arrayBuffer();case 8:s=e.sent,t.data=s,t.uri=null;case 11:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"_decompressMeshes",value:function(e){if(e.DracoLoader&&e.decompress){var t,r=f(this.gltf.meshes||[]);try{for(r.s();!(t=r.n()).done;){var n,i=f(t.value.primitives);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(this._decompressKhronosDracoPrimitive(o,e),this._decompressUberDracoPrimitive(o,e),!o.attributes||0===Object.keys(o.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}this._removeExtension(a.KHR_DRACO_MESH_COMPRESSION),this._removeExtension(a.UBER_POINT_CLOUD_EXTENSION)}}},{key:"_decompressKhronosDracoPrimitive",value:function(e,t){var r=e.extensions&&e.extensions[a.KHR_DRACO_MESH_COMPRESSION];if(r){delete e.extensions[a.KHR_DRACO_MESH_COMPRESSION];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=(0,o.getGLTFAccessors)(i.attributes),i.indices&&(e.indices=(0,o.getGLTFAccessor)(i.indices))}}},{key:"_decompressUberDracoPrimitive",value:function(e,t){var r=e.extensions&&e.extensions[a.UBER_POINT_CLOUD_EXTENSION];if(r){if(0!==e.mode)throw new Error(a.UBER_POINT_CLOUD_EXTENSION);delete e.extensions[a.UBER_POINT_CLOUD_EXTENSION];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=i.attributes}}},{key:"_getBufferViewArray",value:function(e){var t=this.gltf.bufferViews[e];if(this.glbParser)return this.glbParser.getBufferView(t);var r=this.gltf.buffers[t.buffer].data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)}},{key:"_removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"_removeStringFromArray",value:function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}}])&&b(t.prototype,r),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.GLTFParser=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGLTFAccessor=i,t.getGLTFAccessors=function(e){var t={};for(var r in e){var n=e[r];if("indices"!==r){var o=i(n);t[r]=o}}return t},t.getGLTFAttribute=function(e,t){return e.attributes[e.glTFAttributeMap[t]]};var n=r(41);function i(e,t){var r=function(e,t){var r=e,n=1,i=0;e&&e.value&&(r=e.value,n=e.size||1);r&&(ArrayBuffer.isView(r)||(r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(r&&!(e instanceof t))return new t(e);return e}(r,Float32Array)),i=r.length/n);return{buffer:r,size:n,count:i}}(e),i=r.buffer,o=r.size;return{value:i,size:o,bufferView:null,byteOffset:0,count:r.count,type:(0,n.getAccessorTypeFromSize)(o),componentType:(0,n.getComponentTypeFromArray)(i)}}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(59),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(221)),a=r(41),s=c(r(222)),u=c(r(223));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isGLB",value:function(e){var t=0;return(0,o.isGLB)(e,t)}}],(r=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.parseSync(e,t)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.glbArrayBuffer=e,this.binaryByteOffset=null,this.packedJson=null,this.json=null,null===this.json&&null===this.binaryByteOffset){var r=0;(0,o.default)(this,this.glbArrayBuffer,r,t),this.binaryByteOffset=this.binChunkByteOffset,this.packedJson=this.json;var n=(0,u.default)(this.glbArrayBuffer,this.json,this.binaryByteOffset);this.json=(0,s.default)(this.json,n),this.unpackedBuffers=n}return this}},{key:"getApplicationData",value:function(e){return this.json?this.json[e]:null}},{key:"getJSON",value:function(){return this.json}},{key:"getArrayBuffer",value:function(){return this.glbArrayBuffer}},{key:"getBinaryByteOffset",value:function(){return this.binaryByteOffset}},{key:"getBufferView",value:function(e){var t=(e.byteOffset||0)+this.binaryByteOffset;return new Uint8Array(this.glbArrayBuffer,t,e.byteLength)}},{key:"getBuffer",value:function(e){var t=a.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[e.componentType],r=a.ATTRIBUTE_TYPE_TO_COMPONENTS[e.type],n=a.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[e.componentType],o=e.count*r,s=e.count*r*n,u=this.json.bufferViews[e.bufferView];(0,i.assert)(s>=0&&e.byteOffset+s<=u.byteLength);var c=u.byteOffset+this.binaryByteOffset+e.byteOffset;return new t(this.glbArrayBuffer,c,o)}},{key:"getImageData",value:function(e){return{typedArray:this.getBufferView(e.bufferView),mimeType:e.mimeType||"image/jpeg"}}},{key:"getImage",value:function(e){var t=this.getBufferView(e.bufferView),r=e.mimeType||"image/jpeg",n=new Blob([t],{type:r}),i=(self.URL||self.webkitURL).createObjectURL(n),o=new Image;return o.src=i,o}},{key:"getImageAsync",value:function(e){var t=this;return new Promise((function(r){var n=t.getBufferView(e.bufferView),i=e.mimeType||"image/jpeg",o=new Blob([n],{type:i}),a=(self.URL||self.webkitURL).createObjectURL(o),s=new Image;s.onload=function(){return r(s)},s.src=a}))}}])&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=new DataView(t);e.type=o(s,r+0),e.version=s.getUint32(r+4,!0);var u=s.getUint32(r+8,!0);e.header={byteOffset:r,byteLength:u},"glTF"!==e.type&&console.warn("Invalid GLB magic string ".concat(e.type));return(0,n.assert)(2===e.version,"Invalid GLB version ".concat(e.version,". Only .glb v2 supported")),(0,n.assert)(e.header.byteLength>20),e.json={},e.hasBinChunk=!1,e.binChunks=[],a(e,s,r+12,i),c(e),r+e.header.byteLength},t.isGLB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new DataView(e),i=r.magic,o=void 0===i?1735152710:i,a=n.getUint32(t,!1);return a===o||1735152710===a},r(39);var n=r(8),i=r(107);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function a(e,t,r,n){for(;r+8<=e.header.byteLength;){var o=t.getUint32(r+0,!0),a=t.getUint32(r+4,!0);switch(r+=8,a){case 1313821514:s(e,t,r,o,n);break;case 5130562:u(e,t,r,o,n)}switch(a){case 0:n.strict||s(e,t,r,o,n);break;case 1:n.strict||u(e,t,r,o,n)}r+=(0,i.padTo4Bytes)(o)}return r}function s(e,t,r,n,i){var o=new Uint8Array(t.buffer,r,n),a=new TextDecoder("utf8").decode(o);e.json=JSON.parse(a)}function u(e,t,r,n,i){e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:r,byteLength:n,arrayBuffer:t.buffer})}function c(e){e.byteOffset=e.header.byteOffset,e.magic=e.header.magic,e.version=e.header.version,e.byteLength=e.header.byteLength,e.hasBinChunk=e.binChunks.length>=1,e.binChunkByteOffset=e.header.hasBinChunk?e.binChunks[0].byteOffset:0,e.binChunkLength=e.header.hasBinChunk?e.binChunks[0].byteLength:0}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e,u=s(i,r);if(u)return u;if(Array.isArray(i))return i.map((function(e){return a(e,t,r,n)}));if(null!==i&&"object"===o(i)){var c={};for(var f in i)c[f]=a(i[f],t,r,n);return c}return i}function s(e,t){var r=function(e){if("string"==typeof e){if(0===e.indexOf("##/"))return e.slice(1);var t=e.match(/#\\/([a-z]+)\\/([0-9]+)/);if(t){var r=parseInt(t[2],10);return[t[1],r]}if(t=e.match(/\\$\\$\\$([0-9]+)/))return["accessors",parseInt(t[1],10)]}return null}(e);if(r){var i=n(r,2),o=i[0],a=i[1],s=t[o]&&t[o][a];if(s)return s;console.error("Invalid JSON pointer ".concat(e,": #/").concat(o,"/").concat(a))}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,e,t,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r&&(e=function(e,t){for(var r=e.byteLength-t,n=new ArrayBuffer(r),i=new Uint8Array(e),o=new Uint8Array(n),a=0;a<r;a++)o[a]=i[t+a];return n}(e,r));for(var i=t.bufferViews||[],s=0;s<i.length;++s){var u=i[s];(0,n.assert)(u.byteLength>=0)}return{accessors:o(e,i,t),images:a(e,i,t)}};var n=r(59),i=r(41);function o(e,t,r){for(var o=r.accessors||[],a=[],s=0;s<o.length;++s){var u=o[s];(0,n.assert)(u);var c=t[u.bufferView];if(c){var f=(0,i.getAccessorArrayTypeAndLength)(u,c),l=f.ArrayType,p=f.length,h=new l(e,c.byteOffset,p);h.accessor=u,a.push(h)}}return a}function a(e,t,r){for(var i=r.images||[],o=[],a=0;a<i.length;++a){var s=i[a];(0,n.assert)(s);var u=t[s.bufferView];(0,n.assert)(u);var c=new Uint8Array(e,u.byteOffset,u.byteLength);c.imate=s,o.push(c)}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(41);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},l={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},p={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},h={magFilter:p.TEXTURE_MAG_FILTER,minFilter:p.TEXTURE_MIN_FILTER,wrapS:p.TEXTURE_WRAP_S,wrapT:p.TEXTURE_WRAP_T},d=(c(n={},p.TEXTURE_MAG_FILTER,p.LINEAR),c(n,p.TEXTURE_MIN_FILTER,p.NEAREST_MIPMAP_LINEAR),c(n,p.TEXTURE_WRAP_S,p.REPEAT),c(n,p.TEXTURE_WRAP_,p.REPEAT),n);var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"postProcess",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.gltf=e,this.glbParser=t,this._resolveToTree(r),this.gltf}},{key:"_resolveToTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.gltf;return(r.bufferViews||[]).forEach((function(t,r){return e._resolveBufferView(t,r)})),(r.images||[]).forEach((function(r,n){return e._resolveImage(r,n,t)})),(r.samplers||[]).forEach((function(t,r){return e._resolveSampler(t,r)})),(r.textures||[]).forEach((function(t,r){return e._resolveTexture(t,r)})),(r.accessors||[]).forEach((function(t,r){return e._resolveAccessor(t,r)})),(r.materials||[]).forEach((function(t,r){return e._resolveMaterial(t,r)})),(r.meshes||[]).forEach((function(t,r){return e._resolveMesh(t,r)})),(r.nodes||[]).forEach((function(t,r){return e._resolveNode(t,r)})),(r.skins||[]).forEach((function(t,r){return e._resolveSkin(t,r)})),(r.scenes||[]).forEach((function(t,r){return e._resolveScene(t,r)})),void 0!==r.scene&&(r.scene=r.scenes[this.gltf.scene]),this._process_extension_KHR_lights_punctual(),r}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===s(t))return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),r}},{key:"_resolveScene",value:function(e,t){var r=this;e.id="scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return r.getNode(e)}))}},{key:"_resolveNode",value:function(e,t){var r=this;e.id="node-".concat(t),e.children=(e.children||[]).map((function(e){return r.getNode(e)})),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin))}},{key:"_resolveSkin",value:function(e,t){e.id="skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices)}},{key:"_resolveMesh",value:function(e,t){e.id="mesh-".concat(t);var r,n=o(e.primitives);try{for(n.s();!(r=n.n()).done;){var i=r.value;for(var a in i.attributes)i.attributes[a]=this.getAccessor(i.attributes[a]);void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material))}}catch(e){n.e(e)}finally{n.f()}}},{key:"_resolveMaterial",value:function(e,t){if(e.id="material-".concat(t),e.normalTexture&&(e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}}},{key:"_resolveAccessor",value:function(e,t){e.id="accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=l[e],e.components=f[e],e.bytesPerElement=e.bytesPerComponent*e.components}},{key:"_resolveTexture",value:function(e,t){e.id="texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):d,e.source=this.getImage(e.source)}},{key:"_resolveSampler",value:function(e,t){for(var r in e.id="sampler-".concat(t),e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}}},{key:"_enumSamplerParameter",value:function(e){return h[e]}},{key:"_resolveImage",value:function(e,t,r){var n=this;e.id="image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var o=r.createImages;void 0===o||o?e.image=this.glbParser.getImage(e):e.getImageAsync=function(){return n.glbParser?n.glbParser.getImageAsync(e):e.uri?new Promise((function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){return t(n)},n.src=(0,i.getFullUri)(e.uri,r.uri)})):null}}},{key:"_resolveBufferView",value:function(e,t){if(e.id="bufferView-".concat(t),e.buffer=this.getBuffer(e.buffer),this.glbParser)e.data=this.glbParser.getBufferView(e);else{var r=e.byteOffset||0;e.data=new Uint8Array(e.buffer.data,r,e.byteLength)}}},{key:"_resolveCamera",value:function(e){e.perspective,e.orthographic}},{key:"_process_extension_KHR_lights_punctual",value:function(){var e=this.gltf,t=e.extensions&&e.extensions.KHR_lights_punctual;t&&(e.lights=t.lights),this._removeExtension("KHR_lights_punctual");var r,n=o(e.nodes||[]);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.extensions&&i.extensions.KHR_lights_punctual;a&&(i.light=this._get("lights",a.light),delete i.extensions.KHR_lights_punctual)}}catch(e){n.e(e)}finally{n.f()}delete e.lights}},{key:"_removeExtension",value:function(e){this.gltf.extensionsRequired&&this._removeStringFromArray(this.gltf.extensionsRequired,e),this.gltf.extensionsUsed&&this._removeStringFromArray(this.gltf.extensionsUsed,e),this.gltf.extensions&&delete this.gltf.extensions[e]}},{key:"_removeStringFromArray",value:function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}}])&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=y},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZBinaryReader=void 0;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,r,n,i=f(a);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,a),i.call(this,e,o(o({},t),{},{suffix:"-frame.glb"}))}return t=a,r&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(r(89).XVIZBaseReader);t.XVIZBinaryReader=h},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZProtobufReader=void 0;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,r,n,i=f(a);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,a),i.call(this,e,o(o({},t),{},{suffix:"-frame.pbe"}))}return t=a,r&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(r(89).XVIZBaseReader);t.XVIZProtobufReader=h},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.MemorySourceSink=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=new Map}var t,r,i;return t=e,(r=[{key:"readSync",value:function(e){return this.data.get(e)}},{key:"writeSync",value:function(e,t){ArrayBuffer.isView(t)&&t.length&&t.buffer?this.data.set(e,t.buffer):this.data.set(e,t)}},{key:"existsSync",value:function(e){return this.data.has(e)}},{key:"close",value:function(){}},{key:"entries",value:function(){return this.data.entries()}},{key:"has",value:function(e){return this.data.has(e)}}])&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.MemorySourceSink=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZEnvelope=void 0;var n=r(45),i=r(90);function o(e,t){return{type:"".concat(n.XVIZ_MESSAGE_NAMESPACE,"/").concat(e),data:t}}var a={Metadata:function(e){return o(i.XVIZ_MESSAGE_TYPE.METADATA,e)},StateUpdate:function(e){return o(i.XVIZ_MESSAGE_TYPE.STATE_UPDATE,e)},Error:function(e){return o(i.XVIZ_MESSAGE_TYPE.ERROR,e)},TransformLogDone:function(e){return o(i.XVIZ_MESSAGE_TYPE.TRANSFORM_LOG_DONE,e)}};t.XVIZEnvelope=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XVIZProviderFactoryClass=t.XVIZProviderFactory=void 0;var i=r(130),o=r(131),a=r(132);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new P(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function d(){}function y(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==t&&r.call(g,o)&&(m=g);var b=y.prototype=h.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;this._invoke=function(o,a){function s(){return new t((function(i,s){!function i(o,a,s,u){var c=l(e[o],e,a);if("throw"!==c.type){var f=c.arg,p=f.value;return p&&"object"==n(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(p).then((function(e){f.value=e,s(f)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}(o,a,i,s)}))}return i=i?i.then(s,s):s()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return p}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=y,c(b,"constructor",y),c(y,"constructor",d),d.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},O(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)}))}}function m(e,t){return v.apply(this,arguments)}function v(){return(v=y(s().mark((function e(t,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,n=new t(r),e.next=4,n.init();case 4:if(!n.valid()){e.next=6;break}return e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.providerClasses=[{className:i.XVIZJSONProvider},{className:o.XVIZBinaryProvider},{className:a.XVIZProtobufProvider}]}var t,r,n,u;return t=e,(r=[{key:"addProviderClass",value:function(e,t){this.providerClasses.push({className:e,args:t})}},{key:"open",value:(u=y(s().mark((function e(t){var r,n,i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l(this.providerClasses),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=13;break}return i=n.value,o=c(c({},t.options),i.args),e.next=8,m(i.className,c(c({},t),{},{options:o}));case 8:if(!(a=e.sent)){e.next=11;break}return e.abrupt("return",a);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,this,[[1,15,18,21]])}))),function(e){return u.apply(this,arguments)})}])&&h(t.prototype,r),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.XVIZProviderFactoryClass=g;var b=new g;t.XVIZProviderFactory=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStreamVideoData=s,t.parseVideoFrame=u,t.parseVideoMessageV1=function e(t,r,n){if(t instanceof Blob)return void(0,o.blobToArrayBuffer)(t).then((function(t){e(t,r,n)})).catch(n);try{var i=t;"string"==typeof t&&(i=JSON.parse(t));var a=s(i);r(a)}catch(e){n(e)}};var n=r(38),i=r(231),o=r(233),a=r(133);function s(e){return e instanceof ArrayBuffer?u(e):"metadata"===e.type?function(e){var t=(0,a.parseLogMetadata)(e);return t.type=n.XVIZ_MESSAGE_TYPE.VIDEO_METADATA,t}(e):{type:n.XVIZ_MESSAGE_TYPE.ERROR,message:"Unknown stream data type",data:e}}function u(e){var t=new DataView(e),r={type:n.XVIZ_MESSAGE_TYPE.VIDEO_FRAME},o=new i.TextDecoder("utf-8"),a=0;r.version=t.getUint32(a,!0),a+=4,r.versionFlags=t.getUint32(a,!0);var s=(a+=4)+4;a+=4+t.getUint32(a,!0),r.stream=o.decode(e.slice(s,a)),r.timestamp=t.getFloat64(a,!0),a+=8;var u=t.getUint32(a,!0);return a+=4,r.imageData=e.slice(a,a+u),r.imageType="image/jpeg",r}},function(e,t,r){"use strict";"undefined"==typeof TextDecoder&&r(232),e.exports={TextEncoder:TextEncoder,TextDecoder:TextDecoder}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blobToArrayBuffer=function(e){return new Promise((function(t,r){var n,i=new FileReader;i.onload=function(e){n=e.target.result},i.onloadend=function(e){return t(n)},i.onerror=r,i.readAsArrayBuffer(e)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,u=(0,n.getXVIZConfig)().PRIMARY_POSE_STREAM,f=e.vehicle_pose,l=e.state_updates,p=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,a);f?r=f.time:l&&(r=l.reduce((function(e,t){return Math.max(e,t.timestamp)}),0));if(!r)return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE};var h={},d=c(c({},p),{},{type:i.XVIZ_MESSAGE_TYPE.TIMESLICE,streams:h,timestamp:r});if(l){var y=function(e,t,r){var i,a=(0,n.getXVIZConfig)().STREAM_BLACKLIST,u={},c={},f={},l={},p=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}(e);try{for(p.s();!(i=p.n()).done;){var h=i.value;Object.assign(c,h.primitives),Object.assign(f,h.variables),Object.assign(l,h.futures)}}catch(e){p.e(e)}finally{p.f()}return Object.keys(c).filter((function(e){return!a.has(e)})).forEach((function(e){u[e]=(0,o.parseStreamPrimitive)(c[e],e,t,r)})),Object.keys(f).filter((function(e){return!a.has(e)})).forEach((function(e){u[e]=(0,o.parseStreamVariable)(f[e],e,t)})),Object.keys(l).filter((function(e){return!a.has(e)})).forEach((function(e){u[e]=(0,o.parseStreamFutures)(l[e],e,t,r)})),u}(l,r,t);Object.assign(h,y)}f&&(h[u]=f);return d};var n=r(21),i=r(38),o=r(135),a=["vehicle_pose","state_updates"];function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMainThread=void 0;var n="undefined"!=typeof document;t.isMainThread=n},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(137),i=r(92),o={text:{category:i.PRIMITIVE_CAT.LABEL,validate:function(e){return!0}},tree_table:{category:i.PRIMITIVE_CAT.COMPONENT,validate:function(e){return!0}},points3d:{category:i.PRIMITIVE_CAT.POINTCLOUD,validate:function(e,t,r){return e.vertices&&e.vertices.length>0}},points2d:{category:i.PRIMITIVE_CAT.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>0},normalize:function(e){for(var t=0;t<e.vertices.length;t++)e.vertices[t][2]=0}},point2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffSet:!0,validate:function(e,t,r){return e.vertices&&1===e.vertices.length},normalize:function(e){e.vertices=e.vertices[0]}},line2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>=2&&"/route_follower/kickout/object/velocity"!==t},normalize:function(e){e.vertices=(0,n.filterVertices)(e.vertices)}},polygon2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>=3},normalize:function(e){Array.isArray(e.vertices)&&e.vertices.push(e.vertices[0])}},circle:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>0}},circle2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.center},normalize:function(e){e.vertices=e.center}}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(137),o=r(92),a=(n=r(71))&&n.__esModule?n:{default:n};function s(e){e&&e.base&&e.base.object_id&&(e.id=e.base.object_id)}var u={text:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e){return!0},normalize:function(e){s(e)}},circle:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e){return e.center},normalize:function(e){s(e)}},stadium:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e){return e.start&&e.end},normalize:function(e){s(e)}},polyline:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>=2},normalize:function(e){e.vertices=(0,i.filterVertices)(e.vertices),s(e)}},polygon:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>=3},normalize:function(e){s(e)}},point:{category:o.PRIMITIVE_CAT.POINTCLOUD,validate:function(e,t,r){return e.points&&e.points.length>0},normalize:function(e){e.vertices=e.points,s(e)}},image:{category:o.PRIMITIVE_CAT.IMAGE,validate:function(e,t,r){return e.data},normalize:function(e){var t=e.data;delete e.data,"string"==typeof t&&(t=a.default.toByteArray(t));var r=e.format?"image/".concat(e.format):null;e.imageData=t,e.imageType=r,e.position&&(e.vertices=e.position),s(e)}}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.update_type,n=e.updates,p=i.STATE_UPDATE_TYPE[r.toUpperCase()];if(!p)return c.default.error(\'update_type of "\'.concat(r,\'" is not supported.\'))(),{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:"Unsupported update type"};if(!n)return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:\'Missing required "updates" property\'};if(n&&0===n.length)return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:\'Property "updates" has length of 0, no data?\'};n.length>1&&c.default.warn(\'Only XVIZ first update of "snapshot" is currently supported. Current updates has "\'.concat(n.length,\'" entries.\'))();var h=n,d=null;h&&(d=h.reduce((function(e,t){return e?Math.max(e,t.timestamp):t&&t.timestamp}),null));if(!Number.isFinite(d))return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:\'Missing timestamp in "updates"\'};var y={type:i.XVIZ_MESSAGE_TYPE.TIMESLICE,updateType:p,poses:{},streams:{},links:{},timestamp:d};if(h){var m=function(e,t,r){var n,i=(0,o.getXVIZConfig)().STREAM_BLACKLIST,c={},p={},h={},d={},y={},m={},v=[],g={},b={},O=[],w=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e);try{for(w.s();!(n=w.n()).done;){var _=n.value;Object.assign(h,_.links),Object.assign(d,_.poses),Object.assign(y,_.primitives),Object.assign(m,_.variables),Object.assign(g,_.future_instances),Object.assign(b,_.ui_primitives),_.time_series&&v&&v.push.apply(v,f(_.time_series)),_.no_data_streams&&O.push.apply(O,f(_.no_data_streams))}}catch(e){w.e(e)}finally{w.f()}if(Object.keys(h).filter((function(e){return!i.has(e)})).forEach((function(e){h[e]=(0,s.parseXVIZLink)(h[e])})),Object.keys(d).filter((function(e){return!i.has(e)})).forEach((function(e){p[e]=(0,a.parseXVIZPose)(d[e])})),Object.keys(y).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamPrimitive)(y[e],e,t,r)})),Object.keys(m).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamVariable)(m[e],e,t)})),v.length){var E=(0,u.parseStreamTimeSeries)(v,i);Object.assign(c,E)}Object.keys(g).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamFutures)(g[e],e,t,r)})),Object.keys(b).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamUIPrimitives)(b[e],e,t)})),O.length&&O.forEach((function(e){return c[e]=null}));return{poses:p,streams:c,links:h}}(h,d,t),v=m.poses,g=m.streams,b=m.links;Object.assign(y.poses,v),Object.assign(y.streams,g),Object.assign(y.links,b)}return y};var n,i=r(38),o=r(21),a=r(240),s=r(241),u=r(135),c=(n=r(136))&&n.__esModule?n:{default:n};function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXVIZPose=function(e){var t=e.mapOrigin,r=e.map_origin,i=e.position,a=e.orientation,u=e.timestamp,c=r||t,f={timestamp:u};if(c){var l=c.longitude,p=c.latitude,h=c.altitude;Object.assign(f,{longitude:l,latitude:p,altitude:h})}if(i){var d=s(i,3),y=d[0],m=d[1],v=d[2];Object.assign(f,{x:y,y:m,z:v})}if(a){var g=s(a,3),b=g[0],O=g[1],w=g[2];Object.assign(f,{roll:b,pitch:O,yaw:w})}(0,n.getXVIZConfig)().DYNAMIC_STREAM_METADATA&&(f.__metadata={category:"POSE"});return o(o({},e),f)};var n=r(21);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXVIZLink=function(e){var t=e.target_pose,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,n);if(!t)throw new Error("Link must define a target_pose");return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({target_pose:t},r)};var n=["target_pose"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postDeserialize=function(e){if(e.type!==i.XVIZ_MESSAGE_TYPE.TIMESLICE)return e;var t=(0,o.getXVIZConfig)().OBJECT_STREAM,r=e.streams,n=e.timestamp;if(t)return s(r[t],n),e;for(var a in r){var u=r[a];u&&u.features&&u.features.length&&u.features[0].id&&s(u,n)}return e},t.preSerialize=function(e){return e};var n,i=r(38),o=r(21),a=(n=r(56))&&n.__esModule?n:{default:n};function s(e,t){e&&e.features.forEach((function(e){a.default.observe(e.id,t)}))}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=r||new Set;if(e){if(e instanceof ArrayBuffer)n.add(e);else if(e.buffer&&e.buffer instanceof ArrayBuffer)n.add(e.buffer);else if(t&&"object"===a(e))for(var i in e)s(e[i],!1,n)}else;return void 0===r?Array.from(n):null}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerFarm=void 0,t.getTransferList=s;var u=function(){function e(t){var r=t.url,i=t.metadata;n(this,e),this.worker=new Worker(r),this.isBusy=!1,this.metadata=i}return o(e,[{key:"process",value:function(e){var t=this,r=this.worker;return new Promise((function(n,i){r.onmessage=function(e){t.isBusy=!1,n(e.data)},r.onerror=function(e){t.isBusy=!1,i(e)},t.isBusy=!0,r.postMessage(e,s(e))}))}},{key:"terminate",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),c=function(){function e(t){var r=t.workerURL,i=t.maxConcurrency,o=void 0===i?1:i,a=t.debug,s=void 0===a?function(){}:a,c=t.initialMessage,f=void 0===c?null:c,l=t.capacity,p=void 0===l?null:l,h=t.id,d=void 0===h?"default":h;n(this,e),this.id=d,this.workerURL=r,this.workers=[],this.queue=[],this.debug=s,this.capacity=p,this.dropped=0;for(var y=0;y<o;y++)this.workers[y]=new u({url:this.workerURL,metadata:{name:"".concat(y,"/").concat(o)}});f&&this.broadcast(f)}return o(e,[{key:"destroy",value:function(){this.workers.forEach((function(e){return e.terminate()}))}},{key:"getAvailableWorker",value:function(){return this.workers.find((function(e){return!e.isBusy}))}},{key:"broadcast",value:function(e){for(var t=this.workers.length-1;t>=0;t--)this.workers[t].worker.postMessage(e,s(e))}},{key:"next",value:function(){for(var e=this,t=this.queue;this.capacity&&t.length>this.capacity;)t.shift(),this.dropped++;for(var r=function(){var r=e.getAvailableWorker();if(!r)return"break";var n=t.shift();e.debug({id:e.id,message:"processing",worker:r.metadata.name,backlog:t.length,dropped:e.dropped}),r.process(n.data).then(n.onResult).catch(n.onError).then((function(){e.debug({id:e.id,message:"waiting",worker:r.metadata.name,backlog:t.length,dropped:e.dropped}),e.next()}))};t.length;){if("break"===r())break}}},{key:"process",value:function(e,t,r){this.queue.push({data:e,onResult:t,onError:r}),this.next()}}]),e}();t.WorkerFarm=c},function(e,t,r){"use strict";r.r(t),r.d(t,"fetchFile",(function(){return C})),r.d(t,"readFileSync",(function(){return X})),r.d(t,"writeFile",(function(){return G})),r.d(t,"writeFileSync",(function(){return Y})),r.d(t,"setLoaderOptions",(function(){return he})),r.d(t,"registerLoaders",(function(){return we})),r.d(t,"parse",(function(){return Tt})),r.d(t,"parseSync",(function(){return Rt})),r.d(t,"parseInBatches",(function(){return Dt})),r.d(t,"selectLoader",(function(){return vt})),r.d(t,"selectLoaderSync",(function(){return bt})),r.d(t,"load",(function(){return Zt})),r.d(t,"loadInBatches",(function(){return qt})),r.d(t,"encode",(function(){return Jt})),r.d(t,"encodeSync",(function(){return Qt})),r.d(t,"encodeInBatches",(function(){return tr})),r.d(t,"encodeText",(function(){return Kt})),r.d(t,"encodeURLtoURL",(function(){return rr})),r.d(t,"save",(function(){return ir})),r.d(t,"saveSync",(function(){return or})),r.d(t,"makeIterator",(function(){return Ze})),r.d(t,"NullLoader",(function(){return ur})),r.d(t,"setPathPrefix",(function(){return a.d})),r.d(t,"getPathPrefix",(function(){return a.b})),r.d(t,"resolvePath",(function(){return a.c})),r.d(t,"RequestScheduler",(function(){return cr.a})),r.d(t,"_fetchProgress",(function(){return fr})),r.d(t,"_BrowserFileSystem",(function(){return dr})),r.d(t,"_unregisterLoaders",(function(){return Ee})),r.d(t,"isBrowser",(function(){return F.c})),r.d(t,"isWorker",(function(){return F.d})),r.d(t,"self",(function(){return F.f})),r.d(t,"window",(function(){return F.g})),r.d(t,"global",(function(){return F.b})),r.d(t,"document",(function(){return F.a})),r.d(t,"assert",(function(){return z.a})),r.d(t,"forEach",(function(){return Pe.b})),r.d(t,"concatenateChunksAsync",(function(){return Pe.a})),r.d(t,"makeTextDecoderIterator",(function(){return vr.c})),r.d(t,"makeTextEncoderIterator",(function(){return vr.d})),r.d(t,"makeLineIterator",(function(){return vr.a})),r.d(t,"makeNumberedLineIterator",(function(){return vr.b})),r.d(t,"isPromise",(function(){return p})),r.d(t,"isIterable",(function(){return h})),r.d(t,"isAsyncIterable",(function(){return d})),r.d(t,"isIterator",(function(){return y})),r.d(t,"isResponse",(function(){return m})),r.d(t,"isReadableStream",(function(){return g})),r.d(t,"isWritableStream",(function(){return b}));var n=r(0),i=r.n(n),o=r(1),a=r(40),s=r(9),u=function(e){return"boolean"==typeof e},c=function(e){return"function"==typeof e},f=function(e){return null!==e&&"object"===Object(s.a)(e)},l=function(e){return f(e)&&e.constructor==={}.constructor},p=function(e){return f(e)&&c(e.then)},h=function(e){return e&&"function"==typeof e[Symbol.iterator]},d=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},y=function(e){return e&&c(e.next)},m=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},v=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},g=function(e){return function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||f(e)&&c(e.tee)&&c(e.cancel)&&c(e.getReader)}(e)||function(e){return f(e)&&c(e.read)&&c(e.pipe)&&u(e.readable)}(e)},b=function(e){return function(e){return f(e)&&c(e.abort)&&c(e.getWriter)}(e)||function(e){return f(e)&&c(e.end)&&c(e.write)&&u(e.writable)}(e)},O=/^data:([-\\w.]+\\/[-\\w.+]+)(;|,)/,w=/^([-\\w.]+\\/[-\\w.+]+)/;function _(e){if("string"!=typeof e)return"";var t=e.match(O);return t?t[1]:""}var E=/\\?.*/;function j(e){if(m(e)){var t=function(e){if("string"!=typeof e)return"";var t=e.match(w);return t?t[1]:e}(e.headers.get("content-type")),r=_(e.url);return{url:S(e.url||""),type:t||r||null}}return v(e)?{url:S(e.name||""),type:e.type||""}:"string"==typeof e?{url:S(e),type:_(e)}:{url:"",type:""}}function P(e){return m(e)?e.headers["content-length"]||-1:v(e)?e.size:"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function S(e){return e.replace(E,"")}function x(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(i.a.mark((function e(t){var r,n,o,a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m(t)){e.next=2;break}return e.abrupt("return",t);case 2:return r={},(n=P(t))>=0&&(r["content-length"]=String(n)),o=j(t),a=o.url,(s=o.type)&&(r["content-type"]=s),e.next=9,M(t);case 9:return(u=e.sent)&&(r["x-first-bytes"]=u),"string"==typeof t&&(t=(new TextEncoder).encode(t)),c=new Response(t,{headers:r}),Object.defineProperty(c,"url",{value:a}),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,k(t);case 3:throw r=e.sent,new Error(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,n=t.headers.get("Content-Type"),o=t.statusText,!n.includes("application/json")){e.next=11;break}return e.t0=o,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,o=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:r=(r+=o).length>60?"".concat(r.slice(60),"..."):r,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function M(e){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=5,"string"!=typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,r)));case 3:if(!(t instanceof Blob)){e.next=8;break}return n=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){return e(t.target&&t.target.result)},t.readAsDataURL(n)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return o=t.slice(0,r),a=L(o),e.abrupt("return","data:base64,".concat(a));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){for(var t="",r=new Uint8Array(e),n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}function V(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,!t.headers.get("Content-Type").includes("application/json")){e.next=10;break}return e.t0=r,e.next=7,t.text();case 7:r=e.t0+=e.sent,e.next=11;break;case 10:r+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(1),e.abrupt("return",r);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function C(e){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(i.a.mark((function e(t){var r,n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},"string"==typeof t){e.next=5;break}return e.next=4,x(t);case 4:return e.abrupt("return",e.sent);case 5:return t=Object(a.c)(t),e.next=8,fetch(t,r);case 8:if((n=e.sent).ok||!r.throws){e.next=15;break}return e.t0=Error,e.next=13,V(n);case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=r(15),U=r(93),z=r(18),$={dataType:"arraybuffer",nothrow:!0};function Z(e,t){return t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},$,e)).responseType=e.responseType||e.dataType,e}(t),e.startsWith("data:"),t.nothrow||Object(z.a)(!1),null}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Object(a.c)(e),!F.c&&U.readFileSync?U.readFileSync(e,t):Z(e,t)}var q=r(55);function G(e,t,r){return e=Object(a.c)(e),!F.c&&q.writeFile?q.writeFile(e,t,r):Object(z.a)(!1)}function Y(e,t,r){return e=Object(a.c)(e),!F.c&&q.writeFileSync?q.writeFileSync(e,t,r):Object(z.a)(!1)}var W=r(5),J=r(17),H=r(16),Q=function(){function e(){Object(J.a)(this,e)}return Object(H.a)(e,[{key:"log",value:function(){return function(e){}}},{key:"info",value:function(){return function(e){}}},{key:"warn",value:function(){return function(e){}}},{key:"error",value:function(){return function(e){}}}]),e}();function K(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){Object(W.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne={baseUri:"",fetch:null,CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new(function(){function e(){Object(J.a)(this,e),this.console=console}return Object(H.a)(e,[{key:"log",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:"info",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}()),metadata:!1,transforms:[],reuseWorkers:!0},ie={dataType:"(no longer used)",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"},oe=function(){F.b.loaders=F.b.loaders||{};var e=F.b.loaders;return e._state=e._state||{},e._state},ae=function(){var e=oe();return e.globalOptions=e.globalOptions||re({},ne),e.globalOptions};function se(e,t,r,n){return r=r||[],function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;ce(e,null,r,ne,ie,t);var n,i=K(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e&&e[o.id]||{},s=o.options&&o.options[o.id]||{},u=o.defaultOptions&&o.defaultOptions[o.id]||{};ce(a,o.id,r,s,u,t)}}catch(e){i.e(e)}finally{i.f()}}(e,r=Array.isArray(r)?r:[r]),le(t,e,n)}function ue(e,t){var r=ae(),n=e.fetch||r.fetch;return"function"==typeof n?n:f(n)?function(e){return C(e,n)}:t&&t.fetch?t.fetch:function(t){return C(t,e)}}function ce(e,t,r,n,i,o){var a=t||"Top level",s=t?"".concat(t,"."):"";for(var u in e){var c=!t&&f(e[u]);if(!(u in n))if(u in i)r.warn("".concat(a," loader option \'").concat(s).concat(u,"\' deprecated, use \'").concat(i[u],"\'"));else if(!c){var l=fe(u,o);r.warn("".concat(a," loader option \'").concat(s).concat(u,"\' not recognized. ").concat(l))}}}function fe(e,t){var r,n=e.toLowerCase(),i="",o=K(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;for(var s in a.options){if(e===s)return"Did you mean \'".concat(a.id,".").concat(s,"\'?");var u=s.toLowerCase();(n.startsWith(u)||u.startsWith(n))&&(i=i||"Did you mean \'".concat(a.id,".").concat(s,"\'?"))}}}catch(e){o.e(e)}finally{o.f()}return i}function le(e,t,r){var n=re({},e.options||{});return null===n.log&&(n.log=new Q),pe(n,ae()),pe(n,t),function(e,t){t&&!e.baseUri&&(e.baseUri=t)}(n,r),n}function pe(e,t){for(var r in t)if(r in t){var n=t[r];l(n)&&l(e[r])?e[r]=re(re({},e[r]),t[r]):e[r]=t[r]}}function he(e){!function(e){var t=oe(),r=ae();t.globalOptions=le(r,e)}(e)}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){Object(W.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,r=e.options&&e.options[e.id];return t=t||r&&r.workerUrl}function ve(e){var t;return Object(z.a)(e,"null loader"),Object(z.a)(me(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=ye(ye({},e=e[0]),{},{options:ye(ye({},e.options),t)})),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(z.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),(e.parseTextSync||e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}function ge(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oe=function(){var e=oe();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function we(e){var t,r=Oe(),n=ge(e=Array.isArray(e)?e:[e]);try{var i=function(){var e=ve(t.value);r.find((function(t){return e===t}))||r.unshift(e)};for(n.s();!(t=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}}function _e(){return Oe()}function Ee(){oe().loaderRegistry=[]}var je=r(62),Pe=r(73),Se=i.a.mark(xe);function xe(e){var t,r,n,o,a,s,u,c=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0,a=new TextEncoder;case 4:if(!(o<e.length)){i.next=12;break}return s=Math.min(e.length-o,n),u=e.slice(o,o+s),o+=s,i.next=10,a.encode(u);case 10:i.next=4;break;case 12:case"end":return i.stop()}}),Se)}var Te=i.a.mark(Ae);function Ae(e){var t,r,n,o,a,s,u,c=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0;case 3:if(!(o<e.byteLength)){i.next=14;break}return a=Math.min(e.byteLength-o,n),s=new ArrayBuffer(a),u=new Uint8Array(e,o,a),new Uint8Array(s).set(u),o+=a,i.next=12,s;case 12:i.next=3;break;case 14:case"end":return i.stop()}}),Te)}var Ie=r(6),ke=r(10);function Re(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(ke.a)(i.a.mark((function e(t){var r,n,o,a,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>1&&void 0!==u[1]?u[1]:{},n=r.chunkSize||1048576,o=0;case 3:if(!(o<t.size)){e.next=13;break}return a=o+n,e.next=7,Object(Ie.a)(Ne(t,o,a));case 7:return s=e.sent,o=a,e.next=11,s;case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t,r){return Le.apply(this,arguments)}function Le(){return(Le=Object(o.a)(i.a.mark((function e(t,r,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var o=t.slice(r,n),a=new FileReader;a.onload=function(t){return e(t.target&&t.target.result)},a.onerror=function(e){return i(e)},a.readAsArrayBuffer(o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve=r(14),De=r(24);function Ce(e){if(F.c||F.e>=10){if("function"==typeof e[Symbol.asyncIterator])return function(e){return Be.apply(this,arguments)}(e);if("function"==typeof e.getIterator)return e.getIterator()}return F.c?function(e){return Fe.apply(this,arguments)}(e):function(e){return Ue.apply(this,arguments)}(e)}function Be(){return(Be=Object(ke.a)(i.a.mark((function e(t){var r,n,o,a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,e.prev=2,a=Object(Ve.a)(t);case 4:return e.next=6,Object(Ie.a)(a.next());case 6:return s=e.sent,r=s.done,e.next=10,Object(Ie.a)(s.value);case 10:if(u=e.sent,r){e.next=18;break}return c=u,e.next=15,Object(De.d)(c);case 15:r=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),n=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,r||null==a.return){e.next=29;break}return e.next=29,Object(Ie.a)(a.return());case 29:if(e.prev=29,!n){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function Fe(){return(Fe=Object(ke.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return e.next=5,Object(Ie.a)(r.read());case 5:if(n=e.sent,o=n.done,a=n.value,!o){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(De.d)(a);case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),r.releaseLock();case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function Ue(){return(Ue=Object(ke.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)(t);case 2:t=e.sent;case 3:if(null===(r=t.read())){e.next=9;break}return e.next=8,Object(De.d)(r);case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Object(Ie.a)(ze(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return $e.apply(this,arguments)}function $e(){return($e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.once("readable",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e?xe(e,t):e instanceof ArrayBuffer?Ae(e,t):v(e)?Re(e,t):g(e)?Ce(e):m(e)?Ce(e.body):Object(z.a)(!1)}var Xe="Cannot convert supplied data type";function qe(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer){var r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)||(o=e)&&"object"===Object(s.a)(o)&&o.isBuffer){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var n=e.buffer,i=e.byteLength||e.length;return 0===e.byteOffset&&i===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+i)),n}var o;throw new Error(Xe)}function Ge(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(o.a)(i.a.mark((function e(t,r){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!n){e.next=3;break}return e.abrupt("return",qe(t,r));case 3:if(!v(t)){e.next=7;break}return e.next=6,x(t);case 6:t=e.sent;case 7:if(!m(t)){e.next=21;break}return o=t,e.next=11,A(o);case 11:if(!r.binary){e.next=17;break}return e.next=14,o.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,o.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if(g(t)&&(t=Ze(t)),!h(t)&&!d(t)){e.next=24;break}return e.abrupt("return",Object(Pe.a)(t));case 24:throw new Error(Xe);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!m(t)){e.next=6;break}return e.next=5,A(t);case 5:return e.abrupt("return",Ze(t.body));case 6:if(!v(t)&&!g(t)){e.next=8;break}return e.abrupt("return",Ze(t));case 8:if(!d(t)){e.next=10;break}return e.abrupt("return",t[Symbol.asyncIterator]());case 10:return e.abrupt("return",He(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){if(ArrayBuffer.isView(e))return i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buffer;case 2:case"end":return t.stop()}}),t)}))();if(e instanceof ArrayBuffer)return i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)}))();if(y(e))return e;if(h(e))return e[Symbol.iterator]();throw new Error(Xe)}function Qe(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!m(t)){e.next=4;break}return e.abrupt("return",t.body);case 4:return e.next=6,x(t);case 6:return r=e.sent,e.abrupt("return",r.body);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et=r(29);function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){Object(W.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r||(e=rt({fetch:ue(t||{},e)},e),Array.isArray(e.loaders)||(e.loaders=null),e)}function it(e,t){if(!t&&e&&!Array.isArray(e))return e;var r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat(Object(et.a)(r),Object(et.a)(n)):n}return r&&r.length?r:null}var ot=r(104),at=r(46);function st(e,t,r,n){if(!ot.a.isSupported())return!1;var i=r&&r[e.id];return!!("local"===r.worker&&i&&i.localWorkerUrl||r.worker&&i&&i.workerUrl)&&(!e.useWorker||e.useWorker(r))}function ut(e,t,r,n){var i=(r||{}).worker,o=r&&r[e.id]||{},a="local"===i?o.localWorkerUrl:o.workerUrl,s="url(".concat(a,")"),u=e.name,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);"reuseWorkers"in e&&(t.reuseWorkers=e.reuseWorkers);ct||(ct=new ot.a({onMessage:ft}));return ct.setProps(t),ct}(r);r=JSON.parse(JSON.stringify(r));var f="2.3.13"!==e.version?"(core version ".concat("2.3.13",")"):"";return c.process(s,"".concat(u,"-worker@").concat(e.version).concat(f),{arraybuffer:Object(De.d)(t),options:r,source:"loaders.gl@".concat("2.3.13"),type:"parse"})}var ct=null;function ft(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(o.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.worker,n=t.data,o=t.resolve,a=t.reject,e.t0=n.type,e.next="done"===e.t0?4:"parse"===e.t0?6:"error"===e.t0?17:19;break;case 4:return o(n.result),e.abrupt("break",19);case 6:return e.prev=6,e.next=9,Tt(n.arraybuffer,n.options,n.url);case 9:s=e.sent,r.postMessage({type:"parse-done",id:n.id,result:s},Object(at.a)(s)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),r.postMessage({type:"parse-error",id:n.id,message:e.t1.message});case 16:return e.abrupt("break",19);case 17:return a(n.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){Object(W.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mt=/\\.([^.]+)$/;function vt(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(o.a)(i.a.mark((function e(t){var r,n,o,a,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:[],n=s.length>2&&void 0!==s[2]?s[2]:{},o=s.length>3&&void 0!==s[3]?s[3]:{},!(a=bt(t,r,ht(ht({},n),{},{nothrow:!0}),o))){e.next=6;break}return e.abrupt("return",a);case 6:if(!v(t)){e.next=11;break}return e.next=9,Ne(t,0,10);case 9:t=e.sent,a=bt(t,r,n,o);case 11:if(a||n.nothrow){e.next=13;break}throw new Error(Ot(t));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&!Array.isArray(t))return ve(t);wt(t=[].concat(Object(et.a)(t||[]),Object(et.a)(_e())));var i=j(e),o=i.url,a=i.type,s=_t(t,o||n.url);if(!(s=(s=s||Et(t,a))||jt(t,e))&&!r.nothrow)throw new Error(Ot(e));return s}function Ot(e){var t=j(e),r=t.url,n=t.type,i="No valid loader found";return e&&(i+=\' data: "\'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return xt(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return xt(e,r,t)}return""}(e),\'", contentType: "\').concat(n,\'"\')),r&&(i+=" url: ".concat(r)),i}function wt(e){var t,r=dt(e);try{for(r.s();!(t=r.n()).done;){ve(t.value)}}catch(e){r.e(e)}finally{r.f()}}function _t(e,t){var r=t&&t.match(mt),n=r&&r[1];return n&&function(e,t){t=t.toLowerCase();var r,n=dt(e);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,a=dt(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}return null}(e,n)}function Et(e,t){var r,n=dt(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(e){n.e(e)}finally{n.f()}return null}function jt(e,t){if(!t)return null;var r,n=dt(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("string"==typeof t){if(Pt(t,i))return i}else if(ArrayBuffer.isView(t)){if(St(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(St(t,0,i))return i}}}catch(e){n.e(e)}finally{n.f()}return null}function Pt(e,t){return t.testText&&t.testText(e)}function St(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((function(n){return function(e,t,r,n){if(n instanceof ArrayBuffer)return Object(De.a)(n,e,n.byteLength);switch(Object(s.a)(n)){case"function":return n(e,r);case"string":var i=xt(e,t,n.length);return n===i;default:return!1}}(e,t,r,n)}))}function xt(e,t,r){if(e.byteLength<t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}function Tt(e,t,r,n){return At.apply(this,arguments)}function At(){return(At=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(z.a)(!o||"string"!=typeof o,"parse no longer accepts final url"),!r||Array.isArray(r)||me(r)||(o=n,n=r,r=null),e.next=4,t;case 4:return t=e.sent,n=n||{},a=j(t),s=a.url,u=it(r,o),e.next=10,vt(t,u,n);case 10:if(c=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:return n=se(n,c,u,s),o=nt({url:s,parse:Tt,loaders:u},n,o),e.next=17,It(c,t,n,o);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e,t,r,n){return kt.apply(this,arguments)}function kt(){return(kt=Object(o.a)(i.a.mark((function e(t,r,n,o){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(je.a)(t),e.next=3,Ge(r,t);case 3:if(r=e.sent,!t.parseTextSync||"string"!=typeof r){e.next=7;break}return n.dataType="text",e.abrupt("return",t.parseTextSync(r,n,o,t));case 7:if(!st(t,0,n)){e.next=11;break}return e.next=10,ut(t,r,n);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!=typeof r){e.next=15;break}return e.next=14,t.parseText(r,n,o,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(r,n,o,t);case 18:return e.abrupt("return",e.sent);case 19:return Object(z.a)(!t.parseSync),e.abrupt("return",Object(z.a)(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e,t,r,n){Object(z.a)(!n||"string"!=typeof n,"parseSync no longer accepts final url"),Array.isArray(t)||me(t)||(n=r,r=t,t=null),r=r||{};var i=it(t,n),o=bt(e,i,r);return o?function(e,t,r,n){if(t=qe(t,e),e.parseTextSync&&"string"==typeof t)return e.parseTextSync(t,r,n,e);if(e.parseSync)return e.parseSync(t,r,n,e);throw new Error("".concat(e.name," loader: \'parseSync\' not supported by this loader, use \'parse\' instead. ").concat(n.url||""))}(o,e,r=se(r,o,i),n=nt({url:j(e).url,parseSync:Rt,loaders:t},r)):null}function Mt(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):i("return",e)}),r}var Nt=r(103);function Lt(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dt(e,t,r,n){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(z.a)(!o||"string"!=typeof o,"parseInBatches no longer accepts final url"),Array.isArray(r)||me(r)||(o=n,n=r,r=null),e.next=4,t;case 4:return t=e.sent,n=n||{},a=j(t),s=a.url,e.next=9,vt(t,r,n);case 9:if(u=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return n=se(n,u,r,s),o=nt({url:s,parseInBatches:Dt,parse:Tt,loaders:r},n,o),e.next=16,Bt(u,t,n,o);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t,r,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){return(c=Object(ke.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.delegateYield(Mt(Object(Ve.a)(t),Ie.a),"t0",3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return c.apply(this,arguments)},e.next=4,Ut(t,r,n,o);case 4:if(a=e.sent,n.metadata){e.next=7;break}return e.abrupt("return",a);case 7:return s={batchType:"metadata",metadata:{_loader:t,_context:o},data:[],bytesUsed:0},e.abrupt("return",u(a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t,r,n){return zt.apply(this,arguments)}function zt(){return(zt=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s,u,c,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(){return(f=Object(ke.a)(i.a.mark((function e(){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)(We(r));case 2:return a=e.sent,e.next=5,Object(Ie.a)(Object(Pe.a)(a));case 5:return s=e.sent,e.next=8,t.parse(s,n,o,t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return f.apply(this,arguments)},!t.parseInBatches){e.next=10;break}return e.next=5,We(r);case 5:return a=e.sent,s=$t(a,n),e.next=9,t.parseInBatches(s,n,o,t);case 9:return e.abrupt("return",e.sent);case 10:if(!t.parseStreamInBatches){e.next=17;break}return e.next=13,Qe(r);case 13:if(!(u=e.sent)){e.next=17;break}return n.transforms&&console.warn("options.transforms not implemented for loaders that use `parseStreamInBatches`"),e.abrupt("return",t.parseStreamInBatches(u,n,o));case 17:return e.next=19,c();case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e,t){var r,n=e,i=Lt(t.transforms||[]);try{for(i.s();!(r=i.n()).done;){var o=r.value;n=Object(Nt.a)(n,o,t)}}catch(e){i.e(e)}finally{i.f()}return n}function Zt(e,t,r){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(o.a)(i.a.mark((function e(t,r,n){var o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||me(r)||(n=r,r=null),o=ue(n||{}),a=t,"string"!=typeof t){e.next=9;break}return e.next=6,o(t);case 6:a=e.sent,e.next=10;break;case 9:t=null;case 10:if(!v(t)){e.next=15;break}return e.next=13,o(t);case 13:a=e.sent,t=null;case 15:return e.next=17,Tt(a,r,n);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e,t,r){Array.isArray(t)||me(t)||(r=t,t=null);var n=ue(r||{});return Array.isArray(e)?e.map((function(e){return Gt(e,t,r,n)})):Gt(e,t,r,n)}function Gt(e,t,r,n){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=8;break}return a=t,e.next=4,o(a);case 4:return s=e.sent,e.next=7,Dt(s,r,n);case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,Dt(t,r,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e){return"/tmp/".concat(e)}function Jt(e,t,r,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s,u,c,f,l,p,h,d,y,m,v,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.encode){e.next=4;break}return e.next=3,r.encode(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.encodeSync){e.next=6;break}return e.abrupt("return",r.encodeSync(t,n));case 6:if(!r.encodeText){e.next=12;break}return e.t0=new TextEncoder,e.next=10,r.encodeText(t,n);case 10:return e.t1=e.sent,e.abrupt("return",e.t0.encode.call(e.t0,e.t1));case 12:if(!r.encodeInBatches){e.next=51;break}a=tr(t,r,n),s=[],u=!0,c=!1,e.prev=17,l=Object(Ve.a)(a);case 19:return e.next=21,l.next();case 21:return p=e.sent,u=p.done,e.next=25,p.value;case 25:if(h=e.sent,u){e.next=32;break}d=h,s.push(d);case 29:u=!0,e.next=19;break;case 32:e.next=38;break;case 34:e.prev=34,e.t2=e.catch(17),c=!0,f=e.t2;case 38:if(e.prev=38,e.prev=39,u||null==l.return){e.next=43;break}return e.next=43,l.return();case 43:if(e.prev=43,!c){e.next=46;break}throw f;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.next=50,De.b.apply(void 0,s);case 50:return e.abrupt("return",e.sent);case 51:if(F.c||!r.encodeURLtoURL){e.next=63;break}return y=Wt("input"),e.next=55,G(y,t);case 55:return m=Wt("output"),e.next=58,rr(y,m,r,n);case 58:return v=e.sent,e.next=61,C(v);case 61:return g=e.sent,e.abrupt("return",g.arrayBuffer());case 63:throw new Error("Writer could not encode data");case 64:case"end":return e.stop()}}),e,null,[[17,34,38,48],[39,,43,47]])})))).apply(this,arguments)}function Qt(e,t,r,n){if(t.encodeSync)return t.encodeSync(e,r);throw new Error("Writer could not synchronously encode data")}function Kt(e,t,r,n){return er.apply(this,arguments)}function er(){return(er=Object(o.a)(i.a.mark((function e(t,r,n,o){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.text||!r.encodeText){e.next=4;break}return e.next=3,r.encodeText(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.text||!r.encode&&!r.encodeInBatches){e.next=9;break}return e.next=7,Jt(t,r,n);case 7:return a=e.sent,e.abrupt("return",(new TextDecoder).decode(a));case 9:throw new Error("Writer could not encode data as text");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,t,r,n){if(t.encodeInBatches){var i=function(e){return[{table:e,start:0,end:e.length}]}(e);return t.encodeInBatches(i,r)}throw new Error("Writer could not encode data in batches")}function rr(e,t,r,n){return nr.apply(this,arguments)}function nr(){return(nr=Object(o.a)(i.a.mark((function e(t,r,n,o){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(a.c)(t),r=Object(a.c)(r),!F.c&&n.encodeURLtoURL){e.next=4;break}throw new Error;case 4:return e.next=6,n.encodeURLtoURL(t,r,o);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(e,t,r,n){return G(t,Jt(e,r,n,t))}function or(e,t,r,n){return Y(t,Qt(e,r,n))}var ar,sr,ur={id:"image",name:"Images",version:"2.3.13",mimeTypes:["application/x.empty"],extensions:["null"],parse:(sr=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return sr.apply(this,arguments)}),parseSync:function(e,t){return e},parseInBatches:(ar=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=Object(ke.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Mt(Object(Ve.a)(t),Ie.a),"t0",1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()());case 1:case"end":return e.stop()}}),e)}))),function(e,t){return ar.apply(this,arguments)}),tests:[function(){return!1}],options:{}},cr=r(105);function fr(e,t){return lr.apply(this,arguments)}function lr(){return(lr=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u,c,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>2&&void 0!==f[2]?f[2]:function(){},o=f.length>3&&void 0!==f[3]?f[3]:function(){},e.next=4,t;case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",t);case 7:if(a=t.body){e.next=10;break}return e.abrupt("return",t);case 10:if(s=t.headers.get("content-length"),u=s&&parseInt(s,10),s>0){e.next=14;break}return e.abrupt("return",t);case 14:if("undefined"!=typeof ReadableStream&&a.getReader){e.next=16;break}return e.abrupt("return",t);case 16:return c=new ReadableStream({start:function(e){pr(e,a.getReader(),0,u,r,n,o)}}),e.abrupt("return",new Response(c));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pr(e,t,r,n,i,o,a){return hr.apply(this,arguments)}function hr(){return(hr=Object(o.a)(i.a.mark((function e(t,r,n,o,a,s,u){var c,f,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.read();case 3:if(c=e.sent,f=c.done,l=c.value,!f){e.next=10;break}return s(),t.close(),e.abrupt("return");case 10:return n+=l.byteLength,p=Math.round(n/o*100),a(p,{loadedBytes:n,totalBytes:o}),t.enqueue(l),e.next=16,pr(t,r,n,o,a,s,u);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.error(e.t0),u(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}var dr=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(J.a)(this,e),this._fetch=r.fetch||fetch,this.files={};for(var n=0;n<t.length;++n){var i=t[n];this.files[i.name]=i}this.fetch=this.fetch.bind(this)}var t,r,n,a,s,u,c;return Object(H.a)(e,[{key:"fetch",value:(c=Object(o.a)(i.a.mark((function e(t){var r,n,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},!t.includes("://")){e.next=4;break}return n=r.fetch||this._fetch,e.abrupt("return",n(t,r));case 4:if(!this.files[t]){e.next=9;break}return o=new Response(this.files[t]),Object.defineProperty(o,"url",{value:t}),e.abrupt("return",o);case 9:return e.abrupt("return",new Response(t,{status:400,statusText:"NOT FOUND"}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"readdir",value:(u=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t=[],this.files)t.push(r);return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"stat",value:(s=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.files[t]){e.next=3;break}throw new Error("No such file: ".concat(t));case 3:return e.abrupt("return",{size:n.size});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"unlink",value:(a=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.files[t];case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"open",value:(n=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.files[t]);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"read",value:(r=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u,c,f,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.buffer,o=void 0===n?null:n,r.offset,a=r.length,s=void 0===a?o.byteLength:a,u=r.position,c=void 0===u?null:u,f=t,e.next=4,yr(f,c,c+s);case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"close",value:(t=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function yr(e,t,r){return mr.apply(this,arguments)}function mr(){return(mr=Object(o.a)(i.a.mark((function e(t,r,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.slice(r,n),e.next=3,new Promise((function(e,t){var r=new FileReader;r.onload=function(t){return e(t.target&&t.target.result)},r.onerror=function(e){return t(e)},r.readAsArrayBuffer(o)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vr=r(49)},function(e,t,r){"use strict";r.r(t),r.d(t,"VERSION",(function(){return i})),r.d(t,"self",(function(){return o.e})),r.d(t,"window",(function(){return o.f})),r.d(t,"global",(function(){return o.c})),r.d(t,"document",(function(){return o.b})),r.d(t,"process",(function(){return o.d})),r.d(t,"console",(function(){return o.a})),r.d(t,"isBrowser",(function(){return n.a})),r.d(t,"isBrowserMainThread",(function(){return n.b})),r.d(t,"getBrowser",(function(){return c})),r.d(t,"isMobile",(function(){return u})),r.d(t,"isElectron",(function(){return a.a})),r.d(t,"assert",(function(){return f})),r.d(t,"Log",(function(){return x})),r.d(t,"COLOR",(function(){return m})),r.d(t,"default",(function(){return k})),r.d(t,"addColor",(function(){return g})),r.d(t,"leftPad",(function(){return h})),r.d(t,"rightPad",(function(){return d})),r.d(t,"autobind",(function(){return b})),r.d(t,"LocalStorage",(function(){return k})),r.d(t,"getHiResTimestamp",(function(){return k})),r.d(t,"Stats",(function(){return R.b})),r.d(t,"Stat",(function(){return R.a}));var n=r(68);const i="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source";Object(n.a)();var o=r(34),a=r(69);const s=globalThis;function u(){return void 0!==s.orientation}function c(e){if(!e&&!Object(n.a)())return"Node";if(Object(a.a)(e))return"Electron";const t="undefined"!=typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";const i=-1!==r.indexOf("MSIE "),o=-1!==r.indexOf("Trident/");return i||o?"IE":s.chrome?"Chrome":s.safari?"Safari":s.mozInnerScreenX?"Firefox":"Unknown"}function f(e,t){if(!e)throw new Error(t||"Assertion failed")}var l=r(5);class p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";Object(l.a)(this,"storage",void 0),Object(l.a)(this,"id",void 0),Object(l.a)(this,"config",{}),this.storage=function(e){try{const t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(e){return null}}(r),this.id=e,this.config={},Object.assign(this.config,t),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){return this.config={},this.updateConfiguration(e)}updateConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}return this}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const r=Math.max(t-e.length,0);return"".concat(" ".repeat(r)).concat(e)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const r=Math.max(t-e.length,0);return"".concat(e).concat(" ".repeat(r))}function y(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const i=e.src.replace(/\\(/g,"%28").replace(/\\)/g,"%29");e.width>n&&(r=Math.min(r,n/e.width));const o=e.width*r,a=e.height*r,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}let m;function v(e){return"string"==typeof e?m[e.toUpperCase()]||m.WHITE:e}function g(e,t,r){return n.a||"string"!=typeof e||(t&&(t=v(t),e="\x1b[".concat(t,"m").concat(e,"\x1b[39m")),r&&(t=v(r),e="\x1b[".concat(r+10,"m").concat(e,"\x1b[49m"))),e}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const r=Object.getPrototypeOf(e),n=Object.getOwnPropertyNames(r);for(const r of n)"function"==typeof e[r]&&(t.find(e=>r===e)||(e[r]=e[r].bind(e)))}function O(e,t){if(!e)throw new Error(t||"Assertion failed")}function w(){let e;var t,r;if(n.a&&"performance"in o.f)e=null===o.f||void 0===o.f||null===(t=o.f.performance)||void 0===t||null===(r=t.now)||void 0===r?void 0:r.call(t);else if("hrtime"in o.d){var i;const t=null===o.d||void 0===o.d||null===(i=o.d.hrtime)||void 0===i?void 0:i.call(o.d);e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(m||(m={}));const _={debug:n.a&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},E={enabled:!0,level:0};function j(){}const P={},S={once:!0};class x{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};Object(l.a)(this,"id",void 0),Object(l.a)(this,"VERSION",i),Object(l.a)(this,"_startTs",w()),Object(l.a)(this,"_deltaTs",w()),Object(l.a)(this,"_storage",void 0),Object(l.a)(this,"userData",{}),Object(l.a)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this._storage=new p("__probe-".concat(this.id,"__"),E),this.userData={},this.timeStamp("".concat(this.id," started")),b(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((w()-this._startTs).toPrecision(10))}getDelta(){return Number((w()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}setLevel(e){return this._storage.updateConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.updateConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){O(e,t)}warn(e){return this._getLogFunction(0,e,_.warn,arguments,S)}error(e){return this._getLogFunction(0,e,_.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,_.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,_.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this._getLogFunction(e,t,_.debug||_.info,arguments,S)}table(e,t,r){return t?this._getLogFunction(e,t,console.table||j,r&&[r],{tag:I(t)}):j}image(e){let{logLevel:t,priority:i,image:o,message:a="",scale:s=1}=e;return this._shouldLog(t||i)?n.a?function(e){let{image:t,message:r="",scale:n=1}=e;if("string"==typeof t){const e=new Image;return e.onload=()=>{const t=y(e,r,n);console.log(...t)},e.src=t,j}const i=t.nodeName||"";if("img"===i.toLowerCase())return console.log(...y(t,r,n)),j;if("canvas"===i.toLowerCase()){const e=new Image;return e.onload=()=>console.log(...y(e,r,n)),e.src=t.toDataURL(),j}return j}({image:o,message:a,scale:s}):function(e){let{image:t,message:n="",scale:i=1}=e,o=null;try{o=r(236)}catch(e){}if(o)return()=>o(t,{fit:"box",width:"".concat(Math.round(80*i),"%")}).then(e=>console.log(e));return j}({image:o,message:a,scale:s}):j}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||j)}group(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const n=A({logLevel:e,message:t,opts:r}),{collapsed:i}=r;return n.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(n)}groupCollapsed(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||j)}withGroup(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=T(e)}_getLogFunction(e,t,r,n,i){if(this._shouldLog(e)){i=A({logLevel:e,message:t,args:n,opts:i}),O(r=r||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=w();const o=i.tag||i.message;if(i.once){if(P[o])return j;P[o]=w()}return t=function(e,t,r){if("string"==typeof t){const n=r.time?h(function(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}(r.total)):"";t=g(t=r.time?"".concat(e,": ").concat(n,"  ").concat(t):"".concat(e,": ").concat(t),r.color,r.background)}return t}(this.id,i.message,i),r.bind(console,t,...i.args)}return j}}function T(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return O(Number.isFinite(t)&&t>=0),t}function A(e){const{logLevel:t,message:r}=e;e.logLevel=T(t);const n=e.args?Array.from(e.args):[];for(;n.length&&n.shift()!==r;);switch(typeof t){case"string":case"function":void 0!==r&&n.unshift(r),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());const i=typeof e.message;return O("string"===i||"object"===i),Object.assign(e,{args:n},e.opts)}function I(e){for(const t in e)for(const r in e[t])return r||"untitled";return"empty"}Object(l.a)(x,"VERSION",i);var k=new x({id:"@probe.gl/log"}),R=r(51)}]);',ar={};function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return ar[e]}function ur(e){var t=e.worker,r=e.maxConcurrency,n=void 0===r?4:r,i=e.capacity,o=void 0===i?null:i,a=e.id,s=void 0===a?"default":a;if(!ar[s]){var u,c=ir({},I());if(delete c.preProcessPrimitive,"string"===typeof t)u=t;else{var l=new Blob([or],{type:"application/javascript"});u=URL.createObjectURL(l)}ar[s]=new rr({id:s,workerURL:u,maxConcurrency:n,capacity:o,initialMessage:{xvizConfig:c}})}}function cr(){Object.keys(ar).forEach((function(e){if(ar[e]){var t=ir({},I());delete t.preProcessPrimitive,ar[e].broadcast({xvizConfig:t})}}))}function lr(e){var t=e.id,r=e.worker,n=e.maxConcurrency,i=void 0===n?4:n,o=e.capacity,a=void 0===o?null:o;ur({id:t,worker:r,maxConcurrency:i,capacity:a})}function fr(e){var t=e.message,r=e.onResult,n=e.onError,i=e.debug,o=e.worker,a=void 0!==o&&o,s=e.workerId,u=void 0===s?"default":s,c=e.maxConcurrency,l=void 0===c?4:c,f=e.capacity,h=void 0===f?null:f,p=e.opts,d=void 0===p?{}:p;if(a){var v=u;sr(v)||lr({id:v,worker:a,maxConcurrency:l,capacity:h});var m=sr(v);i&&(m.debug=i);var y=function(e){return r(Qt(e))};m.process({data:t,opts:d},y,n)}else $t(t,r,n,d)}T(cr)},"/qmn":function(e,t,r){var n=r("2oRo");e.exports=n.Promise},0:function(e,t){},"03A+":function(e,t,r){var n=r("JTzB"),i=r("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},"07d7":function(e,t,r){var n=r("AO7/"),i=r("busE"),o=r("sEFX");n||i(Object.prototype,"toString",o,{unsafe:!0})},"07zz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=m(o),s=r("17x9"),u=m(s),c=r("e+5M"),l=m(c),f=r("c/BZ"),h=r("s33p"),p=r("V66O"),d=r("MLCA"),v=m(d);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _="rv-xy-plot__series rv-xy-plot__series--mark",w=1,x=function(e){function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),i(t,[{key:"_renderCircle",value:function(e,t,r,i,o){var s=this,u=o.fill,c=o.opacity,l=o.size,f=o.stroke,h=o.x,d=o.y,v={r:l?l(e):p.DEFAULT_SIZE,cx:h(e),cy:d(e),style:n({opacity:c?c(e):p.DEFAULT_OPACITY,stroke:f&&f(e),fill:u&&u(e),strokeWidth:r||w},i),key:t,onClick:function(t){return s._valueClickHandler(e,t)},onContextMenu:function(t){return s._valueRightClickHandler(e,t)},onMouseOver:function(t){return s._valueMouseOverHandler(e,t)},onMouseOut:function(t){return s._valueMouseOutHandler(e,t)}};return a["default"].createElement("circle",v)}},{key:"render",value:function(){var e=this,r=this.props,i=r.animation,o=r.className,s=r.data,u=r.marginLeft,c=r.marginTop,p=r.strokeWidth,d=r.style;this.props.nullAccessor&&(0,h.warning)("nullAccessor has been renamed to getNull",!0);var v=this.props.nullAccessor||this.props.getNull;if(!s)return null;if(i)return a["default"].createElement(l["default"],n({},this.props,{animatedProps:f.ANIMATED_SERIES_PROPS}),a["default"].createElement(t,n({},this.props,{animation:null})));var m={fill:this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),opacity:this._getAttributeFunctor("opacity"),size:this._getAttributeFunctor("size"),stroke:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x:this._getAttributeFunctor("x"),y:this._getAttributeFunctor("y")};return a["default"].createElement("g",{className:_+" "+o,transform:"translate("+u+","+c+")"},s.map((function(t,r){return v(t)&&e._renderCircle(t,r,p,d,m)})))}}]),t}(v["default"]);x.displayName="MarkSeries",x.propTypes=n({},v["default"].propTypes,{getNull:u["default"].func,strokeWidth:u["default"].number}),x.defaultProps={getNull:function(){return!0}},t["default"]=x},"08aV":function(e,t,r){"use strict";r.d(t,"d",(function(){return Z})),r.d(t,"a",(function(){return J})),r.d(t,"e",(function(){return ne})),r.d(t,"b",(function(){return ie["a"]})),r.d(t,"c",(function(){return se})),r.d(t,"f",(function(){return R["b"]}));var n=r("1OyB"),i=r("vuIU"),o=r("ReuC"),a=r("Ji7U"),s=r("md7G"),u=r("foSv"),c=r("bB+V"),l=r("rePB"),f=r("U8pU"),h=r("H7XF"),p=r.n(h);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e))return e.map((function(e){return m(e,t,r+1)}));if(ArrayBuffer.isView(e)){if("vertices"!==t&&"points"!==t||r>0)return Array.from(e);var n=e.length;if(n%3!==0)throw new Error("TypeArray conversion failure. The array is expect to be divisible by 3");for(var i=[],o=n/3,a=0;a<o;a++)i.push(Array.from(e.slice(3*a,3*a+3)));return i}if(null!==e&&"object"===Object(f["a"])(e)){var s=Object.keys(e);if(s.includes("data")&&"images"===t)return v(v({},e),{},{data:p.a.fromByteArray(e.data)});var u={};for(var c in e)u[c]=m(e[c],c);return u}return e}var y=r("BS1C");function g(e){var t=b();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){return"".concat(e+2,"-frame")},w=function(e){Object(a["a"])(r,e);var t=g(r);function r(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,r),i=t.call(this,e);var a=o.envelope,s=void 0===a||a,u=o.precision,c=void 0===u?10:u,l=o.asArrayBuffer,f=void 0!==l&&l;return i.messageTimings={messages:new Map},i.wroteMessageIndex=null,i.options={envelope:s,precision:c,asArrayBuffer:f},i}return Object(i["a"])(r,[{key:"writeMetadata",value:function(e){this._checkValid(),this._saveTimestamp(e),this.options.envelope&&(e=se.Metadata(e));var t=JSON.stringify(e);this.writeToSink("1-frame.json",t)}},{key:"writeMessage",value:function(e,t){var r=this;this._checkValid(),this._saveTimestamp(t,e),this.options.envelope&&(t=se.StateUpdate(t));var n=function(e,t){return"number"===typeof t?Number(t.toFixed(r.options.precision)):t},i=m(t),o=JSON.stringify(i,n);this.writeToSink("".concat(_(e),".json"),o)}},{key:"_writeMessageIndex",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error("Error writing time index file. Messages are missing between ".concat(r+2," and ").concat(e+2));a.push(n.get(e))})),i.timing=a;var s=JSON.stringify(i);this.writeToSink("0-frame.json",s),this.wroteMessageIndex=a.length}},{key:"close",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),Object(o["a"])(Object(u["a"])(r.prototype),"close",this).call(this))}},{key:"_saveTimestamp",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error("Cannot find timestamp");if(0===n.length||!n.every((function(e){return"number"===typeof e.timestamp})))throw new Error("XVIZ updates did not contain a valid timestamp");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,_(t)])}}},{key:"writeToSink",value:function(e,t){if(this.options.asArrayBuffer){var r=new y["TextEncoder"];t=r.encode(t)}this.sink.writeSync(e,t)}}]),r}(c["a"]),x=r("jM1q"),O=r("KQm4"),E=r("8WtI");function j(e){var t=S();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){return"".concat(e+2,"-frame")},T=function(e){Object(a["a"])(r,e);var t=j(r);function r(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,r),i=t.call(this,e);var a=o.envelope,s=void 0===a||a;return i.messageTimings={messages:new Map},i.wroteMessageIndex=null,i.options={envelope:s},i}return Object(i["a"])(r,[{key:"writeMetadata",value:function(e){this._checkValid(),this._saveTimestamp(e);var t=I(e),r={type:E["c"].Metadata,msg:E["c"].Metadata.fromObject(t)};this.options.envelope&&this._applyEnvelope(r);var n=r.type.encode(r.msg).finish(),i=new Uint8Array(n.byteLength+4);i.set(E["b"],0),i.set(n,4),this.writeToSink("1-frame.pbe",i)}},{key:"writeMessage",value:function(e,t){this._checkValid(),this._saveTimestamp(t,e);var r=I(t),n={type:E["c"].StateUpdate,msg:E["c"].StateUpdate.fromObject(r)};this.options.envelope&&this._applyEnvelope(n);var i=n.type.encode(n.msg).finish(),o=new Uint8Array(i.byteLength+4);o.set(E["b"],0),o.set(i,4),this.writeToSink("".concat(k(e),".pbe"),o)}},{key:"_applyEnvelope",value:function(e){if(e.type===E["c"].Metadata){var t=e.type.encode(e.msg).finish();e.type=E["c"].Envelope,e.msg=e.type.fromObject({type:"xviz/metadata",data:{type_url:"xviz.v2.Metadata",value:t}})}else if(e.type===E["c"].StateUpdate){var r=e.type.encode(e.msg).finish();e.type=E["c"].Envelope,e.msg=e.type.fromObject({type:"xviz/state_update",data:{type_url:"xviz.v2.StateUpdate",value:r}})}}},{key:"_writeMessageIndex",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error("Error writing time index file. Messages are missing between ".concat(r+2," and ").concat(e+2));a.push(n.get(e))})),i.timing=a;var s=JSON.stringify(i);this.writeToSink("0-frame.json",s),this.wroteMessageIndex=a.length}},{key:"close",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),Object(o["a"])(Object(u["a"])(r.prototype),"close",this).call(this))}},{key:"_saveTimestamp",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error("Cannot find timestamp");if(0===n.length||!n.every((function(e){return"number"===typeof e.timestamp})))throw new Error("XVIZ updates did not contain a valid timestamp");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,k(t)])}}},{key:"writeToSink",value:function(e,t){this.sink.writeSync(e,t)}}]),r}(c["a"]),P=["stroke_color","fill_color"];function A(e){var t=e.substring(1),r=t.length;if(3!==r&&4!==r&&6!==r&&8!==r)return null;for(var n=[],i=3===t.length||4===t.length?1:2,o=0;o<t.length;o+=i)n.push(parseInt(t.substr(o,i),16));return n}function I(e,t){if(Array.isArray(e)){if("vertices"!==t&&"points"!==t&&"colors"!==t)return e.map((function(e){return I(e,t)}));if(Array.isArray(e[0])){var r=[];return e.forEach((function(e){return r.push.apply(r,Object(O["a"])(e))})),r}if(ArrayBuffer.isView(e[0])){var n=[];return e.forEach((function(e){return n.push.apply(n,Object(O["a"])(Array.from(e)))})),n}if(Number.isFinite(e[0]))return e;if("object"===Object(f["a"])(e[0]))return e.map((function(e){return I(e,t)}))}if(ArrayBuffer.isView(e))return Array.from(e);if(P.includes(t)&&"string"===typeof e&&e.match(/^#([0-9a-f]{3,4})|([0-9a-f]{6,8})$/i))return A(e);if(null!==e&&"object"===Object(f["a"])(e)){var i=Object.keys(e);if(i.includes("data")&&"images"===t)return e;for(var o={},a=Object.keys(e),s=0,u=a;s<u.length;s++){var c=u[s];o[c]=I(e[c],c)}return o}return e}var C=r("Ff2n"),R=r("A4jd"),M=["format"];function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=F();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var z=function(e){Object(a["a"])(r,e);var t=N(r);function r(e,i){return Object(n["a"])(this,r),t.call(this,e,D(D({},i),{},{asArrayBuffer:!0}))}return Object(i["a"])(r)}(w);function B(e,t,r){var n=null;switch(t){case R["a"].BINARY_GLB:n=new x["a"](e,r);break;case R["a"].BINARY_PBE:n=new T(e,r);break;case R["a"].JSON_BUFFER:n=new z(e,r);break;case R["a"].JSON_STRING:n=new w(e,r);break;default:throw new Error("Cannot convert XVIZData to format ".concat(t))}return n}(function(){function e(t,r){var i=r.format,o=Object(C["a"])(r,M);if(Object(n["a"])(this,e),this.format=i,this.options=D({flattenArrays:!0},o),!i||i===R["a"].OBJECT)throw new Error("Format ".concat(i," is not supported by XVIZFormatter."));this.writer=B(t,i,this.options)}Object(i["a"])(e,[{key:"writeMetadata",value:function(e){var t=e.message();this.writer.writeMetadata(t.data)}},{key:"writeMessage",value:function(e,t){var r=t.message();this.writer.writeMessage(e,r.data)}},{key:"close",value:function(){this.writer.close()}}])})();var U=r("ia4Z"),V=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,e),this.source=t,this.options=r,this.suffix=r.suffix||"-frame.json",this.index=this._readIndex()}return Object(i["a"])(e,[{key:"readMetadata",value:function(){if(this.source){var e=this.source.readSync(this._xvizMessage(1));return e||(e=this.source.readSync(this._xvizMessage(1,{forceJson:!0}))),e}}},{key:"readMessage",value:function(e){if(this.source)return this.source.readSync(this._xvizMessage(2+e))}},{key:"checkMessage",value:function(e){return!!this.source&&this.source.existsSync(this._xvizMessage(2+e))}},{key:"timeRange",value:function(){if(this.index){var e=this.index,t=e.startTime,r=e.endTime;return{startTime:t,endTime:r}}return{startTime:null,endTime:null}}},{key:"messageCount",value:function(){if(this.index)return this.index.timing.length}},{key:"findMessage",value:function(e){if(this.index){var t=this.index,r=t.startTime,n=t.endTime,i=t.timing,o=this.messageCount(),a=o>0?o-1:0;if(e<r)return{first:0,last:0};if(e>n)return{first:a,last:a};var s=i.findIndex((function(t){return t[0]>=e})),u=-1,c=a;while(c>=0){var l=i[c];if(l[1]<=e){u=c;break}c--}return-1===s&&(s=0),-1===u&&(u=a),{first:s,last:u}}}},{key:"close",value:function(){this.source.close()}},{key:"_xvizMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.forceJson,n=void 0!==r&&r;return 0===e||n?"".concat(e,"-frame.json"):"".concat(e).concat(this.suffix)}},{key:"_readIndex",value:function(){if(this.source){var e=this.source.readSync(this._xvizMessage(0));if(e){if(Object(U["e"])(e))return JSON.parse(e);if("object"===Object(f["a"])(e))return e}}}}]),e}();function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e){var t=H();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Z=function(e){Object(a["a"])(r,e);var t=W(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,r),t.call(this,e,q(q({},i),{},{suffix:"-frame.json"}))}return Object(i["a"])(r)}(V);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){var t=K();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var J=function(e){Object(a["a"])(r,e);var t=Y(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,r),t.call(this,e,$($({},i),{},{suffix:"-frame.glb"}))}return Object(i["a"])(r)}(V);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e){var t=re();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ne=function(e){Object(a["a"])(r,e);var t=te(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,r),t.call(this,e,ee(ee({},i),{},{suffix:"-frame.pbe"}))}return Object(i["a"])(r)}(V),ie=(function(){function e(){Object(n["a"])(this,e),this.data=new Map}Object(i["a"])(e,[{key:"readSync",value:function(e){return this.data.get(e)}},{key:"writeSync",value:function(e,t){ArrayBuffer.isView(t)&&t.length&&t.buffer?this.data.set(e,t.buffer):this.data.set(e,t)}},{key:"existsSync",value:function(e){return this.data.has(e)}},{key:"close",value:function(){}},{key:"entries",value:function(){return this.data.entries()}},{key:"has",value:function(e){return this.data.has(e)}}])}(),r("avXi")),oe=(r("A9bQ"),r("FZGT"));function ae(e,t){return{type:"".concat(R["c"],"/").concat(e),data:t}}var se={Metadata:function(e){return ae(oe["a"].METADATA,e)},StateUpdate:function(e){return ae(oe["a"].STATE_UPDATE,e)},Error:function(e){return ae(oe["a"].ERROR,e)},TransformLogDone:function(e){return ae(oe["a"].TRANSFORM_LOG_DONE,e)}},ue=r("HaE+"),ce=r("o0o1"),le=r.n(ce),fe=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(n["a"])(this,e),this.start=t,this.end=r,this.increment=i,this.current=t}return Object(i["a"])(e,[{key:"valid",value:function(){return this.current<=this.end}},{key:"value",value:function(){return this.current}},{key:"next",value:function(){var e=this.valid();if(!e)return{valid:e};var t=this.current;return this.current+=this.increment,{valid:e,data:t}}}]),e}(),he=function(){function e(t){var r=t.reader,i=t.options;Object(n["a"])(this,e),this.reader=r,this.options=i,this.metadata=null,this._valid=!1}return Object(i["a"])(e,[{key:"init",value:function(){var e=Object(ue["a"])(le.a.mark((function e(){var t,r,n;return le.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.reader){e.next=2;break}return e.abrupt("return");case 2:if(t=this.reader.timeRange(),r=t.startTime,n=t.endTime,this.metadata=this._readMetadata(),this.metadata&&Number.isFinite(r)&&Number.isFinite(n)&&this.reader.checkMessage(0)&&(this._valid=!0),!this.metadata||Number.isFinite(r)&&Number.isFinite(n)){e.next=7;break}throw new Error("The data source is missing the data index");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"valid",value:function(){return this._valid}},{key:"xvizMetadata",value:function(){return this.metadata}},{key:"xvizMessage",value:function(){var e=Object(ue["a"])(le.a.mark((function e(t){var r,n,i,o;return le.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.next(),n=r.valid,i=r.data,n){e.next=3;break}return e.abrupt("return",null);case 3:return o=this._readMessage(i),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMessageIterator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startTime,r=e.endTime,n=this.reader.timeRange(),i=n.startTime,o=n.endTime;if(Number.isFinite(t)||(t=i),Number.isFinite(r)||(r=o),t>r)return null;var a=this.reader.findMessage(t),s=this.reader.findMessage(r);return void 0!==a&&void 0!==s?new fe(a.first,s.last):null}},{key:"_readMessage",value:function(e){var t=this.reader.readMessage(e);if(t)return new ie["a"](t)}},{key:"_readMetadata",value:function(){var e=this.reader.readMetadata();if(e)return new ie["a"](e)}}]),e}();function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e){var t=me();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function me(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ye=function(e){Object(a["a"])(r,e);var t=ve(r);function r(e){return Object(n["a"])(this,r),t.call(this,de(de({},e),{},{reader:new Z(e.source,e.options)}))}return Object(i["a"])(r)}(he);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e){var t=we();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function we(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var xe=function(e){Object(a["a"])(r,e);var t=_e(r);function r(e){return Object(n["a"])(this,r),t.call(this,be(be({},e),{},{reader:new J(e.source,e.options)}))}return Object(i["a"])(r)}(he);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e){var t=Se();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ke=function(e){Object(a["a"])(r,e);var t=je(r);function r(e){return Object(n["a"])(this,r),t.call(this,Ee(Ee({},e),{},{reader:new ne(e.source,e.options)}))}return Object(i["a"])(r)}(he);function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ie(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function Ie(e,t){if(e){if("string"===typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Re(e,t){return Me.apply(this,arguments)}function Me(){return Me=Object(ue["a"])(le.a.mark((function e(t,r){var n;return le.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,n=new t(r),e.next=4,n.init();case 4:if(!n.valid()){e.next=6;break}return e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}var Le=function(){function e(){Object(n["a"])(this,e),this.providerClasses=[{className:ye},{className:xe},{className:ke}]}return Object(i["a"])(e,[{key:"addProviderClass",value:function(e,t){this.providerClasses.push({className:e,args:t})}},{key:"open",value:function(){var e=Object(ue["a"])(le.a.mark((function e(t){var r,n,i,o,a;return le.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=Ae(this.providerClasses),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=13;break}return i=n.value,o=Pe(Pe({},t.options),i.args),e.next=8,Re(i.className,Pe(Pe({},t),{},{options:o}));case 8:if(a=e.sent,!a){e.next=11;break}return e.abrupt("return",a);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,this,[[1,15,18,21]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();new Le},"0BK2":function(e,t){e.exports={}},"0Bia":function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),i=r.n(n),o=r("dEAq"),a=r("MZF8"),s=(r("mdU6"),function(e){var t=e.location,r=Object(n["useContext"])(o["context"]),s=r.base,u=r.locale,c=r.config.locales,l=c.find((function(e){var t=e.name;return t!==u}));function f(e){var r=s.replace("/".concat(u),""),n=t.pathname.replace(new RegExp("^".concat(s,"(/|$)")),"".concat(r,"$1"))||"/";if(e!==c[0].name){var i="".concat(r,"/").concat(e).replace(/\/\//,"/"),o=t.pathname.replace(s.replace(/^\/$/,"//"),"");return"".concat(i).concat(o).replace(/\/$/,"")}return n}return l?i.a.createElement("div",{className:"__dumi-default-locale-select","data-locale-count":c.length},c.length>2?i.a.createElement("select",{value:u,onChange:function(e){return a["a"].push(f(e.target.value))}},c.map((function(e){return i.a.createElement("option",{value:e.name,key:e.name},e.label)}))):i.a.createElement(o["Link"],{to:f(l.name)},l.label)):null}),u=s,c=(r("fVI1"),function(e){var t=e.onMobileMenuClick,r=e.navPrefix,a=e.location,s=e.darkPrefix,c=Object(n["useContext"])(o["context"]),l=c.base,f=c.config,h=f.mode,p=f.title,d=f.logo,v=c.nav;return i.a.createElement("div",{className:"__dumi-default-navbar","data-mode":h},i.a.createElement("button",{className:"__dumi-default-navbar-toggle",onClick:t}),i.a.createElement(o["Link"],{className:"__dumi-default-navbar-logo",style:{backgroundImage:d&&"url('".concat(d,"')")},to:l,"data-plaintext":!1===d||void 0},p),i.a.createElement("nav",null,r,v.map((function(e){var t,r=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path},i.a.createElement(o["NavLink"],{to:e.path},e.title))})));return i.a.createElement("span",{key:e.title||e.path},e.path?i.a.createElement(o["NavLink"],{to:e.path,key:e.path},e.title):e.title,r)})),i.a.createElement("div",{className:"__dumi-default-navbar-tool"},i.a.createElement(u,{location:a}),s)))}),l=c,f=(r("hJnp"),["slugs"]);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,i=d(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var v=function(e){var t=e.slugs,r=p(e,f);return i.a.createElement("ul",h({role:"slug-list"},r),t.filter((function(e){var t=e.depth;return t>1&&t<4})).map((function(e){return i.a.createElement("li",{key:e.heading,title:e.value,"data-depth":e.depth},i.a.createElement(o["AnchorLink"],{to:"#".concat(e.heading)},i.a.createElement("span",null,e.value)))})))},m=v,y=(r("Mpie"),function(e){var t=e.mobileMenuCollapsed,r=e.location,a=e.darkPrefix,s=Object(n["useContext"])(o["context"]),c=s.config,l=c.logo,f=c.title,h=c.description,p=c.mode,d=c.repository.url,v=s.menu,y=s.nav,g=s.base,b=s.meta,_=Boolean((b.hero||b.features||b.gapless)&&"site"===p)||!1===b.sidemenu||void 0;return i.a.createElement("div",{className:"__dumi-default-menu","data-mode":p,"data-hidden":_,"data-mobile-show":!t||void 0},i.a.createElement("div",{className:"__dumi-default-menu-inner"},i.a.createElement("div",{className:"__dumi-default-menu-header"},i.a.createElement(o["Link"],{to:g,className:"__dumi-default-menu-logo",style:{backgroundImage:l&&"url('".concat(l,"')")}}),i.a.createElement("h1",null,f),i.a.createElement("p",null,h),/github\.com/.test(d)&&"doc"===p&&i.a.createElement("p",null,i.a.createElement("object",{type:"image/svg+xml",data:"https://img.shields.io/github/stars".concat(d.match(/((\/[^\/]+){2})$/)[1],"?style=social")}))),i.a.createElement("div",{className:"__dumi-default-menu-mobile-area"},!!y.length&&i.a.createElement("ul",{className:"__dumi-default-menu-nav-list"},y.map((function(e){var t,r=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path||e.title},i.a.createElement(o["NavLink"],{to:e.path},e.title))})));return i.a.createElement("li",{key:e.path||e.title},e.path?i.a.createElement(o["NavLink"],{to:e.path},e.title):e.title,r)}))),i.a.createElement(u,{location:r}),a),i.a.createElement("ul",{className:"__dumi-default-menu-list"},!_&&v.map((function(e){var t,n=Boolean(null===(t=b.slugs)||void 0===t?void 0:t.length),a=e.children&&Boolean(e.children.length),s="menu"===b.toc&&!a&&n&&e.path===r.pathname.replace(/([^^])\/$/,"$1"),u=a?e.children.map((function(e){return e.path})):[e.path,r.pathname.startsWith("".concat(e.path,"/"))&&b.title===e.title?r.pathname:null];return i.a.createElement("li",{key:e.path||e.title},i.a.createElement(o["NavLink"],{to:e.path,isActive:function(){return u.includes(r.pathname)}},e.title),Boolean(e.children&&e.children.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path},i.a.createElement(o["NavLink"],{to:e.path,exact:!0},i.a.createElement("span",null,e.title)),Boolean("menu"===b.toc&&"undefined"!==typeof window&&e.path===r.pathname&&n)&&i.a.createElement(m,{slugs:b.slugs}))}))),s&&i.a.createElement(m,{slugs:b.slugs}))})))))}),g=y;r("AK2Z");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function _(e,t){return j(e)||E(e,t)||x(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(e){if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function j(e){if(Array.isArray(e))return e}var S=function(e,t){var r=t.toLowerCase().indexOf(e.toLowerCase()),n=e.length;return i.a.createElement(i.a.Fragment,null,t.substring(0,r),i.a.createElement("span",{className:"__dumi-default-search-highlight"},t.substring(r,r+n)),t.substring(r+n,t.length))},k=function(){var e=Object(n["useState"])(""),t=_(e,2),r=t[0],a=t[1],s=Object(n["useState"])([]),u=_(s,2),c=u[0],l=u[1],f=Object(n["useRef"])(),h=Object(o["useSearch"])(r),p=i.a.createElement("svg",{className:"__dumi-default-search-empty",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2347",width:"32",height:"32"},i.a.createElement("path",{d:"M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z"}));return Object(n["useEffect"])((function(){Array.isArray(h)?l(h):"function"===typeof h&&h(".".concat(f.current.className))}),[h]),i.a.createElement("div",{className:"__dumi-default-search"},i.a.createElement("input",b({className:"__dumi-default-search-input",type:"search",ref:f},Array.isArray(h)?{value:r,onChange:function(e){return a(e.target.value)}}:{})),i.a.createElement("ul",null,c.length>0&&c.map((function(e){var t;return i.a.createElement("li",{key:e.path,onClick:function(){return a("")}},i.a.createElement(o["AnchorLink"],{to:e.path},(null===(t=e.parent)||void 0===t?void 0:t.title)&&i.a.createElement("span",null,e.parent.title),S(r,e.title)))})),0===c.length&&r&&i.a.createElement("li",{style:{textAlign:"center"}},p)))};r("Zkgb");function T(e,t){return R(e)||C(e,t)||A(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function R(e){if(Array.isArray(e))return e}var M=function(e){var t=e.darkSwitch,r=e.onDarkSwitchClick,n=e.isSideMenu,a=["dark","light","auto"],s=Object(o["usePrefersColor"])(),u=T(s,2),c=u[0],l=u[1],f=c,h=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4026",width:"22",height:"22"},i.a.createElement("path",{d:"M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z","p-id":"4027"})),p=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3854",width:"22",height:"22"},i.a.createElement("path",{d:"M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z","p-id":"3855"})),d=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11002",width:"22",height:"22"},i.a.createElement("path",{d:"M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z","p-id":"11003"})),v=a.filter((function(e){return e!==f})),m=function(e,t){!n&&r&&r(e),t!==f&&l(t)},y=function(e){switch(e){case"dark":return i.a.createElement("button",{key:"dumi-dark-btn-moon",title:"Dark theme",onClick:function(t){return m(t,e)},className:"__dumi-default-dark-moon ".concat(e===f?"__dumi-default-dark-switch-active":"")},p);case"light":return i.a.createElement("button",{key:"dumi-dark-btn-sun",title:"Light theme",onClick:function(t){return m(t,e)},className:"__dumi-default-dark-sun ".concat(e===f?"__dumi-default-dark-switch-active":"")},h);case"auto":return i.a.createElement("button",{key:"dumi-dark-btn-auto",title:"Default to system",onClick:function(t){return m(t,e)},className:"__dumi-default-dark-auto ".concat(e===f?"__dumi-default-dark-switch-active":"")},d);default:}};return i.a.createElement("div",{className:"__dumi-default-dark"},i.a.createElement("div",{className:"__dumi-default-dark-switch ".concat(!n&&t?"__dumi-default-dark-switch-open":"")},n?a.map((function(e){return y(e)})):y(f)),!n&&t&&i.a.createElement("div",{className:"__dumi-default-dark-switch-list"},v.map((function(e){return y(e)}))))},L=M;r("AQPS");function D(e,t){return U(e)||B(e,t)||F(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(e,t){if(e){if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function U(e){if(Array.isArray(e))return e}var V=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"__dumi-default-layout-hero"},e.image&&i.a.createElement("img",{src:e.image}),i.a.createElement("h1",null,e.title),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.desc}}),e.actions&&e.actions.map((function(e){return i.a.createElement(o["Link"],{to:e.link,key:e.text},i.a.createElement("button",{type:"button"},e.text))}))))},G=function(e){return i.a.createElement("div",{className:"__dumi-default-layout-features"},e.map((function(e){return i.a.createElement("dl",{key:e.title,style:{backgroundImage:e.icon?"url(".concat(e.icon,")"):void 0}},e.link?i.a.createElement(o["Link"],{to:e.link},i.a.createElement("dt",null,e.title)):i.a.createElement("dt",null,e.title),i.a.createElement("dd",{dangerouslySetInnerHTML:{__html:e.desc}}))})))},q=function(e){var t,r,a=e.children,s=e.location,u=Object(n["useContext"])(o["context"]),c=u.config,f=c.mode,h=c.repository,p=(u.nav,u.meta),d=u.locale,v=h.url,y=h.branch,b=h.platform,_=Object(n["useState"])(!0),w=D(_,2),x=w[0],O=w[1],E=Object(n["useState"])(!1),j=D(E,2),S=j[0],T=j[1],P="site"===f,A=P&&p.hero,I=P&&p.features,C=!1!==p.sidemenu&&!A&&!I&&!p.gapless,R=!A&&!I&&Boolean(null===(t=p.slugs)||void 0===t?void 0:t.length)&&("content"===p.toc||void 0===p.toc)&&!p.gapless,M=/^zh|cn$/i.test(d),N=new Date(p.updatedTime),F="".concat(N.toLocaleDateString([],{hour12:!1})," ").concat(N.toLocaleTimeString([],{hour12:!1})),z={github:"GitHub",gitlab:"GitLab"}[(null===(r=(v||"").match(/(github|gitlab)/))||void 0===r?void 0:r[1])||"nothing"]||b;return i.a.createElement("div",{className:"__dumi-default-layout","data-route":s.pathname,"data-show-sidemenu":String(C),"data-show-slugs":String(R),"data-site-mode":P,"data-gapless":String(!!p.gapless),onClick:function(){T(!1),x||O(!0)}},i.a.createElement(l,{location:s,navPrefix:i.a.createElement(k,null),darkPrefix:i.a.createElement(L,{darkSwitch:S,onDarkSwitchClick:function(e){T((function(e){return!e})),e.stopPropagation()},isSideMenu:!1}),onMobileMenuClick:function(e){O((function(e){return!e})),e.stopPropagation()}}),i.a.createElement(g,{darkPrefix:i.a.createElement(L,{darkSwitch:S,isSideMenu:!0}),mobileMenuCollapsed:x,location:s}),R&&i.a.createElement(m,{slugs:p.slugs,className:"__dumi-default-layout-toc"}),A&&V(p.hero),I&&G(p.features),i.a.createElement("div",{className:"__dumi-default-layout-content"},a,!A&&!I&&p.filePath&&!p.gapless&&i.a.createElement("div",{className:"__dumi-default-layout-footer-meta"},z&&i.a.createElement(o["Link"],{to:"".concat(v,"/edit/").concat(y,"/").concat(p.filePath)},M?"\u5728 ".concat(z," \u4e0a\u7f16\u8f91\u6b64\u9875"):"Edit this doc on ".concat(z)),i.a.createElement("span",{"data-updated-text":M?"\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a":"Last update: "},F)),(A||I)&&p.footer&&i.a.createElement("div",{className:"__dumi-default-layout-footer",dangerouslySetInnerHTML:{__html:p.footer}})))};t["default"]=q},"0Cz8":function(e,t,r){var n=r("Xi7e"),i=r("ebwN"),o=r("e4Nc"),a=200;function s(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}e.exports=s},"0Dky":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"0GbY":function(e,t,r){var n=r("Qo9l"),i=r("2oRo"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},"0Xrt":function(e,t,r){"use strict";e.exports=r("PWQt")},"0cTh":function(e,t,r){"use strict";e.exports=s;var n=r("Jkyt"),i=r("H/ma"),o=r("CzZC");function a(e){return"missing required '"+e.name+"'"}function s(e){var t=o.typedArrayIsLe(),r=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&r("if((t&7)===4)")("break"),r("switch(t>>>3){");for(var s=0;s<e.fieldsArray.length;++s){var u=e._fieldsArray[s].resolve(),c=u.resolvedType instanceof n?"int32":u.type,l="m"+o.safeProp(u.name);r("case %i:",u.id),u.map?(r("r.skip().pos++")("if(%s===util.emptyObject)",l)("%s={}",l)("k=r.%s()",u.keyType)("r.pos++"),void 0!==i["long"][u.keyType]?void 0===i.basic[c]?r('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',l,s):r('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',l,c):void 0===i.basic[c]?r("%s[k]=types[%i].decode(r,r.uint32())",l,s):r("%s[k]=r.%s()",l,c)):t&&u.repeated&&"float"===c?r("%s=r.float_array()",l):t&&u.repeated&&"double"===c?r("%s=r.double_array()",l):t&&u.repeated&&"fixed32"===c?r("%s=r.fixed32_array()",l):t&&u.repeated&&"sfixed32"===c?r("%s=r.sfixed32_array()",l):u.repeated?(r("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[c]&&r("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===i.basic[c]?r(u.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,s):r("%s.push(r.%s())",l,c)):void 0===i.basic[c]?r(u.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,s):r("%s=r.%s()",l,c),r("break")}for(r("default:")("r.skipType(t&7)")("break")("}")("}"),s=0;s<e._fieldsArray.length;++s){var f=e._fieldsArray[s];f.required&&r("if(!m.hasOwnProperty(%j))",f.name)("throw util.ProtocolError(%j,{instance:m})",a(f))}return r("return m")}},"0eef":function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},"0q/z":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e,r){if(n(r,e,t))return u.stop(r)}),void 0,!0,!0).result}})},"0qCr":function(e,t,r){"use strict";e.exports={}},"0rvr":function(e,t,r){var n=r("glrk"),i=r("O741");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(o){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)},"0w4r":function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(a||""),h="valid"+o,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+f+".length , "+h+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,v=Array.isArray(d);if(!d||"object"==d||"array"==d||v&&(d.indexOf("object")>=0||d.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var m="checkDataType"+(v?"s":"");i+=" if ("+e.util[m](d,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var y=y||[];y.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;i=y.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},"0wEy":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var i=r("xCC/");t.Motion=n(i);var o=r("unm8");t.StaggeredMotion=n(o);var a=r("p9CH");t.TransitionMotion=n(a);var s=r("tYRH");t.spring=n(s);var u=r("LQNH");t.presets=n(u);var c=r("u461");t.stripStyle=n(c);var l=r("MEvW");t.reorderKeys=n(l)},"0ycA":function(e,t){function r(){return[]}e.exports=r},1:function(e,t){},"1/Kc":function(e,t,r){"use strict";r.r(t);r("pNMO"),r("4Brf"),r("tjZM"),r("3I1R"),r("7+kd"),r("KhsS"),r("gOCb"),r("a57n"),r("GXvd"),r("I1Gw"),r("gXIK"),r("lEou"),r("ma9I"),r("TeQF"),r("BIHw"),r("XbcX"),r("pjDv"),r("yq1k"),r("yXV3"),r("4mDm"),r("uqXc"),r("2B1R"),r("E9XD"),r("9N29"),r("Junv"),r("+2oP"),r("ToJy"),r("94Xl"),r("pDQq"),r("QGkA"),r("c9m3"),r("wZ/5"),r("rOQg"),r("7+zs"),r("tW5y"),r("DEfu"),r("Tskq"),r("Uydy"),r("QFcT"),r("I9xj"),r("w1rZ"),r("JevA"),r("toAj"),r("zKZe"),r("Eqjn"),r("5xtp"),r("T63A"),r("wfmh"),r("27RR"),r("v5b1"),r("W/eh"),r("07d7"),r("B6y2"),r("rNhl"),r("4l63"),r("5s+n"),r("p532"),r("pv2x"),r("SuFq"),r("ftMj"),r("TWNs"),r("rB9j"),r("U3f4"),r("JfAA"),r("YGK4"),r("inlA"),r("JTJg"),r("Rm1S"),r("hDyC"),r("TZCg"),r("UxlC"),r("hByQ"),r("EnZy"),r("LKBx"),r("SYor"),r("HiXI"),r("7ueG"),r("z8NH"),r("SpvK"),r("/Yfv"),r("iwkZ"),r("FDzp"),r("XMab"),r("ilnZ"),r("hMMk"),r("+ywr"),r("c162"),r("IL/d"),r("gvgV"),r("YL0P"),r("7JcK"),r("PF2M"),r("IZzc"),r("s5qe"),r("cvf0"),r("ENF9"),r("H+LF"),r("66V8"),r("iIM6"),r("2tOg"),r("gYJb"),r("EDT/"),r("j+VE"),r("wgYD"),r("R3/m"),r("l/vG"),r("0q/z"),r("n5pg"),r("zu+z"),r("ihrJ"),r("Q7Pz"),r("unQa"),r("Vnov"),r("nIe3"),r("CUyW"),r("qc1c"),r("5921"),r("VOz1"),r("Thag"),r("9D6x"),r("cOPa"),r("vdRX"),r("KrxN"),r("SL6q"),r("lehK"),r("eO0o"),r("NqR8"),r("w7s6"),r("uWhJ"),r("WPzJ"),r("NV22"),r("ny8l"),r("a5/B"),r("vzwy"),r("pevA"),r("8go2"),r("DrvE"),r("kCkZ"),r("++zV"),r("Y4C7"),r("ZsH6"),r("vZi8"),r("5r1n"),r("sQ9d"),r("bdeN"),r("AwgR"),r("qgGA"),r("49+q"),r("AVoK"),r("hcok"),r("dNT4"),r("3uUd"),r("tijO"),r("1kQv"),r("ZY7T"),r("C1JJ"),r("lmH4"),r("Co1j"),r("5JV0"),r("ctDJ"),r("8r4s"),r("JwUS"),r("qaHo"),r("Si40"),r("BGb9"),r("fN96"),r("UzNg"),r("DhMN"),r("rZ3M"),r("apDx"),r("4XaG"),r("6V7H"),r("cfiF"),r("702D"),r("TJ79"),r("Z4nd"),r("8STE"),r("spTT"),r("rb3L"),r("FZtP"),r("3bBZ"),r("Ew+T"),r("n5b4"),r("Kz25"),r("vxnP"),r("mGGf"),r("VWci");var n=r("VCU9"),i=r("ogwx"),o=r("LtsZ"),a=r("zlVK"),s=r("tJVT");function u(){var e=[{path:"/~demos/:uuid",layout:!1,wrappers:[r("OYlG").default],component:e=>{var t=r("q1tI"),n=r("F4QJ"),i=n.default,o=r("Zxc8"),a=o.default,u=r("dEAq"),c=u.usePrefersColor,l=u.context,f=t.useContext(l),h=f.demos,p=t.useState([]),d=Object(s["a"])(p,2),v=d[0],m=d[1];switch(t.useLayoutEffect((()=>{m(i(e,h))}),[e.match.params.uuid,e.location.query.wrapper,e.location.query.capture]),c(),v.length){case 1:return v[0];case 2:return t.createElement(a,v[0],v[1]);default:return"Demo ".concat(e.match.params.uuid," not found :(")}}},{path:"/_demos/:uuid",redirect:"/~demos/:uuid"},{__dumiRoot:!0,layout:!1,path:"/",wrappers:[r("OYlG").default,r("0Bia").default],routes:[{path:"/components/test",component:r("NAQ3").default,exact:!0,meta:{filePath:"packages/street.gl/src/Test/index.md",updatedTime:1669024152105,componentName:"Test",nav:{title:"Components",path:"/components"},slugs:[{depth:2,value:"Test",heading:"test"},{depth:2,value:"API",heading:"api"}],title:"Test",hasPreviewer:!0,group:{path:"/components/test",title:"Components"}},title:"Test - \u53ef\u89c6\u5316\u7ec4\u4ef6\u5e93"},{path:"/zh-CN/components/test",component:r("Nt8B").default,exact:!0,meta:{filePath:"packages/street.gl/src/Test/index.zh-CN.md",updatedTime:1669024476271,componentName:"Test",nav:{title:"\u7ec4\u4ef6",path:"/zh-CN/components"},slugs:[{depth:2,value:"Pannel",heading:"pannel"},{depth:2,value:"API",heading:"api"}],title:"Pannel",hasPreviewer:!0,locale:"zh-CN",group:{path:"/zh-CN/components/test",title:"\u7ec4\u4ef6"}},title:"Pannel - \u53ef\u89c6\u5316\u7ec4\u4ef6\u5e93"},{path:"/",component:r("F+kV").default,exact:!0,meta:{filePath:"docs/index.md",updatedTime:1669007205e3,title:"dumi - A doc tool can assist you to develop libraries & write docs.",order:10,hero:{title:"dumi",desc:'<div class="markdown"><p>\ud83d\udcd6 A doc tool can assist you to develop libraries &#x26; write docs.</p></div>',actions:[{text:"Getting Started",link:"/components/Test"}]},features:[{icon:"https://gw.alipayobjects.com/zos/bmw-prod/881dc458-f20b-407b-947a-95104b5ec82b/k79dm8ih_w144_h144.png",title:"Out of the box",desc:'<div class="markdown"><p>Elegant default configrations and convention routing assist developers to get started as simple as possible, that focus all attentions on developing libraries &#x26; writting docs</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/d1ee0c6f-5aed-4a45-a507-339a4bfe076c/k7bjsocq_w144_h144.png",title:"For developing libraries",desc:'<div class="markdown"><p>Rich Markdown extensions are not limited to rendering component demos, making component documents not only easy to write and manage, but also beautiful and easy to use</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/b8570f4d-c1b1-45eb-a1da-abff53159967/kj9t990h_w144_h144.png",title:"Theme system",desc:'<div class="markdown"><p>Progressive custom theme capabilities, ranging from expanding your own Markdown tags to customizing complete theme packages, are up to you</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/b3e102cd-5dad-4046-a02a-be33241d1cc7/kj9t8oji_w144_h144.png",title:"API automatically generated",desc:'<div class="markdown"><p>Component API can be automatically generated based on TypeScript type definitions, and components will always be\u300ethe same in appearance\u300f</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/3863e74a-7870-4874-b1e1-00a8cdf47684/kj9t7ww3_w144_h144.png",title:"Mobile component library development",desc:'<div class="markdown"><p>Install the theme package to quickly enable mobile component R&#x26;D capabilities, built-in mobile HD rendering solution</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/f093e060-726e-471c-a53e-e988ed3f560c/kj9t9sk7_w144_h144.png",title:"Asset dataization capabilities",desc:'<div class="markdown"><p>One-line command digitizes component assets, and standardized asset data can be connected with downstream productivity tools</p></div>'}],footer:'<div class="markdown"><p>Open-source MIT Licensed | Copyright \xa9 2019-present<br />Powered by self</p></div>',slugs:[{depth:2,value:"Getting Started",heading:"getting-started"},{depth:2,value:"Feedback",heading:"feedback"}]},title:"dumi - A doc tool can assist you to develop libraries & write docs. - \u53ef\u89c6\u5316\u7ec4\u4ef6\u5e93"},{path:"/zh-CN",component:r("QrP+").default,exact:!0,meta:{filePath:"docs/index.zh-CN.md",updatedTime:1669007205e3,title:"dumi - \u4e3a\u7ec4\u4ef6\u5f00\u53d1\u573a\u666f\u800c\u751f\u7684\u6587\u6863\u5de5\u5177",order:10,hero:{title:"dumi",desc:'<div class="markdown"><p>\ud83d\udcd6 \u4e3a\u7ec4\u4ef6\u5f00\u53d1\u573a\u666f\u800c\u751f\u7684\u6587\u6863\u5de5\u5177</p></div>',actions:[{text:"\u5feb\u901f\u4e0a\u624b",link:"/zh-CN/components/Test"}]},features:[{icon:"https://gw.alipayobjects.com/zos/bmw-prod/881dc458-f20b-407b-947a-95104b5ec82b/k79dm8ih_w144_h144.png",title:"\u5f00\u7bb1\u5373\u7528",desc:'<div class="markdown"><p>\u8003\u7a76\u7684\u9ed8\u8ba4\u914d\u7f6e\u548c\u7ea6\u5b9a\u5f0f\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u96f6\u6210\u672c\u4e0a\u624b\uff0c\u8ba9\u6240\u6709\u6ce8\u610f\u529b\u90fd\u80fd\u653e\u5728\u6587\u6863\u7f16\u5199\u548c\u7ec4\u4ef6\u5f00\u53d1\u4e0a</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/d1ee0c6f-5aed-4a45-a507-339a4bfe076c/k7bjsocq_w144_h144.png",title:"\u4e3a\u7ec4\u4ef6\u5f00\u53d1\u800c\u751f",desc:'<div class="markdown"><p>\u4e30\u5bcc\u7684 Markdown \u6269\u5c55\uff0c\u4e0d\u6b62\u4e8e\u6e32\u67d3\u7ec4\u4ef6 demo\uff0c\u4f7f\u5f97\u7ec4\u4ef6\u7684\u6587\u6863\u4e0d\u4ec5\u6613\u4e8e\u7f16\u5199\u3001\u7ba1\u7406\uff0c\u8fd8\u597d\u770b\u3001\u597d\u7528</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/b8570f4d-c1b1-45eb-a1da-abff53159967/kj9t990h_w144_h144.png",title:"\u4e3b\u9898\u7cfb\u7edf",desc:'<div class="markdown"><p>\u6e10\u8fdb\u5f0f\u7684\u81ea\u5b9a\u4e49\u4e3b\u9898\u80fd\u529b\uff0c\u5c0f\u5230\u6269\u5c55\u81ea\u5df1\u7684 Markdown \u6807\u7b7e\uff0c\u5927\u5230\u81ea\u5b9a\u4e49\u5b8c\u6574\u4e3b\u9898\u5305\uff0c\u5168\u7531\u4f60\u5b9a</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/b3e102cd-5dad-4046-a02a-be33241d1cc7/kj9t8oji_w144_h144.png",title:"API \u81ea\u52a8\u751f\u6210",desc:'<div class="markdown"><p>\u53ef\u57fa\u4e8e TypeScript \u7c7b\u578b\u5b9a\u4e49\u81ea\u52a8\u751f\u6210\u7ec4\u4ef6 API\uff0c\u7ec4\u4ef6\u6c38\u8fdc\u300e\u8868\u91cc\u5982\u4e00\u300f</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/3863e74a-7870-4874-b1e1-00a8cdf47684/kj9t7ww3_w144_h144.png",title:"\u79fb\u52a8\u7aef\u7ec4\u4ef6\u5e93\u7814\u53d1",desc:'<div class="markdown"><p>\u5b89\u88c5\u4e3b\u9898\u5305\u5373\u53ef\u5feb\u901f\u542f\u7528\u79fb\u52a8\u7aef\u7ec4\u4ef6\u7814\u53d1\u80fd\u529b\uff0c\u5185\u7f6e\u79fb\u52a8\u7aef\u9ad8\u6e05\u6e32\u67d3\u65b9\u6848</p></div>'},{icon:"https://gw.alipayobjects.com/zos/bmw-prod/f093e060-726e-471c-a53e-e988ed3f560c/kj9t9sk7_w144_h144.png",title:"\u8d44\u4ea7\u6570\u636e\u5316\u80fd\u529b",desc:'<div class="markdown"><p>\u4e00\u884c\u547d\u4ee4\u5c06\u7ec4\u4ef6\u8d44\u4ea7\u6570\u636e\u5316\uff0c\u6807\u51c6\u5316\u7684\u8d44\u4ea7\u6570\u636e\u53ef\u4e0e\u4e0b\u6e38\u751f\u4ea7\u529b\u5de5\u5177\u4e32\u8054</p></div>'}],footer:'<div class="markdown"><p>Open-source MIT Licensed | Copyright \xa9 2019-present<br />Powered by self</p></div>',slugs:[{depth:2,value:"\u8f7b\u677e\u4e0a\u624b",heading:"\u8f7b\u677e\u4e0a\u624b"},{depth:2,value:"\u53cd\u9988\u4e0e\u5171\u5efa",heading:"\u53cd\u9988\u4e0e\u5171\u5efa"}],locale:"zh-CN"},title:"dumi - \u4e3a\u7ec4\u4ef6\u5f00\u53d1\u573a\u666f\u800c\u751f\u7684\u6587\u6863\u5de5\u5177 - \u53ef\u89c6\u5316\u7ec4\u4ef6\u5e93"},{path:"/components",meta:{},exact:!0,redirect:"/components/test"},{path:"/zh-CN/components",meta:{},exact:!0,redirect:"/zh-CN/components/test"}],title:"\u53ef\u89c6\u5316\u7ec4\u4ef6\u5e93",component:e=>e.children}];return n["a"].applyPlugins({key:"patchRoutes",type:o["ApplyPluginsType"].event,args:{routes:e}}),e}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].applyPlugins({key:"render",type:o["ApplyPluginsType"].compose,initialValue:()=>{var t=n["a"].applyPlugins({key:"modifyClientRenderOpts",type:o["ApplyPluginsType"].modify,initialValue:{routes:e.routes||u(),plugin:n["a"],history:Object(i["a"])(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"\u53ef\u89c6\u5316\u7ec4\u4ef6\u5e93"}});return Object(a["renderClient"])(t)},args:e})},l=c();t["default"]=l();window.g_umi={version:"3.5.35"}},"14Sl":function(e,t,r){"use strict";r("rB9j");var n=r("busE"),i=r("0Dky"),o=r("tiKp"),a=r("kmMV"),s=r("kRJp"),u=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var d=o(e),v=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=v&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!v||!m||"replace"===e&&(!c||!l||h)||"split"===e&&!p){var y=/./[d],g=r(d,""[e],(function(e,t,r,n,i){return t.exec===a?v&&!i?{done:!0,value:y.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=g[0],_=g[1];n(String.prototype,e,b),n(RegExp.prototype,d,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}f&&s(RegExp.prototype[d],"sham",!0)}},"16Al":function(e,t,r){"use strict";var n=r("WbBG");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},"17x9":function(e,t,r){e.exports=r("16Al")()},"1E5z":function(e,t,r){var n=r("m/L8").f,i=r("UTVS"),o=r("tiKp"),a=o("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},"1Giq":function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},"1KsK":function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},"1OyB":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},"1QhW":function(e,t,r){"use strict";e.exports=function(e,t,r){var n="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var c=e.level,l=e.dataLevel,f=e.schema[t],h=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,v="data"+(l||""),m="valid"+c;if(!1===e.schema){e.isTop?d=!0:n+=" var "+m+" = false; ";var y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(w||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";var g=n;n=y.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+m+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var b=e.isTop;c=e.level=0,l=e.dataLevel=0,v="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema["default"]&&e.opts.useDefaults&&e.opts.strictDefaults){var _="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{c=e.level,l=e.dataLevel,v="data"+(l||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}m="valid"+c,d=!e.opts.allErrors;var w,x="",O="",E=e.schema.type,j=Array.isArray(E);if(E&&e.opts.nullable&&!0===e.schema.nullable&&(j?-1==E.indexOf("null")&&(E=E.concat("null")):"null"!=E&&(E=[E,"null"],j=!0)),j&&1==E.length&&(E=E[0],j=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),E){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,E);var k=e.RULES.types[E];if(S||j||!0===k||k&&!ee(k)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var T=j?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[T](E,v,e.opts.strictNumbers,!0)+") { ",S){var P="dataType"+c,A="coerced"+c;n+=" var "+P+" = typeof "+v+"; var "+A+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+P+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+P+" = typeof "+v+"; if ("+e.util.checkDataType(e.schema.type,v,e.opts.strictNumbers)+") "+A+" = "+v+"; } "),n+=" if ("+A+" !== undefined) ; ";var I=S;if(I){var C,R=-1,M=I.length-1;while(R<M)C=I[R+=1],"string"==C?n+=" else if ("+P+" == 'number' || "+P+" == 'boolean') "+A+" = '' + "+v+"; else if ("+v+" === null) "+A+" = ''; ":"number"==C||"integer"==C?(n+=" else if ("+P+" == 'boolean' || "+v+" === null || ("+P+" == 'string' && "+v+" && "+v+" == +"+v+" ","integer"==C&&(n+=" && !("+v+" % 1)"),n+=")) "+A+" = +"+v+"; "):"boolean"==C?n+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+A+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+A+" = true; ":"null"==C?n+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==C&&(n+=" else if ("+P+" == 'string' || "+P+" == 'number' || "+P+" == 'boolean' || "+v+" == null) "+A+" = ["+v+"]; ")}n+=" else {   ";y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(w||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=j?""+E.join(","):""+E,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=j?""+E.join(","):""+E,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";g=n;n=y.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+A+" !== undefined) {  ";var L=l?"data"+(l-1||""):"parentData",D=l?e.dataPathArr[l]:"parentDataProperty";n+=" "+v+" = "+A+"; ",l||(n+="if ("+L+" !== undefined)"),n+=" "+L+"["+D+"] = "+A+"; } "}else{y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(w||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=j?""+E.join(","):""+E,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=j?""+E.join(","):""+E,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";g=n;n=y.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!o)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(n+=" } if (errors === ",n+=b?"0":"errs_"+c,n+=") { ",O+="}");else{var N=e.RULES;if(N){var F=-1,z=N.length-1;while(F<z)if(k=N[F+=1],ee(k)){if(k.type&&(n+=" if ("+e.util.checkDataType(k.type,v,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==k.type&&e.schema.properties){f=e.schema.properties;var B=Object.keys(f),U=B;if(U){var V,G=-1,q=U.length-1;while(G<q){V=U[G+=1];var W=f[V];if(void 0!==W["default"]){var H=v+e.util.getProperty(V);if(e.compositeRule){if(e.opts.strictDefaults){_="default is ignored for: "+H;if("log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}}else n+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+H+" === null || "+H+" === '' "),n+=" ) "+H+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(W["default"])+" ":n+=" "+JSON.stringify(W["default"])+" ",n+="; "}}}}else if("array"==k.type&&Array.isArray(e.schema.items)){var Z=e.schema.items;if(Z){R=-1;var X=Z.length-1;while(R<X)if(W=Z[R+=1],void 0!==W["default"]){H=v+"["+R+"]";if(e.compositeRule){if(e.opts.strictDefaults){_="default is ignored for: "+H;if("log"!==e.opts.strictDefaults)throw new Error(_);e.logger.warn(_)}}else n+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+H+" === null || "+H+" === '' "),n+=" ) "+H+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(W["default"])+" ":n+=" "+JSON.stringify(W["default"])+" ",n+="; "}}}var $=k.rules;if($){var Y,K=-1,J=$.length-1;while(K<J)if(Y=$[K+=1],te(Y)){var Q=Y.code(e,Y.keyword,k.type);Q&&(n+=" "+Q+" ",d&&(x+="}"))}}if(d&&(n+=" "+x+" ",x=""),k.type&&(n+=" } ",E&&E===k.type&&!S)){n+=" else { ";h=e.schemaPath+".type",p=e.errSchemaPath+"/type",y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(w||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=j?""+E.join(","):""+E,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=j?""+E.join(","):""+E,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),n+=" } "):n+=" {} ";g=n;n=y.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}d&&(n+=" if (errors === ",n+=b?"0":"errs_"+c,n+=") { ",O+="}")}}}function ee(e){for(var t=e.rules,r=0;r<t.length;r++)if(te(t[r]))return!0}function te(t){return void 0!==e.schema[t.keyword]||t["implements"]&&re(t)}function re(t){for(var r=t["implements"],n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}return d&&(n+=" "+O+" "),b?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+m+" = errors === errs_"+c+";",n}},"1Y/n":function(e,t,r){var n=r("HAuM"),i=r("ewvW"),o=r("RK3t"),a=r("UMSQ"),s=function(e){return function(t,r,s,u){n(r);var c=i(t),l=o(c),f=a(c.length),h=e?f-1:0,p=e?-1:1;if(s<2)while(1){if(h in l){u=l[h],h+=p;break}if(h+=p,e?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=p)h in l&&(u=r(u,l[h],h,c));return u}};e.exports={left:s(!1),right:s(!0)}},"1gqn":function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},"1hJj":function(e,t,r){var n=r("e4Nc"),i=r("ftKO"),o=r("3A9y");function a(e){var t=-1,r=null==e?0:e.length;this.__data__=new n;while(++t<r)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},"1kQv":function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"Set",stat:!0},{from:i})},"1seS":function(e,t,r){"use strict";var n=Array.prototype.slice,i=r("1KsK"),o=Object.keys,a=o?function(e){return o(e)}:r("sYn3"),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},"1u+m":function(e,t,r){"use strict";var n=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!n(e)||!n(t))}},2:function(e,t){},"27RR":function(e,t,r){var n=r("I+eb"),i=r("g6v/"),o=r("Vu81"),a=r("/GqU"),s=r("Bs8V"),u=r("hBjN");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,r,n=a(e),i=s.f,c=o(n),l={},f=0;while(c.length>f)r=i(n,t=c[f++]),void 0!==r&&u(l,t,r);return l}})},"284h":function(e,t,r){var n=r("cDf5")["default"];function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}return o["default"]=e,r&&r.set(e,o),o}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},"28rz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r("q1tI"),o=c(i),a=r("17x9"),s=c(a),u=r("2Vc7");function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=16,h=6,p=u.ORIENTATION.LEFT,d=u.ORIENTATION.RIGHT,v=u.ORIENTATION.TOP,m=u.ORIENTATION.BOTTOM,y={position:"end"},g=function(e,t){var r;return r={},l(r,p,{end:{x:f,y:h,rotation:-90,textAnchor:"end"},middle:{x:f,y:t/2-h,rotation:-90,textAnchor:"middle"},start:{x:f,y:t-h,rotation:-90,textAnchor:"start"}}),l(r,d,{end:{x:-.5*f,y:h,rotation:-90,textAnchor:"end"},middle:{x:-.5*f,y:t/2-h,rotation:-90,textAnchor:"middle"},start:{x:-.5*f,y:t-h,rotation:-90,textAnchor:"start"}}),l(r,v,{start:{x:h,y:f,rotation:0,textAnchor:"start"},middle:{x:e/2-h,y:f,rotation:0,textAnchor:"middle"},end:{x:e-h,y:f,rotation:0,textAnchor:"end"}}),l(r,m,{start:{x:h,y:-h,rotation:0,textAnchor:"start"},middle:{x:e/2-h,y:-h,rotation:0,textAnchor:"middle"},end:{x:e-h,y:-h,rotation:0,textAnchor:"end"}}),r},b={width:s["default"].number.isRequired,height:s["default"].number.isRequired,orientation:s["default"].oneOf([p,d,v,m]).isRequired,style:s["default"].object,title:s["default"].string.isRequired};function _(e){var t=e.orientation,r=e.position,i=e.width,a=e.height,s=e.style,u=e.title,c=t===p?i:0,l=t===v?a:0,f="translate("+c+", "+l+")",h=g(i,a)[t][r],d=h.x,m=h.y,y=h.rotation,b=h.textAnchor,_="translate("+d+", "+m+") rotate("+y+")";return o["default"].createElement("g",{transform:f,className:"rv-xy-plot__axis__title"},o["default"].createElement("g",{style:n({textAnchor:b},s),transform:_},o["default"].createElement("text",{style:s},u)))}_.displayName="AxisTitle",_.propTypes=b,_.defaultProps=y,t["default"]=_},"2B1R":function(e,t,r){"use strict";var n=r("I+eb"),i=r("tycR").map,o=r("Hd5f"),a=r("rkAj"),s=o("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"2N97":function(e,t,r){"use strict";var n=r("xbqb")["default"],i=r("Lw8S")["default"];function o(){var e=r("q1tI");return o=function(){return e},e}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var h,p="data-prefers-color",d="dumi:prefers-color",v=function(){function e(){var t=this;n(this,e),this.color=void 0,this.callbacks=[],this.color=localStorage.getItem(d)||document.documentElement.getAttribute(p),["light","dark"].forEach((function(e){var r=t.getColorMedia(e),n=function(r){r.matches&&"auto"===t.color&&(document.documentElement.setAttribute(p,e),t.applyCallbacks())};r.addEventListener?r.addEventListener("change",n):r.addListener&&r.addListener(n)}))}return i(e,[{key:"getColorMedia",value:function(e){return window.matchMedia("(prefers-color-scheme: ".concat(e,")"))}},{key:"isColorMode",value:function(e){return this.getColorMedia(e).matches}},{key:"applyCallbacks",value:function(){var e=this;this.callbacks.forEach((function(t){return t(e.color)}))}},{key:"listen",value:function(e){this.callbacks.push(e)}},{key:"unlisten",value:function(e){this.callbacks.splice(this.callbacks.indexOf(e),1)}},{key:"set",value:function(e){return this.color=e,localStorage.setItem(d,e),this.applyCallbacks(),"auto"===e?document.documentElement.setAttribute(p,this.isColorMode("dark")?"dark":"light"):document.documentElement.setAttribute(p,e),e}}]),e}(),m=function(){var e=(0,o().useState)(),t=a(e,2),r=t[0],n=t[1],i=(0,o().useCallback)((function(e){h.set(e)}),[]);return(0,o().useEffect)((function(){return h=h||new v,h.listen(n),n(h.color),function(){return h.unlisten(n)}}),[]),[r,i]};t["default"]=m},"2Nju":function(e,t,r){"use strict";var n,i,o,a,s=r("VF6F"),u=r("B6Q+")();if(u){n=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var c=function(){throw o};a={toString:c,valueOf:c},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var l=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor,h="[object RegExp]";e.exports=u?function(e){if(!e||"object"!==typeof e)return!1;var t=f(e,"lastIndex"),r=t&&n(t,"value");if(!r)return!1;try{i(e,a)}catch(s){return s===o}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&l(e)===h}},"2R+z":function(e,t,r){"use strict";e.exports=f;var n,i=r("XOFf"),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}function h(e,t,r){t[r]=255&e}function p(e,t,r){while(e>127)t[r++]=127&e|128,e>>>=7;t[r]=e}function d(e,t){this.len=e,this.next=void 0,this.val=t}function v(e,t,r){while(e.hi)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;while(e.lo>127)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=i.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f},f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},d.prototype=Object.create(u.prototype),d.prototype.fn=p,f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(v,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(v,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(v,t.length(),t)},f.prototype.bool=function(e){return this._push(h,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype["float"]=function(e){return this._push(i["float"].writeFloatLE,4,e)},f.prototype["double"]=function(e){return this._push(i["float"].writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){var e=this.head.next,t=this.constructor.alloc(this.len),r=0;while(e)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e}},"2Vc7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECTION=t.ORIENTATION=void 0,t.getTicksTotalFromSize=s,t.getTickValues=u,t.generateFit=c,t.generatePoints=l,t.getAxisAngle=f;var n=r("vBe5"),i=r("4jaM"),o=t.ORIENTATION={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",VERTICAL:"vertical",HORIZONTAL:"horizontal"},a=t.DIRECTION={VERTICAL:"vertical",HORIZONTAL:"horizontal"};function s(e){return e<700?e>300?10:5:20}function u(e,t,r){return r||(e.ticks?e.ticks(t):e.domain())}function c(e,t){if(e.x===t.x)return{left:e.y,right:t.y,slope:0,offset:e.x};var r=(e.y-t.y)/(e.x-t.x);return{left:e.x,right:t.x,slope:r,offset:e.y-r*e.x}}function l(e){var t=e.axisStart,r=e.axisEnd,o=e.numberOfTicks,a=e.axisDomain,s=c(t,r),u=s.left,l=s.right,f=s.slope,h=s.offset,p=(l-u)/o,d=(0,i.scaleLinear)().domain([u,l]).range(a),v=t.x===r.x;return{slope:v?1/0:f,points:(0,n.range)(u,l+p,p).map((function(e){return v?{y:e,x:f*e+h,text:d(e)}:{x:e,y:f*e+h,text:d(e)}})).slice(0,o+1)}}function f(e,t){return e.x===t.x?t.y>e.y?Math.PI/2:3*Math.PI/2:Math.atan((t.y-e.y)/(t.x-e.x))}t["default"]={DIRECTION:a,ORIENTATION:o,getTicksTotalFromSize:s,getTickValues:u}},"2WcH":function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,"a",(function(){return n}))},"2gN3":function(e,t,r){var n=r("Kz5y"),i=n["__core-js_shared__"];e.exports=i},"2jsQ":function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxItems"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+".length "+p+" "+n+") { ";var d=t,v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=v.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},"2lZV":function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n="undefined"!==typeof window?window:e,i=("undefined"!==typeof e||window,"undefined"!==typeof document?document:{})}).call(this,r("IyRk"))},"2mql":function(e,t,r){"use strict";var n=r("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function c(e){return n.isMemo(e)?s:u[e["$$typeof"]]||i}u[n.ForwardRef]=a,u[n.Memo]=s;var l=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,v=Object.prototype;function m(e,t,r){if("string"!==typeof t){if(v){var n=d(t);n&&n!==v&&m(e,n,r)}var i=f(t);h&&(i=i.concat(h(t)));for(var a=c(e),s=c(t),u=0;u<i.length;++u){var y=i[u];if(!o[y]&&(!r||!r[y])&&(!s||!s[y])&&(!a||!a[y])){var g=p(t,y);try{l(e,y,g)}catch(b){}}}}return e}e.exports=m},"2oH+":function(e,t,r){(function(e,r){var n=200,i="__lodash_hash_undefined__",o=800,a=16,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",b="[object Object]",_="[object Proxy]",w="[object RegExp]",x="[object Set]",O="[object String]",E="[object Undefined]",j="[object WeakMap]",S="[object ArrayBuffer]",k="[object DataView]",T="[object Float32Array]",P="[object Float64Array]",A="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",D="[object Uint32Array]",N=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,B={};B[T]=B[P]=B[A]=B[I]=B[C]=B[R]=B[M]=B[L]=B[D]=!0,B[u]=B[c]=B[S]=B[f]=B[k]=B[h]=B[p]=B[d]=B[m]=B[y]=B[b]=B[w]=B[x]=B[O]=B[j]=!1;var U="object"==typeof e&&e&&e.Object===Object&&e,V="object"==typeof self&&self&&self.Object===Object&&self,G=U||V||Function("return this")(),q=t&&!t.nodeType&&t,W=q&&"object"==typeof r&&r&&!r.nodeType&&r,H=W&&W.exports===q,Z=H&&U.process,X=function(){try{var e=W&&W.require&&W.require("util").types;return e||Z&&Z.binding&&Z.binding("util")}catch(t){}}(),$=X&&X.isTypedArray;function Y(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function K(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function J(e){return function(t){return e(t)}}function Q(e,t){return null==e?void 0:e[t]}function ee(e,t){return function(r){return e(t(r))}}var te=Array.prototype,re=Function.prototype,ne=Object.prototype,ie=G["__core-js_shared__"],oe=re.toString,ae=ne.hasOwnProperty,se=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ue=ne.toString,ce=oe.call(Object),le=RegExp("^"+oe.call(ae).replace(N,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=H?G.Buffer:void 0,he=G.Symbol,pe=G.Uint8Array,de=fe?fe.allocUnsafe:void 0,ve=ee(Object.getPrototypeOf,Object),me=Object.create,ye=ne.propertyIsEnumerable,ge=te.splice,be=he?he.toStringTag:void 0,_e=function(){try{var e=_t(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),we=fe?fe.isBuffer:void 0,xe=Math.max,Oe=Date.now,Ee=_t(G,"Map"),je=_t(Object,"create"),Se=function(){function e(){}return function(t){if(!Gt(t))return{};if(me)return me(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function ke(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Te(){this.__data__=je?je(null):{},this.size=0}function Pe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ae(e){var t=this.__data__;if(je){var r=t[e];return r===i?void 0:r}return ae.call(t,e)?t[e]:void 0}function Ie(e){var t=this.__data__;return je?void 0!==t[e]:ae.call(t,e)}function Ce(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=je&&void 0===t?i:t,this}function Re(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Me(){this.__data__=[],this.size=0}function Le(e){var t=this.__data__,r=et(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ge.call(t,r,1),--this.size,!0}function De(e){var t=this.__data__,r=et(t,e);return r<0?void 0:t[r][1]}function Ne(e){return et(this.__data__,e)>-1}function Fe(e,t){var r=this.__data__,n=et(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ze(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Be(){this.size=0,this.__data__={hash:new ke,map:new(Ee||Re),string:new ke}}function Ue(e){var t=bt(this,e)["delete"](e);return this.size-=t?1:0,t}function Ve(e){return bt(this,e).get(e)}function Ge(e){return bt(this,e).has(e)}function qe(e,t){var r=bt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function We(e){var t=this.__data__=new Re(e);this.size=t.size}function He(){this.__data__=new Re,this.size=0}function Ze(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}function Xe(e){return this.__data__.get(e)}function $e(e){return this.__data__.has(e)}function Ye(e,t){var r=this.__data__;if(r instanceof Re){var i=r.__data__;if(!Ee||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new ze(i)}return r.set(e,t),this.size=r.size,this}function Ke(e,t){var r=Nt(e),n=!r&&Dt(e),i=!r&&!n&&Bt(e),o=!r&&!n&&!i&&Ht(e),a=r||n||i||o,s=a?K(e.length,String):[],u=s.length;for(var c in e)!t&&!ae.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ot(c,u))||s.push(c);return s}function Je(e,t,r){(void 0!==r&&!Lt(e[t],r)||void 0===r&&!(t in e))&&tt(e,t,r)}function Qe(e,t,r){var n=e[t];ae.call(e,t)&&Lt(n,r)&&(void 0!==r||t in e)||tt(e,t,r)}function et(e,t){var r=e.length;while(r--)if(Lt(e[r][0],t))return r;return-1}function tt(e,t,r){"__proto__"==t&&_e?_e(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}ke.prototype.clear=Te,ke.prototype["delete"]=Pe,ke.prototype.get=Ae,ke.prototype.has=Ie,ke.prototype.set=Ce,Re.prototype.clear=Me,Re.prototype["delete"]=Le,Re.prototype.get=De,Re.prototype.has=Ne,Re.prototype.set=Fe,ze.prototype.clear=Be,ze.prototype["delete"]=Ue,ze.prototype.get=Ve,ze.prototype.has=Ge,ze.prototype.set=qe,We.prototype.clear=He,We.prototype["delete"]=Ze,We.prototype.get=Xe,We.prototype.has=$e,We.prototype.set=Ye;var rt=gt();function nt(e){return null==e?void 0===e?E:g:be&&be in Object(e)?wt(e):Pt(e)}function it(e){return qt(e)&&nt(e)==u}function ot(e){if(!Gt(e)||St(e))return!1;var t=Ut(e)?le:F;return t.test(Mt(e))}function at(e){return qt(e)&&Vt(e.length)&&!!B[nt(e)]}function st(e){if(!Gt(e))return Tt(e);var t=kt(e),r=[];for(var n in e)("constructor"!=n||!t&&ae.call(e,n))&&r.push(n);return r}function ut(e,t,r,n,i){e!==t&&rt(t,(function(o,a){if(i||(i=new We),Gt(o))ct(e,t,a,r,ut,n,i);else{var s=n?n(It(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Je(e,a,s)}}),Xt)}function ct(e,t,r,n,i,o,a){var s=It(e,r),u=It(t,r),c=a.get(u);if(c)Je(e,r,c);else{var l=o?o(s,u,r+"",e,t,a):void 0,f=void 0===l;if(f){var h=Nt(u),p=!h&&Bt(u),d=!h&&!p&&Ht(u);l=u,h||p||d?Nt(s)?l=s:zt(s)?l=vt(s):p?(f=!1,l=ht(u,!0)):d?(f=!1,l=dt(u,!0)):l=[]:Wt(u)||Dt(u)?(l=s,Dt(s)?l=Zt(s):Gt(s)&&!Ut(s)||(l=xt(u))):f=!1}f&&(a.set(u,l),i(l,u,n,o,a),a["delete"](u)),Je(e,r,l)}}function lt(e,t){return Ct(At(e,t,Kt),e+"")}var ft=_e?function(e,t){return _e(e,"toString",{configurable:!0,enumerable:!1,value:Yt(t),writable:!0})}:Kt;function ht(e,t){if(t)return e.slice();var r=e.length,n=de?de(r):new e.constructor(r);return e.copy(n),n}function pt(e){var t=new e.constructor(e.byteLength);return new pe(t).set(new pe(e)),t}function dt(e,t){var r=t?pt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function vt(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n)t[r]=e[r];return t}function mt(e,t,r,n){var i=!r;r||(r={});var o=-1,a=t.length;while(++o<a){var s=t[o],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),i?tt(r,s,u):Qe(r,s,u)}return r}function yt(e){return lt((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Et(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);while(++n<i){var s=r[n];s&&e(t,s,n,o)}return t}))}function gt(e){return function(t,r,n){var i=-1,o=Object(t),a=n(t),s=a.length;while(s--){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}function bt(e,t){var r=e.__data__;return jt(t)?r["string"==typeof t?"string":"hash"]:r.map}function _t(e,t){var r=Q(e,t);return ot(r)?r:void 0}function wt(e){var t=ae.call(e,be),r=e[be];try{e[be]=void 0;var n=!0}catch(o){}var i=ue.call(e);return n&&(t?e[be]=r:delete e[be]),i}function xt(e){return"function"!=typeof e.constructor||kt(e)?{}:Se(ve(e))}function Ot(e,t){var r=typeof e;return t=null==t?s:t,!!t&&("number"==r||"symbol"!=r&&z.test(e))&&e>-1&&e%1==0&&e<t}function Et(e,t,r){if(!Gt(r))return!1;var n=typeof t;return!!("number"==n?Ft(r)&&Ot(t,r.length):"string"==n&&t in r)&&Lt(r[t],e)}function jt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function St(e){return!!se&&se in e}function kt(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||ne;return e===r}function Tt(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}function Pt(e){return ue.call(e)}function At(e,t,r){return t=xe(void 0===t?e.length-1:t,0),function(){var n=arguments,i=-1,o=xe(n.length-t,0),a=Array(o);while(++i<o)a[i]=n[t+i];i=-1;var s=Array(t+1);while(++i<t)s[i]=n[i];return s[t]=r(a),Y(e,this,s)}}function It(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ct=Rt(ft);function Rt(e){var t=0,r=0;return function(){var n=Oe(),i=a-(n-r);if(r=n,i>0){if(++t>=o)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Mt(e){if(null!=e){try{return oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Lt(e,t){return e===t||e!==e&&t!==t}var Dt=it(function(){return arguments}())?it:function(e){return qt(e)&&ae.call(e,"callee")&&!ye.call(e,"callee")},Nt=Array.isArray;function Ft(e){return null!=e&&Vt(e.length)&&!Ut(e)}function zt(e){return qt(e)&&Ft(e)}var Bt=we||Jt;function Ut(e){if(!Gt(e))return!1;var t=nt(e);return t==d||t==v||t==l||t==_}function Vt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Gt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qt(e){return null!=e&&"object"==typeof e}function Wt(e){if(!qt(e)||nt(e)!=b)return!1;var t=ve(e);if(null===t)return!0;var r=ae.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&oe.call(r)==ce}var Ht=$?J($):at;function Zt(e){return mt(e,Xt(e))}function Xt(e){return Ft(e)?Ke(e,!0):st(e)}var $t=yt((function(e,t,r){ut(e,t,r)}));function Yt(e){return function(){return e}}function Kt(e){return e}function Jt(){return!1}r.exports=$t}).call(this,r("IyRk"),r("hOG+")(e))},"2oRo":function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r("IyRk"))},"2tOg":function(e,t,r){"use strict";var n=r("g6v/"),i=r("RNIs"),o=r("ewvW"),a=r("UMSQ"),s=r("m/L8").f;n&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=o(this),r=a(t.length);return t[0==r?0:r-1]=e}}),i("lastItem"))},3:function(e,t){},"33Wh":function(e,t,r){var n=r("yoRg"),i=r("eDl+");e.exports=Object.keys||function(e){return n(e,i)}},"33yf":function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=r(i(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===o(e,-1);return e=r(i(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("Q2Ig"))},"3A9y":function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},"3Fdi":function(e,t){var r=Function.prototype,n=r.toString;function i(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},"3I1R":function(e,t,r){var n=r("dG/n");n("hasInstance")},"3QDa":function(e,t,r){"use strict";var n=r("5wUe")["default"];function i(){var e=r("q1tI");return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=a(r("nLCz"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return h(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function h(e){if(Array.isArray(e))return e}function p(e,t,r){return Object.entries(e[t]).reduce((function(e,t){var i=n(t,2),o=i[0],a=i[1];return e[o]=a.map((function(e){var t={description:e.description};return Object.keys(e).forEach((function(n){if(n.startsWith("description.")){var i=n.match(/^description\.(.*)$/),o=s(i,2),a=o[1];a&&a===r&&(t.description=e[n])}else t[n]=e[n]})),t})),e}),{})}var d=function(e){var t=(0,i().useContext)(o["default"]),r=t.locale,n=t.apis,a=(0,i().useState)(p(n,e,r)),u=s(a,2),c=u[0],l=u[1];return(0,i().useEffect)((function(){l(p(n,e,r))}),[n,e,r]),c};t["default"]=d},"3ZNU":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var d="valid"+p.level,v=e.schema["then"],m=e.schema["else"],y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=p.baseId;if(y||g){var _;p.createErrors=!1,p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+h+" = errors; var "+f+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,y?(n+=" if ("+d+") {  ",p.schema=e.schema["then"],p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+f+" = "+d+"; ",y&&g?(_="ifClause"+i,n+=" var "+_+" = 'then'; "):_="'then'",n+=" } ",g&&(n+=" else { ")):n+=" if (!"+d+") { ",g&&(p.schema=e.schema["else"],p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+f+" = "+d+"; ",y&&g?(_="ifClause"+i,n+=" var "+_+" = 'else'; "):_="'else'",n+=" } "),n+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n}},"3bBZ":function(e,t,r){var n=r("2oRo"),i=r("/byt"),o=r("4mDm"),a=r("kRJp"),s=r("tiKp"),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in i){var h=n[f],p=h&&h.prototype;if(p){if(p[u]!==l)try{a(p,u,l)}catch(v){p[u]=l}if(p[c]||a(p,c,f),i[f])for(var d in o)if(p[d]!==o[d])try{a(p,d,o[d])}catch(v){p[d]=o[d]}}}},"3jBn":function(e){e.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},"3uUd":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),c=r("SEBh"),l=r("WGBp"),f=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),r=l(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Set"))),h=s(i.add);return f(r,(function(e){n(e,e,t)&&h.call(i,e)}),void 0,!1,!0),i}})},4:function(e,t){},"41X0":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("fWQN"),i=r("mtLc"),o=r("yKVA"),a=r("879j"),s=r("a3TU");function u(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}var c=function(e){Object(o["a"])(r,e);var t=Object(a["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"to",value:function(e){return e===this?this:Object(s["f"])(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(s["b"])}},{key:"formatString",value:function(e){for(var t="",r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+Object(s["e"])(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Object(s["d"])(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,r){if(void 0===r)return this.lerp(this,e,t);for(var n=0;n<this.ELEMENTS;++n){var i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:"scale",value:function(e){if("number"===typeof e)for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(var r=0;r<this.ELEMENTS&&r<e.length;++r)this[r]*=e[r];return this.check()}},{key:"multiplyByScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"check",value:function(){if(s["b"].debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.multiplyByScalar(1/e)}},{key:"clampScalar",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}},{key:"elements",get:function(){return this}}]),r}(u(Array))},"42CK":function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r("FmoU"),i=r("yEp2"),o=r("S83q"),a=r("sFV2");function s(e){return function(t){var r,i,o=t.length,a=new Array(o),s=new Array(o),u=new Array(o);for(r=0;r<o;++r)i=Object(n["g"])(t[r]),a[r]=i.r||0,s[r]=i.g||0,u[r]=i.b||0;return a=e(a),s=e(s),u=e(u),i.opacity=1,function(e){return i.r=a(e),i.g=s(e),i.b=u(e),i+""}}}t["a"]=function e(t){var r=Object(a["b"])(t);function i(e,t){var i=r((e=Object(n["g"])(e)).r,(t=Object(n["g"])(t)).r),o=r(e.g,t.g),s=r(e.b,t.b),u=Object(a["a"])(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=s(t),e.opacity=u(t),e+""}}return i.gamma=e,i}(1);var u=s(i["b"]),c=s(o["a"])},"45zb":function(e,t,r){"use strict";var n=r("B6Q+")(),i=r("VF6F"),o=i("Object.prototype.toString"),a=function(e){return!(n&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},u=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=u?a:s},"49+q":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("fXLg");n({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},"49sm":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"4Brf":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("2oRo"),a=r("UTVS"),s=r("hh1v"),u=r("m/L8").f,c=r("6JNq"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(h,l);var p=h.prototype=l.prototype;p.constructor=h;var d=p.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=d.call(e);if(a(f,e))return"";var r=v?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},"4IlW":function(e,t,r){"use strict";var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t["a"]=n},"4WOD":function(e,t,r){var n=r("UTVS"),i=r("ewvW"),o=r("93I0"),a=r("4Xet"),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},"4XaG":function(e,t,r){var n=r("dG/n");n("observable")},"4Xet":function(e,t,r){var n=r("0Dky");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"4ZJM":function(e,t,r){(function(t,r){e.exports=r()})(0,(function(){"use strict";var e,t,r;function n(n,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),r=i(a),"undefined"!==typeof window&&(r.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return n(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?r=i:n=i,i=.5*(n-r)+r}return i},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(e,t,n,i){var o=new r(e,t,n,i);return function(e){return o.solve(e)}}var c=u(.25,.1,.25,1);function l(e,t,r){return Math.min(r,Math.max(t,e))}function f(e,t,r){var n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function h(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var o=i[n];for(var a in o)e[a]=o[a]}return e}var p=1;function d(){return p++}function v(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function b(e,t,r){var n={};for(var i in e)n[i]=t.call(r||this,e[i],i,e);return n}function _(e,t,r){var n={};for(var i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function w(e){return Array.isArray(e)?e.map(w):"object"==typeof e&&e?b(e,w):e}var x={};function O(e){x[e]||("undefined"!=typeof console&&console.warn(e),x[e]=!0)}function E(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function j(e){for(var t=0,r=0,n=e.length,i=n-1,o=void 0,a=void 0;r<n;i=r++)t+=((a=e[i]).x-(o=e[r]).x)*(o.y+a.y);return t}function S(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function k(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,r,n,i){var o=n||i;return t[r]=!o||o.toLowerCase(),""})),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}var T=null;function P(e){if(null==T){var t=e.navigator?e.navigator.userAgent:null;T=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return T}function A(e){try{var t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var I,C,R,M,L=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),D=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,N=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,F={now:L,frame:function(e){var t=D(e);return{cancel:function(){return N(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var r=a.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return I||(I=a.document.createElement("a")),I.href=e,I.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==C&&(C=a.matchMedia("(prefers-reduced-motion: reduce)")),C.matches)}},z={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(e){!U&&M&&(V?G(e):R=e)}},U=!1,V=!1;function G(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,M),e.isContextLost())return;B.supported=!0}catch(e){}e.deleteTexture(t),U=!0}a.document&&((M=a.document.createElement("img")).onload=function(){R&&G(R),R=null,V=!0},M.onerror=function(){U=!0,R=null},M.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var q="01",W=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function H(e){return 0===e.indexOf("mapbox:")}W.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",q,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},W.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},W.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},W.prototype.normalizeStyleURL=function(e,t){if(!H(e))return e;var r=Y(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeGlyphsURL=function(e,t){if(!H(e))return e;var r=Y(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeSourceURL=function(e,t){if(!H(e))return e;var r=Y(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeSpriteURL=function(e,t,r,n){var i=Y(e);return H(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+r,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=""+t+r,K(i))},W.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!H(e))return e;var r=Y(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,(F.devicePixelRatio>=2||512===t?"@2x":"")+(B.supported?".webp":"$1")),r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/v4"+r.path;var n=this._customAccessToken||function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t].match(/^access_token=(.*)$/);if(n)return n[1]}return null}(r.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&n&&this._skuToken&&r.params.push("sku="+this._skuToken),this._makeAPIURL(r,n)},W.prototype.canonicalizeTileURL=function(e,t){var r=Y(e);if(!r.path.match(/(^\/v4\/)/)||!r.path.match(/\.[\w]+$/))return e;var n="mapbox://tiles/";n+=r.path.replace("/v4/","");var i=r.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(n+="?"+i.join("&")),n},W.prototype.canonicalizeTileset=function(e,t){for(var r=!!t&&H(t),n=[],i=0,o=e.tiles||[];i<o.length;i+=1){var a=o[i];X(a)?n.push(this.canonicalizeTileURL(a,r)):n.push(a)}return n},W.prototype._makeAPIURL=function(e,t){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=Y(z.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==n.path&&(e.path=""+n.path+e.path),!z.REQUIRE_ACCESS_TOKEN)return K(e);if(!(t=t||z.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),K(e)};var Z=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(e){return Z.test(e)}var $=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Y(e){var t=e.match($);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function K(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function J(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Q=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(e){var t,r=J(z.ACCESS_TOKEN);return t=r&&r.u?a.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):z.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},Q.prototype.fetchEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=a.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var i=a.localStorage.getItem(r);i&&(this.anonId=i)}catch(e){O("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){O("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(e){},Q.prototype.postEvent=function(e,t,r,n){var i=this;if(z.EVENTS_URL){var o=Y(z.EVENTS_URL);o.params.push("access_token="+(n||z.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:q,userId:this.anonId},s=t?h(a,t):a,u={url:K(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=we(u,(function(e){i.pendingRequest=null,r(e),i.saveEventData(),i.processRequests(n)}))}},Q.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,re=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,r,n){this.skuToken=r,(z.EVENTS_URL&&n||z.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return H(e)||X(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},n)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,i=r.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=v()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||n&&(t.success[n]=!0)}),e))}},t}(Q),ne=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return H(e)||X(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var r=J(z.ACCESS_TOKEN),n=r?r.u:z.ACCESS_TOKEN,i=n!==this.eventData.tokenU;m(this.anonId)||(this.anonId=v(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=n)}),e)}},t}(Q)),ie=ne.postTurnstileEvent.bind(ne),oe=new re,ae=oe.postMapLoadEvent.bind(oe),se=500,ue=50;function ce(){a.caches&&!ee&&(ee=a.caches.open("mapbox-tiles"))}function le(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var fe,he=1/0;function pe(){return null==fe&&(fe=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),fe}var de={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(de);var ve,me,ye=function(e){function t(t,r,n){401===r&&X(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=r,this.url=n,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ge=S()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},be=function(e,t){if(!(/^file:/.test(r=e.url)||/^file:/.test(ge())&&!/^\w+:/.test(r))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){var r,n=new a.AbortController,i=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ge(),signal:n.signal}),o=!1,s=!1,u=(r=i.url).indexOf("sku=")>0&&X(r);"json"===e.type&&i.headers.set("Accept","application/json");var c=function(r,n,o){if(!s){if(r&&"SecurityError"!==r.message&&O(r),n&&o)return l(n);var c=Date.now();a.fetch(i).then((function(r){if(r.ok){var n=u?r.clone():null;return l(r,n,c)}return t(new ye(r.statusText,r.status,e.url))}))["catch"]((function(e){20!==e.code&&t(new Error(e.message))}))}},l=function(r,n,u){("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((function(e){s||(n&&u&&function(e,t,r){if(ce(),ee){var n={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((function(e,t){return n.headers.set(t,e)}));var i=k(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&n.headers.set("Expires",new Date(r+1e3*i["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-r<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var r=new a.Response(t,n);ce(),ee&&ee.then((function(t){return t.put(le(e.url),r)}))["catch"]((function(e){return O(e.message)}))})))}}(i,n,u),o=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))}))["catch"]((function(e){s||t(new Error(e.message))}))};return u?function(e,t){if(ce(),!ee)return t(null);var r=le(e.url);ee.then((function(e){e.match(r).then((function(n){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),r=k(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e["delete"](r),i&&e.put(r,n.clone()),t(null,n,i)}))["catch"](t)}))["catch"](t)}(i,c):c(null,null),{cancel:function(){s=!0,o||n.abort()}}}(e,t);if(S()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){var r=new a.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new ye(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},_e=function(e,t){return be(h(e,{type:"arrayBuffer"}),t)},we=function(e,t){return be(h(e,{method:"POST"}),t)},xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";ve=[],me=0;var Oe=function e(t,r){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),me>=z.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return ve.push(n),n}me++;var i=!1,o=function(){if(!i)for(i=!0,me--;ve.length&&me<z.MAX_PARALLEL_IMAGE_REQUESTS;){var t=ve.shift();t.cancelled||(t.cancel=e(t.requestParameters,t.callback).cancel)}},s=_e(t,(function(e,t,n,i){o(),e?r(e):t&&(pe()?function(e,t){var r=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(r).then((function(e){t(null,e)}))["catch"]((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(t,r):function(e,t,r,n){var i=new a.Image,o=a.URL;i.onload=function(){t(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=xe}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=r,i.expires=n,i.src=e.byteLength?o.createObjectURL(s):xe}(t,r,n,i))}));return{cancel:function(){s.cancel(),o()}}};function Ee(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function je(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}var Se=function(e,t){void 0===t&&(t={}),h(this,t),this.type=e},ke=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",h({error:t},r))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Se),Te=function(){};Te.prototype.on=function(e,t){return this._listeners=this._listeners||{},Ee(e,t,this._listeners),this},Te.prototype.off=function(e,t){return je(e,t,this._listeners),je(e,t,this._oneTimeListeners),this},Te.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Ee(e,t,this._oneTimeListeners),this},Te.prototype.fire=function(e,t){"string"==typeof e&&(e=new Se(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var n=0,i=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<i.length;n+=1)i[n].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];o<a.length;o+=1){var s=a[o];je(r,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(h(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof ke&&console.error(e.error);return this},Te.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Te.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Pe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ae=function(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)};function Ie(e){var t=e.value;return t?[new Ae(e.key,t,"constants have been deprecated as of v8")]:[]}function Ce(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var o=i[n];for(var a in o)e[a]=o[a]}return e}function Re(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Me(e){if(Array.isArray(e))return e.map(Me);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=Me(e[r]);return t}return Re(e)}var Le=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),De=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var i=n[r];this.bindings[i[0]]=i[1]}};De.prototype.concat=function(e){return new De(this,e)},De.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},De.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Ne={kind:"null"},Fe={kind:"number"},ze={kind:"string"},Be={kind:"boolean"},Ue={kind:"color"},Ve={kind:"object"},Ge={kind:"value"},qe={kind:"collator"},We={kind:"formatted"},He={kind:"resolvedImage"};function Ze(e,t){return{kind:"array",itemType:e,N:t}}function Xe(e){if("array"===e.kind){var t=Xe(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var $e=[Ne,Fe,ze,Be,Ue,We,Ve,Ze(Ge),He];function Ye(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ye(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=$e;r<n.length;r+=1)if(!Ye(n[r],t))return null}return"Expected "+Xe(e)+" but found "+Xe(t)+" instead."}function Ke(e,t){return t.some((function(t){return t.kind===e.kind}))}function Je(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var Qe=t((function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in r)return r[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=s.indexOf("("),c=s.indexOf(")");if(-1!==u&&c+1===s.length){var l=s.substr(0,u),f=s.substr(u+1,c-(u+1)).split(","),h=1;switch(l){case"rgba":if(4!==f.length)return null;h=o(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),h];case"hsla":if(4!==f.length)return null;h=o(f.pop());case"hsl":if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,d=o(f[1]),v=o(f[2]),m=v<=.5?v*(d+1):v+d-v*d,y=2*v-m;return[n(255*a(y,m,p+1/3)),n(255*a(y,m,p)),n(255*a(y,m,p-1/3)),h];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=Qe(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],r=e[2],n=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(r)+","+n+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var rt=function(e,t,r,n,i){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i},nt=function(e){this.sections=e};nt.fromString=function(e){return new nt([new rt(e,null,null,null,null)])},nt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},nt.factory=function(e){return e instanceof nt?e:nt.fromString(e)},nt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},nt.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function ot(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function at(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof nt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!at(r[t]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!at(e[n]))return!1;return!0}return!1}function st(e){if(null===e)return Ne;if("string"==typeof e)return ze;if("boolean"==typeof e)return Be;if("number"==typeof e)return Fe;if(e instanceof et)return Ue;if(e instanceof tt)return qe;if(e instanceof nt)return We;if(e instanceof it)return He;if(Array.isArray(e)){for(var t,r=e.length,n=0,i=e;n<i.length;n+=1){var o=st(i[n]);if(t){if(t===o)continue;t=Ge;break}t=o}return Ze(t||Ge,r)}return Ve}function ut(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof nt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var ct=function(e,t){this.type=e,this.value=t};ct.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!at(e[1]))return t.error("invalid value");var r=e[1],n=st(r),i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new ct(n,r)},ct.prototype.evaluate=function(){return this.value},ct.prototype.eachChild=function(){},ct.prototype.outputDefined=function(){return!0},ct.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof nt?this.value.serialize():this.value};var lt=function(e){this.name="ExpressionEvaluationError",this.message=e};lt.prototype.toJSON=function(){return this.message};var ft={string:ze,number:Fe,boolean:Be,object:Ve},ht=function(e,t){this.type=e,this.args=t};ht.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,i=e[0];if("array"===i){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ft)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=ft[s],n++}else o=Ge;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],n++}r=Ze(o,a)}else r=ft[i];for(var u=[];n<e.length;n++){var c=t.parse(e[n],n,Ge);if(!c)return null;u.push(c)}return new ht(r,u)},ht.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!Ye(this.type,st(r)))return r;if(t===this.args.length-1)throw new lt("Expected value to be of type "+Xe(this.type)+", but found "+Xe(st(r))+" instead.")}return null},ht.prototype.eachChild=function(e){this.args.forEach(e)},ht.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ht.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var pt=function(e){this.type=We,this.sections=e};pt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],i=!1,o=1;o<=e.length-1;++o){var a=e[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,Fe)))return null;var u=null;if(a["text-font"]&&!(u=t.parse(a["text-font"],1,Ze(ze))))return null;var c=null;if(a["text-color"]&&!(c=t.parse(a["text-color"],1,Ue)))return null;var l=n[n.length-1];l.scale=s,l.font=u,l.textColor=c}else{var f=t.parse(e[o],1,Ge);if(!f)return null;var h=f.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:f,scale:null,font:null,textColor:null})}}return new pt(n)},pt.prototype.evaluate=function(e){return new nt(this.sections.map((function(t){var r=t.content.evaluate(e);return st(r)===He?new rt("",r,null,null,null):new rt(ut(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},pt.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},pt.prototype.outputDefined=function(){return!1},pt.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),e.push(i)}return e};var dt=function(e){this.type=He,this.input=e};dt.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,ze);return r?new dt(r):t.error("No image name provided.")},dt.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=it.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},dt.prototype.eachChild=function(e){e(this.input)},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){return["image",this.input.serialize()]};var vt={"to-boolean":Be,"to-color":Ue,"to-number":Fe,"to-string":ze},mt=function(e,t){this.type=e,this.args=t};mt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=vt[r],i=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,Ge);if(!a)return null;i.push(a)}return new mt(n,i)},mt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,i=this.args;n<i.length;n+=1){if(r=null,(t=i[n].evaluate(e))instanceof et)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ot(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new lt(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(e)))return 0;var c=Number(a);if(!isNaN(c))return c}throw new lt("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?nt.fromString(ut(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(ut(this.args[0].evaluate(e))):ut(this.args[0].evaluate(e))},mt.prototype.eachChild=function(e){this.args.forEach(e)},mt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},mt.prototype.serialize=function(){if("formatted"===this.type.kind)return new pt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new dt(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var yt=["Unknown","Point","LineString","Polygon"],gt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?yt[this.feature.type]:this.feature.type:null},gt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gt.prototype.canonicalID=function(){return this.canonical},gt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var bt=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};bt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},bt.prototype.eachChild=function(e){this.args.forEach(e)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},bt.parse=function(e,t){var r,n=e[0],i=bt.definitions[n];if(!i)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),u=null,c=0,l=s;c<l.length;c+=1){var f=l[c],h=f[0],p=f[1];u=new Ut(t.registry,t.path,null,t.scope);for(var d=[],v=!1,m=1;m<e.length;m++){var y=e[m],g=Array.isArray(h)?h[m-1]:h.type,b=u.parse(y,1+d.length,g);if(!b){v=!0;break}d.push(b)}if(!v)if(Array.isArray(h)&&h.length!==d.length)u.error("Expected "+h.length+" arguments, but found "+d.length+" instead.");else{for(var _=0;_<d.length;_++){var w=Array.isArray(h)?h[_]:h.type,x=d[_];u.concat(_+1).checkSubtype(w,x.type)}if(0===u.errors.length)return new bt(n,o,p,d)}}if(1===s.length)(r=t.errors).push.apply(r,u.errors);else{for(var O=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Xe).join(", ")+")":"("+Xe(t.type)+"...)"})).join(" | "),E=[],j=1;j<e.length;j++){var S=t.parse(e[j],1+E.length);if(!S)return null;E.push(Xe(S.type))}t.error("Expected arguments of type "+O+", but found ("+E.join(", ")+") instead.")}return null},bt.register=function(e,t){for(var r in bt.definitions=t,t)e[r]=bt};var _t=function(e,t,r){this.type=qe,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function wt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function xt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Ot(e,t){var r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*8192),Math.round(n*i*8192)]}function Et(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function jt(e,t){for(var r,n,i,o,a,s,u,c=!1,l=0,f=t.length;l<f;l++)for(var h=t[l],p=0,d=h.length;p<d-1;p++){if((o=(r=e)[0]-(n=h[p])[0])*(u=r[1]-(i=h[p+1])[1])-(s=r[0]-i[0])*(a=r[1]-n[1])==0&&o*s<=0&&a*u<=0)return!1;Et(e,h[p],h[p+1])&&(c=!c)}return c}function St(e,t){for(var r=0;r<t.length;r++)if(jt(e,t[r]))return!0;return!1}function kt(e,t,r,n){var i=n[0]-r[0],o=n[1]-r[1],a=(e[0]-r[0])*o-i*(e[1]-r[1]),s=(t[0]-r[0])*o-i*(t[1]-r[1]);return a>0&&s<0||a<0&&s>0}function Tt(e,t,r){for(var n=0,i=r;n<i.length;n+=1)for(var o=i[n],a=0;a<o.length-1;++a)if(0!=(f=[(l=o[a+1])[0]-(c=o[a])[0],l[1]-c[1]])[0]*(h=[(u=t)[0]-(s=e)[0],u[1]-s[1]])[1]-f[1]*h[0]&&kt(s,u,c,l)&&kt(c,l,s,u))return!0;var s,u,c,l,f,h;return!1}function Pt(e,t){for(var r=0;r<e.length;++r)if(!jt(e[r],t))return!1;for(var n=0;n<e.length-1;++n)if(Tt(e[n],e[n+1],t))return!1;return!0}function At(e,t){for(var r=0;r<t.length;r++)if(Pt(e,t[r]))return!0;return!1}function It(e,t,r){for(var n=[],i=0;i<e.length;i++){for(var o=[],a=0;a<e[i].length;a++){var s=Ot(e[i][a],r);wt(t,s),o.push(s)}n.push(o)}return n}function Ct(e,t,r){for(var n=[],i=0;i<e.length;i++){var o=It(e[i],t,r);n.push(o)}return n}function Rt(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var i=.5*n,o=e[0]-r[0]>i?-n:r[0]-e[0]>i?n:0;0===o&&(o=e[0]-r[2]>i?-n:r[2]-e[0]>i?n:0),e[0]+=o}wt(t,e)}function Mt(e,t,r,n){for(var i=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],a=[],s=0,u=e;s<u.length;s+=1)for(var c=0,l=u[s];c<l.length;c+=1){var f=l[c],h=[f.x+o[0],f.y+o[1]];Rt(h,t,r,i),a.push(h)}return a}function Lt(e,t,r,n){for(var i,o=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],s=[],u=0,c=e;u<c.length;u+=1){for(var l=[],f=0,h=c[u];f<h.length;f+=1){var p=h[f],d=[p.x+a[0],p.y+a[1]];wt(t,d),l.push(d)}s.push(l)}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var v=0,m=s;v<m.length;v+=1)for(var y=0,g=m[v];y<g.length;y+=1)Rt(g[y],t,r,o)}return s}_t.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Be);if(!n)return null;var i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Be);if(!i)return null;var o=null;return r.locale&&!(o=t.parse(r.locale,1,ze))?null:new _t(n,i,o)},_t.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},_t.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},_t.prototype.outputDefined=function(){return!1},_t.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Dt=function(e,t){this.type=Be,this.geojson=e,this.geometries=t};function Nt(e){if(e instanceof bt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Dt)return!1;var t=!0;return e.eachChild((function(e){t&&!Nt(e)&&(t=!1)})),t}function Ft(e){if(e instanceof bt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Ft(e)&&(t=!1)})),t}function zt(e,t){if(e instanceof bt&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!zt(e,t)&&(r=!1)})),r}Dt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(at(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var n=0;n<r.features.length;++n){var i=r.features[n].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Dt(r,r.features[n].geometry)}else if("Feature"===r.type){var o=r.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Dt(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new Dt(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Dt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=It(t.coordinates,n,i),a=Mt(e.geometry(),r,n,i);if(!xt(r,n))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!jt(u[s],o))return!1}if("MultiPolygon"===t.type){var c=Ct(t.coordinates,n,i),l=Mt(e.geometry(),r,n,i);if(!xt(r,n))return!1;for(var f=0,h=l;f<h.length;f+=1)if(!St(h[f],c))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=It(t.coordinates,n,i),a=Lt(e.geometry(),r,n,i);if(!xt(r,n))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Pt(u[s],o))return!1}if("MultiPolygon"===t.type){var c=Ct(t.coordinates,n,i),l=Lt(e.geometry(),r,n,i);if(!xt(r,n))return!1;for(var f=0,h=l;f<h.length;f+=1)if(!At(h[f],c))return!1}return!0}(e,this.geometries)}return!1},Dt.prototype.eachChild=function(){},Dt.prototype.outputDefined=function(){return!0},Dt.prototype.serialize=function(){return["within",this.geojson]};var Bt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Bt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new Bt(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Bt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Bt.prototype.eachChild=function(){},Bt.prototype.outputDefined=function(){return!1},Bt.prototype.serialize=function(){return["var",this.name]};var Ut=function(e,t,r,n,i){void 0===t&&(t=[]),void 0===n&&(n=new De),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=i,this.expectedType=r};function Vt(e,t){for(var r,n=e.length-1,i=0,o=n,a=0;i<=o;)if((r=e[a=Math.floor((i+o)/2)])<=t){if(a===n||t<e[a+1])return a;i=a+1}else{if(!(r>t))throw new lt("Input is not a number.");o=a-1}return 0}Ut.prototype.parse=function(e,t,r,n,i){return void 0===i&&(i={}),t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)},Ut.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new ht(t,[e]):"coerce"===r?new mt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var o=i.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=r(o,a,t.typeAnnotation||"coerce");else o=r(o,a,t.typeAnnotation||"assert")}if(!(o instanceof ct)&&"resolvedImage"!==o.type.kind&&function e(t){if(t instanceof Bt)return e(t.boundExpression);if(t instanceof bt&&"error"===t.name)return!1;if(t instanceof _t)return!1;if(t instanceof Dt)return!1;var r=t instanceof mt||t instanceof ht,n=!0;return t.eachChild((function(t){n=r?n&&e(t):n&&t instanceof ct})),!!n&&Nt(t)&&zt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new gt;try{o=new ct(o.type,o.evaluate(u))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Ut.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new Ut(this.registry,n,t||null,i,this.errors)},Ut.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Le(n,e))},Ut.prototype.checkSubtype=function(e,t){var r=Ye(e,t);return r&&this.error(r),r};var Gt=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var o=i[n],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function qt(e,t,r){return e*(1-r)+t*r}Gt.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,Fe);if(!r)return null;var n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var o=1;o<e.length;o+=2){var a=1===o?-1/0:e[o],s=e[o+1],u=o,c=o+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(n.length&&n[n.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var l=t.parse(s,c,i);if(!l)return null;i=i||l.type,n.push([a,l])}return new Gt(i,r,n)},Gt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Vt(t,n)].evaluate(e)},Gt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Gt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Gt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Wt=Object.freeze({__proto__:null,number:qt,color:function(e,t,r){return new et(qt(e.r,t.r,r),qt(e.g,t.g,r),qt(e.b,t.b,r),qt(e.a,t.a,r))},array:function(e,t,r){return e.map((function(e,n){return qt(e,t[n],r)}))}}),Ht=6/29*3*(6/29),Zt=Math.PI/180,Xt=180/Math.PI;function $t(e){return e>.008856451679035631?Math.pow(e,1/3):e/Ht+4/29}function Yt(e){return e>6/29?e*e*e:Ht*(e-4/29)}function Kt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Qt(e){var t=Jt(e.r),r=Jt(e.g),n=Jt(e.b),i=$t((.4124564*t+.3575761*r+.1804375*n)/.95047),o=$t((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-$t((.0193339*t+.119192*r+.9503041*n)/1.08883)),alpha:e.a}}function er(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*Yt(t),r=.95047*Yt(r),n=1.08883*Yt(n),new et(Kt(3.2404542*r-1.5371385*t-.4985314*n),Kt(-.969266*r+1.8760108*t+.041556*n),Kt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function tr(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var rr={forward:Qt,reverse:er,interpolate:function(e,t,r){return{l:qt(e.l,t.l,r),a:qt(e.a,t.a,r),b:qt(e.b,t.b,r),alpha:qt(e.alpha,t.alpha,r)}}},nr={forward:function(e){var t=Qt(e),r=t.l,n=t.a,i=t.b,o=Math.atan2(i,n)*Xt;return{h:o<0?o+360:o,c:Math.sqrt(n*n+i*i),l:r,alpha:e.a}},reverse:function(e){var t=e.h*Zt,r=e.c;return er({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:tr(e.h,t.h,r),c:qt(e.c,t.c,r),l:qt(e.l,t.l,r),alpha:qt(e.alpha,t.alpha,r)}}},ir=Object.freeze({__proto__:null,lab:rr,hcl:nr}),or=function(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function ar(e,t,r,n){var i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}or.interpolationFactor=function(e,t,n,i){var o=0;if("exponential"===e.name)o=ar(t,e.base,n,i);else if("linear"===e.name)o=ar(t,1,n,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new r(a[0],a[1],a[2],a[3]).solve(ar(t,1,n,i))}return o},or.parse=function(e,t){var r=e[0],n=e[1],i=e[2],o=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var a=n[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:a}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,Fe)))return null;var u=[],c=null;"interpolate-hcl"===r||"interpolate-lab"===r?c=Ue:t.expectedType&&"value"!==t.expectedType.kind&&(c=t.expectedType);for(var l=0;l<o.length;l+=2){var f=o[l],h=o[l+1],p=l+3,d=l+4;if("number"!=typeof f)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(u.length&&u[u.length-1][0]>=f)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',p);var v=t.parse(h,d,c);if(!v)return null;c=c||v.type,u.push([f,v])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new or(c,r,n,i,u):t.error("Type "+Xe(c)+" is not interpolatable.")},or.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);var o=Vt(t,n),a=or.interpolationFactor(this.interpolation,n,t[o],t[o+1]),s=r[o].evaluate(e),u=r[o+1].evaluate(e);return"interpolate"===this.operator?Wt[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?nr.reverse(nr.interpolate(nr.forward(s),nr.forward(u),a)):rr.reverse(rr.interpolate(rr.forward(s),rr.forward(u),a))},or.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},or.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},or.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var sr=function(e,t){this.type=e,this.args=t};sr.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=t.parse(a[o],1+i.length,r,void 0,{typeAnnotation:"omit"});if(!s)return null;r=r||s.type,i.push(s)}var u=n&&i.some((function(e){return Ye(n,e.type)}));return new sr(u?Ge:r,i)},sr.prototype.evaluate=function(e){for(var t,r=null,n=0,i=0,o=this.args;i<o.length&&(n++,(r=o[i].evaluate(e))&&r instanceof it&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null===r);i+=1);return r},sr.prototype.eachChild=function(e){this.args.forEach(e)},sr.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},sr.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var ur=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};ur.prototype.evaluate=function(e){return this.result.evaluate(e)},ur.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},ur.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var i=e[n];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var o=t.parse(e[n+1],n+1);if(!o)return null;r.push([i,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return a?new ur(r,a):null},ur.prototype.outputDefined=function(){return this.result.outputDefined()},ur.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t];e.push(n[0],n[1].serialize())}return e.push(this.result.serialize()),e};var cr=function(e,t,r){this.type=e,this.index=t,this.input=r};cr.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Fe),n=t.parse(e[2],2,Ze(t.expectedType||Ge));return r&&n?new cr(n.type.itemType,r,n):null},cr.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new lt("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new lt("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new lt("Array index must be an integer, but found "+t+" instead.");return r[t]},cr.prototype.eachChild=function(e){e(this.index),e(this.input)},cr.prototype.outputDefined=function(){return!1},cr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var lr=function(e,t){this.type=Be,this.needle=e,this.haystack=t};lr.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ge),n=t.parse(e[2],2,Ge);return r&&n?Ke(r.type,[Be,ze,Fe,Ne,Ge])?new lr(r,n):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Xe(r.type)+" instead"):null},lr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!Je(t,["boolean","string","number","null"]))throw new lt("Expected first argument to be of type boolean, string, number or null, but found "+Xe(st(t))+" instead.");if(!Je(r,["string","array"]))throw new lt("Expected second argument to be of type array or string, but found "+Xe(st(r))+" instead.");return r.indexOf(t)>=0},lr.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},lr.prototype.outputDefined=function(){return!0},lr.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fr=function(e,t,r){this.type=Fe,this.needle=e,this.haystack=t,this.fromIndex=r};fr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ge),n=t.parse(e[2],2,Ge);if(!r||!n)return null;if(!Ke(r.type,[Be,ze,Fe,Ne,Ge]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Xe(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Fe);return i?new fr(r,n,i):null}return new fr(r,n)},fr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Je(t,["boolean","string","number","null"]))throw new lt("Expected first argument to be of type boolean, string, number or null, but found "+Xe(st(t))+" instead.");if(!Je(r,["string","array"]))throw new lt("Expected second argument to be of type array or string, but found "+Xe(st(r))+" instead.");if(this.fromIndex){var n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)},fr.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var hr=function(e,t,r,n,i,o){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o};hr.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],u=e[a+1];Array.isArray(s)||(s=[s]);var c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(var l=0,f=s;l<f.length;l+=1){var h=f[l];if("number"!=typeof h&&"string"!=typeof h)return c.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return c.error("Numeric branch labels must be integer values.");if(r){if(c.checkSubtype(r,st(h)))return null}else r=st(h);if(void 0!==i[String(h)])return c.error("Branch labels must be unique.");i[String(h)]=o.length}var p=t.parse(u,a,n);if(!p)return null;n=n||p.type,o.push(p)}var d=t.parse(e[1],1,Ge);if(!d)return null;var v=t.parse(e[e.length-1],e.length-1,n);return v?"value"!==d.type.kind&&t.concat(1).checkSubtype(r,d.type)?null:new hr(r,n,d,i,o,v):null},hr.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},hr.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},hr.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},hr.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(f=n[this.cases[a]])?(n[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[f][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,c=r;u<c.length;u+=1){var l=c[u],f=l[0],h=l[1];t.push(1===h.length?s(h[0]):h.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var pr=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};pr.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],i=1;i<e.length-1;i+=2){var o=t.parse(e[i],i,Be);if(!o)return null;var a=t.parse(e[i+1],i+1,r);if(!a)return null;n.push([o,a]),r=r||a.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new pr(r,n,s):null},pr.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[1];if(n[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},pr.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[1];e(n[0]),e(i)}e(this.otherwise)},pr.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},pr.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var dr=function(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n};function vr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function mr(e,t,r,n){return 0===n.compare(t,r)}function yr(e,t,r){var n="=="!==e&&"!="!==e;return function(){function i(e,t,r){this.type=Be,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],o=t.parse(e[1],1,Ge);if(!o)return null;if(!vr(r,o.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Xe(o.type)+"'.");var a=t.parse(e[2],2,Ge);if(!a)return null;if(!vr(r,a.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Xe(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Xe(o.type)+"' and '"+Xe(a.type)+"'.");n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new ht(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new ht(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,qe)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=st(o),u=st(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new lt('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var c=st(o),l=st(a);if("string"!==c.kind||"string"!==l.kind)return t(i,o,a)}return this.collator?r(i,o,a,this.collator.evaluate(i)):t(i,o,a)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}dr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ge),n=t.parse(e[2],2,Fe);if(!r||!n)return null;if(!Ke(r.type,[Ze(Ge),ze,Ge]))return t.error("Expected first argument to be of type array or string, but found "+Xe(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Fe);return i?new dr(r.type,r,n,i):null}return new dr(r.type,r,n)},dr.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!Je(t,["string","array"]))throw new lt("Expected first argument to be of type array or string, but found "+Xe(st(t))+" instead.");if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)},dr.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},dr.prototype.outputDefined=function(){return!1},dr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var gr=yr("==",(function(e,t,r){return t===r}),mr),br=yr("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!mr(0,t,r,n)})),_r=yr("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),wr=yr(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),xr=yr("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Or=yr(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),Er=function(e,t,r,n,i){this.type=ze,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};Er.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Fe);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var i=null;if(n.locale&&!(i=t.parse(n.locale,1,ze)))return null;var o=null;if(n.currency&&!(o=t.parse(n.currency,1,ze)))return null;var a=null;if(n["min-fraction-digits"]&&!(a=t.parse(n["min-fraction-digits"],1,Fe)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,Fe))?null:new Er(r,i,o,a,s)},Er.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Er.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Er.prototype.outputDefined=function(){return!1},Er.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var jr=function(e){this.type=Fe,this.input=e};jr.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Xe(r.type)+" instead."):new jr(r):null},jr.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new lt("Expected value to be of type string or array, but found "+Xe(st(t))+" instead.")},jr.prototype.eachChild=function(e){e(this.input)},jr.prototype.outputDefined=function(){return!1},jr.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Sr={"==":gr,"!=":br,">":wr,"<":_r,">=":Or,"<=":xr,array:ht,at:cr,boolean:ht,case:pr,coalesce:sr,collator:_t,format:pt,image:dt,in:lr,"index-of":fr,interpolate:or,"interpolate-hcl":or,"interpolate-lab":or,length:jr,let:ur,literal:ct,match:hr,number:ht,"number-format":Er,object:ht,slice:dr,step:Gt,string:ht,"to-boolean":mt,"to-color":mt,"to-number":mt,"to-string":mt,var:Bt,within:Dt};function kr(e,t){var r=t[0],n=t[1],i=t[2],o=t[3];r=r.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=ot(r,n,i,a);if(s)throw new lt(s);return new et(r/255*a,n/255*a,i/255*a,a)}function Tr(e,t){return e in t}function Pr(e,t){var r=t[e];return void 0===r?null:r}function Ar(e){return{type:e}}function Ir(e){return{result:"success",value:e}}function Cr(e){return{result:"error",value:e}}function Rr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Mr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Lr(e){return!!e.expression&&e.expression.interpolated}function Dr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Nr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Fr(e){return e}function zr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function Br(e,t,r,n,i){return zr(typeof r===i?n[r]:void 0,e["default"],t["default"])}function Ur(e,t,r){if("number"!==Dr(r))return zr(e["default"],t["default"]);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var i=Vt(e.stops.map((function(e){return e[0]})),r);return e.stops[i][1]}function Vr(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==Dr(r))return zr(e["default"],t["default"]);var i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];var o=Vt(e.stops.map((function(e){return e[0]})),r),a=function(e,t,r,n){var i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],u=e.stops[o+1][1],c=Wt[t.type]||Fr;if(e.colorSpace&&"rgb"!==e.colorSpace){var l=ir[e.colorSpace];c=function(e,t){return l.reverse(l.interpolate(l.forward(e),l.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),n=u.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return c(r,n,a)}}:c(s,u,a)}function Gr(e,t,r){return"color"===t.type?r=et.parse(r):"formatted"===t.type?r=nt.fromString(r.toString()):"resolvedImage"===t.type?r=it.fromString(r.toString()):Dr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),zr(r,e["default"],t["default"])}bt.register(Sr,{error:[{kind:"error"},[ze],function(e,t){throw new lt(t[0].evaluate(e))}],typeof:[ze,[Ge],function(e,t){return Xe(st(t[0].evaluate(e)))}],"to-rgba":[Ze(Fe,4),[Ue],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ue,[Fe,Fe,Fe],kr],rgba:[Ue,[Fe,Fe,Fe,Fe],kr],has:{type:Be,overloads:[[[ze],function(e,t){return Tr(t[0].evaluate(e),e.properties())}],[[ze,Ve],function(e,t){var r=t[1];return Tr(t[0].evaluate(e),r.evaluate(e))}]]},get:{type:Ge,overloads:[[[ze],function(e,t){return Pr(t[0].evaluate(e),e.properties())}],[[ze,Ve],function(e,t){var r=t[1];return Pr(t[0].evaluate(e),r.evaluate(e))}]]},"feature-state":[Ge,[ze],function(e,t){return Pr(t[0].evaluate(e),e.featureState||{})}],properties:[Ve,[],function(e){return e.properties()}],"geometry-type":[ze,[],function(e){return e.geometryType()}],id:[Ge,[],function(e){return e.id()}],zoom:[Fe,[],function(e){return e.globals.zoom}],"heatmap-density":[Fe,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Fe,[],function(e){return e.globals.lineProgress||0}],accumulated:[Ge,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Fe,Ar(Fe),function(e,t){for(var r=0,n=0,i=t;n<i.length;n+=1)r+=i[n].evaluate(e);return r}],"*":[Fe,Ar(Fe),function(e,t){for(var r=1,n=0,i=t;n<i.length;n+=1)r*=i[n].evaluate(e);return r}],"-":{type:Fe,overloads:[[[Fe,Fe],function(e,t){var r=t[1];return t[0].evaluate(e)-r.evaluate(e)}],[[Fe],function(e,t){return-t[0].evaluate(e)}]]},"/":[Fe,[Fe,Fe],function(e,t){var r=t[1];return t[0].evaluate(e)/r.evaluate(e)}],"%":[Fe,[Fe,Fe],function(e,t){var r=t[1];return t[0].evaluate(e)%r.evaluate(e)}],ln2:[Fe,[],function(){return Math.LN2}],pi:[Fe,[],function(){return Math.PI}],e:[Fe,[],function(){return Math.E}],"^":[Fe,[Fe,Fe],function(e,t){var r=t[1];return Math.pow(t[0].evaluate(e),r.evaluate(e))}],sqrt:[Fe,[Fe],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Fe,[Fe],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Fe,[Fe],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Fe,[Fe],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Fe,[Fe],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Fe,[Fe],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Fe,[Fe],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Fe,Ar(Fe),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Fe,Ar(Fe),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Fe,[Fe],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Fe,[Fe],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[Fe,[Fe],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Fe,[Fe],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Be,[ze,Ge],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[Be,[Ge],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Be,[ze],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Be,[ze,Ge],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Be,[Ge],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[Be,[ze,Ge],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i>o}],"filter-id->":[Be,[Ge],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[Be,[ze,Ge],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Be,[Ge],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[Be,[ze,Ge],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],o=n.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Be,[Ge],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[Be,[Ge],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Be,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Be,[Ze(ze)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Be,[Ze(Ge)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Be,[ze,Ze(Ge)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Be,[ze,Ze(Ge)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:Be,overloads:[[[Be,Be],function(e,t){var r=t[1];return t[0].evaluate(e)&&r.evaluate(e)}],[Ar(Be),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:Be,overloads:[[[Be,Be],function(e,t){var r=t[1];return t[0].evaluate(e)||r.evaluate(e)}],[Ar(Be),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[Be,[Be],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Be,[ze],function(e,t){var r=e.globals&&e.globals.isSupportedScript;return!r||r(t[0].evaluate(e))}],upcase:[ze,[ze],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[ze,[ze],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[ze,Ar(Ge),function(e,t){return t.map((function(t){return ut(t.evaluate(e))})).join("")}],"resolved-locale":[ze,[qe],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var qr=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new gt,this._defaultValue=t?function(e){return"color"===e.type&&Nr(e["default"])?new et(0,0,0,0):"color"===e.type?et.parse(e["default"])||null:void 0===e["default"]?null:e["default"]}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Wr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Sr}function Hr(e,t){var r=new Ut(Sr,[],t?function(e){var t={color:Ue,string:ze,number:Fe,enum:ze,boolean:Be,formatted:We,resolvedImage:He};return"array"===e.type?Ze(t[e.value]||Ge,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Ir(new qr(n,t)):Cr(r.errors)}qr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},qr.prototype.evaluate=function(e,t,r,n,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new lt("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Zr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Ft(t.expression)};Zr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)},Zr.prototype.evaluate=function(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)};var Xr=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Ft(t.expression),this.interpolationType=n};function $r(e,t){if("error"===(e=Hr(e,t)).result)return e;var r=e.value.expression,n=Nt(r);if(!n&&!Rr(t))return Cr([new Le("","data expressions not supported")]);var i=zt(r,["zoom"]);if(!i&&!Mr(t))return Cr([new Le("","zoom expressions not supported")]);var o=function e(t){var r=null;if(t instanceof ur)r=e(t.result);else if(t instanceof sr)for(var n=0,i=t.args;n<i.length&&!(r=e(i[n]));n+=1);else(t instanceof Gt||t instanceof or)&&t.input instanceof bt&&"zoom"===t.input.name&&(r=t);return r instanceof Le||t.eachChild((function(t){var n=e(t);n instanceof Le?r=n:!r&&n?r=new Le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new Le("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r}(r);return o||i?o instanceof Le?Cr([o]):o instanceof or&&!Lr(t)?Cr([new Le("",'"interpolate" expressions cannot be used with this property')]):Ir(o?new Xr(n?"camera":"composite",e.value,o.labels,o instanceof or?o.interpolation:void 0):new Zr(n?"constant":"source",e.value)):Cr([new Le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Xr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)},Xr.prototype.evaluate=function(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)},Xr.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?or.interpolationFactor(this.interpolationType,e,t,r):0};var Yr=function(e,t){this._parameters=e,this._specification=t,Ce(this,function e(t,r){var n,i,o,a="color"===r.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||!(s||void 0!==t.property),c=t.type||(Lr(r)?"exponential":"interval");if(a&&((t=Ce({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t["default"]=et.parse(t["default"]?t["default"]:r["default"])),t.colorSpace&&"rgb"!==t.colorSpace&&!ir[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===c)n=Vr;else if("interval"===c)n=Ur;else if("categorical"===c){n=Br,i=Object.create(null);for(var l=0,f=t.stops;l<f.length;l+=1){var h=f[l];i[h[0]]=h[1]}o=typeof t.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=Gr}if(s){for(var p={},d=[],v=0;v<t.stops.length;v++){var m=t.stops[v],y=m[0].zoom;void 0===p[y]&&(p[y]={zoom:y,type:t.type,property:t.property,default:t["default"],stops:[]},d.push(y)),p[y].stops.push([m[0].value,m[1]])}for(var g=[],b=0,_=d;b<_.length;b+=1){var w=_[b];g.push([p[w].zoom,e(p[w],r)])}var x={name:"linear"};return{kind:"composite",interpolationType:x,interpolationFactor:or.interpolationFactor.bind(void 0,x),zoomStops:g.map((function(e){return e[0]})),evaluate:function(e,n){var i=e.zoom;return Vr({stops:g,base:t.base},r,i).evaluate(i,n)}}}if(u){var O="exponential"===c?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:O,interpolationFactor:or.interpolationFactor.bind(void 0,O),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return n(t,r,e.zoom,i,o)}}}return{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?zr(t["default"],r["default"]):n(t,r,s,i,o)}}}(this._parameters,this._specification))};function Kr(e){var t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],u=Dr(r);if("object"!==u)return[new Ae(t,r,"object expected, "+u+" found")];for(var c in r){var l=c.split(".")[0],f=n[l]||n["*"],h=void 0;if(i[l])h=i[l];else if(n[l])h=On;else if(i["*"])h=i["*"];else{if(!n["*"]){s.push(new Ae(t,r[c],'unknown property "'+c+'"'));continue}h=On}s=s.concat(h({key:(t?t+".":t)+c,value:r[c],valueSpec:f,style:o,styleSpec:a,object:r,objectKey:c},r))}for(var p in n)i[p]||n[p].required&&void 0===n[p]["default"]&&void 0===r[p]&&s.push(new Ae(t,r,'missing required property "'+p+'"'));return s}function Jr(e){var t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||On;if("array"!==Dr(t))return[new Ae(o,t,"array expected, "+Dr(t)+" found")];if(r.length&&t.length!==r.length)return[new Ae(o,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new Ae(o,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value,values:r.values};i.$version<7&&(s["function"]=r["function"]),"object"===Dr(r.value)&&(s=r.value);for(var u=[],c=0;c<t.length;c++)u=u.concat(a({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:n,styleSpec:i,key:o+"["+c+"]"}));return u}function Qr(e){var t=e.key,r=e.value,n=e.valueSpec,i=Dr(r);return"number"===i&&r!=r&&(i="NaN"),"number"!==i?[new Ae(t,r,"number expected, "+i+" found")]:"minimum"in n&&r<n.minimum?[new Ae(t,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new Ae(t,r,r+" is greater than the maximum value "+n.maximum)]:[]}function en(e){var t,r,n,i=e.valueSpec,o=Re(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,u=!s,c="array"===Dr(e.value.stops)&&"array"===Dr(e.value.stops[0])&&"object"===Dr(e.value.stops[0][0]),l=Kr({key:e.key,value:e.value,valueSpec:e.styleSpec["function"],style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Ae(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;return t=t.concat(Jr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),"array"===Dr(r)&&0===r.length&&t.push(new Ae(e.key,r,"array must have at least one stop")),t},default:function(e){return On({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&l.push(new Ae(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||l.push(new Ae(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Lr(e.valueSpec)&&l.push(new Ae(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!Rr(e.valueSpec)?l.push(new Ae(e.key,e.value,"property functions not supported")):s&&!Mr(e.valueSpec)&&l.push(new Ae(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!c||void 0!==e.value.property||l.push(new Ae(e.key,e.value,'"property" property is required')),l;function f(e){var t=[],o=e.value,s=e.key;if("array"!==Dr(o))return[new Ae(s,o,"array expected, "+Dr(o)+" found")];if(2!==o.length)return[new Ae(s,o,"array length 2 expected, length "+o.length+" found")];if(c){if("object"!==Dr(o[0]))return[new Ae(s,o,"object expected, "+Dr(o[0])+" found")];if(void 0===o[0].zoom)return[new Ae(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Ae(s,o,"object stop key must have value")];if(n&&n>Re(o[0].zoom))return[new Ae(s,o[0].zoom,"stop zoom values must appear in ascending order")];Re(o[0].zoom)!==n&&(n=Re(o[0].zoom),r=void 0,a={}),t=t.concat(Kr({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Qr,value:h}}))}else t=t.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return Wr(Me(o[1]))?t.concat([new Ae(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(On({key:s+"[1]",value:o[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function h(e,n){var s=Dr(e.value),u=Re(e.value),c=null!==e.value?e.value:n;if(t){if(s!==t)return[new Ae(e.key,c,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ae(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var l="number expected, "+s+" found";return Rr(i)&&void 0===o&&(l+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ae(e.key,c,l)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==r&&u<r?[new Ae(e.key,c,"stop domain values must appear in ascending order")]:(r=u,"categorical"===o&&u in a?[new Ae(e.key,c,"stop domain values must be unique")]:(a[u]=!0,[])):[new Ae(e.key,c,"integer expected, found "+u)]}}function tn(e){var t=("property"===e.expressionContext?$r:Hr)(Me(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Ae(""+e.key+t.key,e.value,t.message)}));var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new Ae(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Ft(r))return[new Ae(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Ft(r))return[new Ae(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!zt(r,["zoom","feature-state"]))return[new Ae(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Nt(r))return[new Ae(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rn(e){var t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Re(r))&&i.push(new Ae(t,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(Re(r))&&i.push(new Ae(t,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),i}function nn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!nn(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}Yr.deserialize=function(e){return new Yr(e._parameters,e._specification)},Yr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var on={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function an(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};nn(e)||(e=un(e));var t=Hr(e,on);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,r,n){return t.value.evaluate(e,r,{},n)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(e)}}function sn(e,t){return e<t?-1:e>t?1:0}function un(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?cn(e[1],e[2],"=="):"!="===r?hn(cn(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?cn(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(un))):"all"===r?["all"].concat(e.slice(1).map(un)):"none"===r?["all"].concat(e.slice(1).map(un).map(hn)):"in"===r?ln(e[1],e.slice(2)):"!in"===r?hn(ln(e[1],e.slice(2))):"has"===r?fn(e[1]):"!has"===r?hn(fn(e[1])):"within"!==r||e}function cn(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function ln(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sn)]]:["filter-in-small",e,["literal",t]]}}function fn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function hn(e){return["!",e]}function pn(e){return nn(Me(e.value))?tn(Ce({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value,n=t.key;if("array"!==Dr(r))return[new Ae(n,r,"array expected, "+Dr(r)+" found")];var i,o=t.styleSpec,a=[];if(r.length<1)return[new Ae(n,r,"filter array must have at least 1 element")];switch(a=a.concat(rn({key:n+"[0]",value:r[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),Re(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Re(r[1])&&a.push(new Ae(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&a.push(new Ae(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(i=Dr(r[1]))&&a.push(new Ae(n+"[1]",r[1],"string expected, "+i+" found"));for(var s=2;s<r.length;s++)i=Dr(r[s]),"$type"===Re(r[1])?a=a.concat(rn({key:n+"["+s+"]",value:r[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Ae(n+"["+s+"]",r[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<r.length;u++)a=a.concat(e({key:n+"["+u+"]",value:r[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Dr(r[1]),2!==r.length?a.push(new Ae(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Ae(n+"[1]",r[1],"string expected, "+i+" found"));break;case"within":i=Dr(r[1]),2!==r.length?a.push(new Ae(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Ae(n+"[1]",r[1],"object expected, "+i+" found"))}return a}(e)}function dn(e,t){var r=e.key,n=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return On({key:r,value:o,valueSpec:i.transition,style:n,styleSpec:i});var c,l=e.valueSpec||s[a];if(!l)return[new Ae(r,o,'unknown property "'+a+'"')];if("string"===Dr(o)&&Rr(l)&&!l.tokens&&(c=/^{([^}]+)}$/.exec(o)))return[new Ae(r,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(c[1])+" }`.")];var f=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&f.push(new Ae(r,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Nr(Me(o))&&"identity"===Re(o.type)&&f.push(new Ae(r,o,'"text-font" does not support identity functions'))),f.concat(On({key:e.key,value:o,valueSpec:l,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function vn(e){return dn(e,"paint")}function mn(e){return dn(e,"layout")}function yn(e){var t=[],r=e.value,n=e.key,i=e.style,o=e.styleSpec;r.type||r.ref||t.push(new Ae(n,r,'either "type" or "ref" is required'));var a,s=Re(r.type),u=Re(r.ref);if(r.id)for(var c=Re(r.id),l=0;l<e.arrayIndex;l++){var f=i.layers[l];Re(f.id)===c&&t.push(new Ae(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+f.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(e){e in r&&t.push(new Ae(n,r[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Re(e.id)===u&&(a=e)})),a?a.ref?t.push(new Ae(n,r.ref,"ref cannot reference another ref layer")):s=Re(a.type):t.push(new Ae(n,r.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(r.source){var h=i.sources&&i.sources[r.source],p=h&&Re(h.type);h?"vector"===p&&"raster"===s?t.push(new Ae(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===p&&"raster"!==s?t.push(new Ae(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==p||r["source-layer"]?"raster-dem"===p&&"hillshade"!==s?t.push(new Ae(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===p&&h.lineMetrics||t.push(new Ae(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Ae(n,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new Ae(n,r.source,'source "'+r.source+'" not found'))}else t.push(new Ae(n,r,'missing required property "source"'));return t=t.concat(Kr({key:n,value:r,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return On({key:n+".type",value:r.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:pn,layout:function(e){return Kr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mn(Ce({layerType:s},e))}}})},paint:function(e){return Kr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return vn(Ce({layerType:s},e))}}})}}}))}function gn(e){var t=e.value,r=e.key,n=Dr(t);return"string"!==n?[new Ae(r,t,"string expected, "+n+" found")]:[]}var bn={promoteId:function(e){var t=e.key,r=e.value;if("string"===Dr(r))return gn({key:t,value:r});var n=[];for(var i in r)n.push.apply(n,gn({key:t+"."+i,value:r[i]}));return n}};function _n(e){var t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new Ae(r,t,'"type" is required')];var o,a=Re(t.type);switch(a){case"vector":case"raster":case"raster-dem":return Kr({key:r,value:t,valueSpec:n["source_"+a.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:bn});case"geojson":if(o=Kr({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:bn}),t.cluster)for(var s in t.clusterProperties){var u=t.clusterProperties[s],c=u[0],l="string"==typeof c?[c,["accumulated"],["get",s]]:c;o.push.apply(o,tn({key:r+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),o.push.apply(o,tn({key:r+"."+s+".reduce",value:l,expressionContext:"cluster-reduce"}))}return o;case"video":return Kr({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return Kr({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new Ae(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rn({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function wn(e){var t=e.value,r=e.styleSpec,n=r.light,i=e.style,o=[],a=Dr(t);if(void 0===t)return o;if("object"!==a)return o.concat([new Ae("light",t,"object expected, "+a+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&n[u[1]]&&n[u[1]].transition?On({key:s,value:t[s],valueSpec:r.transition,style:i,styleSpec:r}):n[s]?On({key:s,value:t[s],valueSpec:n[s],style:i,styleSpec:r}):[new Ae(s,t[s],'unknown property "'+s+'"')])}return o}var xn={"*":function(){return[]},array:Jr,boolean:function(e){var t=e.value,r=e.key,n=Dr(t);return"boolean"!==n?[new Ae(r,t,"boolean expected, "+n+" found")]:[]},number:Qr,color:function(e){var t=e.key,r=e.value,n=Dr(r);return"string"!==n?[new Ae(t,r,"color expected, "+n+" found")]:null===Qe(r)?[new Ae(t,r,'color expected, "'+r+'" found')]:[]},constants:Ie,enum:rn,filter:pn,function:en,layer:yn,object:Kr,source:_n,light:wn,string:gn,formatted:function(e){return 0===gn(e).length?[]:tn(e)},resolvedImage:function(e){return 0===gn(e).length?[]:tn(e)}};function On(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&Nr(Re(t))?en(e):r.expression&&Wr(Me(t))?tn(e):r.type&&xn[r.type]?xn[r.type](e):Kr(Ce({},e,{valueSpec:r.type?n[r.type]:r}))}function En(e){var t=e.value,r=e.key,n=gn(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Ae(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Ae(r,t,'"glyphs" url must include a "{range}" token'))),n}function jn(e,t){void 0===t&&(t=Pe);var r=[];return r=r.concat(On({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:En,"*":function(){return[]}}})),e.constants&&(r=r.concat(Ie({key:"constants",value:e.constants,style:e,styleSpec:t}))),Sn(r)}function Sn(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function kn(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return Sn(e.apply(this,t))}}jn.source=kn(_n),jn.light=kn(wn),jn.layer=kn(yn),jn.filter=kn(pn),jn.paintProperty=kn(vn),jn.layoutProperty=kn(mn);var Tn=jn,Pn=Tn.light,An=Tn.paintProperty,In=Tn.layoutProperty;function Cn(e,t){var r=!1;if(t&&t.length)for(var n=0,i=t;n<i.length;n+=1)e.fire(new ke(new Error(i[n].message))),r=!0;return r}var Rn=Mn;function Mn(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(r=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];n.push(a===s?null:i.subarray(a,s))}var u=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var l=r/t*e;this.min=-l,this.max=e+l}Mn.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},Mn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Mn.prototype._insertCell=function(e,t,r,n,i,o){this.cells[i].push(o)},Mn.prototype.query=function(e,t,r,n,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},i),s},Mn.prototype._queryCell=function(e,t,r,n,i,o,a,s){var u=this.cells[i];if(null!==u)for(var c=this.keys,l=this.bboxes,f=0;f<u.length;f++){var h=u[f];if(void 0===a[h]){var p=4*h;(s?s(l[p+0],l[p+1],l[p+2],l[p+3]):e<=l[p+2]&&t<=l[p+3]&&r>=l[p+0]&&n>=l[p+1])?(a[h]=!0,o.push(c[h])):a[h]=!1}}},Mn.prototype._forEachCell=function(e,t,r,n,i,o,a,s){for(var u=this._convertToCellCoord(e),c=this._convertToCellCoord(t),l=this._convertToCellCoord(r),f=this._convertToCellCoord(n),h=u;h<=l;h++)for(var p=c;p<=f;p++){var d=this.d*p+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&&i.call(this,e,t,r,n,d,o,a,s))return}},Mn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Mn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Mn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(t+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Ln=a.ImageData,Dn=a.ImageBitmap,Nn={};function Fn(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Nn[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var zn in Fn("Object",Object),Rn.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},Rn.deserialize=function(e){return new Rn(e.buffer)},Fn("Grid",Rn),Fn("Color",et),Fn("Error",Error),Fn("ResolvedImage",it),Fn("StylePropertyFunction",Yr),Fn("StyleExpression",qr,{omit:["_evaluator"]}),Fn("ZoomDependentExpression",Xr),Fn("ZoomConstantExpression",Zr),Fn("CompoundExpression",bt,{omit:["_evaluate"]}),Sr)Sr[zn]._classRegistryKey||Fn("Expression_"+zn,Sr[zn]);function Bn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Un(e){return Dn&&e instanceof Dn}function Vn(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Bn(e)||Un(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof Ln)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var n=[],i=0,o=e;i<o.length;i+=1)n.push(Vn(o[i],t));return n}if("object"==typeof e){var a=e.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(e,t):{};if(!a.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(Nn[s].omit.indexOf(c)>=0)){var l=e[c];u[c]=Nn[s].shallow.indexOf(c)>=0?l:Vn(l,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof e)}function Gn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Bn(e)||Un(e)||ArrayBuffer.isView(e)||e instanceof Ln)return e;if(Array.isArray(e))return e.map(Gn);if("object"==typeof e){var t=e.$name||"Object",r=Nn[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),i=0,o=Object.keys(e);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=e[a];n[a]=Nn[t].shallow.indexOf(a)>=0?s:Gn(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var qn=function(){this.first=!0};qn.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var Wn={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Hn(e){for(var t=0,r=e;t<r.length;t+=1)if(Zn(r[t].charCodeAt(0)))return!0;return!1}function Zn(e){return!(746!==e&&747!==e&&(e<4352||!(Wn["Bopomofo Extended"](e)||Wn.Bopomofo(e)||Wn["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Wn["CJK Compatibility Ideographs"](e)||Wn["CJK Compatibility"](e)||Wn["CJK Radicals Supplement"](e)||Wn["CJK Strokes"](e)||!(!Wn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Wn["CJK Unified Ideographs Extension A"](e)||Wn["CJK Unified Ideographs"](e)||Wn["Enclosed CJK Letters and Months"](e)||Wn["Hangul Compatibility Jamo"](e)||Wn["Hangul Jamo Extended-A"](e)||Wn["Hangul Jamo Extended-B"](e)||Wn["Hangul Jamo"](e)||Wn["Hangul Syllables"](e)||Wn.Hiragana(e)||Wn["Ideographic Description Characters"](e)||Wn.Kanbun(e)||Wn["Kangxi Radicals"](e)||Wn["Katakana Phonetic Extensions"](e)||Wn.Katakana(e)&&12540!==e||!(!Wn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Wn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Wn["Unified Canadian Aboriginal Syllabics"](e)||Wn["Unified Canadian Aboriginal Syllabics Extended"](e)||Wn["Vertical Forms"](e)||Wn["Yijing Hexagram Symbols"](e)||Wn["Yi Syllables"](e)||Wn["Yi Radicals"](e))))}function Xn(e){return!(Zn(e)||function(e){return!!(Wn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Wn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Wn["Letterlike Symbols"](e)||Wn["Number Forms"](e)||Wn["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Wn["Control Pictures"](e)&&9251!==e||Wn["Optical Character Recognition"](e)||Wn["Enclosed Alphanumerics"](e)||Wn["Geometric Shapes"](e)||Wn["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Wn["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Wn["CJK Symbols and Punctuation"](e)||Wn.Katakana(e)||Wn["Private Use Area"](e)||Wn["CJK Compatibility Forms"](e)||Wn["Small Form Variants"](e)||Wn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function $n(e){return e>=1424&&e<=2303||Wn["Arabic Presentation Forms-A"](e)||Wn["Arabic Presentation Forms-B"](e)}function Yn(e,t){return!(!t&&$n(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Wn.Khmer(e))}function Kn(e){for(var t=0,r=e;t<r.length;t+=1)if($n(r[t].charCodeAt(0)))return!0;return!1}var Jn=null,Qn="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Qn="error"),Jn&&Jn(e)};function ri(){ni.fire(new Se("pluginStateChange",{pluginStatus:Qn,pluginURL:ei}))}var ni=new Te,ii=function(){return Qn},oi=function(){if("deferred"!==Qn||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qn="loading",ri(),ei&&_e({url:ei},(function(e){e?ti(e):(Qn="loaded",ri())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Qn||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===Qn},setState:function(e){Qn=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qn,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,n=e;r<n.length;r+=1)if(!Yn(n[r].charCodeAt(0),t))return!1;return!0}(e,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var ui=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Nr(e))return new Yr(e,t);if(Wr(e)){var r=$r(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=et.parse(e)),{kind:"constant",evaluate:function(){return n}}}(void 0===t?e.specification["default"]:t,e.specification)};ui.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ui.prototype.possiblyEvaluate=function(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)};var ci=function(e){this.property=e,this.value=new ui(e,void 0)};ci.prototype.transitioned=function(e,t){return new fi(this.property,this.value,t,h({},e.transition,this.transition),e.now)},ci.prototype.untransitioned=function(){return new fi(this.property,this.value,null,{},0)};var li=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};li.prototype.getValue=function(e){return w(this._values[e].value.value)},li.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ci(this._values[e].property)),this._values[e].value=new ui(this._values[e].property,null===t?void 0:w(t))},li.prototype.getTransition=function(e){return w(this._values[e].transition)},li.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ci(this._values[e].property)),this._values[e].transition=w(t)||void 0},li.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i);var o=this.getTransition(n);void 0!==o&&(e[n+"-transition"]=o)}return e},li.prototype.transitioned=function(e,t){for(var r=new hi(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var o=i[n];r._values[o]=this._values[o].transitioned(e,t._values[o])}return r},li.prototype.untransitioned=function(){for(var e=new hi(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e};var fi=function(e,t,r,n,i){this.property=e,this.value=t,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};fi.prototype.possiblyEvaluate=function(e,t,r){var n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),o=this.prior;if(o){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return o.possiblyEvaluate(e,t,r);var a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,r),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(a))}return i};var hi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};hi.prototype.possiblyEvaluate=function(e,t,r){for(var n=new vi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];n._values[a]=this._values[a].possiblyEvaluate(e,t,r)}return n},hi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var pi=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};pi.prototype.getValue=function(e){return w(this._values[e].value)},pi.prototype.setValue=function(e,t){this._values[e]=new ui(this._values[e].property,null===t?void 0:w(t))},pi.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i)}return e},pi.prototype.possiblyEvaluate=function(e,t,r){for(var n=new vi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];n._values[a]=this._values[a].possiblyEvaluate(e,t,r)}return n};var di=function(e,t,r){this.property=e,this.value=t,this.parameters=r};di.prototype.isConstant=function(){return"constant"===this.value.kind},di.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},di.prototype.evaluate=function(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)};var vi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};vi.prototype.get=function(e){return this._values[e]};var mi=function(e){this.specification=e};mi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},mi.prototype.interpolate=function(e,t,r){var n=Wt[this.specification.type];return n?n(e,t,r):e};var yi=function(e,t){this.specification=e,this.overrides=t};yi.prototype.possiblyEvaluate=function(e,t,r,n){return new di(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)},yi.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new di(this,{kind:"constant",value:void 0},e.parameters);var n=Wt[this.specification.type];return n?new di(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e},yi.prototype.evaluate=function(e,t,r,n,i,o){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,o)};var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,r,n){if(void 0===e.value)return new di(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},r,n),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new di(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new di(this,{kind:"constant",value:s},t)}return new di(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,n,i,o){if("source"===e.kind){var a=e.evaluate(t,r,n,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value},t.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(yi),bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},r,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},bi.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},bi.prototype.interpolate=function(e){return e};var _i=function(e){this.specification=e};_i.prototype.possiblyEvaluate=function(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)},_i.prototype.interpolate=function(){return!1};var wi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var r=e[t];r.specification.overridable&&this.overridableProperties.push(t);var n=this.defaultPropertyValues[t]=new ui(r,void 0),i=this.defaultTransitionablePropertyValues[t]=new ci(r);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}};Fn("DataDrivenProperty",yi),Fn("DataConstantProperty",mi),Fn("CrossFadedDataDrivenProperty",gi),Fn("CrossFadedProperty",bi),Fn("ColorRampProperty",_i);var xi=function(e){function t(t,r){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new pi(r.layout)),r.paint)){for(var n in this._transitionablePaint=new li(r.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new vi(r.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){void 0===r&&(r={}),null!=t&&this._validate(In,"layers."+this.id+".layout."+e,e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t&&this._validate(An,"layers."+this.id+".paint."+e,e,t,r))return!1;if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var n=this._transitionablePaint._values[e],i="cross-faded-data-driven"===n.property.specification["property-type"],o=n.value.isDataDriven(),a=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,a,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,r){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),_(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,r,n,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Cn(this,e.call(Tn,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:Pe,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof di&&Rr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Te),Oi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ei=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ji=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Si(e,t){void 0===t&&(t=1);var r=0,n=0;return{members:e.map((function(e){var i=Oi[e.type].BYTES_PER_ELEMENT,o=r=ki(r,Math.max(t,i)),a=e.components||1;return n=Math.max(n,i),r+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:ki(r,Math.max(n,t)),alignment:t}}function ki(e,t){return Math.ceil(e/t)*t}ji.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},ji.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},ji.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ji.prototype.clear=function(){this.length=0},ji.prototype.resize=function(e){this.reserve(e),this.length=e},ji.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},ji.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e},t}(ji);Ti.prototype.bytesPerElement=4,Fn("StructArrayLayout2i4",Ti);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,e},t}(ji);Pi.prototype.bytesPerElement=8,Fn("StructArrayLayout4i8",Pi);var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)},t.prototype.emplace=function(e,t,r,n,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(ji);Ai.prototype.bytesPerElement=12,Fn("StructArrayLayout2i4i12",Ai);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)},t.prototype.emplace=function(e,t,r,n,i,o,a){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.uint8[u+4]=n,this.uint8[u+5]=i,this.uint8[u+6]=o,this.uint8[u+7]=a,e},t}(ji);Ii.prototype.bytesPerElement=8,Fn("StructArrayLayout2i4ub8",Ii);var Ci=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e},t}(ji);Ci.prototype.bytesPerElement=8,Fn("StructArrayLayout2f8",Ci);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,u,c){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,i,o,a,s,u,c)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,u,c,l){var f=10*e;return this.uint16[f+0]=t,this.uint16[f+1]=r,this.uint16[f+2]=n,this.uint16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=u,this.uint16[f+8]=c,this.uint16[f+9]=l,e},t}(ji);Ri.prototype.bytesPerElement=20,Fn("StructArrayLayout10ui20",Ri);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,u,c,l,f){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,r,n,i,o,a,s,u,c,l,f)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,u,c,l,f,h){var p=12*e;return this.int16[p+0]=t,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=u,this.int16[p+8]=c,this.int16[p+9]=l,this.int16[p+10]=f,this.int16[p+11]=h,e},t}(ji);Mi.prototype.bytesPerElement=24,Fn("StructArrayLayout4i4ui4i24",Mi);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e},t}(ji);Li.prototype.bytesPerElement=12,Fn("StructArrayLayout3f12",Li);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(ji);Di.prototype.bytesPerElement=4,Fn("StructArrayLayout1ul4",Di);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,r,n,i,o,a,s,u)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,u,c){var l=10*e,f=5*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+3]=i,this.int16[l+4]=o,this.int16[l+5]=a,this.uint32[f+3]=s,this.uint16[l+8]=u,this.uint16[l+9]=c,e},t}(ji);Ni.prototype.bytesPerElement=20,Fn("StructArrayLayout6i1ul2ui20",Ni);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)},t.prototype.emplace=function(e,t,r,n,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(ji);Fi.prototype.bytesPerElement=12,Fn("StructArrayLayout2i2i2i12",Fi);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)},t.prototype.emplace=function(e,t,r,n,i,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[s+6]=i,this.int16[s+7]=o,e},t}(ji);zi.prototype.bytesPerElement=16,Fn("StructArrayLayout2f1f2i16",zi);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=r,this.float32[a+1]=n,this.float32[a+2]=i,e},t}(ji);Bi.prototype.bytesPerElement=12,Fn("StructArrayLayout2ub2f12",Bi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e},t}(ji);Ui.prototype.bytesPerElement=6,Fn("StructArrayLayout3ui6",Ui);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v,m){var y=this.length;return this.resize(y+1),this.emplace(y,e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v,m)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v,m,y){var g=24*e,b=12*e,_=48*e;return this.int16[g+0]=t,this.int16[g+1]=r,this.uint16[g+2]=n,this.uint16[g+3]=i,this.uint32[b+2]=o,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[g+10]=u,this.uint16[g+11]=c,this.uint16[g+12]=l,this.float32[b+7]=f,this.float32[b+8]=h,this.uint8[_+36]=p,this.uint8[_+37]=d,this.uint8[_+38]=v,this.uint32[b+10]=m,this.int16[g+22]=y,e},t}(ji);Vi.prototype.bytesPerElement=48,Fn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v,m,y,g,b,_,w,x,O,E,j,S,k){var T=this.length;return this.resize(T+1),this.emplace(T,e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v,m,y,g,b,_,w,x,O,E,j,S,k)},t.prototype.emplace=function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v,m,y,g,b,_,w,x,O,E,j,S,k,T){var P=34*e,A=17*e;return this.int16[P+0]=t,this.int16[P+1]=r,this.int16[P+2]=n,this.int16[P+3]=i,this.int16[P+4]=o,this.int16[P+5]=a,this.int16[P+6]=s,this.int16[P+7]=u,this.uint16[P+8]=c,this.uint16[P+9]=l,this.uint16[P+10]=f,this.uint16[P+11]=h,this.uint16[P+12]=p,this.uint16[P+13]=d,this.uint16[P+14]=v,this.uint16[P+15]=m,this.uint16[P+16]=y,this.uint16[P+17]=g,this.uint16[P+18]=b,this.uint16[P+19]=_,this.uint16[P+20]=w,this.uint16[P+21]=x,this.uint16[P+22]=O,this.uint32[A+12]=E,this.float32[A+13]=j,this.float32[A+14]=S,this.float32[A+15]=k,this.float32[A+16]=T,e},t}(ji);Gi.prototype.bytesPerElement=68,Fn("StructArrayLayout8i15ui1ul4f68",Gi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(ji);qi.prototype.bytesPerElement=4,Fn("StructArrayLayout1f4",qi);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e},t}(ji);Wi.prototype.bytesPerElement=6,Fn("StructArrayLayout3i6",Wi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e},t}(ji);Hi.prototype.bytesPerElement=8,Fn("StructArrayLayout1ul2ui8",Hi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e},t}(ji);Zi.prototype.bytesPerElement=4,Fn("StructArrayLayout2ui4",Zi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(ji);Xi.prototype.bytesPerElement=2,Fn("StructArrayLayout1ui2",Xi);var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,this.float32[o+3]=i,e},t}(ji);$i.prototype.bytesPerElement=16,Fn("StructArrayLayout4f16",$i);var Yi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(Ei);Yi.prototype.size=20;var Ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Yi(this,e)},t}(Ni);Fn("CollisionBoxArray",Ki);var Ji=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,r),t}(Ei);Ji.prototype.size=48;var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ji(this,e)},t}(Vi);Fn("PlacedSymbolArray",Qi);var eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},r.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,r),t}(Ei);eo.prototype.size=68;var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new eo(this,e)},t}(Gi);Fn("SymbolInstanceArray",to);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(qi);Fn("GlyphOffsetArray",ro);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Wi);Fn("SymbolLineVertexArray",no);var io=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,r),t}(Ei);io.prototype.size=8;var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new io(this,e)},t}(Hi);Fn("FeatureIndexArray",oo);var ao=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(e){void 0===e&&(e=[]),this.segments=e};function uo(e,t){return 256*(e=l(Math.floor(e),0,255))+l(Math.floor(t),0,255)}so.prototype.prepareSegment=function(e,t,r,n){var i=this.segments[this.segments.length-1];return e>so.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var n in r.vaos)r.vaos[n].destroy()}},so.simpleSegment=function(e,t,r,n){return new so([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Fn("SegmentVector",so);var co=Si([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),lo=t((function(e){e.exports=function(e,t){var r,n,i,o,a,s,u,c;for(n=e.length-(r=3&e.length),i=t,a=3432918353,s=461845907,c=0;c<n;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),fo=t((function(e){e.exports=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),ho=lo,po=fo;ho.murmur3=lo,ho.murmur2=po;var vo=function(){this.ids=[],this.positions=[],this.indexed=!1};vo.prototype.add=function(e,t,r,n){this.ids.push(yo(e)),this.positions.push(t,r,n)},vo.prototype.getPositions=function(e){for(var t=yo(e),r=0,n=this.ids.length-1;r<n;){var i=r+n>>1;this.ids[i]>=t?n=i:r=i+1}for(var o=[];this.ids[r]===t;)o.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return o},vo.serialize=function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,i){for(;n<i;){for(var o=t[n+i>>1],a=n-1,s=i+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;go(t,a,s),go(r,3*a,3*s),go(r,3*a+1,3*s+1),go(r,3*a+2,3*s+2)}s-n<i-s?(e(t,r,n,s),n=s+1):(e(t,r,s+1,i),i=s)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}},vo.deserialize=function(e){var t=new vo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var mo=Math.pow(2,53)-1;function yo(e){var t=+e;return!isNaN(t)&&t<=mo?t:ho(String(e))}function go(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Fn("FeaturePositionMap",vo);var bo=function(e,t){this.gl=e.gl,this.location=t},_o=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(bo),wo=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(bo),xo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(bo),Oo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(bo),Eo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(bo),jo=function(e){function t(t,r){e.call(this,t,r),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(bo),So=new Float32Array(16),ko=function(e){function t(t,r){e.call(this,t,r),this.current=So}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(bo);function To(e){return[uo(255*e.r,255*e.g),uo(255*e.b,255*e.a)]}var Po=function(e,t,r){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=r};Po.prototype.setUniform=function(e,t,r){e.set(r.constantOr(this.value))},Po.prototype.getBinding=function(e,t,r){return"color"===this.type?new jo(e,t):new wo(e,t)};var Ao=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ao.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Ao.prototype.setUniform=function(e,t,r,n){var i="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;i&&e.set(i)},Ao.prototype.getBinding=function(e,t,r){return"u_pattern"===r.substr(0,9)?new Eo(e,t):new wo(e,t)};var Io=function(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new n};Io.prototype.populatePaintArray=function(e,t,r,n,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),t,{},n,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)},Io.prototype.updatePaintArray=function(e,t,r,n){var i=this.expression.evaluate({zoom:0},r,n);this._setPaintValue(e,t,i)},Io.prototype._setPaintValue=function(e,t,r){if("color"===this.type)for(var n=To(r),i=e;i<t;i++)this.paintVertexArray.emplace(i,n[0],n[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}},Io.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Co=function(e,t,r,n,i,o){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o};Co.prototype.populatePaintArray=function(e,t,r,n,i){var o=this.expression.evaluate(new si(this.zoom),t,{},n,[],i),a=this.expression.evaluate(new si(this.zoom+1),t,{},n,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)},Co.prototype.updatePaintArray=function(e,t,r,n){var i=this.expression.evaluate({zoom:this.zoom},r,n),o=this.expression.evaluate({zoom:this.zoom+1},r,n);this._setPaintValue(e,t,i,o)},Co.prototype._setPaintValue=function(e,t,r,n){if("color"===this.type)for(var i=To(r),o=To(n),a=e;a<t;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}},Co.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Co.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Co.prototype.setUniform=function(e,t){var r=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=l(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);e.set(n)},Co.prototype.getBinding=function(e,t,r){return new wo(e,t)};var Ro=function(e,t,r,n,i,o){this.expression=e,this.type=t,this.useIntegerZoom=r,this.zoom=n,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Ro.prototype.populatePaintArray=function(e,t,r){var n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)},Ro.prototype.updatePaintArray=function(e,t,r,n,i){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],i)},Ro.prototype._setPaintValues=function(e,t,r,n){if(n&&r){var i=n[r.min],o=n[r.mid],a=n[r.max];if(i&&o&&a)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Ro.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,co.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,co.members,this.expression.isStateDependent))},Ro.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Mo=function(e,t,r){this.binders={},this._buffers=[];var n=[];for(var i in e.paint._values)if(r(i)){var o=e.paint.get(i);if(o instanceof di&&Rr(o.property.specification)){var a=Do(i,e.type),s=o.value,u=o.property.specification.type,c=o.property.useIntegerZoom,l=o.property.specification["property-type"],f="cross-faded"===l||"cross-faded-data-driven"===l;if("constant"===s.kind)this.binders[i]=f?new Ao(s.value,a):new Po(s.value,a,u),n.push("/u_"+i);else if("source"===s.kind||f){var h=No(i,u,"source");this.binders[i]=f?new Ro(s,u,c,t,h,e.id):new Io(s,a,u,h),n.push("/a_"+i)}else{var p=No(i,u,"composite");this.binders[i]=new Co(s,a,u,c,t,p),n.push("/z_"+i)}}}this.cacheKey=n.sort().join("")};Mo.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Io||t instanceof Co?t.maxValue:0},Mo.prototype.populatePaintArrays=function(e,t,r,n,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Io||a instanceof Co||a instanceof Ro)&&a.populatePaintArray(e,t,r,n,i)}},Mo.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders){var n=this.binders[r];n instanceof Ao&&n.setConstantPatternPositions(e,t)}},Mo.prototype.updatePaintArrays=function(e,t,r,n,i){var o=!1;for(var a in e)for(var s=0,u=t.getPositions(a);s<u.length;s+=1){var c=u[s],l=r.feature(c.index);for(var f in this.binders){var h=this.binders[f];if((h instanceof Io||h instanceof Co||h instanceof Ro)&&!0===h.expression.isStateDependent){var p=n.paint.get(f);h.expression=p.value,h.updatePaintArray(c.start,c.end,l,e[a],i),o=!0}}}return o},Mo.prototype.defines=function(){var e=[];for(var t in this.binders){var r=this.binders[t];(r instanceof Po||r instanceof Ao)&&e.push.apply(e,r.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Mo.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof Io||r instanceof Co)for(var n=0;n<r.paintVertexAttributes.length;n++)e.push(r.paintVertexAttributes[n].name);else if(r instanceof Ro)for(var i=0;i<co.members.length;i++)e.push(co.members[i].name)}return e},Mo.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof Po||r instanceof Ao||r instanceof Co)for(var n=0,i=r.uniformNames;n<i.length;n+=1)e.push(i[n])}return e},Mo.prototype.getPaintVertexBuffers=function(){return this._buffers},Mo.prototype.getUniforms=function(e,t){var r=[];for(var n in this.binders){var i=this.binders[n];if(i instanceof Po||i instanceof Ao||i instanceof Co)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var u=i.getBinding(e,t[s],s);r.push({name:s,property:n,binding:u})}}}return r},Mo.prototype.setUniforms=function(e,t,r,n){for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,n,r.get(u),s)}},Mo.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var r=this.binders[t];if(e&&r instanceof Ro){var n=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;n&&this._buffers.push(n)}else(r instanceof Io||r instanceof Co)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}},Mo.prototype.upload=function(e){for(var t in this.binders){var r=this.binders[t];(r instanceof Io||r instanceof Co||r instanceof Ro)&&r.upload(e)}this.updatePaintBuffers()},Mo.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Io||t instanceof Co||t instanceof Ro)&&t.destroy()}};var Lo=function(e,t,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var n=0,i=e;n<i.length;n+=1){var o=i[n];this.programConfigurations[o.id]=new Mo(o,t,r)}this.needsUpload=!1,this._featureMap=new vo,this._bufferOffset=0};function Do(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function No(e,t,r){var n={color:{source:Ci,composite:$i},number:{source:qi,composite:Ci}},i=function(e){return{"line-pattern":{source:Ri,composite:Ri},"fill-pattern":{source:Ri,composite:Ri},"fill-extrusion-pattern":{source:Ri,composite:Ri}}[e]}(e);return i&&i[r]||n[t][r]}Lo.prototype.populatePaintArrays=function(e,t,r,n,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,n,i,o);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Lo.prototype.updatePaintArrays=function(e,t,r,n){for(var i=0,o=r;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,this._featureMap,t,a,n)||this.needsUpload}},Lo.prototype.get=function(e){return this.programConfigurations[e]},Lo.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Lo.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Fn("ConstantBinder",Po),Fn("CrossFadedConstantBinder",Ao),Fn("SourceExpressionBinder",Io),Fn("CrossFadedCompositeBinder",Ro),Fn("CompositeExpressionBinder",Co),Fn("ProgramConfiguration",Mo,{omit:["_buffers"]}),Fn("ProgramConfigurationSet",Lo);var Fo=Math.pow(2,14)-1,zo=-Fo-1;function Bo(e){for(var t=8192/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var i=r[n],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*t),u=Math.round(a.y*t);a.x=l(s,zo,Fo),a.y=l(u,zo,Fo),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&O("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function Uo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Bo(e):[]}}function Vo(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}var Go=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ti,this.indexArray=new Ui,this.segments=new so,this.programConfigurations=new Lo(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function qo(e,t){for(var r=0;r<e.length;r++)if(Qo(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(Qo(e,t[n]))return!0;return!!Xo(e,t)}function Wo(e,t,r){return!!Qo(e,t)||!!Yo(t,e,r)}function Ho(e,t){if(1===e.length)return Jo(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;i++)if(Qo(e,n[i]))return!0;for(var o=0;o<e.length;o++)if(Jo(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Xo(e,t[a]))return!0;return!1}function Zo(e,t,r){if(e.length>1){if(Xo(e,t))return!0;for(var n=0;n<t.length;n++)if(Yo(t[n],e,r))return!0}for(var i=0;i<e.length;i++)if(Yo(e[i],t,r))return!0;return!1}function Xo(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],i=e[r+1],o=0;o<t.length-1;o++)if($o(n,i,t[o],t[o+1]))return!0;return!1}function $o(e,t,r,n){return E(e,r,n)!==E(t,r,n)&&E(e,t,r)!==E(e,t,n)}function Yo(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var i=1;i<t.length;i++)if(Ko(e,t[i-1],t[i])<n)return!0;return!1}function Ko(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(i<0?t:i>1?r:r.sub(t)._mult(i)._add(t))}function Jo(e,t){for(var r,n,i,o=!1,a=0;a<e.length;a++)for(var s=0,u=(r=e[a]).length-1;s<r.length;u=s++)(n=r[s]).y>t.y!=(i=r[u]).y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(o=!o);return o}function Qo(e,t){for(var r=!1,n=0,i=e.length-1;n<e.length;i=n++){var o=e[n],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(r=!r)}return r}function ea(e,t,r){var n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;var o=E(e,t,r[0]);return o!==E(e,t,r[1])||o!==E(e,t,r[2])||o!==E(e,t,r[3])}function ta(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function ra(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function na(e,t,r,n,o){if(!t[0]&&!t[1])return e;var a=i.convert(t)._mult(o);"viewport"===r&&a._rotate(-n);for(var s=[],u=0;u<e.length;u++)s.push(e[u].sub(a));return s}Go.prototype.populate=function(e,t,r){var n=this.layers[0],i=[],o=null;"circle"===n.type&&(o=n.layout.get("circle-sort-key"));for(var a=0,s=e;a<s.length;a+=1){var u=s[a],c=u.feature,l=u.id,f=u.index,h=u.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d=Uo(c,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,r)){var v=o?o.evaluate(d,{},r):void 0,m={id:l,properties:c.properties,type:c.type,sourceLayerIndex:h,index:f,geometry:p?d.geometry:Bo(c),patterns:{},sortKey:v};i.push(m)}}o&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,g=i;y<g.length;y+=1){var b=g[y],_=b.geometry,w=b.index,x=b.sourceLayerIndex,O=e[w].feature;this.addFeature(b,_,w,r),t.featureIndex.insert(O,_,w,x,this.index)}},Go.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Go.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Go.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Go.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Go.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Go.prototype.addFeature=function(e,t,r,n){for(var i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var u=s[a],c=u.x,l=u.y;if(!(c<0||c>=8192||l<0||l>=8192)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),h=f.vertexLength;Vo(this.layoutVertexArray,c,l,-1,-1),Vo(this.layoutVertexArray,c,l,1,-1),Vo(this.layoutVertexArray,c,l,1,1),Vo(this.layoutVertexArray,c,l,-1,1),this.indexArray.emplaceBack(h,h+1,h+2),this.indexArray.emplaceBack(h,h+3,h+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n)},Fn("CircleBucket",Go,{omit:["layers"]});var ia=new wi({"circle-sort-key":new yi(Pe.layout_circle["circle-sort-key"])}),oa={paint:new wi({"circle-radius":new yi(Pe.paint_circle["circle-radius"]),"circle-color":new yi(Pe.paint_circle["circle-color"]),"circle-blur":new yi(Pe.paint_circle["circle-blur"]),"circle-opacity":new yi(Pe.paint_circle["circle-opacity"]),"circle-translate":new mi(Pe.paint_circle["circle-translate"]),"circle-translate-anchor":new mi(Pe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mi(Pe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mi(Pe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Pe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Pe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Pe.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ua(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],p=t[10],d=t[11],v=t[12],m=t[13],y=t[14],g=t[15],b=r[0],_=r[1],w=r[2],x=r[3];return e[0]=b*n+_*s+w*f+x*v,e[1]=b*i+_*u+w*h+x*m,e[2]=b*o+_*c+w*p+x*y,e[3]=b*a+_*l+w*d+x*g,e[4]=(b=r[4])*n+(_=r[5])*s+(w=r[6])*f+(x=r[7])*v,e[5]=b*i+_*u+w*h+x*m,e[6]=b*o+_*c+w*p+x*y,e[7]=b*a+_*l+w*d+x*g,e[8]=(b=r[8])*n+(_=r[9])*s+(w=r[10])*f+(x=r[11])*v,e[9]=b*i+_*u+w*h+x*m,e[10]=b*o+_*c+w*p+x*y,e[11]=b*a+_*l+w*d+x*g,e[12]=(b=r[12])*n+(_=r[13])*s+(w=r[14])*f+(x=r[15])*v,e[13]=b*i+_*u+w*h+x*m,e[14]=b*o+_*c+w*p+x*y,e[15]=b*a+_*l+w*d+x*g,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,r=arguments.length;r--;)t+=e[r]*e[r];return Math.sqrt(t)});var ca,la=ua;function fa(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}ca=new aa(3),aa!=Float32Array&&(ca[0]=0,ca[1]=0,ca[2]=0),function(){var e=new aa(4);aa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var ha=(function(){var e=new aa(2);aa!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Go(e)},t.prototype.queryRadius=function(e){var t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+ra(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,o,a,s){for(var u=na(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),c=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),l="map"===this.paint.get("circle-pitch-alignment"),f=l?u:function(e,t){return e.map((function(e){return pa(e,t)}))}(u,s),h=l?c*a:c,p=0,d=n;p<d.length;p+=1)for(var v=0,m=d[p];v<m.length;v+=1){var y=m[v],g=l?y:pa(y,s),b=h,_=fa([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=_[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=o.cameraToCenterDistance/_[3]),Wo(f,g,b))return!0}return!1},t}(xi));function pa(e,t){var r=fa([],[e.x,e.y,0,1],t);return new i(r[0]/r[3],r[1]/r[3])}var da=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Go);function va(e,t,r,n){var i=t.width,o=t.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==i*o*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(i*o*r);return e.width=i,e.height=o,e.data=n,e}function ma(e,t,r){var n=t.width,i=t.height;if(n!==e.width||i!==e.height){var o=va({},{width:n,height:i},r);ya(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,i)},r),e.width=n,e.height=i,e.data=o.data}}function ya(e,t,r,n,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,u=0;u<i.height;u++)for(var c=((r.y+u)*e.width+r.x)*o,l=((n.y+u)*t.width+n.x)*o,f=0;f<i.width*o;f++)s[l+f]=a[c+f];return t}Fn("HeatmapBucket",da,{omit:["layers"]});var ga=function(e,t){va(this,e,1,t)};ga.prototype.resize=function(e){ma(this,e,1)},ga.prototype.clone=function(){return new ga({width:this.width,height:this.height},new Uint8Array(this.data))},ga.copy=function(e,t,r,n,i){ya(e,t,r,n,i,1)};var ba=function(e,t){va(this,e,4,t)};ba.prototype.resize=function(e){ma(this,e,4)},ba.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},ba.prototype.clone=function(){return new ba({width:this.width,height:this.height},new Uint8Array(this.data))},ba.copy=function(e,t,r,n,i){ya(e,t,r,n,i,4)},Fn("AlphaImage",ga),Fn("RGBAImage",ba);var _a={paint:new wi({"heatmap-radius":new yi(Pe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Pe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mi(Pe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _i(Pe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mi(Pe.paint_heatmap["heatmap-opacity"])})};function wa(e){var t={},r=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new ba({width:r,height:n}),o=function(r,n,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);i.data[r+n+0]=Math.floor(255*a.r/a.a),i.data[r+n+1]=Math.floor(255*a.g/a.a),i.data[r+n+2]=Math.floor(255*a.b/a.a),i.data[r+n+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<n;++a,s+=4*r)for(var u=0,c=0;u<r;u++,c+=4){var l=u/(r-1),f=e.clips[a];o(s,c,f.start*(1-l)+f.end*l)}else for(var h=0,p=0;h<r;h++,p+=4)o(0,p,h/(r-1));return i}var xa=function(e){function t(t){e.call(this,t,_a),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new da(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=wa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(xi),Oa={paint:new wi({"hillshade-illumination-direction":new mi(Pe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mi(Pe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mi(Pe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mi(Pe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mi(Pe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mi(Pe.paint_hillshade["hillshade-accent-color"])})},Ea=function(e){function t(t){e.call(this,t,Oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(xi),ja=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,Sa=Ta,ka=Ta;function Ta(e,t,r){r=r||2;var n,i,o,a,s,u,c,l=t&&t.length,f=l?t[0]*r:e.length,h=Pa(e,0,f,r,!0),p=[];if(!h||h.next===h.prev)return p;if(l&&(h=function(e,t,r,n){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Pa(e,t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(Ba(a));for(s.sort(Da),i=0;i<s.length;i++)Na(s[i],r),r=Aa(r,r.next);return r}(e,t,h,r)),e.length>80*r){n=o=e[0],i=a=e[1];for(var d=r;d<f;d+=r)(s=e[d])<n&&(n=s),(u=e[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-n,a-i))?1/c:0}return Ia(h,p,r,n,i,c),p}function Pa(e,t,r,n,i){var o,a;if(i===Qa(e,t,r,n)>0)for(o=t;o<r;o+=n)a=Ya(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=Ya(o,e[o],e[o+1],a);return a&&qa(a,a.next)&&(Ka(a),a=a.next),a}function Aa(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!qa(n,n.next)&&0!==Ga(n.prev,n,n.next))n=n.next;else{if(Ka(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Ia(e,t,r,n,i,o,a){if(e){!a&&o&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=za(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,u,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ);t++);for(u=c;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1)}(i)}(e,n,i,o);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?Ra(e,n,i,o):Ca(e))t.push(s.i/r),t.push(e.i/r),t.push(u.i/r),Ka(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?Ia(e=Ma(Aa(e),t,r),t,r,n,i,o,2):2===a&&La(e,t,r,n,i,o):Ia(Aa(e),t,r,n,i,o,1);break}}}function Ca(e){var t=e.prev,r=e,n=e.next;if(Ga(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Ua(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Ga(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ra(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Ga(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=za(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,r,n),l=za(s,u,t,r,n),f=e.prevZ,h=e.nextZ;f&&f.z>=c&&h&&h.z<=l;){if(f!==e.prev&&f!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ga(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,h!==e.prev&&h!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ga(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;f&&f.z>=c;){if(f!==e.prev&&f!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ga(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;h&&h.z<=l;){if(h!==e.prev&&h!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ga(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function Ma(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!qa(i,o)&&Wa(i,n,n.next,o)&&Xa(i,o)&&Xa(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),Ka(n),Ka(n.next),n=e=o),n=n.next}while(n!==e);return Aa(n)}function La(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var u=$a(a,s);return a=Aa(a,a.next),u=Aa(u,u.next),Ia(a,t,r,n,i,o),void Ia(u,t,r,n,i,o)}s=s.next}a=a.next}while(a!==e)}function Da(e,t){return e.x-t.x}function Na(e,t){if(t=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r;var u,c=r,l=r.x,f=r.y,h=1/0;n=r;do{i>=n.x&&n.x>=l&&i!==n.x&&Ua(o<f?i:a,o,l,f,o<f?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),Xa(n,e)&&(u<h||u===h&&(n.x>r.x||n.x===r.x&&Fa(r,n)))&&(r=n,h=u)),n=n.next}while(n!==c);return r}(e,t)){var r=$a(t,e);Aa(t,t.next),Aa(r,r.next)}}function Fa(e,t){return Ga(e.prev,e,t.prev)<0&&Ga(t.next,e,e.next)<0}function za(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ba(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Ua(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function Va(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Wa(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(Xa(e,t)&&Xa(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Ga(e.prev,e,t.prev)||Ga(e,t.prev,t))||qa(e,t)&&Ga(e.prev,e,e.next)>0&&Ga(t.prev,t,t.next)>0)}function Ga(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function qa(e,t){return e.x===t.x&&e.y===t.y}function Wa(e,t,r,n){var i=Za(Ga(e,t,r)),o=Za(Ga(e,t,n)),a=Za(Ga(r,n,e)),s=Za(Ga(r,n,t));return i!==o&&a!==s||!(0!==i||!Ha(e,r,t))||!(0!==o||!Ha(e,n,t))||!(0!==a||!Ha(r,e,n))||!(0!==s||!Ha(r,t,n))}function Ha(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Za(e){return e>0?1:e<0?-1:0}function Xa(e,t){return Ga(e.prev,e,e.next)<0?Ga(e,t,e.next)>=0&&Ga(e,e.prev,t)>=0:Ga(e,t,e.prev)<0||Ga(e,e.next,t)<0}function $a(e,t){var r=new Ja(e.i,e.x,e.y),n=new Ja(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Ya(e,t,r,n){var i=new Ja(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ka(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ja(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qa(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function es(e,t,r,n,i){!function e(t,r,n,i,o){for(;i>n;){if(i-n>600){var a=i-n+1,s=r-n+1,u=Math.log(a),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*c/a+l)),Math.min(i,Math.floor(r+(a-s)*c/a+l)),o)}var f=t[r],h=n,p=i;for(ts(t,n,r),o(t[i],f)>0&&ts(t,n,i);h<p;){for(ts(t,h,p),h++,p--;o(t[h],f)<0;)h++;for(;o(t[p],f)>0;)p--}0===o(t[n],f)?ts(t,n,p):ts(t,++p,i),p<=r&&(n=p+1),r<=p&&(i=p-1)}}(e,t,r||0,n||e.length-1,i||rs)}function ts(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function rs(e,t){return e<t?-1:e>t?1:0}function ns(e,t){var r=e.length;if(r<=1)return[e];for(var n,i,o=[],a=0;a<r;a++){var s=j(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(n&&o.push(n),n=[e[a]]):n.push(e[a]))}if(n&&o.push(n),t>1)for(var u=0;u<o.length;u++)o[u].length<=t||(es(o[u],t,1,o[u].length-1,is),o[u]=o[u].slice(0,t));return o}function is(e,t){return t.area-e.area}function os(e,t,r){for(var n=r.patternDependencies,i=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,n[u.to]=!0,n[u.from]=!0)}return i}function as(e,t,r,n,i){for(var o=i.patternDependencies,a=0,s=t;a<s.length;a+=1){var u=s[a],c=u.paint.get(e+"-pattern").value;if("constant"!==c.kind){var l=c.evaluate({zoom:n-1},r,{},i.availableImages),f=c.evaluate({zoom:n},r,{},i.availableImages),h=c.evaluate({zoom:n+1},r,{},i.availableImages);f=f&&f.name?f.name:f,h=h&&h.name?h.name:h,o[l=l&&l.name?l.name:l]=!0,o[f]=!0,o[h]=!0,r.patterns[u.id]={min:l,mid:f,max:h}}}return r}Ta.deviation=function(e,t,r,n){var i=t&&t.length,o=Math.abs(Qa(e,0,i?t[0]*r:e.length,r));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(Qa(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r));var u=0;for(a=0;a<n.length;a+=3){var c=n[a]*r,l=n[a+1]*r,f=n[a+2]*r;u+=Math.abs((e[c]-e[f])*(e[l+1]-e[c+1])-(e[c]-e[l])*(e[f+1]-e[c+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},Ta.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&r.holes.push(n+=e[i-1].length)}return r},Sa["default"]=ka;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ti,this.indexArray=new Ui,this.indexArray2=new Zi,this.programConfigurations=new Lo(e.layers,e.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,r){this.hasPattern=os("fill",this.layers,t);for(var n=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,c=s.id,l=s.index,f=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,p=Uo(u,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),p,r)){var d=n?n.evaluate(p,{},r,t.availableImages):void 0,v={id:c,properties:u.properties,type:u.type,sourceLayerIndex:f,index:l,geometry:h?p.geometry:Bo(u),patterns:{},sortKey:d};i.push(v)}}n&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],b=g.geometry,_=g.index,w=g.sourceLayerIndex;if(this.hasPattern){var x=as("fill",this.layers,g,this.zoom,t);this.patternFeatures.push(x)}else this.addFeature(g,b,_,r,{});t.featureIndex.insert(e[_].feature,b,_,w,this.index)}},ss.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ss.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,t,r)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ja),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,r,n,i){for(var o=0,a=ns(t,500);o<a.length;o+=1){for(var s=a[o],u=0,c=0,l=s;c<l.length;c+=1)u+=l[c].length;for(var f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),h=f.vertexLength,p=[],d=[],v=0,m=s;v<m.length;v+=1){var y=m[v];if(0!==y.length){y!==s[0]&&d.push(p.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),b=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(b+y.length-1,b),p.push(y[0].x),p.push(y[0].y);for(var _=1;_<y.length;_++)this.layoutVertexArray.emplaceBack(y[_].x,y[_].y),this.indexArray2.emplaceBack(b+_-1,b+_),p.push(y[_].x),p.push(y[_].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var w=Sa(p,d),x=0;x<w.length;x+=3)this.indexArray.emplaceBack(h+w[x],h+w[x+1],h+w[x+2]);f.vertexLength+=u,f.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Fn("FillBucket",ss,{omit:["layers","patternFeatures"]});var us=new wi({"fill-sort-key":new yi(Pe.layout_fill["fill-sort-key"])}),cs={paint:new wi({"fill-antialias":new mi(Pe.paint_fill["fill-antialias"]),"fill-opacity":new yi(Pe.paint_fill["fill-opacity"]),"fill-color":new yi(Pe.paint_fill["fill-color"]),"fill-outline-color":new yi(Pe.paint_fill["fill-outline-color"]),"fill-translate":new mi(Pe.paint_fill["fill-translate"]),"fill-translate-anchor":new mi(Pe.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Pe.paint_fill["fill-pattern"])}),layout:us},ls=function(e){function t(t){e.call(this,t,cs)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return ra(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,o,a){return Ho(na(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),n)},t.prototype.isTileClipped=function(){return!0},t}(xi),fs=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,hs=ps;function ps(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(ds,this,t)}function ds(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function vs(e){for(var t,r,n=0,i=0,o=e.length,a=o-1;i<o;a=i++)n+=((r=e[a]).x-(t=e[i]).x)*(t.y+r.y);return n}ps.types=["Unknown","Point","LineString","Polygon"],ps.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,o=0,a=0,s=0,u=[];e.pos<r;){if(o<=0){var c=e.readVarint();n=7&c,o=c>>3}if(o--,1===n||2===n)a+=e.readSVarint(),s+=e.readSVarint(),1===n&&(t&&u.push(t),t=[]),t.push(new i(a,s));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&u.push(t),u},ps.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,c=-1/0;e.pos<t;){if(n<=0){var l=e.readVarint();r=7&l,n=l>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<u&&(u=o),o>c&&(c=o);else if(7!==r)throw new Error("unknown command "+r)}return[a,u,s,c]},ps.prototype.toGeoJSON=function(e,t,r){var n,i,o=this.extent*Math.pow(2,r),a=this.extent*e,s=this.extent*t,u=this.loadGeometry(),c=ps.types[this.type];function l(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(n=0;n<u.length;n++)f[n]=u[n][0];l(u=f);break;case 2:for(n=0;n<u.length;n++)l(u[n]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],o=0;o<t;o++){var a=vs(e[o]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}return r&&i.push(r),i}(u),n=0;n<u.length;n++)for(i=0;i<u[n].length;i++)l(u[n][i])}1===u.length?u=u[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h};var ms=ys;function ys(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(gs,this,t),this.length=this._features.length}function gs(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function bs(e,t,r){if(3===e){var n=new ms(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}ys.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new hs(this._pbf,t,this.extent,this._keys,this._values)};var _s={VectorTile:function(e,t){this.layers=e.readFields(bs,{},t)},VectorTileFeature:hs,VectorTileLayer:ms},ws=_s.VectorTileFeature.types,xs=Math.pow(2,13);function Os(e,t,r,n,i,o,a,s){e.emplaceBack(t,r,2*Math.floor(n*xs)+a,i*xs*2,o*xs*2,Math.round(s))}var Es=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ai,this.indexArray=new Ui,this.programConfigurations=new Lo(e.layers,e.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function js(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Es.prototype.populate=function(e,t,r){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(var n=0,i=e;n<i.length;n+=1){var o=i[n],a=o.feature,s=o.id,u=o.index,c=o.sourceLayerIndex,l=this.layers[0]._featureFilter.needGeometry,f=Uo(a,l);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,r)){var h={id:s,sourceLayerIndex:c,index:u,geometry:l?f.geometry:Bo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,h,this.zoom,t)):this.addFeature(h,h.geometry,u,r,{}),t.featureIndex.insert(a,h.geometry,u,c,this.index,!0)}}},Es.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.features;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,t,r)}},Es.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.addFeature=function(e,t,r,n,i){for(var o=0,a=ns(t,500);o<a.length;o+=1){for(var s=a[o],u=0,c=0,l=s;c<l.length;c+=1)u+=l[c].length;for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),h=0,p=s;h<p.length;h+=1){var d=p[h];if(0!==d.length&&!((C=d).every((function(e){return e.x<0}))||C.every((function(e){return e.x>8192}))||C.every((function(e){return e.y<0}))||C.every((function(e){return e.y>8192}))))for(var v=0,m=0;m<d.length;m++){var y=d[m];if(m>=1){var g=d[m-1];if(!js(y,g)){f.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=y.sub(g)._perp()._unit(),_=g.dist(y);v+_>32768&&(v=0),Os(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,0,v),Os(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,1,v),Os(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,0,v+=_),Os(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,1,v);var w=f.vertexLength;this.indexArray.emplaceBack(w,w+2,w+1),this.indexArray.emplaceBack(w+1,w+2,w+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+u>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===ws[e.type]){for(var x=[],O=[],E=f.vertexLength,j=0,S=s;j<S.length;j+=1){var k=S[j];if(0!==k.length){k!==s[0]&&O.push(x.length/2);for(var T=0;T<k.length;T++){var P=k[T];Os(this.layoutVertexArray,P.x,P.y,0,0,1,1,0),x.push(P.x),x.push(P.y)}}}for(var A=Sa(x,O),I=0;I<A.length;I+=3)this.indexArray.emplaceBack(E+A[I],E+A[I+2],E+A[I+1]);f.primitiveLength+=A.length/3,f.vertexLength+=u}}var C;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Fn("FillExtrusionBucket",Es,{omit:["layers","features"]});var Ss={paint:new wi({"fill-extrusion-opacity":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Pe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Pe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Pe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Pe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mi(Pe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},ks=function(e){function t(t){e.call(this,t,Ss)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Es(e)},t.prototype.queryRadius=function(){return ra(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,a,s,u){var c=na(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),l=this.paint.get("fill-extrusion-height").evaluate(t,r),f=this.paint.get("fill-extrusion-base").evaluate(t,r),h=function(e,t,r,n){for(var o=[],a=0,s=e;a<s.length;a+=1){var u=s[a],c=[u.x,u.y,0,1];fa(c,c,t),o.push(new i(c[0]/c[3],c[1]/c[3]))}return o}(c,u),p=function(e,t,r,n){for(var o=[],a=[],s=n[8]*t,u=n[9]*t,c=n[10]*t,l=n[11]*t,f=n[8]*r,h=n[9]*r,p=n[10]*r,d=n[11]*r,v=0,m=e;v<m.length;v+=1){for(var y=[],g=[],b=0,_=m[v];b<_.length;b+=1){var w=_[b],x=w.x,O=w.y,E=n[0]*x+n[4]*O+n[12],j=n[1]*x+n[5]*O+n[13],S=n[2]*x+n[6]*O+n[14],k=n[3]*x+n[7]*O+n[15],T=S+c,P=k+l,A=E+f,I=j+h,C=S+p,R=k+d,M=new i((E+s)/P,(j+u)/P);M.z=T/P,y.push(M);var L=new i(A/R,I/R);L.z=C/R,g.push(L)}o.push(y),a.push(g)}return[o,a]}(n,f,l,u);return function(e,t,r){var n=1/0;Ho(r,t)&&(n=Ps(r,t[0]));for(var i=0;i<t.length;i++)for(var o=t[i],a=e[i],s=0;s<o.length-1;s++){var u=o[s],c=[u,o[s+1],a[s+1],a[s],u];qo(r,c)&&(n=Math.min(n,Ps(r,c)))}return n!==1/0&&n}(p[0],p[1],h)},t}(xi);function Ts(e,t){return e.x*t.x+e.y*t.y}function Ps(e,t){if(1===e.length){for(var r,n=0,i=t[n++];!r||i.equals(r);)if(!(r=t[n++]))return 1/0;for(;n<t.length;n++){var o=t[n],a=e[0],s=r.sub(i),u=o.sub(i),c=a.sub(i),l=Ts(s,s),f=Ts(s,u),h=Ts(u,u),p=Ts(c,s),d=Ts(c,u),v=l*h-f*f,m=(h*p-f*d)/v,y=(l*d-f*p)/v,g=i.z*(1-m-y)+r.z*m+o.z*y;if(isFinite(g))return g}return 1/0}for(var b=1/0,_=0,w=t;_<w.length;_+=1)b=Math.min(b,w[_].z);return b}var As=Si([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Is=Si([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Cs=_s.VectorTileFeature.types,Rs=Math.cos(Math.PI/180*37.5),Ms=Math.pow(2,14)/.5,Ls=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Ii,this.layoutVertexArray2=new Ci,this.indexArray=new Ui,this.programConfigurations=new Lo(e.layers,e.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ls.prototype.populate=function(e,t,r){this.hasPattern=os("line",this.layers,t);for(var n=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,c=s.id,l=s.index,f=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,p=Uo(u,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),p,r)){var d=n?n.evaluate(p,{},r):void 0,v={id:c,properties:u.properties,type:u.type,sourceLayerIndex:f,index:l,geometry:h?p.geometry:Bo(u),patterns:{},sortKey:d};i.push(v)}}n&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],b=g.geometry,_=g.index,w=g.sourceLayerIndex;if(this.hasPattern){var x=as("line",this.layers,g,this.zoom,t);this.patternFeatures.push(x)}else this.addFeature(g,b,_,r,{});t.featureIndex.insert(e[_].feature,b,_,w,this.index)}},Ls.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ls.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,t,r)}},Ls.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ls.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ls.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Is)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,As),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ls.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ls.prototype.addFeature=function(e,t,r,n,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var l=0,f=t;l<f.length;l+=1)this.addLine(f[l],e,a,s,u,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Ls.prototype.addLine=function(e,t,r,n,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Cs[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var c=0;c<u-1&&e[c].equals(e[c+1]);)c++;if(!(u<(s?3:2))){"bevel"===r&&(i=1.05);var l,f=this.overscaling<=16?122880/(512*this.overscaling):0,h=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),p=void 0,d=void 0,v=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=e[c].sub(l=e[u-2])._unit()._perp());for(var y=c;y<u;y++)if(!(d=y===u-1?s?e[c+1]:void 0:e[y+1])||!e[y].equals(d)){m&&(v=m),l&&(p=l),l=e[y],m=d?d.sub(l)._unit()._perp():v;var g=(v=v||m).add(m);0===g.x&&0===g.y||g._unit();var b=v.x*m.x+v.y*m.y,_=g.x*m.x+g.y*m.y,w=0!==_?1/_:1/0,x=2*Math.sqrt(2-2*_),O=_<Rs&&p&&d,E=v.x*m.y-v.y*m.x>0;if(O&&y>c){var j=l.dist(p);if(j>2*f){var S=l.sub(l.sub(p)._mult(f/j)._round());this.updateDistance(p,S),this.addCurrentVertex(S,v,0,0,h),p=S}}var k=p&&d,T=k?r:s?"butt":n;if(k&&"round"===T&&(w<o?T="miter":w<=2&&(T="fakeround")),"miter"===T&&w>i&&(T="bevel"),"bevel"===T&&(w>2&&(T="flipbevel"),w<i&&(T="miter")),p&&this.updateDistance(p,l),"miter"===T)g._mult(w),this.addCurrentVertex(l,g,0,0,h);else if("flipbevel"===T){if(w>100)g=m.mult(-1);else{var P=w*v.add(m).mag()/v.sub(m).mag();g._perp()._mult(P*(E?-1:1))}this.addCurrentVertex(l,g,0,0,h),this.addCurrentVertex(l,g.mult(-1),0,0,h)}else if("bevel"===T||"fakeround"===T){var A=-Math.sqrt(w*w-1),I=E?A:0,C=E?0:A;if(p&&this.addCurrentVertex(l,v,I,C,h),"fakeround"===T)for(var R=Math.round(180*x/Math.PI/20),M=1;M<R;M++){var L=M/R;if(.5!==L){var D=L-.5;L+=L*D*(L-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*D*D+(.848013+b*(.215638*b-1.06021)))}var N=m.sub(v)._mult(L)._add(v)._unit()._mult(E?-1:1);this.addHalfVertex(l,N.x,N.y,!1,E,0,h)}d&&this.addCurrentVertex(l,m,-I,-C,h)}else if("butt"===T)this.addCurrentVertex(l,g,0,0,h);else if("square"===T){var F=p?1:-1;this.addCurrentVertex(l,g,F,F,h)}else"round"===T&&(p&&(this.addCurrentVertex(l,v,0,0,h),this.addCurrentVertex(l,v,1,1,h,!0)),d&&(this.addCurrentVertex(l,m,-1,-1,h,!0),this.addCurrentVertex(l,m,0,0,h)));if(O&&y<u-1){var z=l.dist(d);if(z>2*f){var B=l.add(d.sub(l)._mult(f/z)._round());this.updateDistance(l,B),this.addCurrentVertex(B,m,0,0,h),l=B}}}}},Ls.prototype.addCurrentVertex=function(e,t,r,n,i,o){void 0===o&&(o=!1);var a=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,o,!1,r,i),this.addHalfVertex(e,a,s,o,!0,-n,i),this.distance>Ms/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,r,n,i,o))},Ls.prototype.addHalfVertex=function(e,t,r,n,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Ms-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(n?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*r)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),i?this.e2=u:this.e1=u},Ls.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ls.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Fn("LineBucket",Ls,{omit:["layers","patternFeatures"]});var Ds=new wi({"line-cap":new mi(Pe.layout_line["line-cap"]),"line-join":new yi(Pe.layout_line["line-join"]),"line-miter-limit":new mi(Pe.layout_line["line-miter-limit"]),"line-round-limit":new mi(Pe.layout_line["line-round-limit"]),"line-sort-key":new yi(Pe.layout_line["line-sort-key"])}),Ns={paint:new wi({"line-opacity":new yi(Pe.paint_line["line-opacity"]),"line-color":new yi(Pe.paint_line["line-color"]),"line-translate":new mi(Pe.paint_line["line-translate"]),"line-translate-anchor":new mi(Pe.paint_line["line-translate-anchor"]),"line-width":new yi(Pe.paint_line["line-width"]),"line-gap-width":new yi(Pe.paint_line["line-gap-width"]),"line-offset":new yi(Pe.paint_line["line-offset"]),"line-blur":new yi(Pe.paint_line["line-blur"]),"line-dasharray":new bi(Pe.paint_line["line-dasharray"]),"line-pattern":new gi(Pe.paint_line["line-pattern"]),"line-gradient":new _i(Pe.paint_line["line-gradient"])}),layout:Ds},Fs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new si(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,n,i){return r=h({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,n,i)},t}(yi))(Ns.paint.properties["line-width"].specification);Fs.useIntegerZoom=!0;var zs=function(e){function t(t){e.call(this,t,Ns),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Gt,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r),this.paint._values["line-floorwidth"]=Fs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ls(e)},t.prototype.queryRadius=function(e){var t=e,r=Bs(ta("line-width",this,t),ta("line-gap-width",this,t)),n=ta("line-offset",this,t);return r/2+Math.abs(n)+ra(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,a,s){var u=na(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),c=s/2*Bs(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),l=this.paint.get("line-offset").evaluate(t,r);return l&&(n=function(e,t){for(var r=[],n=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],u=0;u<a.length;u++){var c=a[u],l=a[u+1],f=0===u?n:c.sub(a[u-1])._unit()._perp(),h=u===a.length-1?n:l.sub(c)._unit()._perp(),p=f._add(h)._unit();p._mult(1/(p.x*h.x+p.y*h.y)),s.push(p._mult(t)._add(c))}r.push(s)}return r}(n,l*s)),function(e,t,r){for(var n=0;n<t.length;n++){var i=t[n];if(e.length>=3)for(var o=0;o<i.length;o++)if(Qo(e,i[o]))return!0;if(Zo(e,i,r))return!0}return!1}(u,n,c)},t.prototype.isTileClipped=function(){return!0},t}(xi);function Bs(e,t){return t>0?t+2*e:e}var Us=Si([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=Si([{name:"a_projected_pos",components:3,type:"Float32"}],4),Gs=(Si([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Si([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),qs=(Si([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Ws=Si([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Hs(e,t,r){return e.sections.forEach((function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),ai.applyArabicShaping&&(e=ai.applyArabicShaping(e)),e}(e.text,t,r)})),e}Si([{name:"triangle",components:3,type:"Uint16"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Si([{type:"Float32",name:"offsetX"}]),Si([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Zs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Xs=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},$s=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=d,a/=256,c-=8);e[r+p-d]|=128*v},Ys=Ks;function Ks(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ks.Varint=0,Ks.Fixed64=1,Ks.Bytes=2,Ks.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Qs(e){return e.type===Ks.Bytes?e.readVarint()+e.pos:e.pos+1}function eu(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tu(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function ru(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function nu(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function iu(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function ou(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function au(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function su(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function uu(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function cu(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function lu(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function fu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function hu(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function pu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function du(e,t,r){1===e&&r.readMessage(vu,t)}function vu(e,t,r){if(3===e){var n=r.readMessage(mu,{}),i=n.width,o=n.height,a=n.left,s=n.top,u=n.advance;t.push({id:n.id,bitmap:new ga({width:i+6,height:o+6},n.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:u}})}}function mu(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function yu(e){for(var t=0,r=0,n=0,i=e;n<i.length;n+=1){var o=i[n];t+=o.w*o.h,r=Math.max(r,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,u=0,c=0,l=e;c<l.length;c+=1)for(var f=l[c],h=a.length-1;h>=0;h--){var p=a[h];if(!(f.w>p.w||f.h>p.h)){if(f.x=p.x,f.y=p.y,u=Math.max(u,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===p.w&&f.h===p.h){var d=a.pop();h<a.length&&(a[h]=d)}else f.h===p.h?(p.x+=f.w,p.w-=f.w):f.w===p.w?(p.y+=f.h,p.h-=f.h):(a.push({x:p.x+f.w,y:p.y,w:p.w-f.w,h:f.h}),p.y+=f.h,p.h-=f.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}Ks.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=fu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=pu(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*fu(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*pu(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Xs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Xs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,o=r.buf;if(n=(112&(i=o[r.pos++]))>>4,i<128)return eu(e,n,t);if(n|=(127&(i=o[r.pos++]))<<3,i<128)return eu(e,n,t);if(n|=(127&(i=o[r.pos++]))<<10,i<128)return eu(e,n,t);if(n|=(127&(i=o[r.pos++]))<<17,i<128)return eu(e,n,t);if(n|=(127&(i=o[r.pos++]))<<24,i<128)return eu(e,n,t);if(n|=(1&(i=o[r.pos++]))<<31,i<128)return eu(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Js?function(e,t,r){return Js.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",i=t;i<r;){var o,a,s,u=e[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l>r)break;1===l?u<128&&(c=u):2===l?128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)<=127&&(c=null):3===l?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((c=(15&u)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===l&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,l=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),i+=l}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Ks.Bytes)return e.push(this.readVarint(t));var r=Qs(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Ks.Bytes)return e.push(this.readSVarint());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Ks.Bytes)return e.push(this.readBoolean());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Ks.Bytes)return e.push(this.readFloat());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Ks.Bytes)return e.push(this.readDouble());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Ks.Bytes)return e.push(this.readFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Ks.Bytes)return e.push(this.readSFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Ks.Bytes)return e.push(this.readFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Ks.Bytes)return e.push(this.readSFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ks.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ks.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ks.Fixed32)this.pos+=4;else{if(t!==Ks.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),hu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),hu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),hu(this.buf,-1&e,this.pos),hu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),hu(this.buf,-1&e,this.pos),hu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,r.buf[r.pos]=127&(e>>>=7)}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&tu(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),$s(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),$s(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&tu(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,Ks.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,ru,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,nu,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,au,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,iu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ou,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,su,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,uu,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,cu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,lu,t)},writeBytesField:function(e,t){this.writeTag(e,Ks.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ks.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ks.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ks.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ks.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ks.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ks.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ks.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ks.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ks.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var gu=function(e,t){var r=t.pixelRatio,n=t.version,i=t.stretchX,o=t.stretchY,a=t.content;this.paddedRect=e,this.pixelRatio=r,this.stretchX=i,this.stretchY=o,this.content=a,this.version=n},bu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};bu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},bu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},bu.tlbr.get=function(){return this.tl.concat(this.br)},bu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(gu.prototype,bu);var _u=function(e,t){var r={},n={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,r,i),this.addImages(t,n,i);var o=yu(i),a=new ba({width:o.w||1,height:o.h||1});for(var s in e){var u=e[s],c=r[s].paddedRect;ba.copy(u.data,a,{x:0,y:0},{x:c.x+1,y:c.y+1},u.data)}for(var l in t){var f=t[l],h=n[l].paddedRect,p=h.x+1,d=h.y+1,v=f.data.width,m=f.data.height;ba.copy(f.data,a,{x:0,y:0},{x:p,y:d},f.data),ba.copy(f.data,a,{x:0,y:m-1},{x:p,y:d-1},{width:v,height:1}),ba.copy(f.data,a,{x:0,y:0},{x:p,y:d+m},{width:v,height:1}),ba.copy(f.data,a,{x:v-1,y:0},{x:p-1,y:d},{width:1,height:m}),ba.copy(f.data,a,{x:0,y:0},{x:p+v,y:d},{width:1,height:m})}this.image=a,this.iconPositions=r,this.patternPositions=n};_u.prototype.addImages=function(e,t,r){for(var n in e){var i=e[n],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(o),t[n]=new gu(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}},_u.prototype.patchUpdatedImages=function(e,t){for(var r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)},_u.prototype.patchUpdatedImage=function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var n=e.tl;r.update(t.data,void 0,{x:n[0],y:n[1]})}},Fn("ImagePosition",gu),Fn("ImageAtlas",_u);var wu={horizontal:1,vertical:2,horizontalOnly:3},xu=function(){this.scale=1,this.fontStack="",this.imageName=null};xu.forText=function(e,t){var r=new xu;return r.scale=e||1,r.fontStack=t,r},xu.forImage=function(e){var t=new xu;return t.imageName=e,t};var Ou=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Eu(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v){var m,y=Ou.fromFeature(e,i);f===wu.vertical&&y.verticalizePunctuation();var g=ai.processBidirectionalText,b=ai.processStyledBidirectionalText;if(g&&1===y.sections.length){m=[];for(var _=0,w=g(y.toString(),Iu(y,c,o,t,n,p,d));_<w.length;_+=1){var x=w[_],O=new Ou;O.text=x,O.sections=y.sections;for(var E=0;E<x.length;E++)O.sectionIndex.push(0);m.push(O)}}else if(b){m=[];for(var j=0,S=b(y.text,y.sectionIndex,Iu(y,c,o,t,n,p,d));j<S.length;j+=1){var k=S[j],T=new Ou;T.text=k[0],T.sectionIndex=k[1],T.sections=y.sections,m.push(T)}}else m=function(e,t){for(var r=[],n=e.text,i=0,o=0,a=t;o<a.length;o+=1){var s=a[o];r.push(e.substring(i,s)),i=s}return i<n.length&&r.push(e.substring(i,n.length)),r}(y,Iu(y,c,o,t,n,p,d));var P=[],A={positionedLines:P,text:y.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(e,t,r,n,i,o,a,s,u,c,l,f){for(var h=0,p=-17,d=0,v=0,m="right"===s?1:"left"===s?0:.5,y=0,g=0,b=i;g<b.length;g+=1){var _=b[g];_.trim();var w=_.getMaxScale(),x=24*(w-1),O={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=O;var E=O.positionedGlyphs,j=0;if(_.length()){for(var S=0;S<_.length();S++){var k=_.getSection(S),T=_.getSectionIndex(S),P=_.getCharCode(S),A=0,I=null,C=null,R=null,M=24,L=!(u===wu.horizontal||!l&&!Zn(P)||l&&(ju[P]||(q=P,Wn.Arabic(q)||Wn["Arabic Supplement"](q)||Wn["Arabic Extended-A"](q)||Wn["Arabic Presentation Forms-A"](q)||Wn["Arabic Presentation Forms-B"](q))));if(k.imageName){var D=n[k.imageName];if(!D)continue;R=k.imageName,e.iconsInText=e.iconsInText||!0,C=D.paddedRect;var N=D.displaySize;k.scale=24*k.scale/f,A=x+(24-N[1]*k.scale),M=(I={width:N[0],height:N[1],left:1,top:-3,advance:L?N[1]:N[0]}).advance;var F=L?N[0]*k.scale-24*w:N[1]*k.scale-24*w;F>0&&F>j&&(j=F)}else{var z=r[k.fontStack],B=z&&z[P];if(B&&B.rect)C=B.rect,I=B.metrics;else{var U=t[k.fontStack],V=U&&U[P];if(!V)continue;I=V.metrics}A=24*(w-k.scale)}L?(e.verticalizable=!0,E.push({glyph:P,imageName:R,x:h,y:p+A,vertical:L,scale:k.scale,fontStack:k.fontStack,sectionIndex:T,metrics:I,rect:C}),h+=M*k.scale+c):(E.push({glyph:P,imageName:R,x:h,y:p+A,vertical:L,scale:k.scale,fontStack:k.fontStack,sectionIndex:T,metrics:I,rect:C}),h+=I.advance*k.scale+c)}0!==E.length&&(d=Math.max(h-c,d),Ru(E,0,E.length-1,m,j)),h=0;var G=o*w+j;O.lineOffset=Math.max(j,x),p+=G,v=Math.max(G,v),++y}else p+=o,++y}var q,W=p- -17,H=Cu(a),Z=H.horizontalAlign,X=H.verticalAlign;(function(e,t,r,n,i,o,a,s,u){var c,l=(t-r)*i;c=o!==a?-s*n- -17:(-n*u+.5)*a;for(var f=0,h=e;f<h.length;f+=1)for(var p=0,d=h[f].positionedGlyphs;p<d.length;p+=1){var v=d[p];v.x+=l,v.y+=c}})(e.positionedLines,m,Z,X,d,v,o,W,i.length),e.top+=-X*W,e.bottom=e.top+W,e.left+=-Z*d,e.right=e.left+d}(A,t,r,n,m,a,s,u,f,c,h,v),!function(e){for(var t=0,r=e;t<r.length;t+=1)if(0!==r[t].positionedGlyphs.length)return!1;return!0}(P)&&A}Ou.fromFeature=function(e,t){for(var r=new Ou,n=0;n<e.sections.length;n++){var i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r},Ou.prototype.length=function(){return this.text.length},Ou.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Ou.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Ou.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Ou.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r+1)||null,i=e.charCodeAt(r-1)||null;t+=n&&Xn(n)&&!Zs[e[r+1]]||i&&Xn(i)&&!Zs[e[r-1]]||!Zs[e[r]]?e[r]:Zs[e[r]]}return t}(this.text)},Ou.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&ju[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&ju[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},Ou.prototype.substring=function(e,t){var r=new Ou;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},Ou.prototype.toString=function(){return this.text},Ou.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,r){return Math.max(t,e.sections[r].scale)}),0)},Ou.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(xu.forText(e.scale,e.fontStack||t));for(var r=this.sections.length-1,n=0;n<e.text.length;++n)this.sectionIndex.push(r)},Ou.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(xu.forImage(t)),this.sectionIndex.push(this.sections.length-1)):O("Reached maximum number of images 6401")}else O("Can't add FormattedSection with an empty image.")},Ou.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var ju={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Su={};function ku(e,t,r,n,i,o){if(t.imageName){var a=n[t.imageName];return a?a.displaySize[0]*t.scale*24/o+i:0}var s=r[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function Tu(e,t,r,n){var i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function Pu(e,t,r){var n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function Au(e,t,r,n,i,o){for(var a=null,s=Tu(t,r,i,o),u=0,c=n;u<c.length;u+=1){var l=c[u],f=Tu(t-l.x,r,i,o)+l.badness;f<=s&&(a=l,s=f)}return{index:e,x:t,priorBreak:a,badness:s}}function Iu(e,t,r,n,i,o,a){if("point"!==o)return[];if(!e)return[];for(var s,u=[],c=function(e,t,r,n,i,o){for(var a=0,s=0;s<e.length();s++){var u=e.getSection(s);a+=ku(e.getCharCode(s),u,n,i,t,o)}return a/Math.max(1,Math.ceil(a/r))}(e,t,r,n,i,a),l=e.text.indexOf("\u200b")>=0,f=0,h=0;h<e.length();h++){var p=e.getSection(h),d=e.getCharCode(h);if(ju[d]||(f+=ku(d,p,n,i,t,a)),h<e.length()-1){var v=!((s=d)<11904||!(Wn["Bopomofo Extended"](s)||Wn.Bopomofo(s)||Wn["CJK Compatibility Forms"](s)||Wn["CJK Compatibility Ideographs"](s)||Wn["CJK Compatibility"](s)||Wn["CJK Radicals Supplement"](s)||Wn["CJK Strokes"](s)||Wn["CJK Symbols and Punctuation"](s)||Wn["CJK Unified Ideographs Extension A"](s)||Wn["CJK Unified Ideographs"](s)||Wn["Enclosed CJK Letters and Months"](s)||Wn["Halfwidth and Fullwidth Forms"](s)||Wn.Hiragana(s)||Wn["Ideographic Description Characters"](s)||Wn["Kangxi Radicals"](s)||Wn["Katakana Phonetic Extensions"](s)||Wn.Katakana(s)||Wn["Vertical Forms"](s)||Wn["Yi Radicals"](s)||Wn["Yi Syllables"](s)));(Su[d]||v||p.imageName)&&u.push(Au(h+1,f,c,u,Pu(d,e.getCharCode(h+1),v&&l),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Au(e.length(),f,c,u,0,!0))}function Cu(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function Ru(e,t,r,n,i){if(n||i)for(var o=e[r],a=(e[r].x+o.metrics.advance*o.scale)*n,s=t;s<=r;s++)e[s].x-=a,e[s].y+=i}function Mu(e,t,r,n,i,o){var a,s=e.image;if(s.content){var u=s.content,c=s.pixelRatio||1;a=[u[0]/c,u[1]/c,s.displaySize[0]-u[2]/c,s.displaySize[1]-u[3]/c]}var l,f,h,p,d=t.left*o,v=t.right*o;"width"===r||"both"===r?(p=i[0]+d-n[3],f=i[0]+v+n[1]):f=(p=i[0]+(d+v-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*o,y=t.bottom*o;return"height"===r||"both"===r?(l=i[1]+m-n[0],h=i[1]+y+n[2]):h=(l=i[1]+(m+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:l,right:f,bottom:h,left:p,collisionPadding:a}}Su[10]=!0,Su[32]=!0,Su[38]=!0,Su[40]=!0,Su[41]=!0,Su[43]=!0,Su[45]=!0,Su[47]=!0,Su[173]=!0,Su[183]=!0,Su[8203]=!0,Su[8208]=!0,Su[8211]=!0,Su[8231]=!0;var Lu=function(e){function t(t,r,n,i){e.call(this,t,r),this.angle=n,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Du(e,t){var r=t.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new si(e+1))};if("source"===r.kind)return{kind:"source"};for(var n=r.zoomStops,i=r.interpolationType,o=0;o<n.length&&n[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<n.length&&n[a]<e+1;)a++;a=Math.min(n.length-1,a);var s=n[o],u=n[a];return"composite"===r.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:r.evaluate(new si(s)),maxSize:r.evaluate(new si(u)),interpolationType:i}}function Nu(e,t,r){var n=t.uSize,i=r.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?qt(i/128,r.upperSize/128,t.uSizeT):n}function Fu(e,t){var r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=i?l(or.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?n=qt(e.minSize,e.maxSize,o):r=o}return{uSizeT:r,uSize:n}}Fn("Anchor",Lu);var zu=Object.freeze({__proto__:null,getSizeData:Du,evaluateSizeForFeature:Nu,evaluateSizeForZoom:Fu,SIZE_PACK_FACTOR:128});function Bu(e,t,r,n,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var u=[],c=0;s<r/2;){var l=e[a],f=e[a+1];if(!f)return!1;var h=e[a-1].angleTo(l)-l.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),c+=h;s-u[0].distance>n;)c-=u.shift().angleDelta;if(c>i)return!1;a++,s+=l.dist(f)}return!0}function Uu(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function Vu(e,t,r){return e?.6*t*r:0}function Gu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function qu(e,t,r,n,i,o){for(var a=Vu(r,i,o),s=Gu(r,n)*o,u=0,c=Uu(e)/2,l=0;l<e.length-1;l++){var f=e[l],h=e[l+1],p=f.dist(h);if(u+p>c){var d=(c-u)/p,v=qt(f.x,h.x,d),m=qt(f.y,h.y,d),y=new Lu(v,m,h.angleTo(f),l);return y._round(),!a||Bu(e,y,s,a,t)?y:void 0}u+=p}}function Wu(e,t,r,n,i,o,a,s,u){var c=Vu(n,o,a),l=Gu(n,i),f=l*a,h=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-f<t/4&&(t=f+t/4),function e(t,r,n,i,o,a,s,u,c){for(var l=a/2,f=Uu(t),h=0,p=r-n,d=[],v=0;v<t.length-1;v++){for(var m=t[v],y=t[v+1],g=m.dist(y),b=y.angleTo(m);p+n<h+g;){var _=((p+=n)-h)/g,w=qt(m.x,y.x,_),x=qt(m.y,y.y,_);if(w>=0&&w<c&&x>=0&&x<c&&p-l>=0&&p+l<=f){var O=new Lu(w,x,b,v);O._round(),i&&!Bu(t,O,a,i,o)||d.push(O)}}h+=g}return u||d.length||s||(d=e(t,h/2,n,i,o,a,s,!0,c)),d}(e,h?t/2*s%t:(l/2+2*o)*a*s%t,t,c,r,f,h,!1,u)}function Hu(e,t,r,n,o){for(var a=[],s=0;s<e.length;s++)for(var u=e[s],c=void 0,l=0;l<u.length-1;l++){var f=u[l],h=u[l+1];f.x<t&&h.x<t||(f.x<t?f=new i(t,f.y+(t-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x<t&&(h=new i(t,f.y+(t-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y<r&&h.y<r||(f.y<r?f=new i(f.x+(r-f.y)/(h.y-f.y)*(h.x-f.x),r)._round():h.y<r&&(h=new i(f.x+(r-f.y)/(h.y-f.y)*(h.x-f.x),r)._round()),f.x>=n&&h.x>=n||(f.x>=n?f=new i(n,f.y+(n-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x>=n&&(h=new i(n,f.y+(n-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new i(f.x+(o-f.y)/(h.y-f.y)*(h.x-f.x),o)._round():h.y>=o&&(h=new i(f.x+(o-f.y)/(h.y-f.y)*(h.x-f.x),o)._round()),c&&f.equals(c[c.length-1])||a.push(c=[f]),c.push(h)))))}return a}function Zu(e,t,r,n){var o=[],a=e.image,s=a.pixelRatio,u=a.paddedRect.w-2,c=a.paddedRect.h-2,l=e.right-e.left,f=e.bottom-e.top,h=a.stretchX||[[0,u]],p=a.stretchY||[[0,c]],d=function(e,t){return e+t[1]-t[0]},v=h.reduce(d,0),m=p.reduce(d,0),y=u-v,g=c-m,b=0,_=v,w=0,x=m,O=0,E=y,j=0,S=g;if(a.content&&n){var k=a.content;b=Xu(h,0,k[0]),w=Xu(p,0,k[1]),_=Xu(h,k[0],k[2]),x=Xu(p,k[1],k[3]),O=k[0]-b,j=k[1]-w,E=k[2]-k[0]-_,S=k[3]-k[1]-x}var T=function(n,o,u,c){var h=Yu(n.stretch-b,_,l,e.left),p=Ku(n.fixed-O,E,n.stretch,v),d=Yu(o.stretch-w,x,f,e.top),y=Ku(o.fixed-j,S,o.stretch,m),g=Yu(u.stretch-b,_,l,e.left),k=Ku(u.fixed-O,E,u.stretch,v),T=Yu(c.stretch-w,x,f,e.top),P=Ku(c.fixed-j,S,c.stretch,m),A=new i(h,d),I=new i(g,d),C=new i(g,T),R=new i(h,T),M=new i(p/s,y/s),L=new i(k/s,P/s),D=t*Math.PI/180;if(D){var N=Math.sin(D),F=Math.cos(D),z=[F,-N,N,F];A._matMult(z),I._matMult(z),R._matMult(z),C._matMult(z)}var B=n.stretch+n.fixed,U=o.stretch+o.fixed;return{tl:A,tr:I,bl:R,br:C,tex:{x:a.paddedRect.x+1+B,y:a.paddedRect.y+1+U,w:u.stretch+u.fixed-B,h:c.stretch+c.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:M,pixelOffsetBR:L,minFontScaleX:E/s/l,minFontScaleY:S/s/f,isSDF:r}};if(n&&(a.stretchX||a.stretchY))for(var P=$u(h,y,v),A=$u(p,g,m),I=0;I<P.length-1;I++)for(var C=P[I],R=P[I+1],M=0;M<A.length-1;M++)o.push(T(C,A[M],R,A[M+1]));else o.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:c+1}));return o}function Xu(e,t,r){for(var n=0,i=0,o=e;i<o.length;i+=1){var a=o[i];n+=Math.max(t,Math.min(r,a[1]))-Math.max(t,Math.min(r,a[0]))}return n}function $u(e,t,r){for(var n=[{fixed:-1,stretch:0}],i=0,o=e;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],c=n[n.length-1];n.push({fixed:s-c.stretch,stretch:c.stretch}),n.push({fixed:s-c.stretch,stretch:c.stretch+(u-s)})}return n.push({fixed:t+1,stretch:r}),n}function Yu(e,t,r,n){return e/t*r+n}function Ku(e,t,r,n){return e-t*r/n}var Ju=function(e,t,r,n,o,a,s,u,c,l){if(this.boxStartIndex=e.length,c){var f=a.top,h=a.bottom,p=a.collisionPadding;p&&(f-=p[1],h+=p[3]);var d=h-f;d>0&&(d=Math.max(10,d),this.circleDiameter=d)}else{var v=a.top*s-u,m=a.bottom*s+u,y=a.left*s-u,g=a.right*s+u,b=a.collisionPadding;if(b&&(y-=b[0]*s,v-=b[1]*s,g+=b[2]*s,m+=b[3]*s),l){var _=new i(y,v),w=new i(g,v),x=new i(y,m),O=new i(g,m),E=l*Math.PI/180;_._rotate(E),w._rotate(E),x._rotate(E),O._rotate(E),y=Math.min(_.x,w.x,x.x,O.x),g=Math.max(_.x,w.x,x.x,O.x),v=Math.min(_.y,w.y,x.y,O.y),m=Math.max(_.y,w.y,x.y,O.y)}e.emplaceBack(t.x,t.y,y,v,g,m,r,n,o)}this.boxEndIndex=e.length},Qu=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=ec),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function ec(e,t){return e<t?-1:e>t?1:0}function tc(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var n=1/0,o=1/0,a=-1/0,s=-1/0,u=e[0],c=0;c<u.length;c++){var l=u[c];(!c||l.x<n)&&(n=l.x),(!c||l.y<o)&&(o=l.y),(!c||l.x>a)&&(a=l.x),(!c||l.y>s)&&(s=l.y)}var f=Math.min(a-n,s-o),h=f/2,p=new Qu([],rc);if(0===f)return new i(n,o);for(var d=n;d<a;d+=f)for(var v=o;v<s;v+=f)p.push(new nc(d+h,v+h,h,e));for(var m=function(e){for(var t=0,r=0,n=0,i=e[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],c=i[s],l=u.x*c.y-c.x*u.y;r+=(u.x+c.x)*l,n+=(u.y+c.y)*l,t+=3*l}return new nc(r/t,n/t,0,e)}(e),y=p.length;p.length;){var g=p.pop();(g.d>m.d||!m.d)&&(m=g,r&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,y)),g.max-m.d<=t||(p.push(new nc(g.p.x-(h=g.h/2),g.p.y-h,h,e)),p.push(new nc(g.p.x+h,g.p.y-h,h,e)),p.push(new nc(g.p.x-h,g.p.y+h,h,e)),p.push(new nc(g.p.x+h,g.p.y+h,h,e)),y+=4)}return r&&(console.log("num probes: "+y),console.log("best distance: "+m.d)),m.p}function rc(e,t){return t.max-e.max}function nc(e,t,r,n){this.p=new i(e,t),this.h=r,this.d=function(e,t){for(var r=!1,n=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,s=o.length,u=s-1;a<s;u=a++){var c=o[a],l=o[u];c.y>e.y!=l.y>e.y&&e.x<(l.x-c.x)*(e.y-c.y)/(l.y-c.y)+c.x&&(r=!r),n=Math.min(n,Ko(e,c,l))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}Qu.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Qu.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Qu.prototype.peek=function(){return this.data[0]},Qu.prototype._up=function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var i=e-1>>1,o=t[i];if(r(n,o)>=0)break;t[e]=o,e=i}t[e]=n},Qu.prototype._down=function(e){for(var t=this.data,r=this.compare,n=this.length>>1,i=t[e];e<n;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&r(t[s],a)<0&&(o=s,a=t[s]),r(a,i)>=0)break;t[e]=a,e=o}t[e]=i};var ic=Number.POSITIVE_INFINITY;function oc(e,t){return t[1]!==ic?function(e,t,r){var n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){var r=0,n=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function ac(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sc(e,t,r,n,o,a,s,u,c,l,f,h,p,d,v){var m=function(e,t,r,n,o,a,s,u){for(var c=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,l=[],f=0,h=t.positionedLines;f<h.length;f+=1)for(var p=h[f],d=0,v=p.positionedGlyphs;d<v.length;d+=1){var m=v[d];if(m.rect){var y=m.rect||{},g=4,b=!0,_=1,w=0,x=(o||u)&&m.vertical,O=m.metrics.advance*m.scale/2;if(u&&t.verticalizable&&(w=p.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var E=s[m.imageName];b=E.sdf,g=1/(_=E.pixelRatio)}var j=o?[m.x+O,m.y]:[0,0],S=o?[0,0]:[m.x+O+r[0],m.y+r[1]-w],k=[0,0];x&&(k=S,S=[0,0]);var T=(m.metrics.left-g)*m.scale-O+S[0],P=(-m.metrics.top-g)*m.scale+S[1],A=T+y.w*m.scale/_,I=P+y.h*m.scale/_,C=new i(T,P),R=new i(A,P),M=new i(T,I),L=new i(A,I);if(x){var D=new i(-O,O- -17),N=-Math.PI/2,F=12-O,z=new i(22-F,-(m.imageName?F:0)),B=new(Function.prototype.bind.apply(i,[null].concat(k)));C._rotateAround(N,D)._add(z)._add(B),R._rotateAround(N,D)._add(z)._add(B),M._rotateAround(N,D)._add(z)._add(B),L._rotateAround(N,D)._add(z)._add(B)}if(c){var U=Math.sin(c),V=Math.cos(c),G=[V,-U,U,V];C._matMult(G),R._matMult(G),M._matMult(G),L._matMult(G)}var q=new i(0,0),W=new i(0,0);l.push({tl:C,tr:R,bl:M,br:L,tex:y,writingMode:t.writingMode,glyphOffset:j,sectionIndex:m.sectionIndex,isSDF:b,pixelOffsetTL:q,pixelOffsetBR:W,minFontScaleX:0,minFontScaleY:0})}}return l}(0,r,u,o,a,s,n,e.allowVerticalPlacement),y=e.textSizeData,g=null;"source"===y.kind?(g=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&O(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((g=[128*d.compositeTextSizes[0].evaluate(s,{},v),128*d.compositeTextSizes[1].evaluate(s,{},v)])[0]>32640||g[1]>32640)&&O(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,m,g,u,a,s,l,t,c.lineStartIndex,c.lineLength,p,v);for(var b=0,_=f;b<_.length;b+=1)h[_[b]]=e.text.placedSymbolArray.length-1;return 4*m.length}function uc(e){for(var t in e)return e[t];return null}function cc(e,t,r,n){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(n.dist(o[a])<r)return!0}else i[t]=[];return i[t].push(n),!1}var lc=_s.VectorTileFeature.types,fc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function hc(e,t,r,n,i,o,a,s,u,c,l,f,h){var p=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),o,a,(p<<1)+(u?1:0),d,16*c,16*l,256*f,256*h)}function pc(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function dc(e){for(var t=0,r=e.sections;t<r.length;t+=1)if(Kn(r[t].text))return!0;return!1}var vc=function(e){this.layoutVertexArray=new Mi,this.indexArray=new Ui,this.programConfigurations=e,this.segments=new so,this.dynamicLayoutVertexArray=new Li,this.opacityVertexArray=new Di,this.placedSymbolArray=new Qi};vc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},vc.prototype.upload=function(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Us.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,fc,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))},vc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Fn("SymbolBuffers",vc);var mc=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new so,this.collisionVertexArray=new Bi};mc.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Gs.members,!0)},mc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Fn("CollisionBuffers",mc);var yc=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Du(this.zoom,t["text-size"]),this.iconSizeData=Du(this.zoom,t["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),i=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((function(e){return wu[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};yc.prototype.createArrays=function(){this.text=new vc(new Lo(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new vc(new Lo(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new ro,this.lineVertexArray=new no,this.symbolInstances=new to},yc.prototype.calculateGlyphDependencies=function(e,t,r,n,i){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(r||n)&&i){var a=Zs[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}},yc.prototype.populate=function(e,t,r){var n=this.layers[0],i=n.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof nt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),c="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,l=i.get("symbol-sort-key");if(this.features=[],u||c){for(var f=t.iconDependencies,h=t.glyphDependencies,p=t.availableImages,d=new si(this.zoom),v=0,m=e;v<m.length;v+=1){var y=m[v],g=y.feature,b=y.id,_=y.index,w=y.sourceLayerIndex,x=n._featureFilter.needGeometry,O=Uo(g,x);if(n._featureFilter.filter(d,O,r)){x||(O.geometry=Bo(g));var E=void 0;if(u){var j=n.getValueAndResolveTokens("text-field",O,r,p),S=nt.factory(j);dc(S)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(E=Hs(S,n,O))}var k=void 0;if(c){var T=n.getValueAndResolveTokens("icon-image",O,r,p);k=T instanceof it?T:it.fromString(T)}if(E||k){var P=this.sortFeaturesByKey?l.evaluate(O,{},r):void 0;if(this.features.push({id:b,text:E,icon:k,index:_,sourceLayerIndex:w,geometry:O.geometry,properties:g.properties,type:lc[g.type],sortKey:P}),k&&(f[k.name]=!0),E){var A=o.evaluate(O,{},r).join(","),I="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(wu.vertical)>=0;for(var C=0,R=E.sections;C<R.length;C+=1){var M=R[C];if(M.image)f[M.image.name]=!0;else{var L=Hn(E.toString()),D=M.fontStack||A,N=h[D]=h[D]||{};this.calculateGlyphDependencies(M.text,N,I,this.allowVerticalPlacement,L)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],i=0;function o(t){n.push(e[t]),i++}function a(e,t,i){var o=r[e];return delete r[e],r[t]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(i[0]),o}function s(e,r,i){var o=t[r];return delete t[r],t[e]=o,n[o].geometry[0].shift(),n[o].geometry[0]=i[0].concat(n[o].geometry[0]),o}function u(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var c=0;c<e.length;c++){var l=e[c],f=l.geometry,h=l.text?l.text.toString():null;if(h){var p=u(h,f),d=u(h,f,!0);if(p in r&&d in t&&r[p]!==t[d]){var v=s(p,d,f),m=a(p,d,n[v].geometry);delete t[p],delete r[d],r[u(h,n[m].geometry,!0)]=m,n[v].geometry=null}else p in r?a(p,d,f):d in t?s(p,d,f):(o(c),t[p]=i-1,r[d]=i-1)}else o(c)}return n.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},yc.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},yc.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},yc.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yc.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yc.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yc.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yc.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:n},a<t.length-1&&(n+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var c=o[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},yc.prototype.addSymbols=function(e,t,r,n,i,o,a,s,u,c,l,f){for(var h=e.indexArray,p=e.layoutVertexArray,d=e.segments.prepareSegment(4*t.length,p,h,this.canOverlap?o.sortKey:void 0),v=this.glyphOffsetArray.length,m=d.vertexLength,y=this.allowVerticalPlacement&&a===wu.vertical?Math.PI/2:0,g=o.text&&o.text.sections,b=0;b<t.length;b++){var _=t[b],w=_.tl,x=_.tr,O=_.bl,E=_.br,j=_.tex,S=_.pixelOffsetTL,k=_.pixelOffsetBR,T=_.minFontScaleX,P=_.minFontScaleY,A=_.glyphOffset,I=_.isSDF,C=_.sectionIndex,R=d.vertexLength,M=A[1];hc(p,s.x,s.y,w.x,M+w.y,j.x,j.y,r,I,S.x,S.y,T,P),hc(p,s.x,s.y,x.x,M+x.y,j.x+j.w,j.y,r,I,k.x,S.y,T,P),hc(p,s.x,s.y,O.x,M+O.y,j.x,j.y+j.h,r,I,S.x,k.y,T,P),hc(p,s.x,s.y,E.x,M+E.y,j.x+j.w,j.y+j.h,r,I,k.x,k.y,T,P),pc(e.dynamicLayoutVertexArray,s,y),h.emplaceBack(R,R+1,R+2),h.emplaceBack(R+1,R+2,R+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),b!==t.length-1&&C===t[b+1].sectionIndex||e.programConfigurations.populatePaintArrays(p.length,o,o.index,{},f,g&&g[C])}e.placedSymbolArray.emplaceBack(s.x,s.y,v,this.glyphOffsetArray.length-v,m,u,c,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,l)},yc.prototype._addCollisionDebugVertex=function(e,t,r,n,i,o){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,i,Math.round(o.x),Math.round(o.y))},yc.prototype.addCollisionDebugVertices=function(e,t,r,n,o,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),c=u.vertexLength,l=o.layoutVertexArray,f=o.collisionVertexArray,h=s.anchorX,p=s.anchorY;this._addCollisionDebugVertex(l,f,a,h,p,new i(e,t)),this._addCollisionDebugVertex(l,f,a,h,p,new i(r,t)),this._addCollisionDebugVertex(l,f,a,h,p,new i(r,n)),this._addCollisionDebugVertex(l,f,a,h,p,new i(e,n)),u.vertexLength+=4;var d=o.indexArray;d.emplaceBack(c,c+1),d.emplaceBack(c+1,c+2),d.emplaceBack(c+2,c+3),d.emplaceBack(c+3,c),u.primitiveLength+=4},yc.prototype.addDebugCollisionBoxes=function(e,t,r,n){for(var i=e;i<t;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,n?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,r)}},yc.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new mc(Fi,qs.members,Zi),this.iconCollisionBox=new mc(Fi,qs.members,Zi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},yc.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,n,i,o,a,s,u){for(var c={},l=t;l<r;l++){var f=e.get(l);c.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},c.textFeatureIndex=f.featureIndex;break}for(var h=n;h<i;h++){var p=e.get(h);c.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},c.verticalTextFeatureIndex=p.featureIndex;break}for(var d=o;d<a;d++){var v=e.get(d);c.iconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},c.iconFeatureIndex=v.featureIndex;break}for(var m=s;m<u;m++){var y=e.get(m);c.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},c.verticalIconFeatureIndex=y.featureIndex;break}return c},yc.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},yc.prototype.hasTextData=function(){return this.text.segments.get().length>0},yc.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yc.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yc.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yc.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yc.prototype.addIndicesForPlacedSymbol=function(e,t){for(var r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs,i=r.vertexStartIndex;i<n;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},yc.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),r=Math.cos(e),n=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);n.push(0|Math.round(t*s.anchorX+r*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(e,t){return n[e]-n[t]||i[t]-i[e]})),o},yc.prototype.addToSortKeyRanges=function(e,t){var r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},yc.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,n=this.symbolInstanceIndexes;r<n.length;r+=1){var i=this.symbolInstances.get(n[r]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,r,n){e>=0&&n.indexOf(e)===r&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Fn("SymbolBucket",yc,{omit:["layers","collisionBoxArray","features","compareText"]}),yc.MAX_GLYPHS=65535,yc.addDynamicAttributes=pc;var gc=new wi({"symbol-placement":new mi(Pe.layout_symbol["symbol-placement"]),"symbol-spacing":new mi(Pe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mi(Pe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Pe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mi(Pe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mi(Pe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mi(Pe.layout_symbol["icon-ignore-placement"]),"icon-optional":new mi(Pe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mi(Pe.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Pe.layout_symbol["icon-size"]),"icon-text-fit":new mi(Pe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mi(Pe.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Pe.layout_symbol["icon-image"]),"icon-rotate":new yi(Pe.layout_symbol["icon-rotate"]),"icon-padding":new mi(Pe.layout_symbol["icon-padding"]),"icon-keep-upright":new mi(Pe.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Pe.layout_symbol["icon-offset"]),"icon-anchor":new yi(Pe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mi(Pe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mi(Pe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mi(Pe.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Pe.layout_symbol["text-field"]),"text-font":new yi(Pe.layout_symbol["text-font"]),"text-size":new yi(Pe.layout_symbol["text-size"]),"text-max-width":new yi(Pe.layout_symbol["text-max-width"]),"text-line-height":new mi(Pe.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Pe.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Pe.layout_symbol["text-justify"]),"text-radial-offset":new yi(Pe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mi(Pe.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Pe.layout_symbol["text-anchor"]),"text-max-angle":new mi(Pe.layout_symbol["text-max-angle"]),"text-writing-mode":new mi(Pe.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Pe.layout_symbol["text-rotate"]),"text-padding":new mi(Pe.layout_symbol["text-padding"]),"text-keep-upright":new mi(Pe.layout_symbol["text-keep-upright"]),"text-transform":new yi(Pe.layout_symbol["text-transform"]),"text-offset":new yi(Pe.layout_symbol["text-offset"]),"text-allow-overlap":new mi(Pe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mi(Pe.layout_symbol["text-ignore-placement"]),"text-optional":new mi(Pe.layout_symbol["text-optional"])}),bc={paint:new wi({"icon-opacity":new yi(Pe.paint_symbol["icon-opacity"]),"icon-color":new yi(Pe.paint_symbol["icon-color"]),"icon-halo-color":new yi(Pe.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Pe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Pe.paint_symbol["icon-halo-blur"]),"icon-translate":new mi(Pe.paint_symbol["icon-translate"]),"icon-translate-anchor":new mi(Pe.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Pe.paint_symbol["text-opacity"]),"text-color":new yi(Pe.paint_symbol["text-color"],{runtimeType:Ue,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new yi(Pe.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Pe.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Pe.paint_symbol["text-halo-blur"]),"text-translate":new mi(Pe.paint_symbol["text-translate"]),"text-translate-anchor":new mi(Pe.paint_symbol["text-translate-anchor"])}),layout:gc},_c=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ne,this.defaultValue=e};_c.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification["default"]},_c.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},_c.prototype.outputDefined=function(){return!1},_c.prototype.serialize=function(){return null},Fn("FormatSectionOverride",_c,{omit:["defaultValue"]});var wc=function(e){function t(t){e.call(this,t,bc)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,r){if(e.prototype.recalculate.call(this,t,r),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var n=this.layout.get("text-writing-mode");if(n){for(var i=[],o=0,a=n;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,r,n){var i=this.layout.get(e).evaluate(t,{},r,n),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Wr(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,r){return r in e?String(e[r]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new yc(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,r=bc.paint.overridableProperties;e<r.length;e+=1){var n=r[e];if(t.hasPaintOverride(this.layout,n)){var i,o=this.paint.get(n),a=new _c(o),s=new qr(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Zr("source",s):new Xr("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[n]=new di(o.property,i,o.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,r,n){return!(!this.layout||r.isDataDriven()||n.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var r=e.get("text-field"),n=bc.paint.properties[t],i=!1,o=function(e){for(var t=0,r=e;t<r.length;t+=1)if(n.overrides&&n.overrides.hasOverride(r[t]))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof nt)o(r.value.value.sections);else if("source"===r.value.kind){var a=function e(t){i||(t instanceof ct&&st(t.value)===We?o(t.value.sections):t instanceof pt?o(t.sections):t.eachChild(e))},s=r.value;s._styleExpression&&a(s._styleExpression.expression)}return i},t}(xi),xc={paint:new wi({"background-color":new mi(Pe.paint_background["background-color"]),"background-pattern":new bi(Pe.paint_background["background-pattern"]),"background-opacity":new mi(Pe.paint_background["background-opacity"])})},Oc=function(e){function t(t){e.call(this,t,xc)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(xi),Ec={paint:new wi({"raster-opacity":new mi(Pe.paint_raster["raster-opacity"]),"raster-hue-rotate":new mi(Pe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mi(Pe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mi(Pe.paint_raster["raster-brightness-max"]),"raster-saturation":new mi(Pe.paint_raster["raster-saturation"]),"raster-contrast":new mi(Pe.paint_raster["raster-contrast"]),"raster-resampling":new mi(Pe.paint_raster["raster-resampling"]),"raster-fade-duration":new mi(Pe.paint_raster["raster-fade-duration"])})},jc=function(e){function t(t){e.call(this,t,Ec)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(xi),Sc=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(xi),kc={circle:ha,heatmap:xa,hillshade:Ea,fill:ls,"fill-extrusion":ks,line:zs,symbol:wc,background:Oc,raster:jc},Tc=a.HTMLImageElement,Pc=a.HTMLCanvasElement,Ac=a.HTMLVideoElement,Ic=a.ImageData,Cc=a.ImageBitmap,Rc=function(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)};Rc.prototype.update=function(e,t,r){var n=e.width,i=e.height,o=!(this.size&&this.size[0]===n&&this.size[1]===i||r),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[n,i],e instanceof Tc||e instanceof Pc||e instanceof Ac||e instanceof Ic||Cc&&e instanceof Cc?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,n,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=r||{x:0,y:0},c=u.x,l=u.y;e instanceof Tc||e instanceof Pc||e instanceof Ac||e instanceof Ic||Cc&&e instanceof Cc?s.texSubImage2D(s.TEXTURE_2D,0,c,l,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,c,l,n,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Rc.prototype.bind=function(e,t,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)},Rc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Rc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Mc=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Mc.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Mc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Lc=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Mc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=S()?e:a};function Dc(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}Lc.prototype.send=function(e,t,r,n,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[a]=r);var s=P(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:Vn(t,s)},s),{cancel:function(){r&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:n,sourceMapId:o.mapId})}}},Lc.prototype.receive=function(e){var t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[r];var n=this.cancelCallbacks[r];delete this.cancelCallbacks[r],n&&n()}else S()||t.mustQueue?(this.tasks[r]=t,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,t)},Lc.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Lc.prototype.processTask=function(e,t){var r=this;if("<response>"===t.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Gn(t.error)):n(null,Gn(t.data)))}else{var i=!1,o=P(this.globalScope)?void 0:[],a=t.hasCallback?function(t,n){i=!0,delete r.cancelCallbacks[e],r.target.postMessage({id:e,type:"<response>",sourceMapId:r.mapId,error:t?Vn(t):null,data:Vn(n,o)},o)}:function(e){i=!0},s=null,u=Gn(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,a);else if(this.parent.getWorkerSource){var c=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,c[0],u.source)[c[1]](u,a)}else a(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Lc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Nc=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Nc.prototype.setNorthEast=function(e){return this._ne=e instanceof Fc?new Fc(e.lng,e.lat):Fc.convert(e),this},Nc.prototype.setSouthWest=function(e){return this._sw=e instanceof Fc?new Fc(e.lng,e.lat):Fc.convert(e),this},Nc.prototype.extend=function(e){var t,r,n=this._sw,i=this._ne;if(e instanceof Fc)t=e,r=e;else{if(!(e instanceof Nc))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Nc.convert(e)):this.extend(Fc.convert(e)):this;if(r=e._ne,!(t=e._sw)||!r)return this}return n||i?(n.lng=Math.min(t.lng,n.lng),n.lat=Math.min(t.lat,n.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new Fc(t.lng,t.lat),this._ne=new Fc(r.lng,r.lat)),this},Nc.prototype.getCenter=function(){return new Fc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Nc.prototype.getSouthWest=function(){return this._sw},Nc.prototype.getNorthEast=function(){return this._ne},Nc.prototype.getNorthWest=function(){return new Fc(this.getWest(),this.getNorth())},Nc.prototype.getSouthEast=function(){return new Fc(this.getEast(),this.getSouth())},Nc.prototype.getWest=function(){return this._sw.lng},Nc.prototype.getSouth=function(){return this._sw.lat},Nc.prototype.getEast=function(){return this._ne.lng},Nc.prototype.getNorth=function(){return this._ne.lat},Nc.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Nc.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Nc.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Nc.prototype.contains=function(e){var t=Fc.convert(e),r=t.lng,n=t.lat,i=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i},Nc.convert=function(e){return!e||e instanceof Nc?e:new Nc(e)};var Fc=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Fc.prototype.wrap=function(){return new Fc(f(this.lng,-180,180),this.lat)},Fc.prototype.toArray=function(){return[this.lng,this.lat]},Fc.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Fc.prototype.distanceTo=function(e){var t=Math.PI/180,r=this.lat*t,n=e.lat*t,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Fc.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new Nc(new Fc(this.lng-r,this.lat-t),new Fc(this.lng+r,this.lat+t))},Fc.convert=function(e){if(e instanceof Fc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Fc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Fc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var zc=2*Math.PI*6371008.8;function Bc(e){return zc*Math.cos(e*Math.PI/180)}function Uc(e){return(180+e)/360}function Vc(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Gc(e,t){return e/Bc(t)}function qc(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Wc=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};Wc.fromLngLat=function(e,t){void 0===t&&(t=0);var r=Fc.convert(e);return new Wc(Uc(r.lng),Vc(r.lat),Gc(t,r.lat))},Wc.prototype.toLngLat=function(){return new Fc(360*this.x-180,qc(this.y))},Wc.prototype.toAltitude=function(){return this.z*Bc(qc(this.y))},Wc.prototype.meterInMercatorCoordinateUnits=function(){return 1/zc*(e=qc(this.y),1/Math.cos(e*Math.PI/180));var e};var Hc=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=$c(0,e,e,t,r)};Hc.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Hc.prototype.url=function(e,t){var r,n,i,o,a,s=(n=this.y,i=this.z,o=Dc(256*(r=this.x),256*(n=Math.pow(2,i)-n-1),i),a=Dc(256*(r+1),256*(n+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(e,t,r){for(var n,i="",o=e;o>0;o--)i+=(t&(n=1<<o-1)?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Hc.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Hc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Zc=function(e,t){this.wrap=e,this.canonical=t,this.key=$c(e,t.z,t.z,t.x,t.y)},Xc=function(e,t,r,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Hc(r,+n,+i),this.key=$c(t,e,r,n,i)};function $c(e,t,r,n,i){(e*=2)<0&&(e=-1*e-1);var o=1<<r;return(o*o*e+o*i+n).toString(36)+r.toString(36)+t.toString(36)}Xc.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Xc.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Xc(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xc(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Xc.prototype.calculateScaledKey=function(e,t){var r=this.canonical.z-e;return e>this.canonical.z?$c(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):$c(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)},Xc.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Xc.prototype.children=function(e){if(this.overscaledZ>=e)return[new Xc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new Xc(t,this.wrap,t,r,n),new Xc(t,this.wrap,t,r+1,n),new Xc(t,this.wrap,t,r,n+1),new Xc(t,this.wrap,t,r+1,n+1)]},Xc.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Xc.prototype.wrapped=function(){return new Xc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Xc.prototype.unwrapTo=function(e){return new Xc(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Xc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Xc.prototype.toUnwrapped=function(){return new Zc(this.wrap,this.canonical)},Xc.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Xc.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Wc(e.x-this.wrap,e.y))},Fn("CanonicalTileID",Hc),Fn("OverscaledTileID",Xc,{omit:["posMatrix"]});var Yc=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return O('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var n=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=r||"mapbox";for(var i=0;i<n;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(n,i)]=this.data[this._idx(n-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,n)]=this.data[this._idx(i,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)]};Yc.prototype.get=function(e,t){var r=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])},Yc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Yc.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Yc.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},Yc.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},Yc.prototype.getPixels=function(){return new ba({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Yc.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,i=t*this.dim+this.dim,o=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,u=-r*this.dim,c=o;c<a;c++)for(var l=n;l<i;l++)this.data[this._idx(l,c)]=e.data[this._idx(l+s,c+u)]},Fn("DEMData",Yc);var Kc=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};Kc.prototype.encode=function(e){return this._stringToNumber[e]},Kc.prototype.decode=function(e){return this._numberToString[e]};var Jc=function(e,t,r,n,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,this.id=i},Qc={geometry:{configurable:!0}};Qc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Qc.geometry.set=function(e){this._geometry=e},Jc.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Jc.prototype,Qc);var el=function(){this.state={},this.stateChanges={},this.deletedStates={}};el.prototype.updateState=function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},h(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==n&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var o in this.deletedStates[e][n]={},this.state[e][n])r[o]||(this.deletedStates[e][n][o]=null);else for(var a in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][a]&&delete this.deletedStates[e][n][a]},el.prototype.removeFeatureState=function(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}},el.prototype.getState=function(e,t){var r=String(t),n=h({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var o in i)delete n[o]}return n},el.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},el.prototype.coalesceChanges=function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var i={};for(var o in this.stateChanges[n])this.state[n][o]||(this.state[n][o]={}),h(this.state[n][o],this.stateChanges[n][o]),i[o]=this.state[n][o];r[n]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var c in this.deletedStates[a]){if(null===this.deletedStates[a][c])this.state[a][c]={};else for(var l=0,f=Object.keys(this.deletedStates[a][c]);l<f.length;l+=1)delete this.state[a][c][f[l]];s[c]=this.state[a][c]}r[a]=r[a]||{},h(r[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var p in e)e[p].setFeatureState(r,t)};var tl=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Rn(8192,16,0),this.grid3D=new Rn(8192,16,0),this.featureIndexArray=new oo,this.promoteId=t};function rl(e,t,r,n,i){return b(e,(function(e,o){var a=t instanceof vi?t.get(o):null;return a&&a.evaluate?a.evaluate(r,n,i):a}))}function nl(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y)}return{minX:t,minY:r,maxX:n,maxY:i}}function il(e,t){return t-e}tl.prototype.insert=function(e,t,r,n,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);for(var s=o?this.grid3D:this.grid,u=0;u<t.length;u++){for(var c=t[u],l=[1/0,1/0,-1/0,-1/0],f=0;f<c.length;f++){var h=c[f];l[0]=Math.min(l[0],h.x),l[1]=Math.min(l[1],h.y),l[2]=Math.max(l[2],h.x),l[3]=Math.max(l[3],h.y)}l[0]<8192&&l[1]<8192&&l[2]>=0&&l[3]>=0&&s.insert(a,l[0],l[1],l[2],l[3])}},tl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _s.VectorTile(new Ys(this.rawTileData)).layers,this.sourceLayerCoder=new Kc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tl.prototype.query=function(e,t,r,n){var o=this;this.loadVTLayers();for(var a=e.params||{},s=8192/e.tileSize/e.scale,u=an(a.filter),c=e.queryGeometry,l=e.queryPadding*s,f=nl(c),h=this.grid.query(f.minX-l,f.minY-l,f.maxX+l,f.maxY+l),p=nl(e.cameraQueryGeometry),d=this.grid3D.query(p.minX-l,p.minY-l,p.maxX+l,p.maxY+l,(function(t,r,n,o){return function(e,t,r,n,o){for(var a=0,s=e;a<s.length;a+=1){var u=s[a];if(t<=u.x&&r<=u.y&&n>=u.x&&o>=u.y)return!0}var c=[new i(t,r),new i(t,o),new i(n,o),new i(n,r)];if(e.length>2)for(var l=0,f=c;l<f.length;l+=1)if(Qo(e,f[l]))return!0;for(var h=0;h<e.length-1;h++)if(ea(e[h],e[h+1],c))return!0;return!1}(e.cameraQueryGeometry,t-l,r-l,n+l,o+l)})),v=0,m=d;v<m.length;v+=1)h.push(m[v]);h.sort(il);for(var y,g={},b=function(i){var l=h[i];if(l!==y){y=l;var f=o.featureIndexArray.get(l),p=null;o.loadMatchingFeature(g,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,u,a.layers,a.availableImages,t,r,n,(function(t,r,n){return p||(p=Bo(t)),r.queryIntersectsFeature(c,t,n,p,o.z,e.transform,s,e.pixelPosMatrix)}))}},_=0;_<h.length;_++)b(_);return g},tl.prototype.loadMatchingFeature=function(e,t,r,n,i,o,a,s,u,c,l){var f=this.bucketLayerIDs[t];if(!o||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(o,f)){var p=this.sourceLayerCoder.decode(r),d=this.vtLayers[p].feature(n);if(i.needGeometry){var v=Uo(d,!0);if(!i.filter(new si(this.tileID.overscaledZ),v,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),d))return;for(var m=this.getId(d,p),y=0;y<f.length;y++){var g=f[y];if(!(o&&o.indexOf(g)<0)){var b=s[g];if(b){var _={};void 0!==m&&c&&(_=c.getState(b.sourceLayer||"_geojsonTileLayer",m));var w=h({},u[g]);w.paint=rl(w.paint,b.paint,d,_,a),w.layout=rl(w.layout,b.layout,d,_,a);var x=!l||l(d,b,_);if(x){var O=new Jc(d,this.z,this.x,this.y,m);O.layer=w;var E=e[g];void 0===E&&(E=e[g]=[]),E.push({featureIndex:n,feature:O,intersectionZ:x})}}}}}},tl.prototype.lookupSymbolFeatures=function(e,t,r,n,i,o,a,s){var u={};this.loadVTLayers();for(var c=an(i),l=0,f=e;l<f.length;l+=1)this.loadMatchingFeature(u,r,n,f[l],c,o,a,s,t);return u},tl.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var n=0,i=r[t];n<i.length;n+=1)if(e===i[n])return!0;return!1},tl.prototype.getId=function(e,t){var r=e.id;return this.promoteId&&"boolean"==typeof(r=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(r=Number(r)),r},Fn("FeatureIndex",tl,{omit:["rawTileData","sourceLayerCoder"]});var ol=function(e,t){this.tileID=e,this.uid=d(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ol.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<F.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},ol.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ol.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var n=function(){var e=o[i],n=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==n.length){e.layers=n,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return n.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=n;a<s.length;a+=1)r[s[a].id]=e}},i=0,o=e;i<o.length;i+=1)n();return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[n];if(i instanceof yc){if(this.hasSymbolBuckets=!0,!r)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof yc&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(u))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Ki},ol.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ol.prototype.getBucket=function(e){return this.buckets[e.id]},ol.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rc(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rc(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},ol.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},ol.prototype.queryRenderedFeatures=function(e,t,r,n,i,o,a,s,u,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:a,queryPadding:this.queryPadding*u},e,t,r):{}},ol.prototype.querySourceFeatures=function(e,t){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var n=r.loadVTLayers(),i=t?t.sourceLayer:"",o=n._geojsonTileLayer||n[i];if(o)for(var a=an(t&&t.filter),s=this.tileID.canonical,u=s.z,c=s.x,l=s.y,f={z:u,x:c,y:l},h=0;h<o.length;h++){var p=o.feature(h);if(a.needGeometry){var d=Uo(p,!0);if(!a.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),p))continue;var v=r.getId(p,i),m=new Jc(p,u,c,l,v);m.tile=f,e.push(m)}}},ol.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ol.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ol.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=k(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),i=!1;if(this.expirationTime>n)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var o=this.expirationTime-t;o?this.expirationTime=n+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ol.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ol.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets)if(t.style.hasLayer(n)){var i=this.buckets[n],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=r[o],s=e[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=t&&t.style&&t.style.getLayer(n);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}},ol.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ol.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<F.now()},ol.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ol.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=F.now()+e},ol.prototype.setDependencies=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1)r[i[n]]=!0;this.dependencies[e]=r},ol.prototype.hasDependency=function(e,t){for(var r=0,n=e;r<n.length;r+=1){var i=this.dependencies[n[r]];if(i)for(var o=0,a=t;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var al=a.performance,sl=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},al.mark(this._marks.start)};sl.prototype.finish=function(){al.mark(this._marks.end);var e=al.getEntriesByName(this._marks.measure);return 0===e.length&&(al.measure(this._marks.measure,this._marks.start,this._marks.end),e=al.getEntriesByName(this._marks.measure),al.clearMarks(this._marks.start),al.clearMarks(this._marks.end),al.clearMeasures(this._marks.measure)),e},e.Actor=Lc,e.AlphaImage=ga,e.CanonicalTileID=Hc,e.CollisionBoxArray=Ki,e.Color=et,e.DEMData=Yc,e.DataConstantProperty=mi,e.DictionaryCoder=Kc,e.EXTENT=8192,e.ErrorEvent=ke,e.EvaluationParameters=si,e.Event=Se,e.Evented=Te,e.FeatureIndex=tl,e.FillBucket=ss,e.FillExtrusionBucket=Es,e.ImageAtlas=_u,e.ImagePosition=gu,e.LineBucket=Ls,e.LngLat=Fc,e.LngLatBounds=Nc,e.MercatorCoordinate=Wc,e.ONE_EM=24,e.OverscaledTileID=Xc,e.Point=i,e.Point$1=i,e.Properties=wi,e.Protobuf=Ys,e.RGBAImage=ba,e.RequestManager=W,e.RequestPerformance=sl,e.ResourceType=de,e.SegmentVector=so,e.SourceFeatureState=el,e.StructArrayLayout1ui2=Xi,e.StructArrayLayout2f1f2i16=zi,e.StructArrayLayout2i4=Ti,e.StructArrayLayout3ui6=Ui,e.StructArrayLayout4i8=Pi,e.SymbolBucket=yc,e.Texture=Rc,e.Tile=ol,e.Transitionable=li,e.Uniform1f=wo,e.Uniform1i=_o,e.Uniform2f=xo,e.Uniform3f=Oo,e.Uniform4f=Eo,e.UniformColor=jo,e.UniformMatrix4f=ko,e.UnwrappedTileID=Zc,e.ValidationError=Ae,e.WritingMode=wu,e.ZoomHistory=qn,e.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},e.addDynamicAttributes=pc,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var n=e.length,i=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),i[a]=t,0==--n&&r(o,i)}))}))},e.bezier=u,e.bindAll=y,e.browser=F,e.cacheEntryPossiblyAdded=function(e){++he>ue&&(e.getActor().send("enforceCacheSizeLimit",se),he=0)},e.clamp=l,e.clearTileCache=function(e){var t=a.caches["delete"]("mapbox-tiles");e&&t["catch"](e).then((function(){return e()}))},e.clipLine=Hu,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=w,e.clone$2=function(e){var t=new aa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Ws,e.config=z,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new aa(9);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new aa(4);return aa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Hr,e.createLayout=Si,e.createStyleLayer=function(e){return"custom"===e.type?new Sc(e):new kc[e.type](e)},e.cross=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e},e.deepEqual=function e(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==r){if("object"!=typeof r)return!1;if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var i in t)if(!e(t[i],r[i]))return!1;return!0}return t===r},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=c,e.emitValidationErrors=Cn,e.endsWith=g,e.enforceCacheSizeLimit=function(e){ce(),ee&&ee.then((function(t){t.keys().then((function(r){for(var n=0;n<r.length-e;n++)t["delete"](r[n])}))}))},e.evaluateSizeForFeature=Nu,e.evaluateSizeForZoom=Fu,e.evaluateVariableOffset=oc,e.evented=ni,e.extend=h,e.featureFilter=an,e.filterObject=_,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Cu,e.getAnchorJustification=ac,e.getArrayBuffer=_e,e.getImage=Oe,e.getJSON=function(e,t){return be(h(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ge,e.getVideo=function(e,t){var r,n,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var o=0;o<e.length;o++){var s=a.document.createElement("source");r=e[o],n=void 0,(n=a.document.createElement("a")).href=r,(n.protocol!==a.document.location.protocol||n.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[o],i.appendChild(s)}return{cancel:function(){}}},e.identity=sa,e.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],p=t[11],d=t[12],v=t[13],m=t[14],y=t[15],g=r*s-n*a,b=r*u-i*a,_=r*c-o*a,w=n*u-i*s,x=n*c-o*s,O=i*c-o*u,E=l*v-f*d,j=l*m-h*d,S=l*y-p*d,k=f*m-h*v,T=f*y-p*v,P=h*y-p*m,A=g*P-b*T+_*k+w*S-x*j+O*E;return A?(e[0]=(s*P-u*T+c*k)*(A=1/A),e[1]=(i*T-n*P-o*k)*A,e[2]=(v*O-m*x+y*w)*A,e[3]=(h*x-f*O-p*w)*A,e[4]=(u*S-a*P-c*j)*A,e[5]=(r*P-i*S+o*j)*A,e[6]=(m*_-d*O-y*b)*A,e[7]=(l*O-h*_+p*b)*A,e[8]=(a*T-s*S+c*E)*A,e[9]=(n*S-r*T-o*E)*A,e[10]=(d*x-v*_+y*g)*A,e[11]=(f*_-l*x-p*g)*A,e[12]=(s*j-a*k-u*E)*A,e[13]=(r*k-n*j+i*E)*A,e[14]=(v*b-d*w-m*g)*A,e[15]=(l*w-f*b+h*g)*A,e):null},e.isChar=Wn,e.isMapboxURL=H,e.keysDifference=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r},e.makeRequest=be,e.mapObject=b,e.mercatorXfromLng=Uc,e.mercatorYfromLat=Vc,e.mercatorZfromAltitude=Gc,e.mul=la,e.multiply=ua,e.mvt=_s,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=qt,e.offscreenCanvasSupported=pe,e.ortho=function(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*c,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ys(e).readFields(du,[])},e.pbf=Ys,e.performSymbolLayout=function(e,t,r,n,i,o,a){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,c={};if("composite"===e.textSizeData.kind){var l=e.textSizeData,f=l.maxZoom;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new si(l.minZoom),a),u["text-size"].possiblyEvaluate(new si(f),a)]}if("composite"===e.iconSizeData.kind){var h=e.iconSizeData,p=h.maxZoom;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new si(h.minZoom),a),u["icon-size"].possiblyEvaluate(new si(p),a)]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new si(e.zoom+1),a),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new si(e.zoom+1),a),c.textMaxSize=u["text-size"].possiblyEvaluate(new si(18));for(var d=24*s.get("text-line-height"),v="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),y=s.get("text-size"),g=function(){var o=_[b],u=s.get("text-font").evaluate(o,{},a).join(","),l=y.evaluate(o,{},a),f=c.layoutTextSize.evaluate(o,{},a),h=c.layoutIconSize.evaluate(o,{},a),p={horizontal:{},vertical:void 0},g=o.text,w=[0,0];if(g){var x=g.toString(),E=24*s.get("text-letter-spacing").evaluate(o,{},a),j=function(e){for(var t=0,r=e;t<r.length;t+=1)if(n=r[t].charCodeAt(0),Wn.Arabic(n)||Wn["Arabic Supplement"](n)||Wn["Arabic Extended-A"](n)||Wn["Arabic Presentation Forms-A"](n)||Wn["Arabic Presentation Forms-B"](n))return!1;var n;return!0}(x)?E:0,S=s.get("text-anchor").evaluate(o,{},a),k=s.get("text-variable-anchor");if(!k){var T=s.get("text-radial-offset").evaluate(o,{},a);w=T?oc(S,[24*T,ic]):s.get("text-offset").evaluate(o,{},a).map((function(e){return 24*e}))}var P=v?"center":s.get("text-justify").evaluate(o,{},a),A=s.get("symbol-placement"),I="point"===A?24*s.get("text-max-width").evaluate(o,{},a):0,C=function(){e.allowVerticalPlacement&&Hn(x)&&(p.vertical=Eu(g,t,r,i,u,I,d,S,"left",j,w,wu.vertical,!0,A,f,l))};if(!v&&k){for(var R="auto"===P?k.map((function(e){return ac(e)})):[P],M=!1,L=0;L<R.length;L++){var D=R[L];if(!p.horizontal[D])if(M)p.horizontal[D]=p.horizontal[0];else{var N=Eu(g,t,r,i,u,I,d,"center",D,j,w,wu.horizontal,!1,A,f,l);N&&(p.horizontal[D]=N,M=1===N.positionedLines.length)}}C()}else{"auto"===P&&(P=ac(S));var F=Eu(g,t,r,i,u,I,d,S,P,j,w,wu.horizontal,!1,A,f,l);F&&(p.horizontal[P]=F),C(),Hn(x)&&v&&m&&(p.vertical=Eu(g,t,r,i,u,I,d,S,P,j,w,wu.vertical,!1,A,f,l))}}var z=void 0,B=!1;if(o.icon&&o.icon.name){var U=n[o.icon.name];U&&(z=function(e,t,r){var n=Cu(r),i=t[0]-e.displaySize[0]*n.horizontalAlign,o=t[1]-e.displaySize[1]*n.verticalAlign;return{image:e,top:o,bottom:o+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),B=U.sdf,void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var V=uc(p.horizontal)||p.vertical;e.iconsInText=!!V&&V.iconsInText,(V||z)&&function(e,t,r,n,i,o,a,s,u,c,l){var f=o.textMaxSize.evaluate(t,{});void 0===f&&(f=a);var h,p=e.layers[0].layout,d=p.get("icon-offset").evaluate(t,{},l),v=uc(r.horizontal),m=a/24,y=e.tilePixelRatio*m,g=e.tilePixelRatio*f/24,b=e.tilePixelRatio*s,_=e.tilePixelRatio*p.get("symbol-spacing"),w=p.get("text-padding")*e.tilePixelRatio,x=p.get("icon-padding")*e.tilePixelRatio,E=p.get("text-max-angle")/180*Math.PI,j="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),S="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),k=p.get("symbol-placement"),T=_/2,P=p.get("icon-text-fit");n&&"none"!==P&&(e.allowVerticalPlacement&&r.vertical&&(h=Mu(n,r.vertical,P,p.get("icon-text-fit-padding"),d,m)),v&&(n=Mu(n,v,P,p.get("icon-text-fit-padding"),d,m)));var A=function(s,f){f.x<0||f.x>=8192||f.y<0||f.y>=8192||function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v,m,y,g,b,_,w,x,E,j){var S,k,T,P,A,I=e.addToLineVertexArray(t,r),C=0,R=0,M=0,L=0,D=-1,N=-1,F={},z=ho(""),B=0,U=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(S=s.layout.get("text-offset").evaluate(_,{},E).map((function(e){return 24*e})))[0],U=S[1]):(B=24*s.layout.get("text-radial-offset").evaluate(_,{},E),U=ic),e.allowVerticalPlacement&&n.vertical){var V=s.layout.get("text-rotate").evaluate(_,{},E)+90;P=new Ju(u,t,c,l,f,n.vertical,h,p,d,V),a&&(A=new Ju(u,t,c,l,f,a,m,y,d,V))}if(i){var G=s.layout.get("icon-rotate").evaluate(_,{}),q="none"!==s.layout.get("icon-text-fit"),W=Zu(i,G,x,q),H=a?Zu(a,G,x,q):void 0;T=new Ju(u,t,c,l,f,i,m,y,!1,G),C=4*W.length;var Z=e.iconSizeData,X=null;"source"===Z.kind?(X=[128*s.layout.get("icon-size").evaluate(_,{})])[0]>32640&&O(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Z.kind&&((X=[128*w.compositeIconSizes[0].evaluate(_,{},E),128*w.compositeIconSizes[1].evaluate(_,{},E)])[0]>32640||X[1]>32640)&&O(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,W,X,b,g,_,!1,t,I.lineStartIndex,I.lineLength,-1,E),D=e.icon.placedSymbolArray.length-1,H&&(R=4*H.length,e.addSymbols(e.icon,H,X,b,g,_,wu.vertical,t,I.lineStartIndex,I.lineLength,-1,E),N=e.icon.placedSymbolArray.length-1)}for(var $ in n.horizontal){var Y=n.horizontal[$];if(!k){z=ho(Y.text);var K=s.layout.get("text-rotate").evaluate(_,{},E);k=new Ju(u,t,c,l,f,Y,h,p,d,K)}var J=1===Y.positionedLines.length;if(M+=sc(e,t,Y,o,s,d,_,v,I,n.vertical?wu.horizontal:wu.horizontalOnly,J?Object.keys(n.horizontal):[$],F,D,w,E),J)break}n.vertical&&(L+=sc(e,t,n.vertical,o,s,d,_,v,I,wu.vertical,["vertical"],F,N,w,E));var Q=k?k.boxStartIndex:e.collisionBoxArray.length,ee=k?k.boxEndIndex:e.collisionBoxArray.length,te=P?P.boxStartIndex:e.collisionBoxArray.length,re=P?P.boxEndIndex:e.collisionBoxArray.length,ne=T?T.boxStartIndex:e.collisionBoxArray.length,ie=T?T.boxEndIndex:e.collisionBoxArray.length,oe=A?A.boxStartIndex:e.collisionBoxArray.length,ae=A?A.boxEndIndex:e.collisionBoxArray.length,se=-1,ue=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=ue(k,se),se=ue(P,se),se=ue(T,se);var ce=(se=ue(A,se))>-1?1:0;ce&&(se*=j/24),e.glyphOffsetArray.length>=yc.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,_.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,D,N,z,Q,ee,te,re,ne,ie,oe,ae,c,M,L,C,R,ce,0,h,B,U,se)}(e,f,s,r,n,i,h,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,w,j,u,b,x,S,d,t,o,c,l,a)};if("line"===k)for(var I=0,C=Hu(t.geometry,0,0,8192,8192);I<C.length;I+=1)for(var R=C[I],M=0,L=Wu(R,_,E,r.vertical||v,n,24,g,e.overscaling,8192);M<L.length;M+=1){var D=L[M];v&&cc(e,v.text,T,D)||A(R,D)}else if("line-center"===k)for(var N=0,F=t.geometry;N<F.length;N+=1){var z=F[N];if(z.length>1){var B=qu(z,E,r.vertical||v,n,24,g);B&&A(z,B)}}else if("Polygon"===t.type)for(var U=0,V=ns(t.geometry,0);U<V.length;U+=1){var G=V[U],q=tc(G,16);A(G[0],new Lu(q.x,q.y,0))}else if("LineString"===t.type)for(var W=0,H=t.geometry;W<H.length;W+=1){var Z=H[W];A(Z,new Lu(Z[0].x,Z[0].y,0))}else if("Point"===t.type)for(var X=0,$=t.geometry;X<$.length;X+=1)for(var Y=0,K=$[X];Y<K.length;Y+=1){var J=K[Y];A([J],new Lu(J.x,J.y,0))}}(e,o,p,z,n,c,f,h,w,B,a)},b=0,_=e.features;b<_.length;b+=1)g();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(o=1/(n-i)),e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n];i in e&&(r[i]=e[i])}return r},e.plugin=ai,e.polygonIntersectsPolygon=qo,e.postMapLoadEvent=ae,e.postTurnstileEvent=ie,e.potpack=yu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Fn,e.registerForPluginStateChange=function(e){return e({pluginStatus:Qn,pluginURL:ei}),ni.on("pluginStateChange",e),e},e.renderColorRamp=wa,e.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=i*u+a*s,e[2]=n*-s+o*u,e[3]=i*-s+a*u,e},e.rotateX=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+l*n,e[6]=s*i+f*n,e[7]=u*i+h*n,e[8]=c*i-o*n,e[9]=l*i-a*n,e[10]=f*i-s*n,e[11]=h*i-u*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+l*n,e[2]=s*i+f*n,e[3]=u*i+h*n,e[4]=c*i-o*n,e[5]=l*i-a*n,e[6]=f*i-s*n,e[7]=h*i-u*n,e},e.scale=function(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},e.scale$2=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},e.setCacheLimits=function(e,t){se=e,ue=t},e.setRTLTextPlugin=function(e,t,r){if(void 0===r&&(r=!1),"deferred"===Qn||"loading"===Qn||"loaded"===Qn)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=F.resolveURL(e),Qn="deferred",Jn=t,ri(),r||oi()},e.sphericalToCartesian=function(e){var t=e[0],r=e[1],n=e[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n)}},e.sqrLen=function(e){var t=e[0],r=e[1];return t*t+r*r},e.styleSpec=Pe,e.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},e.symbolSize=zu,e.transformMat3=function(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e},e.transformMat4=fa,e.translate=function(e,t,r){var n,i,o,a,s,u,c,l,f,h,p,d,v=r[0],m=r[1],y=r[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],p=t[10],d=t[11],e[0]=n=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=p,e[11]=d,e[12]=n*v+s*m+f*y+t[12],e[13]=i*v+u*m+h*y+t[13],e[14]=o*v+c*m+p*y+t[14],e[15]=a*v+l*m+d*y+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=d,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Pn,e.validateStyle=Tn,e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.vectorTile=_s,e.version="1.13.2",e.warnOnce=O,e.webpSupported=B,e.window=a,e.wrap=f})),n(["./shared"],(function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",i=0,o=e;i<o.length;i+=1)n+=t(o[i])+",";return n+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function r(r){for(var n="",i=0,o=e.refProperties;i<o.length;i+=1)n+="/"+t(r[o[i]]);return n}var n=function(e){this.keyCache={},e&&this.replace(e)};n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},n.prototype.update=function(t,n){for(var i=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var c=0,l=n;c<l.length;c+=1){var f=l[c];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var h=0,p=function(e,t){for(var n={},i=0;i<e.length;i++){var o=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=o);var a=n[o];a||(a=n[o]=[]),a.push(e[i])}var s=[];for(var u in n)s.push(n[u]);return s}(e.values(this._layerConfigs),this.keyCache);h<p.length;h+=1){var d=p[h].map((function(e){return i._layers[e.id]})),v=d[0];if("none"!==v.visibility){var m=v.source||"",y=this.familiesBySource[m];y||(y=this.familiesBySource[m]={});var g=v.sourceLayer||"_geojsonTileLayer",b=y[g];b||(b=y[g]=[]),b.push(d)}}};var i=function(t){var r={},n=[];for(var i in t){var o=t[i],a=r[i]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var c={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};n.push(c),a[s]={rect:c,metrics:u.metrics}}}}var l=e.potpack(n),f=new e.AlphaImage({width:l.w||1,height:l.h||1});for(var h in t){var p=t[h];for(var d in p){var v=p[+d];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var m=r[h][d].rect;e.AlphaImage.copy(v.bitmap,f,{x:0,y:0},{x:m.x+1,y:m.y+1},v.bitmap)}}}this.image=f,this.positions=r};e.register("GlyphAtlas",i);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function a(t,r,n){for(var i=new e.EvaluationParameters(r),o=0,a=t;o<a.length;o+=1)a[o].recalculate(i,n)}function s(t,r){var n=e.getArrayBuffer(t.request,(function(t,n,i,o){t?r(t):n&&r(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(n)),rawData:n,cacheControl:i,expires:o})}));return function(){n.cancel(),r()}}o.prototype.parse=function(t,r,n,o,s){var u=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var c=new e.DictionaryCoder(Object.keys(t.layers).sort()),l=new e.FeatureIndex(this.tileID,this.promoteId);l.bucketLayerIDs=[];var f,h,p,d,v={},m={featureIndex:l,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},y=r.familiesBySource[this.source];for(var g in y){var b=t.layers[g];if(b){1===b.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=c.encode(g),w=[],x=0;x<b.length;x++){var O=b.feature(x),E=l.getId(O,g);w.push({feature:O,id:E,index:x,sourceLayerIndex:_})}for(var j=0,S=y[g];j<S.length;j+=1){var k=S[j],T=k[0];T.minzoom&&this.zoom<Math.floor(T.minzoom)||T.maxzoom&&this.zoom>=T.maxzoom||"none"!==T.visibility&&(a(k,this.zoom,n),(v[T.id]=T.createBucket({index:l.bucketLayerIDs.length,layers:k,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(w,m,this.tileID.canonical),l.bucketLayerIDs.push(k.map((function(e){return e.id}))))}}}var P=e.mapObject(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(P).length?o.send("getGlyphs",{uid:this.uid,stacks:P},(function(e,t){f||(f=e,h=t,C.call(u))})):h={};var A=Object.keys(m.iconDependencies);A.length?o.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){f||(f=e,p=t,C.call(u))})):p={};var I=Object.keys(m.patternDependencies);function C(){if(f)return s(f);if(h&&p&&d){var t=new i(h),r=new e.ImageAtlas(p,d);for(var o in v){var u=v[o];u instanceof e.SymbolBucket?(a(u.layers,this.zoom,n),e.performSymbolLayout(u,h,t.positions,p,r.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof e.LineBucket||u instanceof e.FillBucket||u instanceof e.FillExtrusionBucket)&&(a(u.layers,this.zoom,n),u.addFeatures(m,this.tileID.canonical,r.patternPositions))}this.status="done",s(null,{buckets:e.values(v).filter((function(e){return!e.isEmpty()})),featureIndex:l,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?t.positions:null})}}I.length?o.send("getImages",{icons:I,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){f||(f=e,d=t,C.call(u))})):d={},C.call(this)};var u=function(e,t,r,n){this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=n||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(t,r){var n=this,i=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete n.loading[i],t||!o)return s.status="done",n.loaded[i]=s,r(t);var u=o.rawData,c={};o.expires&&(c.expires=o.expires),o.cacheControl&&(c.cacheControl=o.cacheControl);var l={};if(a){var f=a.finish();f&&(l.resourceTiming=JSON.parse(JSON.stringify(f)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:u.slice(0)},n,c,l))})),n.loaded=n.loaded||{},n.loaded[i]=s}))},u.prototype.reloadTile=function(e,t){var r=this,n=this.loaded,i=e.uid,o=this;if(n&&n[i]){var a=n[i];a.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,n){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,r.availableImages,o.actor,i)),t(e,n)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()},u.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()};var c=e.window.ImageBitmap,l=function(){this.loaded={}};function f(e,t){if(0!==e.length){h(e[0],t);for(var r=1;r<e.length;r++)h(e[r],!t)}}function h(e,t){for(var r=0,n=0,i=e.length,o=i-1;n<i;o=n++)r+=(e[n][0]-e[o][0])*(e[o][1]+e[n][1]);r>=0!=!!t&&e.reverse()}l.prototype.loadTile=function(t,r){var n=t.uid,i=t.encoding,o=t.rawImageData,a=c&&o instanceof c?this.getImageData(o):o,s=new e.DEMData(n,a,i);this.loaded=this.loaded||{},this.loaded[n]=s,r(null,s)},l.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var r=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:r.width,height:r.height},r.data)},l.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var p=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var i=n[r];t.push([new e.Point$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],c=0,l=s[a];c<l.length;c+=1){var f=l[c];u.push(new e.Point$1(f[0],f[1]))}o.push(u)}return o},d.prototype.toGeoJSON=function(e,t,r){return p.call(this,e,t,r)};var v=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};v.prototype.feature=function(e){return new d(this._features[e])};var m=e.vectorTile.VectorTileFeature,y=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function b(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new b(this.features[e],this.options.extent)},b.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],i=[],o=0;o<n.length;o++)i.push(new e.Point$1(n[o][0],n[o][1]));this.geometry.push(i)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];t=Math.min(t,u.x),r=Math.max(r,u.x),n=Math.min(n,u.y),i=Math.max(i,u.y)}return[t,n,r,i]},b.prototype.toGeoJSON=m.prototype.toGeoJSON;var _=x,w=y;function x(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,O,e.layers[r])}(t,r),r.finish()}function O(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,E,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var o=n.values;for(r=0;r<o.length;r++)t.writeMessage(4,P,o[r])}function E(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,j,e),t.writeVarintField(3,r.type),t.writeMessage(4,T,r)}function j(e,t){var r=e.feature,n=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in r.properties){var u=o[s];void 0===u&&(n.push(s),o[s]=u=n.length-1),t.writeVarint(u);var c=r.properties[s],l=typeof c;"string"!==l&&"boolean"!==l&&"number"!==l&&(c=JSON.stringify(c));var f=l+":"+c,h=a[f];void 0===h&&(i.push(c),a[f]=h=i.length-1),t.writeVarint(h)}}function S(e,t){return(t<<3)+(7&e)}function k(e){return e<<1^e>>31}function T(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,o=0,a=r.length,s=0;s<a;s++){var u=r[s],c=1;1===n&&(c=u.length),t.writeVarint(S(1,c));for(var l=3===n?u.length-1:u.length,f=0;f<l;f++){1===f&&1!==n&&t.writeVarint(S(2,l-1));var h=u[f].x-i,p=u[f].y-o;t.writeVarint(k(h)),t.writeVarint(k(p)),i+=h,o+=p}3===n&&t.writeVarint(S(7,1))}}function P(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function A(e,t,r,n){I(e,r,n),I(t,2*r,2*n),I(t,2*r+1,2*n+1)}function I(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function C(e,t,r,n){var i=e-r,o=t-n;return i*i+o*o}_.fromVectorTileJs=x,_.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new y(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return x({layers:r})},_.GeoJSONWrapper=w;var R=function(e){return e[0]},M=function(e){return e[1]},L=function(e,t,r,n,i){void 0===t&&(t=R),void 0===r&&(r=M),void 0===n&&(n=64),void 0===i&&(i=Float64Array),this.nodeSize=n,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length),u=0;u<e.length;u++)a[u]=u,s[2*u]=t(e[u]),s[2*u+1]=r(e[u]);!function e(t,r,n,i,o,a){if(!(o-i<=n)){var s=i+o>>1;!function e(t,r,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=n-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-u*l/s+f)),Math.min(o,Math.floor(n+(s-u)*l/s+f)),a)}var h=r[2*n+a],p=i,d=o;for(A(t,r,i,n),r[2*o+a]>h&&A(t,r,i,o);p<d;){for(A(t,r,p,d),p++,d--;r[2*p+a]<h;)p++;for(;r[2*d+a]>h;)d--}r[2*i+a]===h?A(t,r,i,d):A(t,r,++d,o),d<=n&&(i=d+1),n<=d&&(o=d-1)}}(t,r,s,i,o,a%2),e(t,r,n,i,s-1,a+1),e(t,r,n,s+1,o,a+1)}}(a,s,n,0,a.length-1,0)};L.prototype.range=function(e,t,r,n){return function(e,t,r,n,i,o,a){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var f=c.pop(),h=c.pop(),p=c.pop();if(h-p<=a)for(var d=p;d<=h;d++)u=t[2*d+1],(s=t[2*d])>=r&&s<=i&&u>=n&&u<=o&&l.push(e[d]);else{var v=Math.floor((p+h)/2);u=t[2*v+1],(s=t[2*v])>=r&&s<=i&&u>=n&&u<=o&&l.push(e[v]);var m=(f+1)%2;(0===f?r<=s:n<=u)&&(c.push(p),c.push(v-1),c.push(m)),(0===f?i>=s:o>=u)&&(c.push(v+1),c.push(h),c.push(m))}}return l}(this.ids,this.coords,e,t,r,n,this.nodeSize)},L.prototype.within=function(e,t,r){return function(e,t,r,n,i,o){for(var a=[0,e.length-1,0],s=[],u=i*i;a.length;){var c=a.pop(),l=a.pop(),f=a.pop();if(l-f<=o)for(var h=f;h<=l;h++)C(t[2*h],t[2*h+1],r,n)<=u&&s.push(e[h]);else{var p=Math.floor((f+l)/2),d=t[2*p],v=t[2*p+1];C(d,v,r,n)<=u&&s.push(e[p]);var m=(c+1)%2;(0===c?r-i<=d:n-i<=v)&&(a.push(f),a.push(p-1),a.push(m)),(0===c?r+i>=d:n+i>=v)&&(a.push(p+1),a.push(l),a.push(m))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)};var D={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},N=function(e){this.options=q(Object.create(D),e),this.trees=new Array(this.options.maxZoom+1)};function F(e,t,r,n,i){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function z(e,t){var r=e.geometry.coordinates,n=r[1];return{x:V(r[0]),y:G(n),zoom:1/0,index:t,parentId:-1}}function B(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n}function U(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return q(q({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function V(e){return e/360+.5}function G(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function q(e,t){for(var r in t)e[r]=t[r];return e}function W(e){return e.x}function H(e){return e.y}function Z(e,t,r,n,i,o){var a=i-r,s=o-n;if(0!==a||0!==s){var u=((e-r)*a+(t-n)*s)/(a*a+s*s);u>1?(r=i,n=o):u>0&&(r+=a*u,n+=s*u)}return(a=e-r)*a+(s=t-n)*s}function X(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)$(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)$(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)$(e,t[n][i])}(i),i}function $(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function Y(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],u=t.id;if(r.promoteId?u=t.properties[r.promoteId]:r.generateId&&(u=n||0),"Point"===o)K(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)K(i[c],s);else if("LineString"===o)J(i,s,a,!1);else if("MultiLineString"===o){if(r.lineMetrics){for(c=0;c<i.length;c++)J(i[c],s=[],a,!1),e.push(X(u,"LineString",s,t.properties));return}Q(i,s,a,!1)}else if("Polygon"===o)Q(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)Y(e,{id:u,geometry:t.geometry.geometries[c],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var l=[];Q(i[c],l,a,!0),s.push(l)}}e.push(X(u,o,s,t.properties))}}function K(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,r,n){for(var i,o,a=0,s=0;s<e.length;s++){var u=ee(e[s][0]),c=te(e[s][1]);t.push(u),t.push(c),t.push(0),s>0&&(a+=n?(i*c-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(c-o,2))),i=u,o=c}var l=t.length-3;t[2]=1,function e(t,r,n,i){for(var o,a=i,s=n-r>>1,u=n-r,c=t[r],l=t[r+1],f=t[n],h=t[n+1],p=r+3;p<n;p+=3){var d=Z(t[p],t[p+1],c,l,f,h);if(d>a)o=p,a=d;else if(d===a){var v=Math.abs(p-s);v<u&&(o=p,u=v)}}a>i&&(o-r>3&&e(t,r,o,i),t[o+2]=a,n-o>3&&e(t,o,n,i))}(t,0,l,r),t[l+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function Q(e,t,r,n){for(var i=0;i<e.length;i++){var o=[];J(e[i],o,r,n),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function re(e,t,r,n,i,o,a,s){if(n/=t,o>=(r/=t)&&a<n)return e;if(a<r||o>=n)return null;for(var u=[],c=0;c<e.length;c++){var l=e[c],f=l.geometry,h=l.type,p=0===i?l.minX:l.minY,d=0===i?l.maxX:l.maxY;if(p>=r&&d<n)u.push(l);else if(!(d<r||p>=n)){var v=[];if("Point"===h||"MultiPoint"===h)ne(f,v,r,n,i);else if("LineString"===h)ie(f,v,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===h)ae(f,v,r,n,i,!1);else if("Polygon"===h)ae(f,v,r,n,i,!0);else if("MultiPolygon"===h)for(var m=0;m<f.length;m++){var y=[];ae(f[m],y,r,n,i,!0),y.length&&v.push(y)}if(v.length){if(s.lineMetrics&&"LineString"===h){for(m=0;m<v.length;m++)u.push(X(l.id,h,v[m],l.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===v.length?(h="LineString",v=v[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===v.length?"Point":"MultiPoint"),u.push(X(l.id,h,v,l.tags))}}}return u.length?u:null}function ne(e,t,r,n,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=r&&a<=n&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function ie(e,t,r,n,i,o,a){for(var s,u,c=oe(e),l=0===i?ue:ce,f=e.start,h=0;h<e.length-3;h+=3){var p=e[h],d=e[h+1],v=e[h+2],m=e[h+3],y=e[h+4],g=0===i?p:d,b=0===i?m:y,_=!1;a&&(s=Math.sqrt(Math.pow(p-m,2)+Math.pow(d-y,2))),g<r?b>r&&(u=l(c,p,d,m,y,r),a&&(c.start=f+s*u)):g>n?b<n&&(u=l(c,p,d,m,y,n),a&&(c.start=f+s*u)):se(c,p,d,v),b<r&&g>=r&&(u=l(c,p,d,m,y,r),_=!0),b>n&&g<=n&&(u=l(c,p,d,m,y,n),_=!0),!o&&_&&(a&&(c.end=f+s*u),t.push(c),c=oe(e)),a&&(f+=s)}var w=e.length-3;p=e[w],d=e[w+1],v=e[w+2],(g=0===i?p:d)>=r&&g<=n&&se(c,p,d,v),w=c.length-3,o&&w>=3&&(c[w]!==c[0]||c[w+1]!==c[1])&&se(c,c[0],c[1],c[2]),c.length&&t.push(c)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,r,n,i,o){for(var a=0;a<e.length;a++)ie(e[a],t,r,n,i,o,!1)}function se(e,t,r,n){e.push(t),e.push(r),e.push(n)}function ue(e,t,r,n,i,o){var a=(o-t)/(n-t);return e.push(o),e.push(r+(i-r)*a),e.push(1),a}function ce(e,t,r,n,i,o){var a=(o-r)/(i-r);return e.push(t+(n-t)*a),e.push(o),e.push(1),a}function le(e,t){for(var r=[],n=0;n<e.length;n++){var i,o=e[n],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=fe(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(fe(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],c=0;c<o.geometry[s].length;c++)u.push(fe(o.geometry[s][c],t));i.push(u)}r.push(X(o.id,a,i,o.tags))}return r}function fe(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function he(e,t){if(e.transformed)return e;var r,n,i,o=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var u=e.features[r],c=u.geometry,l=u.type;if(u.geometry=[],1===l)for(n=0;n<c.length;n+=2)u.geometry.push(pe(c[n],c[n+1],t,o,a,s));else for(n=0;n<c.length;n++){var f=[];for(i=0;i<c[n].length;i+=2)f.push(pe(c[n][i],c[n][i+1],t,o,a,s));u.geometry.push(f)}}return e.transformed=!0,e}function pe(e,t,r,n,i,o){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-o))]}function de(e,t,r,n,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ve(a,e[s],o,i);var u=e[s].minX,c=e[s].minY,l=e[s].maxX,f=e[s].maxY;u<a.minX&&(a.minX=u),c<a.minY&&(a.minY=c),l>a.maxX&&(a.maxX=l),f>a.maxY&&(a.maxY=f)}return a}function ve(e,t,r,n){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)me(a,i,e,r,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)me(a,i[s],e,r,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var c=i[u];for(s=0;s<c.length;s++)me(a,c[s],e,r,!0,0===s)}if(a.length){var l=t.tags||null;if("LineString"===o&&n.lineMetrics){for(var f in l={},t.tags)l[f]=t.tags[f];l.mapbox_clip_start=i.start/i.size,l.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:l};null!==t.id&&(h.id=t.id),e.features.push(h)}}function me(e,t,r,n,i,o){var a=n*n;if(n>0&&t.size<(i?a:n))r.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===n||t[u+2]>a)&&(r.numSimplified++,s.push(t[u]),s.push(t[u+1])),r.numPoints++;i&&function(e,t){for(var r=0,n=0,i=e.length,o=i-2;n<i;o=n,n+=2)r+=(e[n]-e[o])*(e[n+1]+e[o+1]);if(r>0===t)for(n=0,i=e.length;n<i/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=a,e[i-1-n]=s}}(s,o),e.push(s)}}function ye(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)Y(r,e.features[n],t,n);else Y(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,i=re(e,1,-1-r,r,0,-1,2,t),o=re(e,1,1-r,2+r,0,-1,2,t);return(i||o)&&(n=re(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=le(i,1).concat(n)),o&&(n=n.concat(le(o,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ge(e,t,r){return 32*((1<<e)*r+t)+e}function be(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var i=new v(n.features),o=_(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}N.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,i=t.maxZoom,o=t.nodeSize;r&&console.time("total time");var a="prepare "+e.length+" points";r&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(z(e[u],u));this.trees[i+1]=new L(s,W,H,o,Float32Array),r&&console.timeEnd(a);for(var c=i;c>=n;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new L(s,W,H,o,Float32Array),r&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return r&&console.timeEnd("total time"),this},N.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var a=this.getClusters([r,n,180,o],t),s=this.getClusters([-180,n,i,o],t);return a.concat(s)}for(var u=this.trees[this._limitZoom(t)],c=[],l=0,f=u.range(V(r),G(o),V(i),G(n));l<f.length;l+=1){var h=u.points[f[l]];c.push(h.numPoints?B(h):this.points[h.index])}return c},N.prototype.getChildren=function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var o=i.points[t];if(!o)throw new Error(n);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],u=0,c=i.within(o.x,o.y,a);u<c.length;u+=1){var l=i.points[c[u]];l.parentId===e&&s.push(l.numPoints?B(l):this.points[l.index])}if(0===s.length)throw new Error(n);return s},N.prototype.getLeaves=function(e,t,r){var n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n},N.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.radius/o.extent,s=(r-a)/i,u=(r+1+a)/i,c={features:[]};return this._addTileFeatures(n.range((t-a)/i,s,(t+1+a)/i,u),n.points,t,r,i,c),0===t&&this._addTileFeatures(n.range(1-a/i,s,1,u),n.points,i,r,i,c),t===i-1&&this._addTileFeatures(n.range(0,s,a/i,u),n.points,-1,r,i,c),c.features.length?c:null},N.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},N.prototype._appendLeaves=function(e,t,r,n,i){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?i+u.point_count<=n?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,r,n,i):i<n?i++:e.push(s),e.length===r)break}return i},N.prototype._addTileFeatures=function(e,t,r,n,i,o){for(var a=0,s=e;a<s.length;a+=1){var u=t[s[a]],c=u.numPoints,l={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-r)),Math.round(this.options.extent*(u.y*i-n))]],tags:c?U(u):this.points[u.index].properties},f=void 0;c?f=u.id:this.options.generateId?f=u.index:this.points[u.index].id&&(f=this.points[u.index].id),void 0!==f&&(l.id=f),o.features.push(l)}},N.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},N.prototype._cluster=function(e,t){for(var r=[],n=this.options,i=n.reduce,o=n.minPoints,a=n.radius/(n.extent*Math.pow(2,t)),s=0;s<e.length;s++){var u=e[s];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],l=c.within(u.x,u.y,a),f=u.numPoints||1,h=f,p=0,d=l;p<d.length;p+=1){var v=c.points[d[p]];v.zoom>t&&(h+=v.numPoints||1)}if(h>=o){for(var m=u.x*f,y=u.y*f,g=i&&f>1?this._map(u,!0):null,b=(s<<5)+(t+1)+this.points.length,_=0,w=l;_<w.length;_+=1){var x=c.points[w[_]];if(!(x.zoom<=t)){x.zoom=t;var O=x.numPoints||1;m+=x.x*O,y+=x.y*O,x.parentId=b,i&&(g||(g=this._map(u,!0)),i(g,this._map(x)))}}u.parentId=b,r.push(F(m/h,y/h,b,h,g))}else if(r.push(u),h>1)for(var E=0,j=l;E<j.length;E+=1){var S=c.points[j[E]];S.zoom<=t||(S.zoom=t,r.push(S))}}}return r},N.prototype._getOriginId=function(e){return e-this.points.length>>5},N.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},N.prototype._map=function(e,t){if(e.numPoints)return t?q({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?q({},n):n},ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,r,n,i,o,a){for(var s=[e,t,r,n],u=this.options,c=u.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var l=1<<t,f=ge(t,r,n),h=this.tiles[f];if(!h&&(c>1&&console.time("creation"),h=this.tiles[f]=de(e,t,r,n,u),this.tileCoords.push({z:t,x:r,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=e,i){if(t===u.maxZoom||t===i)continue;var d=1<<i-t;if(r!==Math.floor(o/d)||n!==Math.floor(a/d))continue}else if(t===u.indexMaxZoom||h.numPoints<=u.indexMaxPoints)continue;if(h.source=null,0!==e.length){c>1&&console.time("clipping");var v,m,y,g,b,_,w=.5*u.buffer/u.extent,x=.5-w,O=.5+w,E=1+w;v=m=y=g=null,b=re(e,l,r-w,r+O,0,h.minX,h.maxX,u),_=re(e,l,r+x,r+E,0,h.minX,h.maxX,u),e=null,b&&(v=re(b,l,n-w,n+O,1,h.minY,h.maxY,u),m=re(b,l,n+x,n+E,1,h.minY,h.maxY,u),b=null),_&&(y=re(_,l,n-w,n+O,1,h.minY,h.maxY,u),g=re(_,l,n+x,n+E,1,h.minY,h.maxY,u),_=null),c>1&&console.timeEnd("clipping"),s.push(v||[],t+1,2*r,2*n),s.push(m||[],t+1,2*r,2*n+1),s.push(y||[],t+1,2*r+1,2*n),s.push(g||[],t+1,2*r+1,2*n+1)}}},ye.prototype.getTile=function(e,t,r){var n=this.options,i=n.extent,o=n.debug;if(e<0||e>24)return null;var a=1<<e,s=ge(e,t=(t%a+a)%a,r);if(this.tiles[s])return he(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var u,c=e,l=t,f=r;!u&&c>0;)c--,l=Math.floor(l/2),f=Math.floor(f/2),u=this.tiles[ge(c,l,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,l,f),o>1&&console.time("drilling down"),this.splitTile(u.source,c,l,f,e,t,r),o>1&&console.timeEnd("drilling down"),this.tiles[s]?he(this.tiles[s],i):null):null};var _e=function(t){function r(e,r,n,i){t.call(this,e,r,n,be),i&&(this.loadGeoJSON=i)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(n&&n.request&&n.request.collectResourceTiming)&&new e.RequestPerformance(n.request);this.loadGeoJSON(n,(function(o,a){if(o||!a)return r(o);if("object"!=typeof a)return r(new Error("Input data given to '"+n.source+"' is not a valid GeoJSON object."));!function e(t,r){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)f(t.coordinates,r);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)f(t.coordinates[n],r);return t}(a,!0);try{if(n.filter){var s=e.createExpression(n.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var u=a.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));a={type:"FeatureCollection",features:u}}t._geoJSONIndex=n.cluster?new N(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(n),c=0,l=u;c<l.length;c+=1){var f=l[c],h=n[f],p=h[0],d=e.createExpression(h[1]),v=e.createExpression("string"==typeof p?[p,["accumulated"],["get",f]]:p);i[f]=d.value,o[f]=v.value}return r.map=function(e){s.properties=e;for(var t={},r=0,n=u;r<n.length;r+=1){var o=n[r];t[o]=i[o].evaluate(a,s)}return t},r.reduce=function(e,t){s.properties=t;for(var r=0,n=u;r<n.length;r+=1){var i=n[r];a.accumulated=e[i],e[i]=o[i].evaluate(a,s)}},r}(n)).load(a.features):function(e,t){return new ye(e,t)}(a,n.geojsonVtOptions)}catch(o){return r(o)}t.loaded={};var c={};if(i){var l=i.finish();l&&(c.resourceTiming={},c.resourceTiming[n.source]=JSON.parse(JSON.stringify(l)))}r(null,c)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded;return n&&n[e.uid]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},r.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},r.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},r}(u),we=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:_e},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return we.prototype.setReferrer=function(e,t){this.referrer=t},we.prototype.setImages=function(e,t,r){for(var n in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][n];for(var o in i)i[o].availableImages=t}r()},we.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},we.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},we.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},we.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},we.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},we.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},we.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},we.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},we.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}},we.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},we.prototype.syncRTLPluginState=function(t,r,n){try{e.plugin.setState(r);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=e.plugin.isParsed();n(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(e){n(e.toString())}},we.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},we.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},we.prototype.getWorkerSource=function(e,t,r){var n=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][r]||(this.workerSources[e][t][r]=new this.workerSourceTypes[t]({send:function(t,r,i){n.actor.send(t,r,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][r]},we.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new l),this.demWorkerSources[e][t]},we.prototype.enforceCacheSizeLimit=function(t,r){e.enforceCacheSizeLimit(r)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new we(self)),we})),n(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!r(e)}function r(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var r=t.getImageData(0,0,1,1);return r&&r.width===e.width}()?(void 0===n[r=e&&e.failIfMajorPerformanceCaveat]&&(n[r]=function(e){var r=function(e){var r=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(e);if(!r)return!1;var n=r.createShader(r.VERTEX_SHADER);return!(!n||r.isContextLost())&&(r.shaderSource(n,"void main() {}"),r.compileShader(n),!0===r.getShaderParameter(n,r.COMPILE_STATUS))}(r)),n[r]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var r}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=r);var n={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),r={create:function(t,r,n){var i=e.window.document.createElement(t);return void 0!==r&&(i.className=r),n&&n.appendChild(i),i},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},n=e.window.document&&e.window.document.documentElement.style;function i(e){if(!n)return e[0];for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){n&&a&&(o=n[a],n[a]="none")},r.enableDrag=function(){n&&a&&(n[a]=o)};var s=i(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[s]=t};var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){u=!0}});e.window.addEventListener("test",c,c),e.window.removeEventListener("test",c,c)}catch(e){u=!1}r.addEventListener=function(e,t,r,n){void 0===n&&(n={}),e.addEventListener(t,r,"passive"in n&&u?n:n.capture)},r.removeEventListener=function(e,t,r,n){void 0===n&&(n={}),e.removeEventListener(t,r,"passive"in n&&u?n:n.capture)};var l=function t(r){r.preventDefault(),r.stopPropagation(),e.window.removeEventListener("click",t,!0)};function f(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}r.suppressClick=function(){e.window.addEventListener("click",l,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",l,!0)}),0)},r.mousePos=function(t,r){var n=t.getBoundingClientRect();return new e.Point(r.clientX-n.left-t.clientLeft,r.clientY-n.top-t.clientTop)},r.touchPos=function(t,r){for(var n=t.getBoundingClientRect(),i=[],o=0;o<r.length;o++)i.push(new e.Point(r[o].clientX-n.left-t.clientLeft,r[o].clientY-n.top-t.clientTop));return i},r.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var h=function(t){function r(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var n=r[t];this._notify(n.ids,n.callback)}this.requestors=[]}},r.prototype.getImage=function(e){return this.images[e]},r.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},r.prototype._validate=function(t,r){var n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),n=!1),n},r.prototype._validateStretch=function(e,t){if(!e)return!0;for(var r=0,n=0,i=e;n<i.length;n+=1){var o=i[n];if(o[0]<r||o[1]<o[0]||t<o[1])return!1;r=o[1]}return!0},r.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},r.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},r.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},r.prototype.listImages=function(){return Object.keys(this.images)},r.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var n=0,i=e;n<i.length;n+=1)this.images[i[n]]||(r=!1);this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},r.prototype._notify=function(t,r){for(var n={},i=0,o=t;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?n[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}r(null,n)},r.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},r.prototype.getPattern=function(t){var r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},o=new e.ImagePosition(i,n);this.patterns[t]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},r.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},r.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),i=n.w,o=n.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,c=u.x+1,l=u.y+1,f=this.images[s].data,h=f.width,p=f.height;e.RGBAImage.copy(f,a,{x:0,y:0},{x:c,y:l},{width:h,height:p}),e.RGBAImage.copy(f,a,{x:0,y:p-1},{x:c,y:l-1},{width:h,height:1}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:c,y:l+p},{width:h,height:1}),e.RGBAImage.copy(f,a,{x:h-1,y:0},{x:c-1,y:l},{width:1,height:p}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:c+h,y:l},{width:1,height:p})}this.dirty=!0},r.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},r.prototype.dispatchRenderCallbacks=function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var i=this.images[n];f(i)&&this.updateImage(n,i)}}},r}(e.Evented),p=m,d=m,v=1e20;function m(e,t,r,n,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(e,t,r,n,i,o,a){for(var s=0;s<t;s++){for(var u=0;u<r;u++)n[u]=e[u*t+s];for(g(n,i,o,a,r),u=0;u<r;u++)e[u*t+s]=i[u]}for(u=0;u<r;u++){for(s=0;s<t;s++)n[s]=e[u*t+s];for(g(n,i,o,a,t),s=0;s<t;s++)e[u*t+s]=Math.sqrt(i[s])}}function g(e,t,r,n,i){r[0]=0,n[0]=-v,n[1]=+v;for(var o=1,a=0;o<i;o++){for(var s=(e[o]+o*o-(e[r[a]]+r[a]*r[a]))/(2*o-2*r[a]);s<=n[a];)a--,s=(e[o]+o*o-(e[r[a]]+r[a]*r[a]))/(2*o-2*r[a]);r[++a]=o,n[a]=s,n[a+1]=+v}for(o=0,a=0;o<i;o++){for(;n[a+1]<o;)a++;t[o]=(o-r[a])*(o-r[a])+e[r[a]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var i=t.data[4*n+3]/255;this.gridOuter[n]=1===i?0:0===i?v:Math.pow(Math.max(0,.5-i),2),this.gridInner[n]=1===i?v:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++)r[n]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[n]-this.gridInner[n])/this.radius+this.cutoff))));return r},p["default"]=d;var b=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};b.prototype.setURL=function(e){this.url=e},b.prototype.getGlyphs=function(t,r){var n=this,i=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});e.asyncAll(i,(function(e,t){var r=e.stack,i=e.id,o=n.entries[r];o||(o=n.entries[r]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=n._tinySDF(o,r,i))return o.glyphs[i]=a,void t(null,{stack:r,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])t(null,{stack:r,id:i,glyph:a});else{var u=o.requests[s];u||(u=o.requests[s]=[],b.loadGlyphRange(r,s,n.url,n.requestManager,(function(e,t){if(t){for(var r in t)n._doesCharSupportLocalGlyph(+r)||(o.glyphs[+r]=t[+r]);o.ranges[s]=!0}for(var i=0,a=u;i<a.length;i+=1)(0,a[i])(e,t);delete o.requests[s]}))),u.push((function(e,n){e?t(e):n&&t(null,{stack:r,id:i,glyph:n[i]||null})}))}}else t(null,{stack:r,id:i,glyph:a})}),(function(e,t){if(e)r(e);else if(t){for(var n={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,c=a.glyph;(n[s]||(n[s]={}))[u]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}r(null,n)}}))},b.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},b.prototype._tinySDF=function(t,r,n){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(n)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),o=t.tinySDF=new b.TinySDF(24,3,8,.25,i,a)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(t,r,n,i,o){var a=256*r,s=a+255,u=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(u,(function(t,r){if(t)o(t);else if(r){for(var n={},i=0,a=e.parseGlyphPBF(r);i<a.length;i+=1){var s=a[i];n[s.id]=s}o(null,n)}}))},b.TinySDF=p;var _=function(){this.specification=e.styleSpec.light.position};_.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},_.prototype.interpolate=function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}};var w=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new _,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),x=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(w),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t,r){if(void 0===r&&(r={}),!this._validate(e.validateLight,t,r))for(var n in t){var i=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),i):this._transitionable.setValue(n,i)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),O=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};O.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.dashEntry[r]||(this.dashEntry[r]=this.addDash(e,t)),this.dashEntry[r]},O.prototype.getDashRanges=function(e,t,r){var n=[],i=e.length%2==1?-e[e.length-1]*r:0,o=e[0]*r,a=!0;n.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],u=1;u<e.length;u++){var c=e[u];n.push({left:i=s*r,right:o=(s+=c)*r,isDash:a=!a,zeroLength:0===c})}return n},O.prototype.addRoundDash=function(e,t,r){for(var n=t/2,i=-r;i<=r;i++)for(var o=this.width*(this.nextRow+r+i),a=0,s=e[a],u=0;u<this.width;u++){u/s.right>1&&(s=e[++a]);var c=Math.abs(u-s.left),l=Math.abs(u-s.right),f=Math.min(c,l),h=void 0,p=i/r*(n+1);if(s.isDash){var d=n-Math.abs(p);h=Math.sqrt(f*f+d*d)}else h=n-Math.sqrt(f*f+p*p);this.data[o+u]=Math.max(0,Math.min(255,h+128))}},O.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var r=e[t],n=e[t+1];r.zeroLength?e.splice(t,1):n&&n.isDash===r.isDash&&(n.left=r.left,e.splice(t,1))}var i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,u=e[s],c=0;c<this.width;c++){c/u.right>1&&(u=e[++s]);var l=Math.abs(c-u.left),f=Math.abs(c-u.right),h=Math.min(l,f);this.data[a+c]=Math.max(0,Math.min(255,(u.isDash?h:-h)+128))}},O.prototype.addDash=function(t,r){var n=r?7:0,i=2*n+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(t,this.width,s);r?this.addRoundDash(u,s,n):this.addRegularDash(u)}var c={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:o};return this.nextRow+=i,this.dirty=!0,c},O.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var E=function t(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new t.Actor(i[o],n,this.id);a.name="Worker "+o,this.actors.push(a)}};function j(t,r,n){var i=function(i,o){if(i)return n(i);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=r.canonicalizeTileset(a,t.url),n(null,a)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}E.prototype.broadcast=function(t,r,n){e.asyncAll(this.actors,(function(e,n){e.send(t,r,n)}),n=n||function(){})},E.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},E.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},E.Actor=e.Actor;var S=function(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24};S.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},S.prototype.contains=function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<o&&t.y>=i&&t.y<a};var k=function(t){function r(r,n,i,o){if(t.call(this),this.id=r,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=j(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new S(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},r.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},r.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(n,i){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),T=function(t){function r(r,n,i,o){t.call(this),this.id=r,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=j(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new S(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var n=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,o){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(i)t.state="errored",r(i);else if(o){n.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=n.map.painter.context,s=a.gl;t.texture=n.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),r(null)}}))},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),P=function(t){function r(r,n,i,o){t.call(this,r,n,i,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,o){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?o:e.browser.getImageData(o,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:a,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,o=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(u[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),u},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},r}(T),A=function(t){function r(r,n,i,o){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(n.clusterRadius||50)*a,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(r){if(r)t.fire(new e.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}}))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)r.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",n))}})),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},r.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},r.prototype.getClusterLeaves=function(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this},r.prototype._updateWorkerData=function(t){var r=this;this._loaded=!1;var n=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(n.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(i),this.actor.send(this.type+".loadData",n,(function(e,i){r._removed||i&&i.abandoned||(r._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[r.id]&&(r._resourceTiming=i.resourceTiming[r.id].slice(0)),r.actor.send(r.type+".coalesce",{source:n.source},null),t(e))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.loadTile=function(t,r){var n=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(o,n.map.painter,"reloadTile"===i),r(null))}))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},r.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),I=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),C=function(t){function r(e,r,n,i){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=r}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(t,r){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,o){n._loaded=!0,i?n.fire(new e.ErrorEvent(i)):o&&(n.image=o,t&&(n.coordinates=t),r&&r(),n._finishLoading())}))},r.prototype.loaded=function(){return this._loaded},r.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){var r=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var r=1/0,n=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var u=s[a];r=Math.min(r,u.x),n=Math.min(n,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y)}var c=Math.max(i-r,o-n),l=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),f=Math.pow(2,l);return new e.CanonicalTileID(l,Math.floor((r+i)/2*f),Math.floor((n+o)/2*f))}(n),this.minzoom=this.maxzoom=this.tileID.z;var i=n.map((function(e){return r.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented),R=function(t){function r(e,r,n,i){t.call(this,e,r,n,i),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1;var r=this.options;this.urls=[];for(var n=0,i=r.urls;n<i.length;n+=1)this.urls.push(this.map._requestManager.transformRequest(i[n],e.ResourceType.Source).url);e.getVideo(this.urls,(function(r,n){t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},r.prototype.pause=function(){this.video&&this.video.pause()},r.prototype.play=function(){this.video&&this.video.play()},r.prototype.seek=function(t){if(this.video){var r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+r.start(0)+" and "+r.end(0)+"-second mark."))):this.video.currentTime=t}},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(C),M=function(t){function r(r,n,i,o){t.call(this,r,n,i,o),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(C),L={vector:k,raster:T,"raster-dem":P,geojson:A,video:R,image:C,canvas:M};function D(t,r){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function N(e,t,r,n,i,o){var a=function(e,t,r){if(e)for(var n=0,i=e;n<i.length;n+=1){var o=t[i[n]];if(o&&o.source===r&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),u=e.tilesIn(n,s,a);u.sort(F);for(var c=[],l=0,f=u;l<f.length;l+=1){var h=f[l];c.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,r,e._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,i,o,s,D(e.transform,h.tileID))})}var p=function(e){for(var t={},r={},n=0,i=e;n<i.length;n+=1){var o=i[n],a=o.queryResults,s=o.wrappedTileID,u=r[s]=r[s]||{};for(var c in a)for(var l=a[c],f=u[c]=u[c]||{},h=t[c]=t[c]||[],p=0,d=l;p<d.length;p+=1){var v=d[p];f[v.featureIndex]||(f[v.featureIndex]=!0,h.push(v))}}return t}(c);for(var d in p)p[d].forEach((function(t){var r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}));return p}function F(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var z=function(e,t){this.max=e,this.onRemove=t,this.reset()};z.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var n=r[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},z.prototype.add=function(e,t,r){var n=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:t,timeout:void 0};if(void 0!==r&&(o.timeout=setTimeout((function(){n.remove(e,o)}),r)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},z.prototype.has=function(e){return e.wrapped().key in this.data},z.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},z.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},z.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},z.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},z.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this},z.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},z.prototype.filter=function(e){var t=[];for(var r in this.data)for(var n=0,i=this.data[r];n<i.length;n+=1){var o=i[n];e(o.value)||t.push(o)}for(var a=0,s=t;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var B=function(e,t,r){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},V.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}},V.prototype.setVertexAttribPointers=function(e,t,r){for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[U[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var G=function(e){this.gl=e.gl,this["default"]=this.getDefault(),this.current=this["default"],this.dirty=!1};G.prototype.get=function(){return this.current},G.prototype.set=function(e){},G.prototype.getDefault=function(){return this["default"]},G.prototype.setDefault=function(){this.set(this["default"])};var q=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(G),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(G),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(G),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(G),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(G),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(G),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(G),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(G),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(G),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(G),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(G),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(G),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(G),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(G),ie=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(G),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(G),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(G),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(G),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(G),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(G),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(G),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(G),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(G),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(G),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(G),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(G),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(G),ye=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(G),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(G),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(G),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(G),we=function(e){function t(t,r){e.call(this,t),this.context=t,this.parent=r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(G),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(we),Oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(we),Ee=function(e,t,r,n){this.context=e,this.width=t,this.height=r;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new xe(e,i),n&&(this.depthAttachment=new Oe(e,i))};Ee.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r)}e.deleteFramebuffer(this.framebuffer)};var je=function(e,t,r){this.func=e,this.mask=t,this.range=r};je.ReadOnly=!1,je.ReadWrite=!0,je.disabled=new je(519,je.ReadOnly,[0,1]);var Se=function(e,t,r,n,i,o){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=o};Se.disabled=new Se({func:519,mask:0},0,0,7680,7680,7680);var ke=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};ke.disabled=new ke(ke.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),ke.unblended=new ke(ke.Replace,e.Color.transparent,[!0,!0,!0,!0]),ke.alphaBlended=new ke([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Te=function(e,t,r){this.enable=e,this.mode=t,this.frontFace=r};Te.disabled=new Te(!1,1029,2305),Te.backCCW=new Te(!0,1029,2305);var Pe=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new q(this),this.clearDepth=new W(this),this.clearStencil=new H(this),this.colorMask=new Z(this),this.depthMask=new X(this),this.stencilMask=new $(this),this.stencilFunc=new Y(this),this.stencilOp=new K(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new re(this),this.blendFunc=new ne(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new ue(this),this.program=new ce(this),this.activeTexture=new le(this),this.viewport=new fe(this),this.bindFramebuffer=new he(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new de(this),this.bindVertexBuffer=new ve(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new _e(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Pe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Pe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Pe.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Pe.prototype.createVertexBuffer=function(e,t,r){return new V(this,e,t,r)},Pe.prototype.createRenderbuffer=function(e,t,r){var n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i},Pe.prototype.createFramebuffer=function(e,t,r){return new Ee(this,e,t,r)},Pe.prototype.clear=function(e){var t=e.color,r=e.depth,n=this.gl,i=0;t&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(i)},Pe.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Pe.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Pe.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Pe.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,ke.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Pe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ae=function(t){function r(r,n,i){var o=this;t.call(this),this.id=r,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(t,r,n,i){var o=new L[r.type](t,r,n,i);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(r,n,i,this),this._tiles={},this._cache=new z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}},r.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Ie).map((function(e){return e.key}))},r.prototype.getRenderableIds=function(t){var r=this,n=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&n.push(this._tiles[i]);return t?n.sort((function(t,n){var i=t.tileID,o=n.tileID,a=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(r.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(e){return e.tileID.key})):n.map((function(e){return e.tileID})).sort(Ie).map((function(e){return e.key}))},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,n,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var i=this.getTileByID(n);o(e,i),o(i,e)}}function o(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype._retainLoadedChildren=function(e,t,r,n){for(var i in this._tiles){var o=this._tiles[i];if(!(n[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>r)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){n[a.key]=a;break}}}},r.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(var n=e.overscaledZ-1;n>=t;n--){var i=e.scaledTo(n),o=this._getLoadedTile(i);if(o)return o}},r.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},r.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,r=Math.ceil(e.height/this._source.tileSize)+1,n=Math.floor(t*r*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)},r.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var r={};for(var n in this._tiles){var i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),r[i.tileID.key]=i}for(var o in this._tiles=r,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},r.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return n._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),a=Math.max(o-r.maxOverzooming,this._source.minzoom),s=Math.max(o+r.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,o);if(Ce(this._source.type)){for(var c={},l={},f=0,h=Object.keys(u);f<h.length;f+=1){var p=h[f],d=u[p],v=this._tiles[p];if(v&&!(v.fadeEndTime&&v.fadeEndTime<=e.browser.now())){var m=this.findLoadedParent(d,a);m&&(this._addTile(m.tileID),c[m.tileID.key]=m.tileID),l[p]=d}}for(var y in this._retainLoadedChildren(l,o,s,u),c)u[y]||(this._coveredTiles[y]=!0,u[y]=c[y])}for(var g in u)this._tiles[g].clearFadeHold();for(var b=0,_=e.keysDifference(this._tiles,u);b<_.length;b+=1){var w=_[b],x=this._tiles[w];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(w)}this._updateLoadedParentTileCache()}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var n={},i={},o=Math.max(t-r.maxOverzooming,this._source.minzoom),a=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},u=0,c=e;u<c.length;u+=1){var l=c[u],f=this._addTile(l);n[l.key]=l,f.hasData()||t<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,t,a,n);for(var h=0,p=e;h<p.length;h+=1){var d=p[h],v=this._tiles[d.key];if(!v.hasData()){if(t+1>this._source.maxzoom){var m=d.children(this._source.maxzoom)[0],y=this.getTile(m);if(y&&y.hasData()){n[m.key]=m;continue}}else{var g=d.children(this._source.maxzoom);if(n[g[0].key]&&n[g[1].key]&&n[g[2].key]&&n[g[3].key])continue}for(var b=v.wasRequested(),_=d.overscaledZ-1;_>=o;--_){var w=d.scaledTo(_);if(i[w.key])break;if(i[w.key]=!0,!(v=this.getTile(w))&&b&&(v=this._addTile(w)),v&&(n[w.key]=w,b=v.wasRequested(),v.hasData()))break}}}return n},r.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],r=void 0,n=this._tiles[e].tileID;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);var i=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(i))break;n=i}for(var o=0,a=t;o<a.length;o+=1)this._loadedParentTiles[a[o]]=r}},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var n=Boolean(r);return n||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){r._reloadTile(e,"expired"),delete r._timers[e]}),n))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r,n){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=n?a.getCameraQueryGeometry(t):t,u=t.map((function(e){return a.pointCoordinate(e)})),c=s.map((function(e){return a.pointCoordinate(e)})),l=this.getIds(),f=1/0,h=1/0,p=-1/0,d=-1/0,v=0,m=c;v<m.length;v+=1){var y=m[v];f=Math.min(f,y.x),h=Math.min(h,y.y),p=Math.max(p,y.x),d=Math.max(d,y.y)}for(var g=function(t){var n=i._tiles[l[t]];if(!n.holdingForFade()){var s=n.tileID,v=Math.pow(2,a.zoom-n.tileID.overscaledZ),m=r*n.queryPadding*e.EXTENT/n.tileSize/v,y=[s.getTilePoint(new e.MercatorCoordinate(f,h)),s.getTilePoint(new e.MercatorCoordinate(p,d))];if(y[0].x-m<e.EXTENT&&y[0].y-m<e.EXTENT&&y[1].x+m>=0&&y[1].y+m>=0){var g=u.map((function(e){return s.getTilePoint(e)})),b=c.map((function(e){return s.getTilePoint(e)}));o.push({tile:n,tileID:s,queryGeometry:g,cameraQueryGeometry:b,scale:v})}}},b=0;b<l.length;b++)g(b);return o},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),n=0,i=r;n<i.length;n+=1){var o=i[n];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ce(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)},r.prototype.removeFeatureState=function(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)},r.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},r.prototype.setDependencies=function(e,t,r){var n=this._tiles[e];n&&n.setDependencies(t,r)},r.prototype.reloadTilesForDependencies=function(e,t){for(var r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter((function(r){return!r.hasDependency(e,t)}))},r}(e.Evented);function Ie(e,t){var r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Ce(e){return"raster"===e||"image"===e||"video"===e}function Re(){return new e.window.Worker($i.workerUrl)}Ae.maxOverzooming=10,Ae.maxUnderzooming=3;var Me="mapboxgl_preloaded_worker_pool",Le=function(){this.active={}};Le.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Le.workerCount;)this.workers.push(new Re);return this.active[e]=!0,this.workers.slice()},Le.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},Le.prototype.isPreloaded=function(){return!!this.active[Me]},Le.prototype.numActive=function(){return Object.keys(this.active).length};var De,Ne=Math.floor(e.browser.hardwareConcurrency/2);function Fe(){return De||(De=new Le),De}function ze(t,r){var n={};for(var i in t)"ref"!==i&&(n[i]=t[i]);return e.refProperties.forEach((function(e){e in r&&(n[e]=r[e])})),n}function Be(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=ze(e[n],t[e[n].ref]));return e}Le.workerCount=Math.max(Math.min(Ne,6),1);var Ue={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ve(e,t,r){r.push({command:Ue.addSource,args:[e,t[e]]})}function Ge(e,t,r){t.push({command:Ue.removeSource,args:[e]}),r[e]=!0}function qe(e,t,r,n){Ge(e,r,n),Ve(e,t,r)}function We(t,r,n){var i;for(i in t[n])if(t[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;for(i in r[n])if(r[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;return!0}function He(t,r,n,i,o,a){var s;for(s in r=r||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}))}function Ze(e){return e.id}function Xe(e,t){return e[t.id]=t,e}var $e=function(e,t){this.reset(e,t)};$e.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var r=1;r<this.points.length;r++)this._distances[r]=this._distances[r-1]+this.points[r].dist(this.points[r-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},$e.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var r=1,n=this._distances[r],i=t*this.paddedLength+this.padding;n<i&&r<this._distances.length;)n=this._distances[++r];var o=r-1,a=this._distances[o],s=n-a,u=s>0?(i-a)/s:0;return this.points[o].mult(1-u).add(this.points[r].mult(u))};var Ye=function(e,t,r){var n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Ke(t,r,n,i,o){var a=e.create();return r?(e.scale(a,a,[1/o,1/o,1]),n||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Je(t,r,n,i,o){if(r){var a=e.clone(t);return e.scale(a,a,[o,o,1]),n||e.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Qe(t,r){var n=[t.x,t.y,0,1];lt(n,n,r);var i=n[3];return{point:new e.Point(n[0]/i,n[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function rt(t,r,n,i,o,a,s,u){var c=i?t.textSizeData:t.iconSizeData,l=e.evaluateSizeForZoom(c,n.transform.zoom),f=[256/n.width*2+1,256/n.height*2+1],h=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;h.clear();for(var p=t.lineVertexArray,d=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,v=n.transform.width/n.transform.height,m=!1,y=0;y<d.length;y++){var g=d.get(y);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!m)ct(g.numGlyphs,h);else{m=!1;var b=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(b,b,r),tt(b,f)){var _=et(n.transform.cameraToCenterDistance,b[3]),w=e.evaluateSizeForFeature(c,l,g),x=s?w/_:w*_,O=new e.Point(g.anchorX,g.anchorY),E=Qe(O,o).point,j={},S=ot(g,x,!1,u,r,o,a,t.glyphOffsetArray,p,h,E,O,j,v);m=S.useVertical,(S.notEnoughRoom||m||S.needsFlipping&&ot(g,x,!0,u,r,o,a,t.glyphOffsetArray,p,h,E,O,j,v).notEnoughRoom)&&ct(g.numGlyphs,h)}else ct(g.numGlyphs,h)}}i?t.text.dynamicLayoutVertexBuffer.updateData(h):t.icon.dynamicLayoutVertexBuffer.updateData(h)}function nt(e,t,r,n,i,o,a,s,u,c,l){var f=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,p=s.lineStartIndex+s.lineLength,d=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(f-1),m=st(e*d,r,n,i,o,a,s.segment,h,p,u,c,l);if(!m)return null;var y=st(e*v,r,n,i,o,a,s.segment,h,p,u,c,l);return y?{first:m,last:y}:null}function it(t,r,n,i){return t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function ot(t,r,n,i,o,a,s,u,c,l,f,h,p,d){var v,m=r/24,y=t.lineOffsetX*m,g=t.lineOffsetY*m;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,w=t.lineStartIndex+t.lineLength,x=nt(m,u,y,g,n,f,h,t,c,a,p);if(!x)return{notEnoughRoom:!0};var O=Qe(x.first.point,s).point,E=Qe(x.last.point,s).point;if(i&&!n){var j=it(t.writingMode,O,E,d);if(j)return j}v=[x.first];for(var S=t.glyphStartIndex+1;S<b-1;S++)v.push(st(m*u.getoffsetX(S),y,g,n,f,h,t.segment,_,w,c,a,p));v.push(x.last)}else{if(i&&!n){var k=Qe(h,o).point,T=t.lineStartIndex+t.segment+1,P=new e.Point(c.getx(T),c.gety(T)),A=Qe(P,o),I=A.signedDistanceFromCamera>0?A.point:at(h,P,k,1,o),C=it(t.writingMode,k,I,d);if(C)return C}var R=st(m*u.getoffsetX(t.glyphStartIndex),y,g,n,f,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,p);if(!R)return{notEnoughRoom:!0};v=[R]}for(var M=0,L=v;M<L.length;M+=1){var D=L[M];e.addDynamicAttributes(l,D.point,D.angle)}return{}}function at(e,t,r,n,i){var o=Qe(e.add(e.sub(t)._unit()),i).point,a=r.sub(o);return r.add(a._mult(n/a.mag()))}function st(t,r,n,i,o,a,s,u,c,l,f,h){var p=i?t-r:t+r,d=p>0?1:-1,v=0;i&&(d*=-1,v=Math.PI),d<0&&(v+=Math.PI);for(var m=d>0?u+s:u+s+1,y=o,g=o,b=0,_=0,w=Math.abs(p),x=[];b+_<=w;){if((m+=d)<u||m>=c)return null;if(g=y,x.push(y),void 0===(y=h[m])){var O=new e.Point(l.getx(m),l.gety(m)),E=Qe(O,f);if(E.signedDistanceFromCamera>0)y=h[m]=E.point;else{var j=m-d;y=at(0===b?a:new e.Point(l.getx(j),l.gety(j)),O,g,w-b+1,f)}}b+=_,_=g.dist(y)}var S=(w-b)/_,k=y.sub(g),T=k.mult(S)._add(g);T._add(k._unit()._perp()._mult(n*d));var P=v+Math.atan2(y.y-g.y,y.x-g.x);return x.push(T),{point:T,angle:P,path:x}}Ye.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ye.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},Ye.prototype.insertCircle=function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)},Ye.prototype._insertBoxCell=function(e,t,r,n,i,o){this.boxCells[i].push(o)},Ye.prototype._insertCircleCell=function(e,t,r,n,i,o){this.circleCells[i].push(o)},Ye.prototype._query=function(e,t,r,n,i,o){if(r<0||e>this.width||n<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var c=this.circles[3*u],l=this.circles[3*u+1],f=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:c-f,y1:l-f,x2:c+f,y2:l+f})}return o?a.filter(o):a}return this._forEachCell(e,t,r,n,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ye.prototype._queryCircle=function(e,t,r,n,i){var o=e-r,a=e+r,s=t-r,u=t+r;if(a<0||o>this.width||u<0||s>this.height)return!n&&[];var c=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,c,{hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),n?c.length>0:c},Ye.prototype.query=function(e,t,r,n,i){return this._query(e,t,r,n,!1,i)},Ye.prototype.hitTest=function(e,t,r,n,i){return this._query(e,t,r,n,!0,i)},Ye.prototype.hitTestCircle=function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)},Ye.prototype._queryCell=function(e,t,r,n,i,o,a,s){var u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var l=this.bboxes,f=0,h=c;f<h.length;f+=1){var p=h[f];if(!u.box[p]){u.box[p]=!0;var d=4*p;if(e<=l[d+2]&&t<=l[d+3]&&r>=l[d+0]&&n>=l[d+1]&&(!s||s(this.boxKeys[p]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[p],x1:l[d],y1:l[d+1],x2:l[d+2],y2:l[d+3]})}}}var v=this.circleCells[i];if(null!==v)for(var m=this.circles,y=0,g=v;y<g.length;y+=1){var b=g[y];if(!u.circle[b]){u.circle[b]=!0;var _=3*b;if(this._circleAndRectCollide(m[_],m[_+1],m[_+2],e,t,r,n)&&(!s||s(this.circleKeys[b]))){if(a.hitTest)return o.push(!0),!0;var w=m[_],x=m[_+1],O=m[_+2];o.push({key:this.circleKeys[b],x1:w-O,y1:x-O,x2:w+O,y2:x+O})}}}},Ye.prototype._queryCellCircle=function(e,t,r,n,i,o,a,s){var u=a.circle,c=a.seenUids,l=this.boxCells[i];if(null!==l)for(var f=this.bboxes,h=0,p=l;h<p.length;h+=1){var d=p[h];if(!c.box[d]){c.box[d]=!0;var v=4*d;if(this._circleAndRectCollide(u.x,u.y,u.radius,f[v+0],f[v+1],f[v+2],f[v+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var m=this.circleCells[i];if(null!==m)for(var y=this.circles,g=0,b=m;g<b.length;g+=1){var _=b[g];if(!c.circle[_]){c.circle[_]=!0;var w=3*_;if(this._circlesCollide(y[w],y[w+1],y[w+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[_])))return o.push(!0),!0}}},Ye.prototype._forEachCell=function(e,t,r,n,i,o,a,s){for(var u=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),l=this._convertToXCellCoord(r),f=this._convertToYCellCoord(n),h=u;h<=l;h++)for(var p=c;p<=f;p++)if(i.call(this,e,t,r,n,this.xCellCount*p+h,o,a,s))return},Ye.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ye.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ye.prototype._circlesCollide=function(e,t,r,n,i,o){var a=n-e,s=i-t,u=r+o;return u*u>a*a+s*s},Ye.prototype._circleAndRectCollide=function(e,t,r,n,i,o,a){var s=(o-n)/2,u=Math.abs(e-(n+s));if(u>s+r)return!1;var c=(a-i)/2,l=Math.abs(t-(i+c));if(l>c+r)return!1;if(u<=s||l<=c)return!0;var f=u-s,h=l-c;return f*f+h*h<=r*r};var ut=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ct(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(ut,3*n)}}function lt(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}var ft=function(e,t,r){void 0===t&&(t=new Ye(e.width+200,e.height+200,25)),void 0===r&&(r=new Ye(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ht(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}ft.prototype.placeCollisionBox=function(e,t,r,n,i){var o=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),a=r*o.perspectiveRatio,s=e.x1*a+o.point.x,u=e.y1*a+o.point.y,c=e.x2*a+o.point.x,l=e.y2*a+o.point.y;return!this.isInsideGrid(s,u,c,l)||!t&&this.grid.hitTest(s,u,c,l,i)?{box:[],offscreen:!1}:{box:[s,u,c,l],offscreen:this.isOffscreen(s,u,c,l)}},ft.prototype.placeCollisionCircles=function(t,r,n,i,o,a,s,u,c,l,f,h,p){var d=[],v=new e.Point(r.anchorX,r.anchorY),m=Qe(v,a),y=et(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),g=(l?o/y:o*y)/e.ONE_EM,b=Qe(v,s).point,_=nt(g,i,r.lineOffsetX*g,r.lineOffsetY*g,!1,b,v,r,n,s,{}),w=!1,x=!1,O=!0;if(_){for(var E=.5*h*y+p,j=new e.Point(-100,-100),S=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),k=new $e,T=_.first,P=_.last,A=[],I=T.path.length-1;I>=1;I--)A.push(T.path[I]);for(var C=1;C<P.path.length;C++)A.push(P.path[C]);var R=2.5*E;if(u){var M=A.map((function(e){return Qe(e,u)}));A=M.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:M.map((function(e){return e.point}))}var L=[];if(A.length>0){for(var D=A[0].clone(),N=A[0].clone(),F=1;F<A.length;F++)D.x=Math.min(D.x,A[F].x),D.y=Math.min(D.y,A[F].y),N.x=Math.max(N.x,A[F].x),N.y=Math.max(N.y,A[F].y);L=D.x>=j.x&&N.x<=S.x&&D.y>=j.y&&N.y<=S.y?[A]:N.x<j.x||D.x>S.x||N.y<j.y||D.y>S.y?[]:e.clipLine([A],j.x,j.y,S.x,S.y)}for(var z=0,B=L;z<B.length;z+=1){var U;k.reset(B[z],.25*E),U=k.length<=.5*E?1:Math.ceil(k.paddedLength/R)+1;for(var V=0;V<U;V++){var G=V/Math.max(U-1,1),q=k.lerp(G),W=q.x+100,H=q.y+100;d.push(W,H,E,0);var Z=W-E,X=H-E,$=W+E,Y=H+E;if(O=O&&this.isOffscreen(Z,X,$,Y),x=x||this.isInsideGrid(Z,X,$,Y),!t&&this.grid.hitTestCircle(W,H,E,f)&&(w=!0,!c))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!c&&w||!x?[]:d,offscreen:O,collisionDetected:w}},ft.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,i=1/0,o=-1/0,a=-1/0,s=0,u=t;s<u.length;s+=1){var c=u[s],l=new e.Point(c.x+100,c.y+100);n=Math.min(n,l.x),i=Math.min(i,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y),r.push(l)}for(var f={},h={},p=0,d=this.grid.query(n,i,o,a).concat(this.ignoredGrid.query(n,i,o,a));p<d.length;p+=1){var v=d[p],m=v.key;if(void 0===f[m.bucketInstanceId]&&(f[m.bucketInstanceId]={}),!f[m.bucketInstanceId][m.featureIndex]){var y=[new e.Point(v.x1,v.y1),new e.Point(v.x2,v.y1),new e.Point(v.x2,v.y2),new e.Point(v.x1,v.y2)];e.polygonIntersectsPolygon(r,y)&&(f[m.bucketInstanceId][m.featureIndex]=!0,void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]=[]),h[m.bucketInstanceId].push(m.featureIndex))}}return h},ft.prototype.insertCollisionBox=function(e,t,r,n,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:n,collisionGroupID:i},e[0],e[1],e[2],e[3])},ft.prototype.insertCollisionCircles=function(e,t,r,n,i){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:i},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},ft.prototype.projectAndGetPerspectiveRatio=function(t,r,n){var i=[r,n,0,1];return lt(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ft.prototype.isOffscreen=function(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},ft.prototype.isInsideGrid=function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary},ft.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var pt=function(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r};pt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var dt=function(e,t,r,n,i){this.text=new pt(e?e.text:null,t,r,i),this.icon=new pt(e?e.icon:null,t,n,i)};dt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var vt=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},mt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},yt=function(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i},gt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function bt(t,r,n,i,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*r,u=-(a.verticalAlign-.5)*n,c=e.evaluateVariableOffset(t,i);return new e.Point(s+c[0]*o,u+c[1]*o)}function _t(t,r,n,i,o,a){var s=t.x1,u=t.x2,c=t.y1,l=t.y2,f=t.anchorPointX,h=t.anchorPointY,p=new e.Point(r,n);return i&&p._rotate(o?a:-a),{x1:s+p.x,y1:c+p.y,x2:u+p.x,y2:l+p.y,anchorPointX:f,anchorPointY:h}}gt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var wt=function(e,t,r,n){this.transform=e.clone(),this.collisionIndex=new ft(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new gt(r),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}};function xt(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}wt.prototype.getBucketParts=function(t,r,n,i){var o=n.getBucket(r),a=n.latestFeatureIndex;if(o&&a&&r.id===o.layerIds[0]){var s=n.collisionBoxArray,u=o.layers[0].layout,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),l=n.tileSize/e.EXTENT,f=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),h="map"===u.get("text-pitch-alignment"),p="map"===u.get("text-rotation-alignment"),d=ht(n,1,this.transform.zoom),v=Ke(f,h,p,this.transform,d),m=null;if(h){var y=Je(f,h,p,this.transform,d);m=e.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new yt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID);var g={bucket:o,layout:u,posMatrix:f,textLabelPlaneMatrix:v,labelToScreenMatrix:m,scale:c,textPixelRatio:l,holdingForFade:n.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var b=0,_=o.sortKeyRanges;b<_.length;b+=1){var w=_[b];t.push({sortKey:w.sortKey,symbolInstanceStart:w.symbolInstanceStart,symbolInstanceEnd:w.symbolInstanceEnd,parameters:g})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:g})}},wt.prototype.attemptAnchorPlacement=function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d){var v,m=[f.textOffset0,f.textOffset1],y=bt(e,r,n,m,i),g=this.collisionIndex.placeCollisionBox(_t(t,y.x,y.y,o,a,this.transform.angle),l,s,u,c.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(_t(d,y.x,y.y,o,a,this.transform.angle),l,s,u,c.predicate).box.length)return g.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(v=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:m,width:r,height:n,anchor:e,textBoxScale:i,prevAnchor:v},this.markUsedJustification(h,e,f,p),h.allowVerticalPlacement&&(this.markUsedOrientation(h,p,f),this.placedOrientations[f.crossTileID]=p),{shift:y,placedGlyphBoxes:g}):void 0},wt.prototype.placeLayerBucketPart=function(t,r,n){var i=this,o=t.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,c=o.textLabelPlaneMatrix,l=o.labelToScreenMatrix,f=o.textPixelRatio,h=o.holdingForFade,p=o.collisionBoxArray,d=o.partiallyEvaluatedTextSize,v=o.collisionGroup,m=s.get("text-optional"),y=s.get("icon-optional"),g=s.get("text-allow-overlap"),b=s.get("icon-allow-overlap"),_="map"===s.get("text-rotation-alignment"),w="map"===s.get("text-pitch-alignment"),x="none"!==s.get("icon-text-fit"),O="viewport-y"===s.get("symbol-z-order"),E=g&&(b||!a.hasIconData()||y),j=b&&(g||!a.hasTextData()||m);!a.collisionArrays&&p&&a.deserializeCollisionBoxes(p);var S=function(t,o){if(!r[t.crossTileID])if(h)i.placements[t.crossTileID]=new vt(!1,!1,!1);else{var p,O=!1,S=!1,k=!0,T=null,P={box:null,offscreen:null},A={box:null,offscreen:null},I=null,C=null,R=0,M=0,L=0;o.textFeatureIndex?R=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(R=t.featureIndex),o.verticalTextFeatureIndex&&(M=o.verticalTextFeatureIndex);var D=o.textBox;if(D){var N=function(r){var n=e.WritingMode.horizontal;if(a.allowVerticalPlacement&&!r&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,i.markUsedOrientation(a,n=o,t))}return n},F=function(r,n){if(a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(P=n(),A=P):P=r(),!(P&&P.box&&P.box.length));i+=1);else P=r()};if(s.get("text-variable-anchor")){var z=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var B=i.prevPlacement.variableOffsets[t.crossTileID];z.indexOf(B.anchor)>0&&(z=z.filter((function(e){return e!==B.anchor}))).unshift(B.anchor)}var U=function(e,r,n){for(var o=e.x2-e.x1,s=e.y2-e.y1,c=t.textBoxScale,l=x&&!b?r:null,h={box:[],offscreen:!1},p=g?2*z.length:z.length,d=0;d<p;++d){var m=i.attemptAnchorPlacement(z[d%z.length],e,o,s,c,_,w,f,u,v,d>=z.length,t,a,n,l);if(m&&(h=m.placedGlyphBoxes)&&h.box&&h.box.length){O=!0,T=m.shift;break}}return h};F((function(){return U(D,o.iconBox,e.WritingMode.horizontal)}),(function(){var r=o.verticalTextBox;return a.allowVerticalPlacement&&!(P&&P.box&&P.box.length)&&t.numVerticalGlyphVertices>0&&r?U(r,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),P&&(O=P.box,k=P.offscreen);var V=N(P&&P.box);if(!O&&i.prevPlacement){var G=i.prevPlacement.variableOffsets[t.crossTileID];G&&(i.variableOffsets[t.crossTileID]=G,i.markUsedJustification(a,G.anchor,t,V))}}else{var q=function(e,r){var n=i.collisionIndex.placeCollisionBox(e,g,f,u,v.predicate);return n&&n.box&&n.box.length&&(i.markUsedOrientation(a,r,t),i.placedOrientations[t.crossTileID]=r),n};F((function(){return q(D,e.WritingMode.horizontal)}),(function(){var r=o.verticalTextBox;return a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&r?q(r,e.WritingMode.vertical):{box:null,offscreen:null}})),N(P&&P.box&&P.box.length)}}if(O=(p=P)&&p.box&&p.box.length>0,k=p&&p.offscreen,t.useRuntimeCollisionCircles){var W=a.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),H=e.evaluateSizeForFeature(a.textSizeData,d,W),Z=s.get("text-padding");I=i.collisionIndex.placeCollisionCircles(g,W,a.lineVertexArray,a.glyphOffsetArray,H,u,c,l,n,w,v.predicate,t.collisionCircleDiameter,Z),O=g||I.circles.length>0&&!I.collisionDetected,k=k&&I.offscreen}if(o.iconFeatureIndex&&(L=o.iconFeatureIndex),o.iconBox){var X=function(e){var t=x&&T?_t(e,T.x,T.y,_,w,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,b,f,u,v.predicate)};S=A&&A.box&&A.box.length&&o.verticalIconBox?(C=X(o.verticalIconBox)).box.length>0:(C=X(o.iconBox)).box.length>0,k=k&&C.offscreen}var $=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,Y=y||0===t.numIconVertices;if($||Y?Y?$||(S=S&&O):O=S&&O:S=O=S&&O,O&&p&&p.box&&i.collisionIndex.insertCollisionBox(p.box,s.get("text-ignore-placement"),a.bucketInstanceId,A&&A.box&&M?M:R,v.ID),S&&C&&i.collisionIndex.insertCollisionBox(C.box,s.get("icon-ignore-placement"),a.bucketInstanceId,L,v.ID),I&&(O&&i.collisionIndex.insertCollisionCircles(I.circles,s.get("text-ignore-placement"),a.bucketInstanceId,R,v.ID),n)){var K=a.bucketInstanceId,J=i.collisionCircleArrays[K];void 0===J&&(J=i.collisionCircleArrays[K]=new mt);for(var Q=0;Q<I.circles.length;Q+=4)J.circles.push(I.circles[Q+0]),J.circles.push(I.circles[Q+1]),J.circles.push(I.circles[Q+2]),J.circles.push(I.collisionDetected?1:0)}i.placements[t.crossTileID]=new vt(O||E,S||j,k||a.justReloaded),r[t.crossTileID]=!0}};if(O)for(var k=a.getSortedSymbolIndexes(this.transform.angle),T=k.length-1;T>=0;--T){var P=k[T];S(a.symbolInstances.get(P),a.collisionArrays[P])}else for(var A=t.symbolInstanceStart;A<t.symbolInstanceEnd;A++)S(a.symbolInstances.get(A),a.collisionArrays[A]);if(n&&a.bucketInstanceId in this.collisionCircleArrays){var I=this.collisionCircleArrays[a.bucketInstanceId];e.invert(I.invProjMatrix,u),I.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},wt.prototype.markUsedJustification=function(t,r,n,i){var o;o=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(r)];for(var a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(t.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:n.crossTileID)}},wt.prototype.markUsedOrientation=function(t,r,n){for(var i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,o=r===e.WritingMode.vertical?r:0,a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];a<s.length;a+=1)t.text.placedSymbolArray.get(s[a]).placedOrientation=i;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=o)},wt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],c=i[s];c?(this.opacities[s]=new dt(c,n,u.text,u.icon),r=r||u.text!==c.text.placed||u.icon!==c.icon.placed):(this.opacities[s]=new dt(null,n,u.text,u.icon,u.skipFade),r=r||u.text||u.icon)}for(var l in i){var f=i[l];if(!this.opacities[l]){var h=new dt(f,n,!1,!1);h.isHidden()||(this.opacities[l]=h,r=r||f.text.placed||f.icon.placed)}}for(var p in o)this.variableOffsets[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.variableOffsets[p]=o[p]);for(var d in a)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=a[d]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},wt.prototype.updateLayerOpacities=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1){var o=i[n],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,o.collisionBoxArray)}},wt.prototype.updateBucketOpacities=function(t,r,n){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=new dt(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),c=o.get("text-variable-anchor"),l="map"===o.get("text-rotation-alignment"),f="map"===o.get("text-pitch-alignment"),h="none"!==o.get("icon-text-fit"),p=new dt(null,0,s&&(u||!t.hasIconData()||o.get("icon-optional")),u&&(s||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);for(var d=function(e,t,r){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)},v=function(n){var o=t.symbolInstances.get(n),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,v=o.crossTileID,m=i.opacities[v];r[v]?m=a:m||(i.opacities[v]=m=p),r[v]=!0;var y=o.numIconVertices>0,g=i.placedOrientations[o.crossTileID],b=g===e.WritingMode.vertical,_=g===e.WritingMode.horizontal||g===e.WritingMode.horizontalOnly;if(s>0||u>0){var w=At(m.text);d(t.text,s,b?It:w),d(t.text,u,_?It:w);var x=m.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=x||b?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=x||_?1:0);var O=i.variableOffsets[o.crossTileID];O&&i.markUsedJustification(t,O.anchor,o,g);var E=i.placedOrientations[o.crossTileID];E&&(i.markUsedJustification(t,"left",o,E),i.markUsedOrientation(t,E,o))}if(y){var j=At(m.icon),S=!(h&&o.verticalPlacedIconSymbolIndex&&b);o.placedIconSymbolIndex>=0&&(d(t.icon,o.numIconVertices,S?j:It),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=m.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(d(t.icon,o.numVerticalIconVertices,S?It:j),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var k=t.collisionArrays[n];if(k){var T=new e.Point(0,0);if(k.textBox||k.verticalTextBox){var P=!0;if(c){var A=i.variableOffsets[v];A?(T=bt(A.anchor,A.width,A.height,A.textOffset,A.textBoxScale),l&&T._rotate(f?i.transform.angle:-i.transform.angle)):P=!1}k.textBox&&xt(t.textCollisionBox.collisionVertexArray,m.text.placed,!P||b,T.x,T.y),k.verticalTextBox&&xt(t.textCollisionBox.collisionVertexArray,m.text.placed,!P||_,T.x,T.y)}var I=Boolean(!_&&k.verticalIconBox);k.iconBox&&xt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,I,h?T.x:0,h?T.y:0),k.verticalIconBox&&xt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!I,h?T.x:0,h?T.y:0)}}},m=0;m<t.symbolInstances.length;m++)v(m);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=y.invProjMatrix,t.placementViewportMatrix=y.viewportMatrix,t.collisionCircleArray=y.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},wt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},wt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},wt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},wt.prototype.stillRecent=function(e,t){var r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e},wt.prototype.setStale=function(){this.stale=!0};var Ot=Math.pow(2,25),Et=Math.pow(2,24),jt=Math.pow(2,17),St=Math.pow(2,16),kt=Math.pow(2,9),Tt=Math.pow(2,8),Pt=Math.pow(2,1);function At(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*Ot+t*Et+r*jt+t*St+r*kt+t*Tt+r*Pt+t}var It=0,Ct=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Ct.prototype.continuePlacement=function(e,t,r,n,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,r),this._currentPartIndex++,i())return!0;return!1};var Rt=function(e,t,r,n,i,o,a){this.placement=new wt(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};Rt.prototype.isDone=function(){return this._done},Rt.prototype.continuePlacement=function(t,r,n){for(var i=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Ct(s)),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Rt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Mt=512/e.EXTENT/2,Lt=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<t.length;n++){var i=t.get(n),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Lt.prototype.getScaledCoordinates=function(t,r){var n=Mt/Math.pow(2,r.canonical.z-this.tileID.canonical.z);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*n)}},Lt.prototype.findMatches=function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var o=e.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),u=0,c=a;u<c.length;u+=1){var l=c[u];if(Math.abs(l.coord.x-s.x)<=n&&Math.abs(l.coord.y-s.y)<=n&&!r[l.crossTileID]){r[l.crossTileID]=!0,o.crossTileID=l.crossTileID;break}}}}};var Dt=function(){this.maxCrossTileID=0};Dt.prototype.generate=function(){return++this.maxCrossTileID};var Nt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Nt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],i={};for(var o in n){var a=n[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),i[a.tileID.key]=a}this.indexes[r]=i}this.lng=e},Nt.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,i)}else{var c=a[e.scaledTo(Number(o)).key];c&&c.findMatches(t.symbolInstances,e,i)}}for(var l=0;l<t.symbolInstances.length;l++){var f=t.symbolInstances.get(l);f.crossTileID||(f.crossTileID=r.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Lt(e,t.symbolInstances,t.bucketInstanceId),!0},Nt.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var n=0,i=t.indexedSymbolInstances[r];n<i.length;n+=1)delete this.usedCrossTileIDs[e][i[n].crossTileID]},Nt.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t};var Ft=function(){this.layerIndexes={},this.crossTileIDs=new Dt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ft.prototype.addLayer=function(e,t,r){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Nt);var i=!1,o={};n.handleWrapJump(r);for(var a=0,s=t;a<s.length;a+=1){var u=s[a],c=u.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(u.tileID,c,this.crossTileIDs)&&(i=!0),o[c.bucketInstanceId]=!0)}return n.removeStaleBuckets(o)&&(i=!0),i},Ft.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var zt=function(t,r){return e.emitValidationErrors(t,r&&r.filter((function(e){return"source.canvas"!==e.identifier})))},Bt=e.pick(Ue,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ut=e.pick(Ue,["setCenter","setZoom","setBearing","setPitch"]),Vt=function(){var t={},r=e.styleSpec.$version;for(var n in e.styleSpec.$root){var i,o=e.styleSpec.$root[n];o.required&&null!=(i="version"===n?r:"array"===o.type?[]:{})&&(t[n]=i)}return t}(),Gt=function(t){function r(n,i){var o=this;void 0===i&&(i={}),t.call(this),this.map=n,this.dispatcher=new E(Fe(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new b(n._requestManager,i.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new Ft,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=r.registerForPluginStateChange((function(t){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,r){if(e.triggerPluginCompletionEvent(t),r&&r.every((function(e){return e})))for(var n in a.sourceCaches)a.sourceCaches[n].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in o._layers){var i=o._layers[n];i.source===r.id&&o._validateLayer(i)}}}}))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.loadURL=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)}))},r.prototype.loadJSON=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))},r.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Vt,!1)},r.prototype._load=function(t,r){if(!r||!zt(this,e.validateStyle(t))){for(var n in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(n,t.sources[n],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Be(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},r.prototype._loadSprite=function(t){var r=this;this._spriteRequest=function(t,r,n){var i,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",u=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){u=null,a||(a=e,i=t,l())})),c=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){c=null,a||(a=e,o=t,l())}));function l(){if(a)n(a);else if(i&&o){var t=e.browser.getImageData(o),r={};for(var s in i){var u=i[s],c=u.width,l=u.height,f=u.x,h=u.y,p=u.sdf,d=u.pixelRatio,v=u.stretchX,m=u.stretchY,y=u.content,g=new e.RGBAImage({width:c,height:l});e.RGBAImage.copy(t,g,{x:f,y:h},{x:0,y:0},{width:c,height:l}),r[s]={data:g,pixelRatio:d,sdf:p,stretchX:v,stretchY:m,content:y}}n(null,r)}}return{cancel:function(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(function(t,n){if(r._spriteRequest=null,t)r.fire(new e.ErrorEvent(t));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r._availableImages=r.imageManager.listImages(),r.dispatcher.broadcast("setImages",r._availableImages),r.fire(new e.Event("data",{dataType:"style"}))}))},r.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var n=t.sourceLayer;if(n){var i=r.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=this._layers[n[r]];"custom"!==i.type&&t.push(i.serialize())}return t},r.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(n.length||i.length)&&this._updateWorkerLayers(n,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var u={};for(var c in this.sourceCaches){var l=this.sourceCaches[c];u[c]=l.used,l.used=!1}for(var f=0,h=this._order;f<h.length;f+=1){var p=this._layers[h[f]];p.recalculate(t,this._availableImages),!p.isHidden(t.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}for(var d in u){var v=this.sourceCaches[d];u[d]!==v.used&&v.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}},r.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},r.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},r.prototype.setState=function(t){var r=this;if(this._checkLoaded(),zt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Be(t.layers);var n=function(t,r){if(!t)return[{command:Ue.setStyle,args:[r]}];var n=[];try{if(!e.deepEqual(t.version,r.version))return[{command:Ue.setStyle,args:[r]}];e.deepEqual(t.center,r.center)||n.push({command:Ue.setCenter,args:[r.center]}),e.deepEqual(t.zoom,r.zoom)||n.push({command:Ue.setZoom,args:[r.zoom]}),e.deepEqual(t.bearing,r.bearing)||n.push({command:Ue.setBearing,args:[r.bearing]}),e.deepEqual(t.pitch,r.pitch)||n.push({command:Ue.setPitch,args:[r.pitch]}),e.deepEqual(t.sprite,r.sprite)||n.push({command:Ue.setSprite,args:[r.sprite]}),e.deepEqual(t.glyphs,r.glyphs)||n.push({command:Ue.setGlyphs,args:[r.glyphs]}),e.deepEqual(t.transition,r.transition)||n.push({command:Ue.setTransition,args:[r.transition]}),e.deepEqual(t.light,r.light)||n.push({command:Ue.setLight,args:[r.light]});var i={},o=[];!function(t,r,n,i){var o;for(o in r=r||{},t=t||{})t.hasOwnProperty(o)&&(r.hasOwnProperty(o)||Ge(o,n,i));for(o in r)r.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],r[o])||("geojson"===t[o].type&&"geojson"===r[o].type&&We(t,r,o)?n.push({command:Ue.setGeoJSONSourceData,args:[o,r[o].data]}):qe(o,r,n,i)):Ve(o,r,n))}(t.sources,r.sources,o,i);var a=[];t.layers&&t.layers.forEach((function(e){i[e.source]?n.push({command:Ue.removeLayer,args:[e.id]}):a.push(e)})),n=n.concat(o),function(t,r,n){r=r||[];var i,o,a,s,u,c,l,f=(t=t||[]).map(Ze),h=r.map(Ze),p=t.reduce(Xe,{}),d=r.reduce(Xe,{}),v=f.slice(),m=Object.create(null);for(i=0,o=0;i<f.length;i++)d.hasOwnProperty(a=f[i])?o++:(n.push({command:Ue.removeLayer,args:[a]}),v.splice(v.indexOf(a,o),1));for(i=0,o=0;i<h.length;i++)v[v.length-1-i]!==(a=h[h.length-1-i])&&(p.hasOwnProperty(a)?(n.push({command:Ue.removeLayer,args:[a]}),v.splice(v.lastIndexOf(a,v.length-o),1)):o++,n.push({command:Ue.addLayer,args:[d[a],c=v[v.length-i]]}),v.splice(v.length-i,0,a),m[a]=!0);for(i=0;i<h.length;i++)if(s=p[a=h[i]],u=d[a],!m[a]&&!e.deepEqual(s,u))if(e.deepEqual(s.source,u.source)&&e.deepEqual(s["source-layer"],u["source-layer"])&&e.deepEqual(s.type,u.type)){for(l in He(s.layout,u.layout,n,a,null,Ue.setLayoutProperty),He(s.paint,u.paint,n,a,null,Ue.setPaintProperty),e.deepEqual(s.filter,u.filter)||n.push({command:Ue.setFilter,args:[a,u.filter]}),e.deepEqual(s.minzoom,u.minzoom)&&e.deepEqual(s.maxzoom,u.maxzoom)||n.push({command:Ue.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?He(s[l],u[l],n,a,l.slice(6),Ue.setPaintProperty):e.deepEqual(s[l],u[l])||n.push({command:Ue.setLayerProperty,args:[a,l,u[l]]}));for(l in u)u.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?He(s[l],u[l],n,a,l.slice(6),Ue.setPaintProperty):e.deepEqual(s[l],u[l])||n.push({command:Ue.setLayerProperty,args:[a,l,u[l]]}))}else n.push({command:Ue.removeLayer,args:[a]}),c=v[v.lastIndexOf(a)+1],n.push({command:Ue.addLayer,args:[u,c]})}(a,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:Ue.setStyle,args:[r]}]}return n}(this.serialize(),t).filter((function(e){return!(e.command in Ut)}));if(0===n.length)return!1;var i=n.filter((function(e){return!(e.command in Bt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return n.forEach((function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=t,!0},r.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this._afterImageUpdated(t)},r.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},r.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},r.prototype.addSource=function(t,r,n){var i=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,r,null,n))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var o=this.sourceCaches[t]=new Ae(t,r,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===t.type){if(zt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},n))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},r.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},r.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.hasLayer=function(e){return e in this._layers},r.prototype.setLayerZoomRange=function(t,r,n){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},r.prototype.setFilter=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,r))return null==r?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",r,null,n)||(i.filter=e.clone$1(r),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},r.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},r.prototype.setLayoutProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(r),n)||(o.setLayoutProperty(r,n,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getLayoutProperty=function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},r.prototype.setPaintProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(r),n)||(o.setPaintProperty(r,n,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},r.prototype.setFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=t.sourceLayer,o=this.sourceCaches[n];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,r)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.removeFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=this.sourceCaches[n];if(void 0!==i){var o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,i=this.sourceCaches[r];if(void 0!==i){if("vector"!==i.getSource().type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},r.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(r(a)){n[a]=o;for(var s=0,u=e;s<u.length;s+=1){var c=u[s][a];if(c)for(var l=0,f=c;l<f.length;l+=1)i.push(f[l])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var h=[],p=this._order.length-1;p>=0;p--){var d=this._order[p];if(r(d))for(var v=i.length-1;v>=0;v--){var m=i[v].feature;if(n[m.layer.id]<p)break;h.push(m),i.pop()}else for(var y=0,g=e;y<g.length;y+=1){var b=g[y][d];if(b)for(var _=0,w=b;_<w.length;_+=1)h.push(w[_].feature)}}return h},r.prototype.queryRenderedFeatures=function(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);var i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=r.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var c=[];for(var l in r.availableImages=this._availableImages,this.sourceCaches)r.layers&&!i[l]||c.push(N(this.sourceCaches[l],this._layers,this._serializedLayers,t,r,n));return this.placement&&c.push(function(e,t,r,n,i,o,a){for(var s={},u=o.queryRenderedSymbols(n),c=[],l=0,f=Object.keys(u).map(Number);l<f.length;l+=1)c.push(a[f[l]]);c.sort(F);for(var h=function(){var r=d[p],n=r.featureIndex.lookupSymbolFeatures(u[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var o in n){var a=s[o]=s[o]||[],c=n[o];c.sort((function(e,t){var n=r.featureSortOrder;if(n){var i=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var l=0,f=c;l<f.length;l+=1)a.push(f[l])}},p=0,d=c;p<d.length;p+=1)h();var v=function(t){s[t].forEach((function(n){var i=n.feature,o=r[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var m in s)v(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)},r.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r);var n=this.sourceCaches[t];return n?function(e,t){for(var r=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],i={},o=0;o<r.length;o++){var a=r[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(n,t))}return n}(n,r):[]},r.prototype.addSourceType=function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(t,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),i=!1;for(var o in t)if(!e.deepEqual(t[o],n[o])){i=!0;break}if(i){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(a)}},r.prototype._validate=function(t,r,n,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&zt(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.styleSpec},i)))},r.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var r in this.sourceCaches)this.sourceCaches[r].clearTiles(),this.sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},r.prototype._updatePlacement=function(t,r,n,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,u={},c=0,l=this._order;c<l.length;c+=1){var f=this._layers[l[c]];if("symbol"===f.type){if(!u[f.source]){var h=this.sourceCaches[f.source];u[f.source]=h.getRenderableIds(!0).map((function(e){return h.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var p=this.crossTileSymbolIndex.addLayer(f,u[f.source],t.center.lng);a=a||p}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Rt(t,this._order,o,r,n,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var d=0,v=this._order;d<v.length;d+=1){var m=this._layers[v[d]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,u[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},r.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},r.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();var n=this.sourceCaches[t.source];n&&n.setDependencies(t.tileID.key,t.type,t.icons)},r.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},r.prototype.getResource=function(t,r,n){return e.makeRequest(r,n)},r}(e.Evented);Gt.getSourceType=function(e){return L[e]},Gt.setSourceType=function(e,t){L[e]=t},Gt.registerForPluginStateChange=e.registerForPluginStateChange;var qt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Wt=yr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ht=yr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zt=yr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Xt=yr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),$t=yr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yt=yr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Kt=yr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Jt=yr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qt=yr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),er=yr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tr=yr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),rr=yr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),nr=yr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ir=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),or=yr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),ar=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),sr=yr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ur=yr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cr=yr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),lr=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),fr=yr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),hr=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),pr=yr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),dr=yr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vr=yr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),mr=yr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yr(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(r,(function(e,t,r,n,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+n+" "+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(r,(function(e,t,r,n,i){var o="float"===n?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+o+" a_"+i+";\nvarying "+r+" "+n+" "+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+o+" a_"+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = a_"+i+";\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:n,staticUniforms:a}}var gr=Object.freeze({__proto__:null,prelude:Wt,background:Ht,backgroundPattern:Zt,circle:Xt,clippingMask:$t,heatmap:Yt,heatmapTexture:Kt,collisionBox:Jt,collisionCircle:Qt,debug:er,fill:tr,fillOutline:rr,fillOutlinePattern:nr,fillPattern:ir,fillExtrusion:or,fillExtrusionPattern:ar,hillshadePrepare:sr,hillshade:ur,line:cr,lineGradient:lr,linePattern:fr,lineSDF:hr,raster:pr,symbolIcon:dr,symbolSDF:vr,symbolTextAndIcon:mr}),br=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function _r(e){for(var t=[],r=0;r<e.length;r++)if(null!==e[r]){var n=e[r].split(" ");t.push(n.pop())}return t}br.prototype.bind=function(e,t,r,n,i,o,a,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==n.length,c=0;!u&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===r&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,r,n,i,o,a,s)},br.prototype.freshBind=function(e,t,r,n,i,o,a){var s,u=e.numAttributes,c=this.context,l=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var f=u;f<s;f++)l.disableVertexAttribArray(f)}t.enableAttributes(l,e);for(var h=0,p=r;h<p.length;h+=1)p[h].enableAttributes(l,e);o&&o.enableAttributes(l,e),a&&a.enableAttributes(l,e),t.bind(),t.setVertexAttribPointers(l,e,i);for(var d=0,v=r;d<v.length;d+=1){var m=v[d];m.bind(),m.setVertexAttribPointers(l,e,i)}o&&(o.bind(),o.setVertexAttribPointers(l,e,i)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(l,e,i)),c.currentNumAttributes=u},br.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wr=function(e,t,r,n,i,o){var a=e.gl;this.program=a.createProgram();for(var s=_r(r.staticAttributes),u=n?n.getBinderAttributes():[],c=s.concat(u),l=r.staticUniforms?_r(r.staticUniforms):[],f=n?n.getBinderUniforms():[],h=[],p=0,d=l.concat(f);p<d.length;p+=1){var v=d[p];h.indexOf(v)<0&&h.push(v)}var m=n?n.defines():[];o&&m.push("#define OVERDRAW_INSPECTOR;");var y=m.concat(Wt.fragmentSource,r.fragmentSource).join("\n"),g=m.concat(Wt.vertexSource,r.vertexSource).join("\n"),b=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,y),a.compileShader(b),a.attachShader(this.program,b);var _=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,g),a.compileShader(_),a.attachShader(this.program,_),this.attributes={};var w={};this.numAttributes=c.length;for(var x=0;x<this.numAttributes;x++)c[x]&&(a.bindAttribLocation(this.program,x,c[x]),this.attributes[c[x]]=x);a.linkProgram(this.program),a.deleteShader(_),a.deleteShader(b);for(var O=0;O<h.length;O++){var E=h[O];if(E&&!w[E]){var j=a.getUniformLocation(this.program,E);j&&(w[E]=j)}}this.fixedUniforms=i(e,w),this.binderUniforms=n?n.getUniforms(e,w):[]}}};function xr(e,t,r){var n=1/ht(r,1,t.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ),o=r.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(r.tileID.canonical.x+r.tileID.wrap*i),s=o*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wr.prototype.draw=function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v){var m,y=e.gl;if(!this.failedToCreate){for(var g in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[g].set(a[g]);p&&p.setUniforms(e,this.binderUniforms,f,{zoom:h});for(var b=(m={},m[y.LINES]=2,m[y.TRIANGLES]=3,m[y.LINE_STRIP]=1,m)[t],_=0,w=l.get();_<w.length;_+=1){var x=w[_],O=x.vaos||(x.vaos={});(O[s]||(O[s]=new br)).bind(e,this,u,p?p.getPaintVertexBuffers():[],c,x.vertexOffset,d,v),y.drawElements(t,x.primitiveLength*b,y.UNSIGNED_SHORT,x.primitiveOffset*b*2)}}};var Or=function(t,r,n,i){var o=r.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(u,-r.transform.angle),e.transformMat3(s,s,u);var c=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+n,u_opacity:i}},Er=function(t,r,n,i,o,a,s){return e.extend(Or(t,r,n,i),xr(a,r,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},jr=function(e){return{u_matrix:e}},Sr=function(t,r,n,i){return e.extend(jr(t),xr(n,r,i))},kr=function(e,t){return{u_matrix:e,u_world:t}},Tr=function(t,r,n,i,o){return e.extend(Sr(t,r,n,i),{u_world:o})},Pr=function(t,r,n,i){var o,a,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=ht(n,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(r.posMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:a}},Ar=function(e,t,r){var n=ht(r,1,t.zoom),i=Math.pow(2,t.zoom-r.tileID.overscaledZ),o=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*i),t.pixelsToGLUnits[1]/(n*i)],u_overscale_factor:o}},Ir=function(e,t,r){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:r.cameraToCenterDistance,u_viewport_size:[r.width,r.height]}},Cr=function(e,t,r){return void 0===r&&(r=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:r}},Rr=function(e){return{u_matrix:e}},Mr=function(e,t,r,n){return{u_matrix:e,u_extrude_scale:ht(t,1,r),u_intensity:n}},Lr=function(t,r,n){var i=t.transform;return{u_matrix:Br(t,r,n),u_ratio:1/ht(r,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Dr=function(t,r,n,i){return e.extend(Lr(t,r,n),{u_image:0,u_image_height:i})},Nr=function(t,r,n,i){var o=t.transform,a=zr(r,o);return{u_matrix:Br(t,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/ht(r,1,o.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Fr=function(t,r,n,i,o){var a=t.lineAtlas,s=zr(r,t.transform),u="round"===n.layout.get("line-cap"),c=a.getDash(i.from,u),l=a.getDash(i.to,u),f=c.width*o.fromScale,h=l.width*o.toScale;return e.extend(Lr(t,r,n),{u_patternscale_a:[s/f,-c.height/2],u_patternscale_b:[s/h,-l.height/2],u_sdfgamma:a.width/(256*Math.min(f,h)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:l.y,u_mix:o.t})};function zr(e,t){return 1/ht(e,1,t.tileZoom)}function Br(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var Ur=function(e,t,r,n,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Vr(i.paint.get("raster-hue-rotate"))};var o,a};function Vr(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}var Gr,qr=function(e,t,r,n,i,o,a,s,u,c){var l=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:l.cameraToCenterDistance,u_pitch:l.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:l.width/l.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},Wr=function(t,r,n,i,o,a,s,u,c,l,f){var h=o.transform;return e.extend(qr(t,r,n,i,o,a,s,u,c,l),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+f})},Hr=function(t,r,n,i,o,a,s,u,c,l){return e.extend(Wr(t,r,n,i,o,a,s,u,!0,c,!0),{u_texsize_icon:l,u_texture_icon:1})},Zr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},Xr=function(t,r,n,i,o,a){return e.extend(function(e,t,r,n){var i=r.imageManager.getPattern(e.from.toString()),o=r.imageManager.getPattern(e.to.toString()),a=r.imageManager.getPixelSize(),s=a.width,u=a.height,c=Math.pow(2,n.tileID.overscaledZ),l=n.tileSize*Math.pow(2,r.transform.tileZoom)/c,f=l*(n.tileID.canonical.x+n.tileID.wrap*c),h=l*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ht(n,1,r.transform.tileZoom),u_pixel_coord_upper:[f>>16,h>>16],u_pixel_coord_lower:[65535&f,65535&h]}}(i,a,n,o),{u_matrix:t,u_opacity:r})},$r={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},collisionCircle:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,r.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,r.u_viewport_size)}},debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_overlay:new e.Uniform1i(t,r.u_overlay),u_overlay_scale:new e.Uniform1f(t,r.u_overlay_scale)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image),u_image_height:new e.Uniform1f(t,r.u_image_height)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},symbolTextAndIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}};function Yr(t,r,n,i,o,a,s){for(var u=t.context,c=u.gl,l=t.useProgram("collisionBox"),f=[],h=0,p=0,d=0;d<i.length;d++){var v=i[d],m=r.getTile(v),y=m.getBucket(n);if(y){var g=v.posMatrix;0===o[0]&&0===o[1]||(g=t.translatePosMatrix(v.posMatrix,m,o,a));var b=s?y.textCollisionBox:y.iconCollisionBox,_=y.collisionCircleArray;if(_.length>0){var w=e.create(),x=g;e.mul(w,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(w,w,y.placementViewportMatrix),f.push({circleArray:_,circleOffset:p,transform:x,invTransform:w}),p=h+=_.length/4}b&&l.draw(u,c.LINES,je.disabled,Se.disabled,t.colorModeForRenderPass(),Te.disabled,Ar(g,t.transform,m),n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,null,b.collisionVertexBuffer)}}if(s&&f.length){var O=t.useProgram("collisionCircle"),E=new e.StructArrayLayout2f1f2i16;E.resize(4*h),E._trim();for(var j=0,S=0,k=f;S<k.length;S+=1)for(var T=k[S],P=0;P<T.circleArray.length/4;P++){var A=4*P,I=T.circleArray[A+0],C=T.circleArray[A+1],R=T.circleArray[A+2],M=T.circleArray[A+3];E.emplace(j++,I,C,R,M,0),E.emplace(j++,I,C,R,M,1),E.emplace(j++,I,C,R,M,2),E.emplace(j++,I,C,R,M,3)}(!Gr||Gr.length<2*h)&&(Gr=function(t){var r=2*t,n=new e.StructArrayLayout3ui6;n.resize(r),n._trim();for(var i=0;i<r;i++){var o=6*i;n.uint16[o+0]=4*i+0,n.uint16[o+1]=4*i+1,n.uint16[o+2]=4*i+2,n.uint16[o+3]=4*i+2,n.uint16[o+4]=4*i+3,n.uint16[o+5]=4*i+0}return n}(h));for(var L=u.createIndexBuffer(Gr,!0),D=u.createVertexBuffer(E,e.collisionCircleLayout.members,!0),N=0,F=f;N<F.length;N+=1){var z=F[N],B=Ir(z.transform,z.invTransform,t.transform);O.draw(u,c.TRIANGLES,je.disabled,Se.disabled,t.colorModeForRenderPass(),Te.disabled,B,n.id,D,L,e.SegmentVector.simpleSegment(0,2*z.circleOffset,z.circleArray.length,z.circleArray.length/2),null,t.transform.zoom,null,null,null)}D.destroy(),L.destroy()}}var Kr=e.identity(new Float32Array(16));function Jr(t,r,n,i,o,a){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*r,c=-(s.verticalAlign-.5)*n,l=e.evaluateVariableOffset(t,i);return new e.Point((u/o+l[0])*a,(c/o+l[1])*a)}function Qr(t,r,n,i,o,a,s,u,c,l,f){var h=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,d=t.icon.dynamicLayoutVertexArray,v={};p.clear();for(var m=0;m<h.length;m++){var y=h.get(m),g=y.hidden||!y.crossTileID||t.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(g){var b=new e.Point(y.anchorX,y.anchorY),_=Qe(b,n?u:s),w=et(a.cameraToCenterDistance,_.signedDistanceFromCamera),x=o.evaluateSizeForFeature(t.textSizeData,l,y)*w/e.ONE_EM;n&&(x*=t.tilePixelRatio/c);for(var O=Jr(g.anchor,g.width,g.height,g.textOffset,g.textBoxScale,x),E=n?Qe(b.add(O),s).point:_.point.add(r?O.rotate(-a.angle):O),j=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,S=0;S<y.numGlyphs;S++)e.addDynamicAttributes(p,E,j);f&&y.associatedIconIndex>=0&&(v[y.associatedIconIndex]={shiftedAnchor:E,angle:j})}else ct(y.numGlyphs,p)}if(f){d.clear();for(var k=t.icon.placedSymbolArray,T=0;T<k.length;T++){var P=k.get(T);if(P.hidden)ct(P.numGlyphs,d);else{var A=v[T];if(A)for(var I=0;I<P.numGlyphs;I++)e.addDynamicAttributes(d,A.shiftedAnchor,A.angle);else ct(P.numGlyphs,d)}}t.icon.dynamicLayoutVertexBuffer.updateData(d)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function en(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function tn(t,r,n,i,o,a,s,u,c,l,f,h){for(var p=t.context,d=p.gl,v=t.transform,m="map"===u,y="map"===c,g=m&&"point"!==n.layout.get("symbol-placement"),b=m&&!y&&!g,_=void 0!==n.layout.get("symbol-sort-key").constantOr(1),w=!1,x=t.depthModeForSublayer(0,je.ReadOnly),O=n.layout.get("text-variable-anchor"),E=[],j=0,S=i;j<S.length;j+=1){var k=S[j],T=r.getTile(k),P=T.getBucket(n);if(P){var A=o?P.text:P.icon;if(A&&A.segments.get().length){var I=A.programConfigurations.get(n.id),C=o||P.sdfIcons,R=o?P.textSizeData:P.iconSizeData,M=y||0!==v.pitch,L=t.useProgram(en(C,o,P),I),D=e.evaluateSizeForZoom(R,v.zoom),N=void 0,F=[0,0],z=void 0,B=void 0,U=null,V=void 0;if(o)z=T.glyphAtlasTexture,B=d.LINEAR,N=T.glyphAtlasTexture.size,P.iconsInText&&(F=T.imageAtlasTexture.size,U=T.imageAtlasTexture,V=M||t.options.rotating||t.options.zooming||"composite"===R.kind||"camera"===R.kind?d.LINEAR:d.NEAREST);else{var G=1!==n.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear;z=T.imageAtlasTexture,B=C||t.options.rotating||t.options.zooming||G||M?d.LINEAR:d.NEAREST,N=T.imageAtlasTexture.size}var q=ht(T,1,t.transform.zoom),W=Ke(k.posMatrix,y,m,t.transform,q),H=Je(k.posMatrix,y,m,t.transform,q),Z=O&&P.hasTextData(),X="none"!==n.layout.get("icon-text-fit")&&Z&&P.hasIconData();g&&rt(P,k.posMatrix,t,o,W,H,y,l);var $=t.translatePosMatrix(k.posMatrix,T,a,s),Y=g||o&&O||X?Kr:W,K=t.translatePosMatrix(H,T,a,s,!0),J=C&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:L,buffers:A,uniformValues:C?P.iconsInText?Hr(R.kind,D,b,y,t,$,Y,K,N,F):Wr(R.kind,D,b,y,t,$,Y,K,o,N,!0):qr(R.kind,D,b,y,t,$,Y,K,o,N),atlasTexture:z,atlasTextureIcon:U,atlasInterpolation:B,atlasInterpolationIcon:V,isSDF:C,hasHalo:J};if(_&&P.canOverlap){w=!0;for(var ee=0,te=A.segments.get();ee<te.length;ee+=1){var re=te[ee];E.push({segments:new e.SegmentVector([re]),sortKey:re.sortKey,state:Q})}}else E.push({segments:A.segments,sortKey:0,state:Q})}}}w&&E.sort((function(e,t){return e.sortKey-t.sortKey}));for(var ne=0,ie=E;ne<ie.length;ne+=1){var oe=ie[ne],ae=oe.state;if(p.activeTexture.set(d.TEXTURE0),ae.atlasTexture.bind(ae.atlasInterpolation,d.CLAMP_TO_EDGE),ae.atlasTextureIcon&&(p.activeTexture.set(d.TEXTURE1),ae.atlasTextureIcon&&ae.atlasTextureIcon.bind(ae.atlasInterpolationIcon,d.CLAMP_TO_EDGE)),ae.isSDF){var se=ae.uniformValues;ae.hasHalo&&(se.u_is_halo=1,rn(ae.buffers,oe.segments,n,t,ae.program,x,f,h,se)),se.u_is_halo=0}rn(ae.buffers,oe.segments,n,t,ae.program,x,f,h,ae.uniformValues)}}function rn(e,t,r,n,i,o,a,s,u){var c=n.context;i.draw(c,c.gl.TRIANGLES,o,a,s,Te.disabled,u,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function nn(e,t,r,n,i,o,a){var s,u,c,l,f,h=e.context.gl,p=r.paint.get("fill-pattern"),d=p&&p.constantOr(1),v=r.getCrossfadeParameters();a?(u=d&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(u=d?"fillPattern":"fill",s=h.TRIANGLES);for(var m=0,y=n;m<y.length;m+=1){var g=y[m],b=t.getTile(g);if(!d||b.patternsLoaded()){var _=b.getBucket(r);if(_){var w=_.programConfigurations.get(r.id),x=e.useProgram(u,w);d&&(e.context.activeTexture.set(h.TEXTURE0),b.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),w.updatePaintBuffers(v));var O=p.constantOr(null);if(O&&b.imageAtlas){var E=b.imageAtlas,j=E.patternPositions[O.to.toString()],S=E.patternPositions[O.from.toString()];j&&S&&w.setConstantPatternPositions(j,S)}var k=e.translatePosMatrix(g.posMatrix,b,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(a){l=_.indexBuffer2,f=_.segments2;var T=[h.drawingBufferWidth,h.drawingBufferHeight];c="fillOutlinePattern"===u&&d?Tr(k,e,v,b,T):kr(k,T)}else l=_.indexBuffer,f=_.segments,c=d?Sr(k,e,v,b):jr(k);x.draw(e.context,s,i,e.stencilModeForClipping(g),o,Te.disabled,c,r.id,_.layoutVertexBuffer,l,f,r.paint,e.transform.zoom,w)}}}}function on(e,t,r,n,i,o,a){for(var s=e.context,u=s.gl,c=r.paint.get("fill-extrusion-pattern"),l=c.constantOr(1),f=r.getCrossfadeParameters(),h=r.paint.get("fill-extrusion-opacity"),p=0,d=n;p<d.length;p+=1){var v=d[p],m=t.getTile(v),y=m.getBucket(r);if(y){var g=y.programConfigurations.get(r.id),b=e.useProgram(l?"fillExtrusionPattern":"fillExtrusion",g);l&&(e.context.activeTexture.set(u.TEXTURE0),m.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),g.updatePaintBuffers(f));var _=c.constantOr(null);if(_&&m.imageAtlas){var w=m.imageAtlas,x=w.patternPositions[_.to.toString()],O=w.patternPositions[_.from.toString()];x&&O&&g.setConstantPatternPositions(x,O)}var E=e.translatePosMatrix(v.posMatrix,m,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),j=r.paint.get("fill-extrusion-vertical-gradient"),S=l?Er(E,e,j,h,v,f,m):Or(E,e,j,h);b.draw(s,s.gl.TRIANGLES,i,o,a,Te.backCCW,S,r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,r.paint,e.transform.zoom,g)}}}function an(t,r,n,i,o,a){var s=t.context,u=s.gl,c=r.fbo;if(c){var l=t.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c.colorAttachment.get());var f=function(t,r,n){var i=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var u,c,l,f=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(r.tileID.toUnwrapped(),f),u_image:0,u_latrange:(u=r.tileID,c=Math.pow(2,u.canonical.z),l=u.canonical.y,[new e.MercatorCoordinate(0,l/c).toLngLat().lat,new e.MercatorCoordinate(0,(l+1)/c).toLngLat().lat]),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(t,r,n);l.draw(s,u.TRIANGLES,i,o,a,Te.disabled,f,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sn(t,r,n,i,o,a){var s=t.context,u=s.gl,c=r.dem;if(c&&c.data){var l=c.dim,f=c.stride,h=c.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(f),r.demTexture){var p=r.demTexture;p.update(h,{premultiply:!1}),p.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(s,h,u.RGBA,{premultiply:!1}),r.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var d=r.fbo;if(!d){var v=new e.Texture(s,{width:l,height:l,data:null},u.RGBA);v.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=r.fbo=s.createFramebuffer(l,l,!0)).colorAttachment.set(v.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,l,l]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,o,a,Te.disabled,function(t,r){var n=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.getUnpackVector()}}(r.tileID,c),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function un(t,r,n,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),u=(s-t.timeAdded)/a,c=r?(s-r.timeAdded)/a:-1,l=n.getSource(),f=o.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!r||Math.abs(r.tileID.overscaledZ-f)>Math.abs(t.tileID.overscaledZ-f),p=h&&t.refreshedUponExpiration?1:e.clamp(h?u:1-c,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}var cn=new e.Color(1,0,0,1),ln=new e.Color(0,1,0,1),fn=new e.Color(0,0,1,1),hn=new e.Color(1,0,1,1),pn=new e.Color(0,1,1,1);function dn(e,t,r,n){mn(e,0,t+r/2,e.transform.width,r,n)}function vn(e,t,r,n){mn(e,t-r/2,0,r,e.transform.height,n)}function mn(t,r,n,i,o,a){var s=t.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(r*e.browser.devicePixelRatio,n*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,o*e.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function yn(t,r,n){var i=t.context,o=i.gl,a=n.posMatrix,s=t.useProgram("debug"),u=je.disabled,c=Se.disabled,l=t.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,u,c,l,Te.disabled,Cr(a,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var f=r.getTileByID(n.key).latestRawTileData,h=Math.floor((f&&f.byteLength||0)/1024),p=r.getTile(n).tileSize,d=512/Math.min(p,512)*(n.overscaledZ/t.transform.zoom)*.5,v=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(v+=" => "+n.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,v+" "+h+"kb"),s.draw(i,o.TRIANGLES,u,c,ke.alphaBlended,Te.disabled,Cr(a,e.Color.transparent,d),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var gn={symbol:function(t,r,n,i,o){if("translucent"===t.renderPass){var a=Se.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,i,o,a,s){for(var u=r.transform,c="map"===o,l="map"===a,f=0,h=t;f<h.length;f+=1){var p=h[f],d=i.getTile(p),v=d.getBucket(n);if(v&&v.text&&v.text.segments.get().length){var m=e.evaluateSizeForZoom(v.textSizeData,u.zoom),y=ht(d,1,r.transform.zoom),g=Ke(p.posMatrix,l,c,r.transform,y),b="none"!==n.layout.get("icon-text-fit")&&v.hasIconData();if(m){var _=Math.pow(2,u.zoom-d.tileID.overscaledZ);Qr(v,c,l,s,e.symbolSize,u,g,p.posMatrix,_,m,b)}}}}(i,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),o),0!==n.paint.get("icon-opacity").constantOr(1)&&tn(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&tn(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),r.map.showCollisionBoxes&&(Yr(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Yr(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,r,n,i){if("translucent"===t.renderPass){var o=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),u=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var c=t.context,l=c.gl,f=t.depthModeForSublayer(0,je.ReadOnly),h=Se.disabled,p=t.colorModeForRenderPass(),d=[],v=0;v<i.length;v++){var m=i[v],y=r.getTile(m),g=y.getBucket(n);if(g){var b=g.programConfigurations.get(n.id),_={programConfiguration:b,program:t.useProgram("circle",b),layoutVertexBuffer:g.layoutVertexBuffer,indexBuffer:g.indexBuffer,uniformValues:Pr(t,m,y,n)};if(u)for(var w=0,x=g.segments.get();w<x.length;w+=1){var O=x[w];d.push({segments:new e.SegmentVector([O]),sortKey:O.sortKey,state:_})}else d.push({segments:g.segments,sortKey:0,state:_})}}u&&d.sort((function(e,t){return e.sortKey-t.sortKey}));for(var E=0,j=d;E<j.length;E+=1){var S=j[E],k=S.state;k.program.draw(c,l.TRIANGLES,f,h,p,Te.disabled,k.uniformValues,n.id,k.layoutVertexBuffer,k.indexBuffer,S.segments,n.paint,t.transform.zoom,k.programConfiguration)}}}},heatmap:function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=Se.disabled,u=new ke([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=r.heatmapFbo;if(i)n.bindTexture(n.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),i=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,r,n){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),n.colorAttachment.set(r)}(e,t,o,i)}}(o,t,n),o.clear({color:e.Color.transparent});for(var c=0;c<i.length;c++){var l=i[c];if(!r.hasRenderableParent(l)){var f=r.getTile(l),h=f.getBucket(n);if(h){var p=h.programConfigurations.get(n.id);t.useProgram("heatmap",p).draw(o,a.TRIANGLES,je.disabled,s,u,Te.disabled,Mr(l.posMatrix,f,t.transform.zoom,n.paint.get("heatmap-intensity")),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,n.paint,t.transform.zoom,p)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,i=n.gl,o=r.heatmapFbo;if(o){n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(n,r.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,je.disabled,Se.disabled,t.colorModeForRenderPass(),Te.disabled,function(t,r,n,i){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:r.paint.get("heatmap-opacity")}}(t,r),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,i){if("translucent"===t.renderPass){var o=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.depthModeForSublayer(0,je.ReadOnly),u=t.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),l=n.paint.get("line-pattern"),f=l.constantOr(1),h=n.paint.get("line-gradient"),p=n.getCrossfadeParameters(),d=f?"linePattern":c?"lineSDF":h?"lineGradient":"line",v=t.context,m=v.gl,y=!0,g=0,b=i;g<b.length;g+=1){var _=b[g],w=r.getTile(_);if(!f||w.patternsLoaded()){var x=w.getBucket(n);if(x){var O=x.programConfigurations.get(n.id),E=t.context.program.get(),j=t.useProgram(d,O),S=y||j.program!==E,k=l.constantOr(null);if(k&&w.imageAtlas){var T=w.imageAtlas,P=T.patternPositions[k.to.toString()],A=T.patternPositions[k.from.toString()];P&&A&&O.setConstantPatternPositions(P,A)}var I=f?Nr(t,w,n,p):c?Fr(t,w,n,c,p):h?Dr(t,w,n,x.lineClipsArray.length):Lr(t,w,n);if(f)v.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),O.updatePaintBuffers(p);else if(c&&(S||t.lineAtlas.dirty))v.activeTexture.set(m.TEXTURE0),t.lineAtlas.bind(v);else if(h){var C=x.gradients[n.id],R=C.texture;if(n.gradientVersion!==C.version){var M=256;if(n.stepInterpolant){var L=r.getSource().maxzoom,D=_.canonical.z===L?Math.ceil(1<<t.transform.maxZoom-_.canonical.z):1;M=e.clamp(e.nextPowerOfTwo(x.maxLineLength/e.EXTENT*1024*D),256,v.maxTextureSize)}C.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:M,image:C.gradient||void 0,clips:x.lineClipsArray}),C.texture?C.texture.update(C.gradient):C.texture=new e.Texture(v,C.gradient,m.RGBA),C.version=n.gradientVersion,R=C.texture}v.activeTexture.set(m.TEXTURE0),R.bind(n.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}j.draw(v,m.TRIANGLES,s,t.stencilModeForClipping(_),u,Te.disabled,I,n.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,n.paint,t.transform.zoom,O,x.layoutVertexBuffer2),y=!1}}}}},fill:function(t,r,n,i){var o=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),u=n.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){var l=t.depthModeForSublayer(1,"opaque"===t.renderPass?je.ReadWrite:je.ReadOnly);nn(t,r,n,i,l,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var f=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,je.ReadOnly);nn(t,r,n,i,f,s,!0)}}},"fill-extrusion":function(e,t,r,n){var i=r.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var o=new je(e.context.gl.LEQUAL,je.ReadWrite,e.depthRangeFor3D);if(1!==i||r.paint.get("fill-extrusion-pattern").constantOr(1))on(e,t,r,n,o,Se.disabled,ke.disabled),on(e,t,r,n,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();on(e,t,r,n,o,Se.disabled,a)}}},hillshade:function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,o=e.depthModeForSublayer(0,je.ReadOnly),a=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(n):[{},n],u=s[0],c=0,l=s[1];c<l.length;c+=1){var f=l[c],h=t.getTile(f);h.needsHillshadePrepare&&"offscreen"===e.renderPass?sn(e,h,r,o,Se.disabled,a):"translucent"===e.renderPass&&an(e,h,r,o,u[f.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity")&&n.length)for(var i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),u=e.colorModeForRenderPass(),c=a instanceof C?[{},n]:e.stencilConfigForOverlap(n),l=c[0],f=c[1],h=f[f.length-1].overscaledZ,p=!e.options.moving,d=0,v=f;d<v.length;d+=1){var m=v[d],y=e.depthModeForSublayer(m.overscaledZ-h,1===r.paint.get("raster-opacity")?je.ReadWrite:je.ReadOnly,o.LESS),g=t.getTile(m),b=e.transform.calculatePosMatrix(m.toUnwrapped(),p);g.registerFadeDuration(r.paint.get("raster-fade-duration"));var _=t.findLoadedParent(m,0),w=un(g,_,t,r,e.transform),x=void 0,O=void 0,E="nearest"===r.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),g.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),_?(_.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,_.tileID.overscaledZ-g.tileID.overscaledZ),O=[g.tileID.canonical.x*x%1,g.tileID.canonical.y*x%1]):g.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var j=Ur(b,O||[0,0],x||1,w,r);a instanceof C?s.draw(i,o.TRIANGLES,y,Se.disabled,u,Te.disabled,j,r.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,y,l[m.overscaledZ],u,Te.disabled,j,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var n=r.paint.get("background-color"),i=r.paint.get("background-opacity");if(0!==i){var o=e.context,a=o.gl,s=e.transform,u=s.tileSize,c=r.paint.get("background-pattern");if(!e.isPatternMissing(c)){var l=!c&&1===n.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===l){var f=Se.disabled,h=e.depthModeForSublayer(0,"opaque"===l?je.ReadWrite:je.ReadOnly),p=e.colorModeForRenderPass(),d=e.useProgram(c?"backgroundPattern":"background"),v=s.coveringTiles({tileSize:u});c&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var m=r.getCrossfadeParameters(),y=0,g=v;y<g.length;y+=1){var b=g[y],_=e.transform.calculatePosMatrix(b.toUnwrapped()),w=c?Xr(_,i,e,c,{tileID:b,tileSize:u},m):Zr(_,i,n);d.draw(o,a.TRIANGLES,h,f,p,Te.disabled,w,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var n=0;n<r.length;n++)yn(e,t,r[n])},custom:function(e,t,r){var n=e.context,i=r.implementation;if("offscreen"===e.renderPass){var o=i.prerender;o&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),o.call(i,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Se.disabled);var a="3d"===i.renderingMode?new je(e.context.gl.LEQUAL,je.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,je.ReadOnly);n.setDepthMode(a),i.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},bn=function(e,t){this.context=new Pe(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Ae.maxUnderzooming+Ae.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ft,this.gpuTimers={}};bn.prototype.resize=function(t,r){if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,i=this.style._order;n<i.length;n+=1)this.style._layers[i[n]].resize()},bn.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,qt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,qt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,I.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,qt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Se({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},bn.prototype.clearStencil=function(){var t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,je.disabled,this.stencilClearMode,ke.disabled,Te.disabled,Rr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},bn.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var r=this.context,n=r.gl;this.nextStencilID+t.length>256&&this.clearStencil(),r.setColorMode(ke.disabled),r.setDepthMode(je.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(r,n.TRIANGLES,je.disabled,new Se({func:n.ALWAYS,mask:0},u,255,n.KEEP,n.KEEP,n.REPLACE),ke.disabled,Te.disabled,Rr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},bn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Se({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},bn.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Se({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},bn.prototype.stencilConfigForOverlap=function(e){var t,r=this.context.gl,n=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=n[n.length-1].overscaledZ,o=n[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new Se({func:r.GEQUAL,mask:255},s+this.nextStencilID,255,r.KEEP,r.KEEP,r.REPLACE);return this.nextStencilID+=o,[a,n]}return[(t={},t[i]=Se.disabled,t),n]},bn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new ke([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?ke.unblended:ke.alphaBlended},bn.prototype.depthModeForSublayer=function(e,t,r){if(!this.opaquePassEnabledForLayer())return je.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new je(r||this.context.gl.LEQUAL,t,[n,n])},bn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},bn.prototype.render=function(t,r){var n=this;this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u,c,l={},f={},h={};for(var p in o){var d=o[p];l[p]=d.getVisibleCoordinates(),f[p]=l[p].slice().reverse(),h[p]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var v=0;v<i.length;v++)if(this.style._layers[i[v]].is3D()){this.opaquePassCutoff=v;break}this.renderPass="offscreen";for(var m=0,y=i;m<y.length;m+=1){var g=this.style._layers[y[m]];if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var b=f[g.source];("custom"===g.type||b.length)&&this.renderLayer(this,o[g.source],g,b)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var _=this.style._layers[i[this.currentLayer]],w=o[_.source],x=l[_.source];this._renderTileClippingMasks(_,x),this.renderLayer(this,w,_,x)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var O=this.style._layers[i[this.currentLayer]],E=o[O.source],j=("symbol"===O.type?h:f)[O.source];this._renderTileClippingMasks(O,l[O.source]),this.renderLayer(this,E,O,j)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(n.transform.zoom)&&(e.source!==(c&&c.id)&&(c=n.style.sourceCaches[e.source]),(!u||u.getSource().maxzoom<c.getSource().maxzoom)&&(u=c))})),u&&gn.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;dn(e,e.transform.height-(t.top||0),3,cn),dn(e,t.bottom||0,3,ln),vn(e,t.left||0,3,fn),vn(e,e.transform.width-(t.right||0),3,hn);var r=e.transform.centerPoint;!function(e,t,r,n){mn(e,t-1,r-10,2,20,n),mn(e,t-10,r-1,20,2,n)}(e,r.x,e.transform.height-r.y,pn)}(this),this.context.setDefault()},bn.prototype.renderLayer=function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,this.gpuTimingStart(r),gn[r.type](e,t,r,n,this.style.placement.variableOffsets),this.gpuTimingEnd())},bn.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}},bn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},bn.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},bn.prototype.queryGpuTimers=function(e){var t={};for(var r in e){var n=e[r],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[r]=o}return t},bn.prototype.translatePosMatrix=function(t,r,n,i,o){if(!n[0]&&!n[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);n=[n[0]*u-n[1]*s,n[0]*s+n[1]*u]}var c=[o?n[0]:ht(r,n[0],this.transform.zoom),o?n[1]:ht(r,n[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,c),l},bn.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},bn.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},bn.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r},bn.prototype.useProgram=function(e,t){this.cache=this.cache||{};var r=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new wr(this.context,e,gr[e],t,$r[e],this._showOverdrawInspector)),this.cache[r]},bn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},bn.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},bn.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},bn.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var _n=function(e,t){this.points=e,this.planes=t};_n.fromInvProjectionMatrix=function(t,r,n){var i=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(r){return e.transformMat4([],r,t)})).map((function(t){return e.scale$1([],t,1/t[3]/r*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var r=e.sub([],o[t[0]],o[t[1]]),n=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],r,n)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new _n(o,a)};var wn=function(t,r){this.min=t,this.max=r,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};wn.prototype.quadrant=function(t){for(var r=[t%2==0,t<2],n=e.clone$2(this.min),i=e.clone$2(this.max),o=0;o<r.length;o++)n[o]=r[o]?this.min[o]:this.center[o],i[o]=r[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new wn(n,i)},wn.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},wn.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},wn.prototype.intersects=function(t){for(var r=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],n=!0,i=0;i<t.planes.length;i++){for(var o=t.planes[i],a=0,s=0;s<r.length;s++)a+=e.dot$1(o,r[s])>=0;if(0===a)return 0;a!==r.length&&(n=!1)}if(n)return 2;for(var u=0;u<3;u++){for(var c=Number.MAX_VALUE,l=-Number.MAX_VALUE,f=0;f<t.points.length;f++){var h=t.points[f][u]-this.min[u];c=Math.min(c,h),l=Math.max(l,h)}if(l<0||c>this.max[u]-this.min[u])return 0}return 1};var xn=function(e,t,r,n){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n};xn.prototype.interpolate=function(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.number(t.right,r.right,n)),this},xn.prototype.getCenter=function(t,r){var n=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+r-this.bottom)/2,0,r);return new e.Point(n,i)},xn.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},xn.prototype.clone=function(){return new xn(this.top,this.bottom,this.left,this.right)},xn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var On=function(t,r,n,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new xn,this._posMatrixCache={},this._alignedPosMatrixCache={}},En={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};On.prototype.clone=function(){var e=new On(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},En.minZoom.get=function(){return this._minZoom},En.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},En.maxZoom.get=function(){return this._maxZoom},En.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},En.minPitch.get=function(){return this._minPitch},En.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},En.maxPitch.get=function(){return this._maxPitch},En.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},En.renderWorldCopies.get=function(){return this._renderWorldCopies},En.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},En.worldSize.get=function(){return this.tileSize*this.scale},En.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},En.size.get=function(){return new e.Point(this.width,this.height)},En.bearing.get=function(){return-this.angle/Math.PI*180},En.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},En.pitch.get=function(){return this._pitch/Math.PI*180},En.pitch.set=function(t){var r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},En.fov.get=function(){return this._fov/Math.PI*180},En.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},En.zoom.get=function(){return this._zoom},En.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},En.center.get=function(){return this._center},En.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},En.padding.get=function(){return this._edgeInsets.toJSON()},En.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},En.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},On.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},On.prototype.interpolatePadding=function(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()},On.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},On.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,i.x,o.x,a.x)),u=Math.floor(Math.max(n.x,i.x,o.x,a.x)),c=s-1;c<=u+1;c++)0!==c&&r.push(new e.UnwrappedTileID(c,t));return r},On.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,r),a=[o*i.x,o*i.y,0],s=_n.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r),u=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=r);var c=function(e){return{aabb:new wn([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},l=[],f=[],h=r,p=t.reparseOverscaled?n:r;if(this._renderWorldCopies)for(var d=1;d<=3;d++)l.push(c(-d)),l.push(c(d));for(l.push(c(0));l.length>0;){var v=l.pop(),m=v.x,y=v.y,g=v.fullyVisible;if(!g){var b=v.aabb.intersects(s);if(0===b)continue;g=2===b}var _=v.aabb.distanceX(a),w=v.aabb.distanceY(a),x=Math.max(Math.abs(_),Math.abs(w));if(v.zoom===h||x>3+(1<<h-v.zoom)-2&&v.zoom>=u)f.push({tileID:new e.OverscaledTileID(v.zoom===h?p:v.zoom,v.wrap,v.zoom,m,y),distanceSq:e.sqrLen([a[0]-.5-m,a[1]-.5-y])});else for(var O=0;O<4;O++){var E=(m<<1)+O%2,j=(y<<1)+(O>>1);l.push({aabb:v.aabb.quadrant(O),zoom:v.zoom+1,x:E,y:j,wrap:v.wrap,fullyVisible:g})}}return f.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},On.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},En.unmodified.get=function(){return this._unmodified},On.prototype.zoomScale=function(e){return Math.pow(2,e)},On.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},On.prototype.project=function(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)},On.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},En.point.get=function(){return this.project(this.center)},On.prototype.setLocationAtPoint=function(t,r){var n=this.pointCoordinate(r),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(n.x-i.x),o.y-(n.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},On.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},On.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},On.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},On.prototype.coordinateLocation=function(e){return e.toLngLat()},On.prototype.pointCoordinate=function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var i=r[3],o=n[3],a=r[1]/i,s=n[1]/o,u=r[2]/i,c=n[2]/o,l=u===c?0:(0-u)/(c-u);return new e.MercatorCoordinate(e.number(r[0]/i,n[0]/o,l)/this.worldSize,e.number(a,s,l)/this.worldSize)},On.prototype.coordinatePoint=function(t){var r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix),new e.Point(r[0]/r[3],r[1]/r[3])},On.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},On.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},On.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},On.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var n=t.key,i=r?this._alignedPosMatrixCache:this._posMatrixCache;if(i[n])return i[n];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*a,o.y*a,0]),e.scale(u,u,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(u,r?this.alignedProjMatrix:this.projMatrix,u),i[n]=new Float32Array(u),i[n]},On.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},On.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,n,i,o=-90,a=90,s=-180,u=180,c=this.size,l=this._unmodified;if(this.latRange){var f=this.latRange;o=e.mercatorYfromLat(f[1])*this.worldSize,t=(a=e.mercatorYfromLat(f[0])*this.worldSize)-o<c.y?c.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=e.mercatorXfromLng(h[0])*this.worldSize,r=(u=e.mercatorXfromLng(h[1])*this.worldSize)-s<c.x?c.x/(u-s):0}var p=this.point,d=Math.max(r||0,t||0);if(d)return this.center=this.unproject(new e.Point(r?(u+s)/2:p.x,t?(a+o)/2:p.y)),this.zoom+=this.scaleZoom(d),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var v=p.y,m=c.y/2;v-m<o&&(i=o+m),v+m>a&&(i=a-m)}if(this.lngRange){var y=p.x,g=c.x/2;y-g<s&&(n=s+g),y+g>u&&(n=u-g)}void 0===n&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==n?n:p.x,void 0!==i?i:p.y))),this._unmodified=l,this._constraining=!1}},On.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var r=Math.PI/2+this._pitch,n=this._fov*(.5+t.y/this.height),i=Math.sin(n)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-r-n,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),c=this.height/50,l=new Float64Array(16);e.perspective(l,this._fov,this.width/this.height,c,u),l[8]=2*-t.x/this.width,l[9]=2*t.y/this.height,e.scale(l,l,[1,-1,1]),e.translate(l,l,[0,0,-this.cameraToCenterDistance]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle),e.translate(l,l,[-a,-s,0]),this.mercatorMatrix=e.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),e.scale(l,l,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l,this.invProjMatrix=e.invert([],this.projMatrix);var f=this.width%2/2,h=this.height%2/2,p=Math.cos(this.angle),d=Math.sin(this.angle),v=a-Math.round(a)+p*f+d*h,m=s-Math.round(s)+p*h+d*f,y=new Float64Array(l);if(e.translate(y,y,[v>.5?v-1:v,m>.5?m-1:m,0]),this.alignedProjMatrix=y,l=e.create(),e.scale(l,l,[this.width/2,-this.height/2,1]),e.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=e.create(),e.scale(l,l,[1,-1,1]),e.translate(l,l,[-1,-1,0]),e.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},On.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},On.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},On.prototype.getCameraQueryGeometry=function(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];for(var n=r.x,i=r.y,o=r.x,a=r.y,s=0,u=t;s<u.length;s+=1){var c=u[s];n=Math.min(n,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y)}return[new e.Point(n,i),new e.Point(o,i),new e.Point(o,a),new e.Point(n,a),new e.Point(n,i)]},Object.defineProperties(On.prototype,En);var jn=function(t){var r,n,i,o;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(r=this._updateHashUnthrottled.bind(this),n=!1,i=null,o=function(){i=null,n&&(r(),i=setTimeout(o,300),n=!1)},function(){return n=!0,i||o(),i})};jn.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},jn.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},jn.prototype.getHashString=function(t){var r=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(r.lng*o)/o,s=Math.round(r.lat*o)/o,u=this._map.getBearing(),c=this._map.getPitch(),l="";if(l+=t?"/"+a+"/"+s+"/"+n:n+"/"+s+"/"+a,(u||c)&&(l+="/"+Math.round(10*u)/10),c&&(l+="/"+Math.round(c)),this._hashName){var f=this._hashName,h=!1,p=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===f?(h=!0,t+"="+l):e})).filter((function(e){return e}));return h||p.push(f+"="+l),"#"+p.join("&")}return"#"+l},jn.prototype._getCurrentHash=function(){var t,r=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===r._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")},jn.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},jn.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var Sn={linearity:.3,easing:e.bezier(0,0,.3,1)},kn=e.extend({deceleration:2500,maxSpeed:1400},Sn),Tn=e.extend({deceleration:20,maxSpeed:1400},Sn),Pn=e.extend({deceleration:1e3,maxSpeed:360},Sn),An=e.extend({deceleration:1e3,maxSpeed:90},Sn),In=function(e){this._map=e,this.clear()};function Cn(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Rn(t,r,n){var i=n.maxSpeed,o=n.linearity,a=n.deceleration,s=e.clamp(t*o/(r/1e3),-i,i),u=Math.abs(s)/(a*o);return{easing:n.easing,duration:1e3*u,amount:s*(u/2)}}In.prototype.clear=function(){this._inertiaBuffer=[]},In.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},In.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,r=e.browser.now();t.length>0&&r-t[0].time>160;)t.shift()},In.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var r={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},n=0,i=this._inertiaBuffer;n<i.length;n+=1){var o=i[n].settings;r.zoom+=o.zoomDelta||0,r.bearing+=o.bearingDelta||0,r.pitch+=o.pitchDelta||0,o.panDelta&&r.pan._add(o.panDelta),o.around&&(r.around=o.around),o.pinchAround&&(r.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var u=Rn(r.pan.mag(),a,e.extend({},kn,t||{}));s.offset=r.pan.mult(u.amount/r.pan.mag()),s.center=this._map.transform.center,Cn(s,u)}if(r.zoom){var c=Rn(r.zoom,a,Tn);s.zoom=this._map.transform.zoom+c.amount,Cn(s,c)}if(r.bearing){var l=Rn(r.bearing,a,Pn);s.bearing=this._map.transform.bearing+e.clamp(l.amount,-179,179),Cn(s,l)}if(r.pitch){var f=Rn(r.pitch,a,An);s.pitch=this._map.transform.pitch+f.amount,Cn(s,f)}if(s.zoom||s.bearing){var h=void 0===r.pinchAround?r.around:r.pinchAround;s.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Mn=function(t){function n(n,i,o,a){void 0===a&&(a={});var s=r.mousePos(i.getCanvasContainer(),o),u=i.unproject(s);t.call(this,n,e.extend({point:s,lngLat:u,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),Ln=function(t){function n(n,i,o){var a="touchend"===n?o.changedTouches:o.touches,s=r.touchPos(i.getCanvasContainer(),a),u=s.map((function(e){return i.unproject(e)})),c=s.reduce((function(e,t,r,n){return e.add(t.div(n.length))}),new e.Point(0,0)),l=i.unproject(c);t.call(this,n,{points:s,point:c,lngLats:u,lngLat:l,originalEvent:o}),this._defaultPrevented=!1}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),Dn=function(e){function t(t,r,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),Nn=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Nn.prototype.reset=function(){delete this._mousedownPos},Nn.prototype.wheel=function(e){return this._firePreventable(new Dn(e.type,this._map,e))},Nn.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Mn(e.type,this._map,e))},Nn.prototype.mouseup=function(e){this._map.fire(new Mn(e.type,this._map,e))},Nn.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Mn(e.type,this._map,e))},Nn.prototype.dblclick=function(e){return this._firePreventable(new Mn(e.type,this._map,e))},Nn.prototype.mouseover=function(e){this._map.fire(new Mn(e.type,this._map,e))},Nn.prototype.mouseout=function(e){this._map.fire(new Mn(e.type,this._map,e))},Nn.prototype.touchstart=function(e){return this._firePreventable(new Ln(e.type,this._map,e))},Nn.prototype.touchmove=function(e){this._map.fire(new Ln(e.type,this._map,e))},Nn.prototype.touchend=function(e){this._map.fire(new Ln(e.type,this._map,e))},Nn.prototype.touchcancel=function(e){this._map.fire(new Ln(e.type,this._map,e))},Nn.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Nn.prototype.isEnabled=function(){return!0},Nn.prototype.isActive=function(){return!1},Nn.prototype.enable=function(){},Nn.prototype.disable=function(){};var Fn=function(e){this._map=e};Fn.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fn.prototype.mousemove=function(e){this._map.fire(new Mn(e.type,this._map,e))},Fn.prototype.mousedown=function(){this._delayContextMenu=!0},Fn.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Mn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fn.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Mn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Fn.prototype.isEnabled=function(){return!0},Fn.prototype.isActive=function(){return!1},Fn.prototype.enable=function(){},Fn.prototype.disable=function(){};var zn=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Bn(e,t){for(var r={},n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}zn.prototype.isEnabled=function(){return!!this._enabled},zn.prototype.isActive=function(){return!!this._active},zn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},zn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},zn.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(r.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},zn.prototype.mousemoveWindow=function(e,t){if(this._active){var n=t;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=n,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,n.x),a=Math.max(i.x,n.x),s=Math.min(i.y,n.y),u=Math.max(i.y,n.y);r.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=u-s+"px"}}},zn.prototype.mouseupWindow=function(t,n){var i=this;if(this._active&&0===t.button){var o=this._startPos,a=n;if(this.reset(),r.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},zn.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},zn.prototype.blur=function(){this.reset()},zn.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos},zn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var Un=function(e){this.reset(),this.numTouches=e.numTouches};Un.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Un.prototype.touchstart=function(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){for(var r=new e.Point(0,0),n=0,i=t;n<i.length;n+=1)r._add(i[n]);return r.div(t.length)}(r),this.touches=Bn(n,r)))},Un.prototype.touchmove=function(e,t,r){if(!this.aborted&&this.centroid){var n=Bn(r,t);for(var i in this.touches){var o=n[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Un.prototype.touchend=function(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){var n=!this.aborted&&this.centroid;if(this.reset(),n)return n}};var Vn=function(e){this.singleTap=new Un(e),this.numTaps=e.numTaps,this.reset()};Vn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Vn.prototype.touchstart=function(e,t,r){this.singleTap.touchstart(e,t,r)},Vn.prototype.touchmove=function(e,t,r){this.singleTap.touchmove(e,t,r)},Vn.prototype.touchend=function(e,t,r){var n=this.singleTap.touchend(e,t,r);if(n){var i=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(n)<30;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}};var Gn=function(){this._zoomIn=new Vn({numTouches:1,numTaps:2}),this._zoomOut=new Vn({numTouches:2,numTaps:1}),this.reset()};Gn.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Gn.prototype.touchstart=function(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)},Gn.prototype.touchmove=function(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)},Gn.prototype.touchend=function(e,t,r){var n=this,i=this._zoomIn.touchend(e,t,r),o=this._zoomOut.touchend(e,t,r);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0},Gn.prototype.touchcancel=function(){this.reset()},Gn.prototype.enable=function(){this._enabled=!0},Gn.prototype.disable=function(){this._enabled=!1,this.reset()},Gn.prototype.isEnabled=function(){return this._enabled},Gn.prototype.isActive=function(){return this._active};var qn={0:1,2:2},Wn=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Wn.prototype.blur=function(){this.reset()},Wn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Wn.prototype._correctButton=function(e,t){return!1},Wn.prototype._move=function(e,t){return{}},Wn.prototype.mousedown=function(e,t){if(!this._lastPoint){var n=r.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}},Wn.prototype.mousemoveWindow=function(e,t){var r=this._lastPoint;if(r)if(e.preventDefault(),function(e,t){var r=qn[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)},Wn.prototype.mouseupWindow=function(e){this._lastPoint&&r.mouseButton(e)===this._eventButton&&(this._moved&&r.suppressClick(),this.reset())},Wn.prototype.enable=function(){this._enabled=!0},Wn.prototype.disable=function(){this._enabled=!1,this.reset()},Wn.prototype.isEnabled=function(){return this._enabled},Wn.prototype.isActive=function(){return this._active};var Hn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,r){e.prototype.mousedown.call(this,t,r),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Wn),Zn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var r=.8*(t.x-e.x);if(r)return this._active=!0,{bearingDelta:r}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Wn),Xn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var r=-.5*(t.y-e.y);if(r)return this._active=!0,{pitchDelta:r}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Wn),$n=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};$n.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},$n.prototype.touchstart=function(e,t,r){return this._calculateTransform(e,t,r)},$n.prototype.touchmove=function(e,t,r){if(this._active&&!(r.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,r)},$n.prototype.touchend=function(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()},$n.prototype.touchcancel=function(){this.reset()},$n.prototype._calculateTransform=function(t,r,n){n.length>0&&(this._active=!0);var i=Bn(n,r),o=new e.Point(0,0),a=new e.Point(0,0),s=0;for(var u in i){var c=i[u],l=this._touches[u];l&&(o._add(c),a._add(c.sub(l)),s++,i[u]=c)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var f=a.div(s);if(this._sum._add(f),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:f}}},$n.prototype.enable=function(){this._enabled=!0},$n.prototype.disable=function(){this._enabled=!1,this.reset()},$n.prototype.isEnabled=function(){return this._enabled},$n.prototype.isActive=function(){return this._active};var Yn=function(){this.reset()};function Kn(e,t,r){for(var n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function Jn(e,t){return Math.log(e/t)/Math.LN2}Yn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yn.prototype._start=function(e){},Yn.prototype._move=function(e,t,r){return{}},Yn.prototype.touchstart=function(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))},Yn.prototype.touchmove=function(e,t,r){if(this._firstTwoTouches){e.preventDefault();var n=this._firstTwoTouches,i=n[1],o=Kn(r,t,n[0]),a=Kn(r,t,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}}},Yn.prototype.touchend=function(e,t,n){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Kn(n,t,i[0]),s=Kn(n,t,o);a&&s||(this._active&&r.suppressClick(),this.reset())}},Yn.prototype.touchcancel=function(){this.reset()},Yn.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Yn.prototype.disable=function(){this._enabled=!1,this.reset()},Yn.prototype.isEnabled=function(){return this._enabled},Yn.prototype.isActive=function(){return this._active};var Qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Jn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jn(this._distance,r),pinchAround:t}},t}(Yn);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var r=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,r),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,r=ei(e,this._startVector);return Math.abs(r)<t},t}(Yn);function ri(e){return Math.abs(e.y)>Math.abs(e.x)}var ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ri(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,r){var n=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,i,r.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,r){if(void 0!==this._valid)return this._valid;var n=e.mag()>=2,i=t.mag()>=2;if(n||i){if(!n||!i)return void 0===this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return ri(e)&&ri(t)&&o}},t}(Yn),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function ai(e){return e*(2-e)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=0,n=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:r=1;break;case 189:case 109:case 173:r=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:r?Math.round(u)+r*(e.shiftKey?2:1):u,bearing:s.getBearing()+n*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var n=r.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:r.zoom,u=this._startZoom,c=this._easing,l=!1;if("wheel"===this._type&&u&&c){var f=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),h=c(f);a=e.number(u,s,h),f<1?this._frameId||(this._frameId=!0):l=!0}else a=s,l=!0;return this._active=!0,l&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!l,zoomDelta:a-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,i=(e.browser.now()-n.start)/n.duration,o=n.easing(i+.01)-n.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var ui=function(e,t){this._clickZoom=e,this._tapZoom=t};ui.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ui.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ui.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ui.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ci=function(){this.reset()};ci.prototype.reset=function(){this._active=!1},ci.prototype.blur=function(){this.reset()},ci.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(r){r.easeTo({duration:300,zoom:r.getZoom()+(e.shiftKey?-1:1),around:r.unproject(t)},{originalEvent:e})}}},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var li=function(){this._tap=new Vn({numTouches:1,numTaps:1}),this.reset()};li.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},li.prototype.touchstart=function(e,t,r){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?r.length>0&&(this._swipePoint=t[0],this._swipeTouch=r[0].identifier):this._tap.touchstart(e,t,r))},li.prototype.touchmove=function(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;var n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,r)},li.prototype.touchend=function(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():this._tap.touchend(e,t,r)&&(this._tapTime=e.timeStamp)},li.prototype.touchcancel=function(){this.reset()},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var fi=function(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r};fi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},fi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},fi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},fi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var hi=function(e,t,r){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=r};hi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},hi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},hi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},hi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var pi=function(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0};pi.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},pi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},pi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},pi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},pi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},pi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var di=function(e){return e.zoom||e.drag||e.pitch||e.rotate},vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function mi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var yi=function(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new In(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],u=s[0];r.addEventListener(u,s[1],u===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var t=0,n=this._listeners;t<n.length;t+=1){var i=n[t],o=i[0];r.removeEventListener(o,i[1],o===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(e){var t=this._map,r=t.getCanvasContainer();this._add("mapEvent",new Nn(t,e));var n=t.boxZoom=new zn(t,e);this._add("boxZoom",n);var i=new Gn,o=new ci;t.doubleClickZoom=new ui(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new li;this._add("tapDragZoom",a);var s=t.touchPitch=new ni;this._add("touchPitch",s);var u=new Zn(e),c=new Xn(e);t.dragRotate=new hi(e,u,c),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);var l=new Hn(e),f=new $n(e);t.dragPan=new fi(r,l,f),this._add("mousePan",l),this._add("touchPan",f,["touchZoom","touchRotate"]);var h=new ti,p=new Qn;t.touchZoomRotate=new pi(r,p,h,a),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]);var d=t.scrollZoom=new si(t,this);this._add("scrollZoom",d,["mousePan"]);var v=t.keyboard=new oi;this._add("keyboard",v),this._add("blockableMapEvent",new Fn(t));for(var m=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<y.length;m+=1){var g=y[m];e.interactive&&e[g]&&t[g].enable(e[g])}},yi.prototype._add=function(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t},yi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,r=this._handlers;t<r.length;t+=1)r[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},yi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(di(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(e,t,r){for(var n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},yi.prototype._getMapTouches=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=n[r];this._el.contains(i.target)&&t.push(i)}return t},yi.prototype.handleEvent=function(e,t){this._updatingCamera=!0;for(var n="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,u=s?r.touchPos(this._el,s):r.mousePos(this._el,e),c=0,l=this._handlers;c<l.length;c+=1){var f=l[c],h=f.handlerName,p=f.handler,d=f.allowed;if(p.isEnabled()){var v=void 0;this._blockedByActive(a,d,h)?p.reset():p[t||e.type]&&(v=p[t||e.type](e,u,s),this.mergeHandlerResult(i,o,v,h,n),v&&v.needsRenderFrame&&this._triggerRenderFrame()),(v||p.isActive())&&(a[h]=p)}}var m={};for(var y in this._previousActiveHandlers)a[y]||(m[y]=n);this._previousActiveHandlers=a,(Object.keys(m).length||mi(i))&&(this._changes.push([i,o,m]),this._triggerRenderFrame()),(Object.keys(a).length||mi(i))&&this._map._stop(!0),this._updatingCamera=!1;var g=i.cameraAnimation;g&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],g(this._map))},yi.prototype.mergeHandlerResult=function(t,r,n,i,o){if(n){e.extend(t,n);var a={handlerName:i,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(r.zoom=a),void 0!==n.panDelta&&(r.drag=a),void 0!==n.pitchDelta&&(r.pitch=a),void 0!==n.bearingDelta&&(r.rotate=a)}},yi.prototype._applyChanges=function(){for(var t={},r={},n={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],c=a[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(r,u),e.extend(n,c)}this._updateMapTransform(t,r,n),this._changes=[]},yi.prototype._updateMapTransform=function(e,t,r){var n=this._map,i=n.transform;if(!mi(e))return this._fireEvents(t,r,!0);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,c=e.around,l=e.pinchAround;void 0!==l&&(c=l),n._stop(!0),c=c||n.transform.centerPoint;var f=i.pointLocation(o?c.sub(o):c);s&&(i.bearing+=s),u&&(i.pitch+=u),a&&(i.zoom+=a),i.setLocationAtPoint(f,c),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,r,!0)},yi.prototype._fireEvents=function(t,r,n){var i=this,o=di(this._eventsInProgress),a=di(t),s={};for(var u in t)this._eventsInProgress[u]||(s[u+"start"]=t[u].originalEvent),this._eventsInProgress[u]=t[u];for(var c in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(c,s[c]);for(var l in a&&this._fireEvent("move",a.originalEvent),t)this._fireEvent(l,t[l].originalEvent);var f,h={};for(var p in this._eventsInProgress){var d=this._eventsInProgress[p],v=d.handlerName,m=d.originalEvent;this._handlersById[v].isActive()||(delete this._eventsInProgress[p],h[p+"end"]=f=r[v]||m)}for(var y in h)this._fireEvent(y,h[y]);var g=di(this._eventsInProgress);if(n&&(o||a)&&!g){this._updatingCamera=!0;var b=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),_=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};b?(_(b.bearing||this._map.getBearing())&&(b.bearing=0),this._map.easeTo(b,{originalEvent:f})):(this._map.fire(new e.Event("moveend",{originalEvent:f})),_(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},yi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new vi("renderFrame",{timeStamp:t})),e._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var gi=function(t){function r(r,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)},r.prototype.panTo=function(t,r,n){return this.easeTo(e.extend({center:t},r),n)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.getPadding=function(){return this.transform.padding},r.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},r.prototype.rotateTo=function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.resetNorthPitch=function(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(t,r){t=e.LngLatBounds.convert(t);var n=r&&r.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,r)},r.prototype._cameraForBoxAndBearing=function(t,r,n,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=e.extend(o,i.padding);var s=this.transform,u=s.padding,c=s.project(e.LngLat.convert(t)),l=s.project(e.LngLat.convert(r)),f=c.rotate(-n*Math.PI/180),h=l.rotate(-n*Math.PI/180),p=new e.Point(Math.max(f.x,h.x),Math.max(f.y,h.y)),d=new e.Point(Math.min(f.x,h.x),Math.min(f.y,h.y)),v=p.sub(d),m=(s.width-(u.left+u.right+i.padding.left+i.padding.right))/v.x,y=(s.height-(u.top+u.bottom+i.padding.top+i.padding.bottom))/v.y;if(!(y<0||m<0)){var g=Math.min(s.scaleZoom(s.scale*Math.min(m,y)),i.maxZoom),b="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),_=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(n*Math.PI/180),w=b.add(_).mult(s.scale/s.zoomScale(g));return{center:s.unproject(c.add(l).div(2).sub(w)),zoom:g,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,n,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,i),i,o)},r.prototype._fitInternal=function(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this},r.prototype.jumpTo=function(t,r){this.stop();var n=this.transform,i=!1,o=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),o&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var n=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),c="zoom"in t?+t.zoom:o,l="bearing"in t?this._normalizeBearing(t.bearing,a):a,f="pitch"in t?+t.pitch:s,h="padding"in t?t.padding:i.padding,p=e.Point.convert(t.offset),d=i.centerPoint.add(p),v=i.pointLocation(d),m=e.LngLat.convert(t.center||v);this._normalizeCenter(m);var y,g,b=i.project(v),_=i.project(m).sub(b),w=i.zoomScale(c-o);t.around&&(y=e.LngLat.convert(t.around),g=i.locationPoint(y));var x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||c!==o,this._rotating=this._rotating||a!==l,this._pitching=this._pitching||f!==s,this._padding=!i.isPaddingEqual(h),this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,x),this._ease((function(t){if(n._zooming&&(i.zoom=e.number(o,c,t)),n._rotating&&(i.bearing=e.number(a,l,t)),n._pitching&&(i.pitch=e.number(s,f,t)),n._padding&&(i.interpolatePadding(u,h,t),d=i.centerPoint.add(p)),y)i.setLocationAtPoint(y,g);else{var v=i.zoomScale(i.zoom-o),m=c>o?Math.min(2,w):Math.max(.5,w),x=Math.pow(m,1-t),O=i.unproject(b.add(_.mult(t*x)).mult(v));i.setLocationAtPoint(i.renderWorldCopies?O.wrap():O,d)}n._fireMoveEvents(r)}),(function(e){n._afterEase(r,e)}),t),this},r.prototype._prepareEase=function(t,r,n){void 0===n&&(n={}),this._moving=!0,r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t,r){if(!this._easeId||!r||this._easeId!==r){delete this._easeId;var n=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},r.prototype.flyTo=function(t,r){var n=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),c=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,f="bearing"in t?this._normalizeBearing(t.bearing,s):s,h="pitch"in t?+t.pitch:u,p="padding"in t?t.padding:o.padding,d=o.zoomScale(l-a),v=e.Point.convert(t.offset),m=o.centerPoint.add(v),y=o.pointLocation(m),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var b=o.project(y),_=o.project(g).sub(b),w=t.curve,x=Math.max(o.width,o.height),O=x/d,E=_.mag();if("minZoom"in t){var j=e.clamp(Math.min(t.minZoom,a,l),o.minZoom,o.maxZoom),S=x/o.zoomScale(j-a);w=Math.sqrt(S/E*2)}var k=w*w;function T(e){var t=(O*O-x*x+(e?-1:1)*k*k*E*E)/(2*(e?O:x)*k*E);return Math.log(Math.sqrt(t*t+1)-t)}function P(e){return(Math.exp(e)-Math.exp(-e))/2}function A(e){return(Math.exp(e)+Math.exp(-e))/2}var I=T(0),C=function(e){return A(I)/A(I+w*e)},R=function(e){return x*((A(I)*(P(t=I+w*e)/A(t))-P(I))/k)/E;var t},M=(T(1)-I)/w;if(Math.abs(E)<1e-6||!isFinite(M)){if(Math.abs(x-O)<1e-6)return this.easeTo(t,r);var L=O<x?-1:1;M=Math.abs(Math.log(O/x))/w,R=function(){return 0},C=function(e){return Math.exp(L*w*e)}}return t.duration="duration"in t?+t.duration:1e3*M/("screenSpeed"in t?+t.screenSpeed/w:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==f,this._pitching=h!==u,this._padding=!o.isPaddingEqual(p),this._prepareEase(r,!1),this._ease((function(t){var i=t*M,d=1/C(i);o.zoom=1===t?l:a+o.scaleZoom(d),n._rotating&&(o.bearing=e.number(s,f,t)),n._pitching&&(o.pitch=e.number(u,h,t)),n._padding&&(o.interpolatePadding(c,p,t),m=o.centerPoint.add(v));var y=1===t?g:o.unproject(b.add(_.mult(R(i))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,m),n._fireMoveEvents(r)}),(function(){return n._afterEase(r)}),t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){return this._stop()},r.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var r=this._onEaseEnd;delete this._onEaseEnd,r.call(this,t)}if(!e){var n=this.handlers;n&&n.stop(!1)}return this},r.prototype._ease=function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),bi=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=r.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bi.prototype.onRemove=function(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bi.prototype._setElementTitle=function(e,t){var r=this._map._getUIString("AttributionControl."+t);e.title=r,e.setAttribute("aria-label",r)},bi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bi.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=r.reduce((function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<r.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},bi.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},bi.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var n in r){var i=r[n];if(i.used){var o=i.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length}));var a=(e=e.filter((function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var _i=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};_i.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},_i.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},_i.prototype.getDefaultPosition=function(){return"bottom-left"},_i.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},_i.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},_i.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var wi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};wi.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},wi.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,n=t?this._queue.concat(t):this._queue;r<n.length;r+=1){var i=n[r];if(i.id===e)return void(i.cancelled=!0)}},wi.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var r=0,n=t;r<n.length;r+=1){var i=n[r];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},wi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Oi=e.window.HTMLImageElement,Ei=e.window.HTMLElement,ji=e.window.ImageBitmap,Si={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ki=function(n){function i(t){var r=this;if(null!=(t=e.extend({},Si,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new On(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(n.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new wi,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},xi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Ei))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return r._update(!1)})),this.on("moveend",(function(){return r._update(!1)})),this.on("zoom",(function(){return r._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,t),this._hash=t.hash&&new jn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new bi({customAttribution:t.customAttribution})),this.addControl(new _i,t.logoPosition),this.on("style.load",(function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)})),this.on("data",(function(t){r._update("style"===t.dataType),r.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){r.fire(new e.Event(t.dataType+"dataloading",t))}))}n&&(i.__proto__=n),(i.prototype=Object.create(n&&n.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,r){if(void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[r];return-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var r=this._containerDimensions(),n=r[0],i=r[1];if(n===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(n,i),this.transform.resize(n,i),this.painter.resize(n,i);var o=!this._moving;return o&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,r){var n,i=this;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){var a=i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[];a.length?o||(o=!0,r.call(i,new Mn(e,i,n.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){(i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,r.call(i,new Mn(e,i,n.originalEvent)))},mouseout:function(t){a&&(a=!1,r.call(i,new Mn(e,i,t.originalEvent)))}}}}return{layer:t,listener:r,delegates:(n={},n[e]=function(e){var n=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(i,e),delete e.features)},n)}},i.prototype.on=function(e,t,r){if(void 0===r)return n.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,r);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(e,t,r){if(void 0===r)return n.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,r);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(e,t,r){var i=this;return void 0===r?n.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(n){for(var o=n[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===t&&s.listener===r){for(var u in s.delegates)i.off(u,s.delegates[u]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var n;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])n=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),o=e.Point.convert(t[1]);n=[i,new e.Point(o.x,i.y),o,new e.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(n,r,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Gt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Gt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,r){var n=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(o,(function(t,i){t?n.fire(new e.ErrorEvent(t)):i&&n._updateDiff(i,r)}))}else"object"==typeof t&&this._updateDiff(t,r)},i.prototype._updateDiff=function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,r)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var i=r[n];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,r){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,r,n){void 0===n&&(n={});var i=n.pixelRatio;void 0===i&&(i=1);var o=n.sdf;void 0===o&&(o=!1);var a=n.stretchX,s=n.stretchY,u=n.content;if(this._lazyInitEmptyStyle(),r instanceof Oi||ji&&r instanceof ji){var c=e.browser.getImageData(r);this.style.addImage(t,{data:new e.RGBAImage({width:c.width,height:c.height},c.data),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var l=r;this.style.addImage(t,{data:new e.RGBAImage({width:r.width,height:r.height},new Uint8Array(r.data)),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0,userImage:l}),l.onAdd&&l.onAdd(this,t)}},i.prototype.updateImage=function(t,r){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=r instanceof Oi||ji&&r instanceof ji?e.browser.getImageData(r):r,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==n.data.width||a!==n.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(s,!(r instanceof Oi||ji&&r instanceof ji)),void this.style.updateImage(t,n))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),r)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},i.prototype.setFilter=function(e,t,r){return void 0===r&&(r={}),this.style.setFilter(e,t,r),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,r,n),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,r,n),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var i=this._controlContainer=r.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=r.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,r){var n=e.browser.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},i.prototype._setupPainter=function(){var r=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new bn(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var r,n=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(r=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,r),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=e.browser.now();this.style.zoomHistory.update(s,u);var c=new e.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),l=c.crossFadingFactor();1===l&&l===this._crossFadingFactor||(a=!0,this._crossFadingFactor=l),this.style.update(c)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var f=e.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,r),setTimeout((function(){var t=o.getQueryObjectEXT(r,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(r),n.fire(new e.Event("gpu-timing-frame",{cpuTime:f,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var h=this.painter.collectGpuTimers();setTimeout((function(){var t=n.painter.queryGpuTimers(h);n.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,r=this._controls;t<r.length;t+=1)r[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Ti(this._canvasContainer),Ti(this._controlContainer),Ti(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,r){e.setCacheLimits(t,r)},o.version.get=function(){return e.version},Object.defineProperties(i.prototype,o),i}(gi);function Ti(e){e.parentNode&&e.parentNode.removeChild(e)}var Pi={showCompass:!0,showZoom:!0,visualizePitch:!1},Ai=function(t){var n=this;this.options=e.extend({},Pi,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return n._map.zoomIn({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return n._map.zoomOut({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:e}):n._map.resetNorth({},{originalEvent:e})})),this._compassIcon=r.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ai.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),r=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())},Ai.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Ai.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ii(this._map,this._compass,this.options.visualizePitch)),this._container},Ai.prototype.onRemove=function(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ai.prototype._createButton=function(e,t){var n=r.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n},Ai.prototype._setButtonTitle=function(e,t){var r=this._map._getUIString("NavigationControl."+t);e.title=r,e.setAttribute("aria-label",r)};var Ii=function(t,n,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=n,this.mouseRotate=new Zn({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Xn({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener(n,"mousedown",this.mousedown),r.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),r.addEventListener(n,"touchmove",this.touchmove),r.addEventListener(n,"touchend",this.touchend),r.addEventListener(n,"touchcancel",this.reset)};function Ci(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(r);n.locationPoint(i).distSqr(r)<a?t=i:n.locationPoint(o).distSqr(r)<a&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Ii.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),r.disableDrag()},Ii.prototype.move=function(e,t){var r=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&r.setBearing(r.getBearing()+n.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&r.setPitch(r.getPitch()+i.pitchDelta)}},Ii.prototype.off=function(){var e=this.element;r.removeEventListener(e,"mousedown",this.mousedown),r.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),r.removeEventListener(e,"touchmove",this.touchmove),r.removeEventListener(e,"touchend",this.touchend),r.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Ii.prototype.offTemp=function(){r.enableDrag(),r.removeEventListener(e.window,"mousemove",this.mousemove),r.removeEventListener(e.window,"mouseup",this.mouseup)},Ii.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),r.mousePos(this.element,t)),r.addEventListener(e.window,"mousemove",this.mousemove),r.addEventListener(e.window,"mouseup",this.mouseup)},Ii.prototype.mousemove=function(e){this.move(e,r.mousePos(this.element,e))},Ii.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Ii.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Ii.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Ii.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ii.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ri={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Mi(e,t,r){var n=e.classList;for(var i in Ri)n.remove("mapboxgl-"+r+"-anchor-"+i);n.add("mapboxgl-"+r+"-anchor-"+t)}var Li,Di=function(t){function n(n,i){if(t.call(this),(n instanceof e.window.HTMLElement||i)&&(n=e.extend({element:n},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div"),this._element.setAttribute("aria-label","Map marker");var o=r.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=r.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var c=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];c<l.length;c+=1){var f=l[c],h=r.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",f.rx),h.setAttributeNS(null,"ry",f.ry),u.appendChild(h)}var p=r.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"fill",this._color);var d=r.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),p.appendChild(d);var v=r.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"fill","#000000");var m=r.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),v.appendChild(m);var y=r.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var b=r.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#000000"),b.setAttributeNS(null,"opacity","0.25"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962");var _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),g.appendChild(b),g.appendChild(_),s.appendChild(u),s.appendChild(p),s.appendChild(v),s.appendChild(y),s.appendChild(g),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Mi(this._element,this._anchor,"marker"),this._popup=null}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},n.prototype._onKeyPress=function(e){var t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ci(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,Ri[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+n+" "+t)}},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){if(!this._isDragging){var r=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=r}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},n.prototype.getRotation=function(){return this._rotation},n.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},n.prototype.getRotationAlignment=function(){return this._rotationAlignment},n.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},n.prototype.getPitchAlignment=function(){return this._pitchAlignment},n}(e.Evented),Ni={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fi=0,zi=!1,Bi=function(t){function n(r){t.call(this),this.options=e.extend({},Ni,r),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Li?n(Li):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){n(Li="denied"!==e.state)})):n(Li=!!e.window.navigator.geolocation),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),r.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fi=0,zi=!1},n.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),r=e.coords;return t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())},n.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},n.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},n.prototype._updateCamera=function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),o,{geolocateSource:!0})},n.prototype._updateMarker=function(t){if(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},n.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),r=this._map.unproject([1,e]),n=t.distanceTo(r),i=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},n.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},n.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&zi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=r.create("button","mapboxgl-ctrl-geolocate",this._container),r.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Di(this._dotElement),this._circleElement=r.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Di({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fi--,zi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Fi>1?(t={maximumAge:6e5,timeout:0},zi=!0):(t=this.options.positionOptions,zi=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),Ui={maxWidth:100,unit:"metric"},Vi=function(t){this.options=e.extend({},Ui,t),e.bindAll(["_onMove","setUnit"],this)};function Gi(e,t,r){var n=r&&r.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([n,i]),s=o.distanceTo(a);if(r&&"imperial"===r.unit){var u=3.2808*s;u>5280?qi(t,n,u/5280,e._getUIString("ScaleControl.Miles")):qi(t,n,u,e._getUIString("ScaleControl.Feet"))}else r&&"nautical"===r.unit?qi(t,n,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?qi(t,n,s/1e3,e._getUIString("ScaleControl.Kilometers")):qi(t,n,s,e._getUIString("ScaleControl.Meters"))}function qi(e,t,r,n){var i,o,a,s=(i=r,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a)));e.style.width=t*(s/r)+"px",e.innerHTML=s+"&nbsp;"+n}Vi.prototype.getDefaultPosition=function(){return"bottom-left"},Vi.prototype._onMove=function(){Gi(this._map,this._container,this.options)},Vi.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vi.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vi.prototype.setUnit=function(e){this.options.unit=e,Gi(this._map,this._container,this.options)};var Wi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Wi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Wi.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Wi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Wi.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);r.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Wi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Wi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Wi.prototype._isFullscreen=function(){return this._fullscreen},Wi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Wi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Hi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Zi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Xi=function(t){function n(r){t.call(this),this.options=e.extend(Object.create(Hi),r),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},n.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},n.prototype.getElement=function(){return this._container},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var r,n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;r=i.firstChild;)n.appendChild(r);return this.setDOMContent(n)},n.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},n.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},n.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=r.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},n.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},n.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},n.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},n.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},n.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},n.prototype._onMouseUp=function(e){this._update(e.point)},n.prototype._onMouseMove=function(e){this._update(e.point)},n.prototype._onDrag=function(e){this._update(e.point)},n.prototype._update=function(t){var n=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return n._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ci(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,a=function t(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-r),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var i=e.Point.convert(r);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,c=this._container.offsetHeight;s=i.y+a.bottom.y<c?["top"]:i.y>this._map.transform.height-c?["bottom"]:[],i.x<u/2?s.push("left"):i.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var l=i.add(a[o]).round();r.setTransform(this._container,Ri[o]+" translate("+l.x+"px,"+l.y+"px)"),Mi(this._container,o,"popup")}},n.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Zi);e&&e.focus()}},n.prototype._onClose=function(){this.remove()},n}(e.Evented),$i={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:ki,NavigationControl:Ai,GeolocateControl:Bi,AttributionControl:bi,ScaleControl:Vi,FullscreenControl:Wi,Popup:Xi,Marker:Di,Style:Gt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Fe().acquire(Me)},clearPrewarmedResources:function(){var e=De;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Me),De=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Le.workerCount},set workerCount(e){Le.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return $i})),r}))},"4jaM":function(e,t,r){"use strict";r.r(t),r.d(t,"scaleBand",(function(){return l})),r.d(t,"scalePoint",(function(){return h})),r.d(t,"scaleIdentity",(function(){return Q})),r.d(t,"scaleLinear",(function(){return J})),r.d(t,"scaleLog",(function(){return se})),r.d(t,"scaleOrdinal",(function(){return c})),r.d(t,"scaleImplicit",(function(){return u})),r.d(t,"scalePow",(function(){return ce})),r.d(t,"scaleSqrt",(function(){return le})),r.d(t,"scaleQuantile",(function(){return fe})),r.d(t,"scaleQuantize",(function(){return he})),r.d(t,"scaleThreshold",(function(){return pe})),r.d(t,"scaleTime",(function(){return Nr})),r.d(t,"scaleUtc",(function(){return qr})),r.d(t,"schemeCategory10",(function(){return Hr})),r.d(t,"schemeCategory20b",(function(){return Zr})),r.d(t,"schemeCategory20c",(function(){return Xr})),r.d(t,"schemeCategory20",(function(){return $r})),r.d(t,"interpolateCubehelixDefault",(function(){return Jr})),r.d(t,"interpolateRainbow",(function(){return rn})),r.d(t,"interpolateWarm",(function(){return Qr})),r.d(t,"interpolateCool",(function(){return en})),r.d(t,"interpolateViridis",(function(){return on})),r.d(t,"interpolateMagma",(function(){return an})),r.d(t,"interpolateInferno",(function(){return sn})),r.d(t,"interpolatePlasma",(function(){return un})),r.d(t,"scaleSequential",(function(){return cn}));var n=r("vBe5"),i=r("bwSX"),o=Array.prototype,a=o.map,s=o.slice,u={name:"implicit"};function c(e){var t=Object(i["map"])(),r=[],n=u;function o(i){var o=i+"",a=t.get(o);if(!a){if(n!==u)return n;t.set(o,a=r.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:s.call(e),o.domain=function(e){if(!arguments.length)return r.slice();r=[],t=Object(i["map"])();var n,a,s=-1,u=e.length;while(++s<u)t.has(a=(n=e[s])+"")||t.set(a,r.push(n));return o},o.range=function(t){return arguments.length?(e=s.call(t),o):e.slice()},o.unknown=function(e){return arguments.length?(n=e,o):n},o.copy=function(){return c().domain(r).range(e).unknown(n)},o}function l(){var e,t,r=c().unknown(void 0),i=r.domain,o=r.range,a=[0,1],s=!1,u=0,f=0,h=.5;function p(){var r=i().length,c=a[1]<a[0],l=a[c-0],p=a[1-c];e=(p-l)/Math.max(1,r-u+2*f),s&&(e=Math.floor(e)),l+=(p-l-e*(r-u))*h,t=e*(1-u),s&&(l=Math.round(l),t=Math.round(t));var d=Object(n["range"])(r).map((function(t){return l+e*t}));return o(c?d.reverse():d)}return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),p()):i()},r.range=function(e){return arguments.length?(a=[+e[0],+e[1]],p()):a.slice()},r.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,p()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,p()):s},r.padding=function(e){return arguments.length?(u=f=Math.max(0,Math.min(1,e)),p()):u},r.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),p()):u},r.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),p()):f},r.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),p()):h},r.copy=function(){return l().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(f).align(h)},p()}function f(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return f(t())},e}function h(){return f(l().paddingInner(1))}var p=r("4xfg"),d=r("6h3Y"),v=r("WFeF"),m=function(e){return function(){return e}},y=function(e){return+e},g=[0,1];function b(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:m(t)}function _(e){return function(t,r){var n=e(t=+t,r=+r);return function(e){return e<=t?0:e>=r?1:n(e)}}}function w(e){return function(t,r){var n=e(t=+t,r=+r);return function(e){return e<=0?t:e>=1?r:n(e)}}}function x(e,t,r,n){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=r(o,i),a=n(s,a)):(i=r(i,o),a=n(a,s)),function(e){return a(i(e))}}function O(e,t,r,i){var o=Math.min(e.length,t.length)-1,a=new Array(o),s=new Array(o),u=-1;e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++u<o)a[u]=r(e[u],e[u+1]),s[u]=i(t[u],t[u+1]);return function(t){var r=Object(n["bisect"])(e,t,1,o)-1;return s[r](a[r](t))}}function E(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function j(e,t){var r,n,i,o=g,u=g,c=d["a"],l=!1;function f(){return r=Math.min(o.length,u.length)>2?O:x,n=i=null,h}function h(t){return(n||(n=r(o,u,l?_(e):e,c)))(+t)}return h.invert=function(e){return(i||(i=r(u,o,b,l?w(t):t)))(+e)},h.domain=function(e){return arguments.length?(o=a.call(e,y),f()):o.slice()},h.range=function(e){return arguments.length?(u=s.call(e),f()):u.slice()},h.rangeRound=function(e){return u=s.call(e),c=v["a"],f()},h.clamp=function(e){return arguments.length?(l=!!e,f()):l},h.interpolate=function(e){return arguments.length?(c=e,f()):c},f()}var S=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k(e){if(!(t=S.exec(e)))throw new Error("invalid format: "+e);var t;return new T({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function T(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}k.prototype=T.prototype,T.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var P=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)};function A(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var I,C,R,M,L=function(e){return e=A(Math.abs(e)),e?e[1]:NaN},D=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(L(t)/3)))-L(Math.abs(e)))},N=function(e,t){return function(r,n){var i=r.length,o=[],a=0,s=e[0],u=0;while(i>0&&s>0){if(u+s+1>n&&(s=Math.max(1,n-u)),o.push(r.substring(i-=s,i+s)),(u+=s+1)>n)break;s=e[a=(a+1)%e.length]}return o.reverse().join(t)}},F=function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}},z=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(t+1):e},B=function(e,t){var r=A(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(I=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+A(e,Math.max(0,t+o-1))[0]},U=function(e,t){var r=A(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")},V={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:P,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return U(100*e,t)},r:U,s:B,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},G=function(e){return e},q=Array.prototype.map,W=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],H=function(e){var t=void 0===e.grouping||void 0===e.thousands?G:N(q.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",n=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?G:F(q.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(e){e=k(e);var c=e.fill,l=e.align,f=e.sign,h=e.symbol,p=e.zero,d=e.width,v=e.comma,m=e.precision,y=e.trim,g=e.type;"n"===g?(v=!0,g="g"):V[g]||(void 0===m&&(m=12),y=!0,g="g"),(p||"0"===c&&"="===l)&&(p=!0,c="0",l="=");var b="$"===h?r:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",_="$"===h?n:/[%p]/.test(g)?a:"",w=V[g],x=/[defgprs%]/.test(g);function O(e){var r,n,a,h=b,O=_;if("c"===g)O=w(e)+O,e="";else{e=+e;var E=e<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),y&&(e=z(e)),E&&0===+e&&"+"!==f&&(E=!1),h=(E?"("===f?f:s:"-"===f||"("===f?"":f)+h,O=("s"===g?W[8+I/3]:"")+O+(E&&"("===f?")":""),x){r=-1,n=e.length;while(++r<n)if(a=e.charCodeAt(r),48>a||a>57){O=(46===a?i+e.slice(r+1):e.slice(r))+O,e=e.slice(0,r);break}}}v&&!p&&(e=t(e,1/0));var j=h.length+e.length+O.length,S=j<d?new Array(d-j+1).join(c):"";switch(v&&p&&(e=t(S+e,S.length?d-O.length:1/0),S=""),l){case"<":e=h+e+O+S;break;case"=":e=h+S+e+O;break;case"^":e=S.slice(0,j=S.length>>1)+h+e+O+S.slice(j);break;default:e=S+h+e+O;break}return o(e)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),O.toString=function(){return e+""},O}function l(e,t){var r=c((e=k(e),e.type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(L(t)/3))),i=Math.pow(10,-n),o=W[8+n/3];return function(e){return r(i*e)+o}}return{format:c,formatPrefix:l}};function Z(e){return C=H(e),R=C.format,M=C.formatPrefix,C}Z({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var X=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,L(t)-L(e))+1},$=function(e){return Math.max(0,-L(Math.abs(e)))},Y=function(e,t,r){var i,o=e[0],a=e[e.length-1],s=Object(n["tickStep"])(o,a,null==t?10:t);switch(r=k(null==r?",f":r),r.type){case"s":var u=Math.max(Math.abs(o),Math.abs(a));return null!=r.precision||isNaN(i=D(s,u))||(r.precision=i),M(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=X(s,Math.max(Math.abs(o),Math.abs(a))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=$(s))||(r.precision=i-2*("%"===r.type));break}return R(r)};function K(e){var t=e.domain;return e.ticks=function(e){var r=t();return Object(n["ticks"])(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){return Y(t(),e,r)},e.nice=function(r){null==r&&(r=10);var i,o=t(),a=0,s=o.length-1,u=o[a],c=o[s];return c<u&&(i=u,u=c,c=i,i=a,a=s,s=i),i=Object(n["tickIncrement"])(u,c,r),i>0?(u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i,i=Object(n["tickIncrement"])(u,c,r)):i<0&&(u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i,i=Object(n["tickIncrement"])(u,c,r)),i>0?(o[a]=Math.floor(u/i)*i,o[s]=Math.ceil(c/i)*i,t(o)):i<0&&(o[a]=Math.ceil(u*i)/i,o[s]=Math.floor(c*i)/i,t(o)),e},e}function J(){var e=j(b,p["a"]);return e.copy=function(){return E(e,J())},K(e)}function Q(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(e=a.call(r,y),t):e.slice()},t.copy=function(){return Q().domain(e)},K(t)}var ee=function(e,t){e=e.slice();var r,n=0,i=e.length-1,o=e[n],a=e[i];return a<o&&(r=n,n=i,i=r,r=o,o=a,a=r),e[n]=t.floor(o),e[i]=t.ceil(a),e};function te(e,t){return(t=Math.log(t/e))?function(r){return Math.log(r/e)/t}:m(t)}function re(e,t){return e<0?function(r){return-Math.pow(-t,r)*Math.pow(-e,1-r)}:function(r){return Math.pow(t,r)*Math.pow(e,1-r)}}function ne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ie(e){return 10===e?ne:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function oe(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function ae(e){return function(t){return-e(-t)}}function se(){var e=j(te,re).domain([1,10]),t=e.domain,r=10,i=oe(10),o=ie(10);function a(){return i=oe(r),o=ie(r),t()[0]<0&&(i=ae(i),o=ae(o)),e}return e.base=function(e){return arguments.length?(r=+e,a()):r},e.domain=function(e){return arguments.length?(t(e),a()):t()},e.ticks=function(e){var a,s=t(),u=s[0],c=s[s.length-1];(a=c<u)&&(p=u,u=c,c=p);var l,f,h,p=i(u),d=i(c),v=null==e?10:+e,m=[];if(!(r%1)&&d-p<v){if(p=Math.round(p)-1,d=Math.round(d)+1,u>0){for(;p<d;++p)for(f=1,l=o(p);f<r;++f)if(h=l*f,!(h<u)){if(h>c)break;m.push(h)}}else for(;p<d;++p)for(f=r-1,l=o(p);f>=1;--f)if(h=l*f,!(h<u)){if(h>c)break;m.push(h)}}else m=Object(n["ticks"])(p,d,Math.min(d-p,v)).map(o);return a?m.reverse():m},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!==typeof n&&(n=R(n)),t===1/0)return n;null==t&&(t=10);var a=Math.max(1,r*t/e.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=a?n(e):""}},e.nice=function(){return t(ee(t(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},e.copy=function(){return E(e,se().base(r))},e}function ue(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function ce(){var e=1,t=j(n,i),r=t.domain;function n(t,r){return(r=ue(r,e)-(t=ue(t,e)))?function(n){return(ue(n,e)-t)/r}:m(r)}function i(t,r){return r=ue(r,e)-(t=ue(t,e)),function(n){return ue(t+r*n,1/e)}}return t.exponent=function(t){return arguments.length?(e=+t,r(r())):e},t.copy=function(){return E(t,ce().exponent(e))},K(t)}function le(){return ce().exponent(.5)}function fe(){var e=[],t=[],r=[];function i(){var i=0,a=Math.max(1,t.length);r=new Array(a-1);while(++i<a)r[i-1]=Object(n["quantile"])(e,i/a);return o}function o(e){if(!isNaN(e=+e))return t[Object(n["bisect"])(r,e)]}return o.invertExtent=function(n){var i=t.indexOf(n);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var r,o=0,a=t.length;o<a;++o)r=t[o],null==r||isNaN(r=+r)||e.push(r);return e.sort(n["ascending"]),i()},o.range=function(e){return arguments.length?(t=s.call(e),i()):t.slice()},o.quantiles=function(){return r.slice()},o.copy=function(){return fe().domain(e).range(t)},o}function he(){var e=0,t=1,r=1,i=[.5],o=[0,1];function a(e){if(e<=e)return o[Object(n["bisect"])(i,e,0,r)]}function u(){var n=-1;i=new Array(r);while(++n<r)i[n]=((n+1)*t-(n-r)*e)/(r+1);return a}return a.domain=function(r){return arguments.length?(e=+r[0],t=+r[1],u()):[e,t]},a.range=function(e){return arguments.length?(r=(o=s.call(e)).length-1,u()):o.slice()},a.invertExtent=function(n){var a=o.indexOf(n);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],t]:[i[a-1],i[a]]},a.copy=function(){return he().domain([e,t]).range(o)},K(a)}function pe(){var e=[.5],t=[0,1],r=1;function i(i){if(i<=i)return t[Object(n["bisect"])(e,i,0,r)]}return i.domain=function(n){return arguments.length?(e=s.call(n),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(n){return arguments.length?(t=s.call(n),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(r){var n=t.indexOf(r);return[e[n-1],e[n]]},i.copy=function(){return pe().domain(e).range(t)},i}var de=new Date,ve=new Date;function me(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(r){return e(r=new Date(r-1)),t(r,1),e(r),r},i.round=function(e){var t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=function(e,r){return t(e=new Date(+e),null==r?1:Math.floor(r)),e},i.range=function(r,n,o){var a,s=[];if(r=i.ceil(r),o=null==o?1:Math.floor(o),!(r<n)||!(o>0))return s;do{s.push(a=new Date(+r)),t(r,o),e(r)}while(a<r&&r<n);return s},i.filter=function(r){return me((function(t){if(t>=t)while(e(t),!r(t))t.setTime(t-1)}),(function(e,n){if(e>=e)if(n<0)while(++n<=0)while(t(e,-1),!r(e));else while(--n>=0)while(t(e,1),!r(e));}))},r&&(i.count=function(t,n){return de.setTime(+t),ve.setTime(+n),e(de),e(ve),Math.floor(r(de,ve))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?function(t){return n(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var ye=me((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));ye.every=function(e){return isFinite(e=Math.floor(e))&&e>0?me((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,r){t.setFullYear(t.getFullYear()+r*e)})):null};var ge=ye,be=(ye.range,me((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),_e=be,we=(be.range,1e3),xe=6e4,Oe=36e5,Ee=864e5,je=6048e5;function Se(e){return me((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xe)/je}))}var ke=Se(0),Te=Se(1),Pe=Se(2),Ae=Se(3),Ie=Se(4),Ce=Se(5),Re=Se(6),Me=(ke.range,Te.range,Pe.range,Ae.range,Ie.range,Ce.range,Re.range,me((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xe)/Ee}),(function(e){return e.getDate()-1}))),Le=Me,De=(Me.range,me((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*we-e.getMinutes()*xe)}),(function(e,t){e.setTime(+e+t*Oe)}),(function(e,t){return(t-e)/Oe}),(function(e){return e.getHours()}))),Ne=De,Fe=(De.range,me((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*we)}),(function(e,t){e.setTime(+e+t*xe)}),(function(e,t){return(t-e)/xe}),(function(e){return e.getMinutes()}))),ze=Fe,Be=(Fe.range,me((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*we)}),(function(e,t){return(t-e)/we}),(function(e){return e.getUTCSeconds()}))),Ue=Be,Ve=(Be.range,me((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Ve.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?me((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,r){t.setTime(+t+r*e)}),(function(t,r){return(r-t)/e})):Ve:null};var Ge=Ve;Ve.range;function qe(e){return me((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/je}))}var We=qe(0),He=qe(1),Ze=qe(2),Xe=qe(3),$e=qe(4),Ye=qe(5),Ke=qe(6),Je=(We.range,He.range,Ze.range,Xe.range,$e.range,Ye.range,Ke.range,me((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Ee}),(function(e){return e.getUTCDate()-1}))),Qe=Je,et=(Je.range,me((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));et.every=function(e){return isFinite(e=Math.floor(e))&&e>0?me((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null};var tt=et;et.range;function rt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function it(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ot(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,c=vt(i),l=mt(i),f=vt(o),h=mt(o),p=vt(a),d=mt(a),v=vt(s),m=mt(s),y=vt(u),g=mt(u),b={a:R,A:M,b:L,B:D,c:null,d:Nt,e:Nt,f:Vt,g:Qt,G:tr,H:Ft,I:zt,j:Bt,L:Ut,m:Gt,M:qt,p:N,q:F,Q:Er,s:jr,S:Wt,u:Ht,U:Zt,V:$t,w:Yt,W:Kt,x:null,X:null,y:Jt,Y:er,Z:rr,"%":Or},_={a:z,A:B,b:U,B:V,c:null,d:nr,e:nr,f:ur,g:br,G:wr,H:ir,I:or,j:ar,L:sr,m:cr,M:lr,p:G,q:q,Q:Er,s:jr,S:fr,u:hr,U:pr,V:vr,w:mr,W:yr,x:null,X:null,y:gr,Y:_r,Z:xr,"%":Or},w={a:S,A:k,b:T,B:P,c:A,d:kt,e:kt,f:Rt,g:Ot,G:xt,H:Pt,I:Pt,j:Tt,L:Ct,m:St,M:At,p:j,q:jt,Q:Lt,s:Dt,S:It,u:gt,U:bt,V:_t,w:yt,W:wt,x:I,X:C,y:Ot,Y:xt,Z:Et,"%":Mt};function x(e,t){return function(r){var n,i,o,a=[],s=-1,u=0,c=e.length;r instanceof Date||(r=new Date(+r));while(++s<c)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=ct[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(o=t[n])&&(n=o(r,i)),a.push(n),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function O(e,t){return function(r){var n,i,o=it(1900,void 0,1),a=E(o,e,r+="",0);if(a!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(n=nt(it(o.y,0,1)),i=n.getUTCDay(),n=i>4||0===i?He.ceil(n):He(n),n=Qe.offset(n,7*(o.V-1)),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(n=rt(it(o.y,0,1)),i=n.getDay(),n=i>4||0===i?Te.ceil(n):Te(n),n=Le.offset(n,7*(o.V-1)),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?nt(it(o.y,0,1)).getUTCDay():rt(it(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,nt(o)):rt(o)}}function E(e,t,r,n){var i,o,a=0,s=t.length,u=r.length;while(a<s){if(n>=u)return-1;if(i=t.charCodeAt(a++),37===i){if(i=t.charAt(a++),o=w[i in ct?t.charAt(a++):i],!o||(n=o(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}function j(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=l[n[0].toLowerCase()],r+n[0].length):-1}function S(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=d[n[0].toLowerCase()],r+n[0].length):-1}function k(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=h[n[0].toLowerCase()],r+n[0].length):-1}function T(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=g[n[0].toLowerCase()],r+n[0].length):-1}function P(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=m[n[0].toLowerCase()],r+n[0].length):-1}function A(e,r,n){return E(e,t,r,n)}function I(e,t,n){return E(e,r,t,n)}function C(e,t,r){return E(e,n,t,r)}function R(e){return a[e.getDay()]}function M(e){return o[e.getDay()]}function L(e){return u[e.getMonth()]}function D(e){return s[e.getMonth()]}function N(e){return i[+(e.getHours()>=12)]}function F(e){return 1+~~(e.getMonth()/3)}function z(e){return a[e.getUTCDay()]}function B(e){return o[e.getUTCDay()]}function U(e){return u[e.getUTCMonth()]}function V(e){return s[e.getUTCMonth()]}function G(e){return i[+(e.getUTCHours()>=12)]}function q(e){return 1+~~(e.getUTCMonth()/3)}return b.x=x(r,b),b.X=x(n,b),b.c=x(t,b),_.x=x(r,_),_.X=x(n,_),_.c=x(t,_),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=O(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e+="",!0);return t.toString=function(){return e},t}}}var at,st,ut,ct={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,ft=/^%/,ht=/[\\^$*+?|[\]().{}]/g;function pt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function dt(e){return e.replace(ht,"\\$&")}function vt(e){return new RegExp("^(?:"+e.map(dt).join("|")+")","i")}function mt(e){var t={},r=-1,n=e.length;while(++r<n)t[e[r].toLowerCase()]=r;return t}function yt(e,t,r){var n=lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function gt(e,t,r){var n=lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bt(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _t(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wt(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xt(e,t,r){var n=lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ot(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Et(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jt(e,t,r){var n=lt.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function St(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kt(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tt(e,t,r){var n=lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Pt(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function At(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function It(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ct(e,t,r){var n=lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Rt(e,t,r){var n=lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Mt(e,t,r){var n=ft.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Lt(e,t,r){var n=lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Dt(e,t,r){var n=lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Nt(e,t){return pt(e.getDate(),t,2)}function Ft(e,t){return pt(e.getHours(),t,2)}function zt(e,t){return pt(e.getHours()%12||12,t,2)}function Bt(e,t){return pt(1+Le.count(ge(e),e),t,3)}function Ut(e,t){return pt(e.getMilliseconds(),t,3)}function Vt(e,t){return Ut(e,t)+"000"}function Gt(e,t){return pt(e.getMonth()+1,t,2)}function qt(e,t){return pt(e.getMinutes(),t,2)}function Wt(e,t){return pt(e.getSeconds(),t,2)}function Ht(e){var t=e.getDay();return 0===t?7:t}function Zt(e,t){return pt(ke.count(ge(e)-1,e),t,2)}function Xt(e){var t=e.getDay();return t>=4||0===t?Ie(e):Ie.ceil(e)}function $t(e,t){return e=Xt(e),pt(Ie.count(ge(e),e)+(4===ge(e).getDay()),t,2)}function Yt(e){return e.getDay()}function Kt(e,t){return pt(Te.count(ge(e)-1,e),t,2)}function Jt(e,t){return pt(e.getFullYear()%100,t,2)}function Qt(e,t){return e=Xt(e),pt(e.getFullYear()%100,t,2)}function er(e,t){return pt(e.getFullYear()%1e4,t,4)}function tr(e,t){var r=e.getDay();return e=r>=4||0===r?Ie(e):Ie.ceil(e),pt(e.getFullYear()%1e4,t,4)}function rr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pt(t/60|0,"0",2)+pt(t%60,"0",2)}function nr(e,t){return pt(e.getUTCDate(),t,2)}function ir(e,t){return pt(e.getUTCHours(),t,2)}function or(e,t){return pt(e.getUTCHours()%12||12,t,2)}function ar(e,t){return pt(1+Qe.count(tt(e),e),t,3)}function sr(e,t){return pt(e.getUTCMilliseconds(),t,3)}function ur(e,t){return sr(e,t)+"000"}function cr(e,t){return pt(e.getUTCMonth()+1,t,2)}function lr(e,t){return pt(e.getUTCMinutes(),t,2)}function fr(e,t){return pt(e.getUTCSeconds(),t,2)}function hr(e){var t=e.getUTCDay();return 0===t?7:t}function pr(e,t){return pt(We.count(tt(e)-1,e),t,2)}function dr(e){var t=e.getUTCDay();return t>=4||0===t?$e(e):$e.ceil(e)}function vr(e,t){return e=dr(e),pt($e.count(tt(e),e)+(4===tt(e).getUTCDay()),t,2)}function mr(e){return e.getUTCDay()}function yr(e,t){return pt(He.count(tt(e)-1,e),t,2)}function gr(e,t){return pt(e.getUTCFullYear()%100,t,2)}function br(e,t){return e=dr(e),pt(e.getUTCFullYear()%100,t,2)}function _r(e,t){return pt(e.getUTCFullYear()%1e4,t,4)}function wr(e,t){var r=e.getUTCDay();return e=r>=4||0===r?$e(e):$e.ceil(e),pt(e.getUTCFullYear()%1e4,t,4)}function xr(){return"+0000"}function Or(){return"%"}function Er(e){return+e}function jr(e){return Math.floor(+e/1e3)}function Sr(e){return at=ot(e),st=at.format,at.parse,ut=at.utcFormat,at.utcParse,at}Sr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var kr=1e3,Tr=60*kr,Pr=60*Tr,Ar=24*Pr,Ir=7*Ar,Cr=30*Ar,Rr=365*Ar;function Mr(e){return new Date(e)}function Lr(e){return e instanceof Date?+e:+new Date(+e)}function Dr(e,t,r,i,o,s,u,c,l){var f=j(b,p["a"]),h=f.invert,d=f.domain,v=l(".%L"),m=l(":%S"),y=l("%I:%M"),g=l("%I %p"),_=l("%a %d"),w=l("%b %d"),x=l("%B"),O=l("%Y"),S=[[u,1,kr],[u,5,5*kr],[u,15,15*kr],[u,30,30*kr],[s,1,Tr],[s,5,5*Tr],[s,15,15*Tr],[s,30,30*Tr],[o,1,Pr],[o,3,3*Pr],[o,6,6*Pr],[o,12,12*Pr],[i,1,Ar],[i,2,2*Ar],[r,1,Ir],[t,1,Cr],[t,3,3*Cr],[e,1,Rr]];function k(n){return(u(n)<n?v:s(n)<n?m:o(n)<n?y:i(n)<n?g:t(n)<n?r(n)<n?_:w:e(n)<n?x:O)(n)}function T(t,r,i,o){if(null==t&&(t=10),"number"===typeof t){var a=Math.abs(i-r)/t,s=Object(n["bisector"])((function(e){return e[2]})).right(S,a);s===S.length?(o=Object(n["tickStep"])(r/Rr,i/Rr,t),t=e):s?(s=S[a/S[s-1][2]<S[s][2]/a?s-1:s],o=s[1],t=s[0]):(o=Math.max(Object(n["tickStep"])(r,i,t),1),t=c)}return null==o?t:t.every(o)}return f.invert=function(e){return new Date(h(e))},f.domain=function(e){return arguments.length?d(a.call(e,Lr)):d().map(Mr)},f.ticks=function(e,t){var r,n=d(),i=n[0],o=n[n.length-1],a=o<i;return a&&(r=i,i=o,o=r),r=T(e,i,o,t),r=r?r.range(i,o+1):[],a?r.reverse():r},f.tickFormat=function(e,t){return null==t?k:l(t)},f.nice=function(e,t){var r=d();return(e=T(e,r[0],r[r.length-1],t))?d(ee(r,e)):f},f.copy=function(){return E(f,Dr(e,t,r,i,o,s,u,c,l))},f}var Nr=function(){return Dr(ge,_e,ke,Le,Ne,ze,Ue,Ge,st).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Fr=me((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),zr=Fr,Br=(Fr.range,me((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*Oe)}),(function(e,t){return(t-e)/Oe}),(function(e){return e.getUTCHours()}))),Ur=Br,Vr=(Br.range,me((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*xe)}),(function(e,t){return(t-e)/xe}),(function(e){return e.getUTCMinutes()}))),Gr=Vr,qr=(Vr.range,function(){return Dr(tt,zr,We,Qe,Ur,Gr,Ue,Ge,ut).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}),Wr=function(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))},Hr=Wr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zr=Wr("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Xr=Wr("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),$r=Wr("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Yr=r("Faen"),Kr=r("OHKE"),Jr=Object(Kr["a"])(Object(Yr["a"])(300,.5,0),Object(Yr["a"])(-240,.5,1)),Qr=Object(Kr["a"])(Object(Yr["a"])(-100,.75,.35),Object(Yr["a"])(80,1.5,.8)),en=Object(Kr["a"])(Object(Yr["a"])(260,.75,.35),Object(Yr["a"])(80,1.5,.8)),tn=Object(Yr["a"])(),rn=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return tn.h=360*e-100,tn.s=1.5-1.5*t,tn.l=.8-.9*t,tn+""};function nn(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var on=nn(Wr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),an=nn(Wr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),sn=nn(Wr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),un=nn(Wr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function cn(e){var t=0,r=1,n=!1;function i(i){var o=(i-t)/(r-t);return e(n?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],r=+e[1],i):[t,r]},i.clamp=function(e){return arguments.length?(n=!!e,i):n},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return cn(e).domain([t,r]).clamp(n)},K(i)}},"4kuk":function(e,t,r){var n=r("SfRM"),i=r("Hvzi"),o=r("u8Dt"),a=r("ekgI"),s=r("JSQU");function u(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},"4l63":function(e,t,r){var n=r("I+eb"),i=r("wg0c");n({global:!0,forced:parseInt!=i},{parseInt:i})},"4mDm":function(e,t,r){"use strict";var n=r("/GqU"),i=r("RNIs"),o=r("P4y1"),a=r("afO8"),s=r("fdAy"),u="Array Iterator",c=a.set,l=a.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"4oU/":function(e,t,r){var n=r("2oRo"),i=n.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},"4qRI":function(e,t,r){"use strict";function n(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}t["a"]=n},"4syw":function(e,t,r){var n=r("busE");e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},"4xfg":function(e,t,r){"use strict";t["a"]=function(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}},5:function(e,t,r){e.exports=r("1/Kc")},"54ZI":function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}r.d(t,"a",(function(){return n}))},5921:function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"Map",stat:!0},{of:i})},"5D9J":function(e,t,r){"use strict";var n=r("rePB"),i=r("q1tI"),o=r("4qRI"),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=Object(o["a"])((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),u=s,c=r("qKvR"),l=r("SIPS"),f=r("MiSq"),h=u,p=function(e){return"theme"!==e&&"innerRef"!==e},d=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(){return null},g=function e(t,r){var n,o,a;void 0!==r&&(n=r.label,a=r.target,o=t.__emotion_forwardProp&&r.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&r.shouldForwardProp(e)}:r.shouldForwardProp);var s=t.__emotion_real===t,u=s&&t.__emotion_base||t;"function"!==typeof o&&s&&(o=t.__emotion_forwardProp);var h=o||d(u),p=!h("as");return function(){var v=arguments,g=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&g.push("label:"+n+";"),null==v[0]||void 0===v[0].raw)g.push.apply(g,v);else{0,g.push(v[0][0]);for(var b=v.length,_=1;_<b;_++)g.push(v[_],v[0][_])}var w=Object(c["c"])((function(e,t,r){return Object(i["createElement"])(c["a"].Consumer,null,(function(n){var s=p&&e.as||u,c="",v=[],m=e;if(null==e.theme){for(var b in m={},e)m[b]=e[b];m.theme=n}"string"===typeof e.className?c=Object(l["a"])(t.registered,v,e.className):null!=e.className&&(c=e.className+" ");var _=Object(f["a"])(g.concat(v),t.registered,m);Object(l["b"])(t,_,"string"===typeof s);c+=t.key+"-"+_.name,void 0!==a&&(c+=" "+a);var w=p&&void 0===o?d(s):h,x={};for(var O in e)p&&"as"===O||w(O)&&(x[O]=e[O]);x.className=c,x.ref=r||e.innerRef;var E=Object(i["createElement"])(s,x),j=Object(i["createElement"])(y,null);return Object(i["createElement"])(i["Fragment"],null,j,E)}))}));return w.displayName=void 0!==n?n:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=u,w.__emotion_styles=g,w.__emotion_forwardProp=o,Object.defineProperty(w,"toString",{value:function(){return"."+a}}),w.withComponent=function(t,n){return e(t,void 0!==n?m({},r||{},{},n):r).apply(void 0,g)},w}},b=g,_=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],w=b.bind();_.forEach((function(e){w[e]=w(e)}));t["a"]=w},"5JV0":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("WGBp"),s=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),r=a(t),n=void 0===e?",":String(e),i=[];return s(r,i.push,i,!1,!0),i.join(n)}})},"5SuN":function(e,t,r){"use strict";var n=r("TqRt"),i=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_RenderedRows=t.bpfrpt_proptype_RowRenderer=t.bpfrpt_proptype_RowRendererParams=void 0;i(r("q1tI")),n(r("17x9"));var o=null;t.bpfrpt_proptype_RowRendererParams=o;var a=null;t.bpfrpt_proptype_RowRenderer=a;var s=null;t.bpfrpt_proptype_RenderedRows=s;var u=null;t.bpfrpt_proptype_Scroll=u},"5Tg+":function(e,t,r){var n=r("tiKp");t.f=n},"5Yz+":function(e,t,r){"use strict";var n=r("/GqU"),i=r("ppGB"),o=r("UMSQ"),a=r("pkCn"),s=r("rkAj"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),p=l||!f||!h;e.exports=p?function(e){if(l)return c.apply(this,arguments)||0;var t=n(this),r=o(t.length),a=r-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},"5m3+":function(e,t,r){"use strict";e.exports=E,E.filename=null,E.defaults={keepCase:!1};var n=r("ze9q"),i=r("chBw"),o=r("XBMD"),a=r("OuHM"),s=r("M2kn"),u=r("ye7q"),c=r("Jkyt"),l=r("AQxW"),f=r("D9+D"),h=r("H/ma"),p=r("CzZC"),d=/^[1-9][0-9]*$/,v=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,b=/^-?0[0-7]+$/,_=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,x=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,O=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function E(e,t,r){t instanceof i||(r=t,t=new i),r||(r=E.defaults);var j,S,k,T,P,A=n(e,r.alternateCommentMode||!1),I=A.next,C=A.push,R=A.peek,M=A.skip,L=A.cmnt,D=!0,N=!1,F=t,z=r.keepCase?function(e){return e}:p.camelCase;function B(e,t,r){var n=E.filename;return r||(E.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+A.line+")")}function U(){var e,t=[];do{if('"'!==(e=I())&&"'"!==e)throw B(e);t.push(I()),M(e),e=R()}while('"'===e||"'"===e);return t.join("")}function V(e){var t=I();switch(t){case"'":case'"':return C(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return q(t,!0)}catch(r){if(e&&x.test(t))return t;throw B(t,"value")}}function G(e,t){var r,n;do{!t||'"'!==(r=R())&&"'"!==r?e.push([n=W(I()),M("to",!0)?W(I()):n]):e.push(U())}while(M(",",!0));M(";")}function q(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(g.test(e))return r*parseInt(e,8);if(_.test(e))return r*parseFloat(e);throw B(e,"number",t)}function W(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw B(e,"id");if(v.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw B(e,"id")}function H(){if(void 0!==j)throw B("package");if(j=I(),!x.test(j))throw B(j,"name");F=F.define(j),M(";")}function Z(){var e,t=R();switch(t){case"weak":e=k||(k=[]),I();break;case"public":I();default:e=S||(S=[]);break}t=U(),M(";"),e.push(t)}function X(){if(M("="),T=U(),N="proto3"===T,!N&&"proto2"!==T)throw B(T,"syntax");M(";")}function $(e,t){switch(t){case"option":return ie(e,t),M(";"),!0;case"message":return K(e,t),!0;case"enum":return re(e,t),!0;case"service":return ue(e,t),!0;case"extend":return le(e,t),!0}return!1}function Y(e,t,r){var n=A.line;if(e&&("string"!==typeof e.comment&&(e.comment=L()),e.filename=E.filename),M("{",!0)){var i;while("}"!==(i=I()))t(i);M(";",!0)}else r&&r(),M(";"),e&&"string"!==typeof e.comment&&(e.comment=L(n))}function K(e,t){if(!w.test(t=I()))throw B(t,"type name");var r=new o(t);Y(r,(function(e){if(!$(r,e))switch(e){case"map":ee(r,e);break;case"required":case"optional":case"repeated":J(r,e);break;case"oneof":te(r,e);break;case"extensions":G(r.extensions||(r.extensions=[]));break;case"reserved":G(r.reserved||(r.reserved=[]),!0);break;default:if(!N||!x.test(e))throw B(e);C(e),J(r,"optional");break}})),e.add(r)}function J(e,t,r){var n=I();if("group"!==n){if(!x.test(n))throw B(n,"type");var i=I();if(!w.test(i))throw B(i,"name");i=z(i),M("=");var o=new a(i,W(I()),n,t,r);Y(o,(function(e){if("option"!==e)throw B(e);ie(o,e),M(";")}),(function(){se(o)})),e.add(o),N||!o.repeated||void 0===h.packed[n]&&void 0!==h.basic[n]||o.setOption("packed",!1,!0)}else Q(e,t)}function Q(e,t){var r=I();if(!w.test(r))throw B(r,"name");var n=p.lcFirst(r);r===n&&(r=p.ucFirst(r)),M("=");var i=W(I()),s=new o(r);s.group=!0;var u=new a(n,i,r,t);u.filename=E.filename,Y(s,(function(e){switch(e){case"option":ie(s,e),M(";");break;case"required":case"optional":case"repeated":J(s,e);break;default:throw B(e)}})),e.add(s).add(u)}function ee(e){M("<");var t=I();if(void 0===h.mapKey[t])throw B(t,"type");M(",");var r=I();if(!x.test(r))throw B(r,"type");M(">");var n=I();if(!w.test(n))throw B(n,"name");M("=");var i=new s(z(n),W(I()),t,r);Y(i,(function(e){if("option"!==e)throw B(e);ie(i,e),M(";")}),(function(){se(i)})),e.add(i)}function te(e,t){if(!w.test(t=I()))throw B(t,"name");var r=new u(z(t));Y(r,(function(e){"option"===e?(ie(r,e),M(";")):(C(e),J(r,"optional"))})),e.add(r)}function re(e,t){if(!w.test(t=I()))throw B(t,"name");var r=new c(t);Y(r,(function(e){switch(e){case"option":ie(r,e),M(";");break;case"reserved":G(r.reserved||(r.reserved=[]),!0);break;default:ne(r,e)}})),e.add(r)}function ne(e,t){if(!w.test(t))throw B(t,"name");M("=");var r=W(I(),!0),n={};Y(n,(function(e){if("option"!==e)throw B(e);ie(n,e),M(";")}),(function(){se(n)})),e.add(t,r,n.comment)}function ie(e,t){var r=M("(",!0);if(!x.test(t=I()))throw B(t,"name");var n=t;r&&(M(")"),n="("+n+")",t=R(),O.test(t)&&(n+=t,I())),M("="),oe(e,n)}function oe(e,t){if(M("{",!0))do{if(!w.test(P=I()))throw B(P,"name");"{"===R()?oe(e,t+"."+P):(M(":"),"{"===R()?oe(e,t+"."+P):ae(e,t+"."+P,V(!0))),M(",",!0)}while(!M("}",!0));else ae(e,t,V(!0))}function ae(e,t,r){e.setOption&&e.setOption(t,r)}function se(e){if(M("[",!0)){do{ie(e,"option")}while(M(",",!0));M("]")}return e}function ue(e,t){if(!w.test(t=I()))throw B(t,"service name");var r=new l(t);Y(r,(function(e){if(!$(r,e)){if("rpc"!==e)throw B(e);ce(r,e)}})),e.add(r)}function ce(e,t){var r=L(),n=t;if(!w.test(t=I()))throw B(t,"name");var i,o,a,s,u=t;if(M("("),M("stream",!0)&&(o=!0),!x.test(t=I()))throw B(t);if(i=t,M(")"),M("returns"),M("("),M("stream",!0)&&(s=!0),!x.test(t=I()))throw B(t);a=t,M(")");var c=new f(u,n,i,a,o,s);c.comment=r,Y(c,(function(e){if("option"!==e)throw B(e);ie(c,e),M(";")})),e.add(c)}function le(e,t){if(!x.test(t=I()))throw B(t,"reference");var r=t;Y(null,(function(t){switch(t){case"required":case"repeated":case"optional":J(e,t,r);break;default:if(!N||!x.test(t))throw B(t);C(t),J(e,"optional",r);break}}))}while(null!==(P=I()))switch(P){case"package":if(!D)throw B(P);H();break;case"import":if(!D)throw B(P);Z();break;case"syntax":if(!D)throw B(P);X();break;case"option":ie(F,P),M(";");break;default:if($(F,P)){D=!1;continue}throw B(P)}return E.filename=null,{package:j,imports:S,weakImports:k,syntax:T,root:t}}},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},"5r1n":function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.get,s=i.toKey;n({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var r=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),r)}})},"5s+n":function(e,t,r){"use strict";var n,i,o,a,s=r("I+eb"),u=r("xDBR"),c=r("2oRo"),l=r("0GbY"),f=r("/qmn"),h=r("busE"),p=r("4syw"),d=r("1E5z"),v=r("JiZb"),m=r("hh1v"),y=r("HAuM"),g=r("GarU"),b=r("xrYK"),_=r("iSVu"),w=r("ImZN"),x=r("HH4o"),O=r("SEBh"),E=r("LPSS").set,j=r("tXUg"),S=r("zfnd"),k=r("RN6c"),T=r("8GlL"),P=r("5mdu"),A=r("afO8"),I=r("lMq5"),C=r("tiKp"),R=r("LQDL"),M=C("species"),L="Promise",D=A.get,N=A.set,F=A.getterFor(L),z=f,B=c.TypeError,U=c.document,V=c.process,G=l("fetch"),q=T.f,W=q,H="process"==b(V),Z=!!(U&&U.createEvent&&c.dispatchEvent),X="unhandledrejection",$="rejectionhandled",Y=0,K=1,J=2,Q=1,ee=2,te=I(L,(function(){var e=_(z)!==String(z);if(!e){if(66===R)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!z.prototype["finally"])return!0;if(R>=51&&/native code/.test(z))return!1;var t=z.resolve(1),r=function(e){e((function(){}),(function(){}))},n=t.constructor={};return n[M]=r,!(t.then((function(){}))instanceof r)})),re=te||!x((function(e){z.all(e)["catch"]((function(){}))})),ne=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;j((function(){var i=t.value,o=t.state==K,a=0;while(n.length>a){var s,u,c,l=n[a++],f=o?l.ok:l.fail,h=l.resolve,p=l.reject,d=l.domain;try{f?(o||(t.rejection===ee&&ue(e,t),t.rejection=Q),!0===f?s=i:(d&&d.enter(),s=f(i),d&&(d.exit(),c=!0)),s===l.promise?p(B("Promise-chain cycle")):(u=ne(s))?u.call(s,h,p):h(s)):p(i)}catch(v){d&&!c&&d.exit(),p(v)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&ae(e,t)}))}},oe=function(e,t,r){var n,i;Z?(n=U.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},(i=c["on"+e])?i(n):e===X&&k("Unhandled promise rejection",r)},ae=function(e,t){E.call(c,(function(){var r,n=t.value,i=se(t);if(i&&(r=P((function(){H?V.emit("unhandledRejection",n,e):oe(X,e,n)})),t.rejection=H||se(t)?ee:Q,r.error))throw r.value}))},se=function(e){return e.rejection!==Q&&!e.parent},ue=function(e,t){E.call(c,(function(){H?V.emit("rejectionHandled",e):oe($,e,t.value)}))},ce=function(e,t,r,n){return function(i){e(t,r,i,n)}},le=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=J,ie(e,t,!0))},fe=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw B("Promise can't be resolved itself");var i=ne(r);i?j((function(){var n={done:!1};try{i.call(r,ce(fe,e,n,t),ce(le,e,n,t))}catch(o){le(e,n,o,t)}})):(t.value=r,t.state=K,ie(e,t,!1))}catch(o){le(e,{done:!1},o,t)}}};te&&(z=function(e){g(this,z,L),y(e),n.call(this);var t=D(this);try{e(ce(fe,this,t),ce(le,this,t))}catch(r){le(this,t,r)}},n=function(e){N(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Y,value:void 0})},n.prototype=p(z.prototype,{then:function(e,t){var r=F(this),n=q(O(this,z));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=H?V.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=Y&&ie(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=D(e);this.promise=e,this.resolve=ce(fe,e,t),this.reject=ce(le,e,t)},T.f=q=function(e){return e===z||e===o?new i(e):W(e)},u||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",(function(e,t){var r=this;return new z((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(z,G.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:z}),d(z,L,!1,!0),v(L),o=l(L),s({target:L,stat:!0,forced:te},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:L,stat:!0,forced:u||te},{resolve:function(e){return S(u&&this===o?z:this,e)}}),s({target:L,stat:!0,forced:re},{all:function(e){var t=this,r=q(t),n=r.resolve,i=r.reject,o=P((function(){var r=y(t.resolve),o=[],a=0,s=1;w(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=q(t),n=r.reject,i=P((function(){var i=y(t.resolve);w(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},"5wUe":function(e,t,r){var n=r("Q9SF"),i=r("MIOZ"),o=r("mGKP"),a=r("h0XC");function s(e,t){return n(e)||i(e,t)||o(e,t)||a()}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},"5xAX":function(e,t,r){"use strict";var n=r("82c2"),i=r("PrET"),o=r("VwiP"),a=r("V+xs"),s=r("HH6Z"),u=i(a());n(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},"5xtp":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("HAuM"),u=r("m/L8");i&&n({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){u.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},6:function(e,t){},"66V8":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("4WOD"),a=r("0rvr"),s=r("fHMY"),u=r("m/L8"),c=r("XGwC"),l=r("ImZN"),f=r("kRJp"),h=r("afO8"),p=h.set,d=h.getterFor("AggregateError"),v=function(e,t){var r=this;if(!(r instanceof v))return new v(e,t);a&&(r=a(new Error(t),o(r)));var n=[];return l(e,n.push,n),i?p(r,{errors:n,type:"AggregateError"}):r.errors=n,void 0!==t&&f(r,"message",String(t)),r};v.prototype=s(Error.prototype,{constructor:c(5,v),message:c(5,""),name:c(5,"AggregateError")}),i&&u.f(v.prototype,"errors",{get:function(){return d(this).errors},configurable:!0}),n({global:!0},{AggregateError:v})},"67WC":function(e,t,r){"use strict";var n,i=r("qYE9"),o=r("g6v/"),a=r("2oRo"),s=r("hh1v"),u=r("UTVS"),c=r("9d/t"),l=r("kRJp"),f=r("busE"),h=r("m/L8").f,p=r("4WOD"),d=r("0rvr"),v=r("tiKp"),m=r("kOOl"),y=a.Int8Array,g=y&&y.prototype,b=a.Uint8ClampedArray,_=b&&b.prototype,w=y&&p(y),x=g&&p(g),O=Object.prototype,E=O.isPrototypeOf,j=v("toStringTag"),S=m("TYPED_ARRAY_TAG"),k=i&&!!d&&"Opera"!==c(a.opera),T=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A=function(e){var t=c(e);return"DataView"===t||u(P,t)},I=function(e){return s(e)&&u(P,c(e))},C=function(e){if(I(e))return e;throw TypeError("Target is not a typed array")},R=function(e){if(d){if(E.call(w,e))return e}else for(var t in P)if(u(P,n)){var r=a[t];if(r&&(e===r||E.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},M=function(e,t,r){if(o){if(r)for(var n in P){var i=a[n];i&&u(i.prototype,e)&&delete i.prototype[e]}x[e]&&!r||f(x,e,r?t:k&&g[e]||t)}},L=function(e,t,r){var n,i;if(o){if(d){if(r)for(n in P)i=a[n],i&&u(i,e)&&delete i[e];if(w[e]&&!r)return;try{return f(w,e,r?t:k&&y[e]||t)}catch(s){}}for(n in P)i=a[n],!i||i[e]&&!r||f(i,e,t)}};for(n in P)a[n]||(k=!1);if((!k||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},k))for(n in P)a[n]&&d(a[n],w);if((!k||!x||x===O)&&(x=w.prototype,k))for(n in P)a[n]&&d(a[n].prototype,x);if(k&&p(_)!==x&&d(_,x),o&&!u(x,j))for(n in T=!0,h(x,j,{get:function(){return s(this)?this[S]:void 0}}),P)a[n]&&l(a[n],S,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:T&&S,aTypedArray:C,aTypedArrayConstructor:R,exportTypedArrayMethod:M,exportTypedArrayStaticMethod:L,isView:A,isTypedArray:I,TypedArray:w,TypedArrayPrototype:x}},"69XA":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellMeasurer",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"CellMeasurerCache",{enumerable:!0,get:function(){return o["default"]}}),t["default"]=void 0;var i=n(r("8/pp")),o=n(r("e1D4")),a=i["default"];t["default"]=a},"6JNq":function(e,t,r){var n=r("UTVS"),i=r("Vu81"),o=r("Bs8V"),a=r("m/L8");e.exports=function(e,t){for(var r=i(t),s=a.f,u=o.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||s(e,l,u(t,l))}}},"6JX1":function(e,t,r){(function(e,n){n(t,r("q1tI"))})(0,(function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t["default"]=e,Object.freeze(t)}var n=r(t);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var a=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))},s={error:null},u=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,t.state=s,t.resetErrorBoundary=function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,n),t.reset()},t}o(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var r=t.prototype;return r.reset=function(){this.setState(s)},r.componentDidCatch=function(e,t){var r,n;null==(r=(n=this.props).onError)||r.call(n,e,t)},r.componentDidUpdate=function(e,t){var r,n,i=this.state.error,o=this.props.resetKeys;null!==i&&null!==t.error&&a(e.resetKeys,o)&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,o),this.reset())},r.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,i=t.FallbackComponent,o=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(o))return o;if("function"===typeof r)return r(a);if(i)return n.createElement(i,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(n.Component);function c(e,t){var r=function(r){return n.createElement(u,t,n.createElement(e,r))},i=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+i+")",r}function l(e){var t=n.useState(null),r=t[0],i=t[1];if(null!=e)throw e;if(null!=r)throw r;return i}e.ErrorBoundary=u,e.useErrorHandler=l,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}))},"6LWA":function(e,t,r){var n=r("xrYK");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"6MIY":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var p="i"+i,d="schema"+i;h||(n+=" var "+d+" = validate.schema"+s+";"),n+="var "+f+";",h&&(n+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),n+=f+" = false;for (var "+p+"=0; "+p+"<"+d+".length; "+p+"++) if (equal("+l+", "+d+"["+p+"])) { "+f+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+f+") {   ";var v=v||[];v.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var m=n;return n=v.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},"6V7H":function(e,t,r){var n=r("dG/n");n("patternMatch")},"6VoE":function(e,t,r){var n=r("tiKp"),i=r("P4y1"),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},"6asN":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=r("LtsZ"),i=r("zqmC"),o=(0,i.LinkWrapper)(n.NavLink);t["default"]=o},"6gcW":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,f=u.baseId,h=!0,p=i;if(p){var d,v=-1,m=p.length-1;while(v<m)d=p[v+=1],(e.opts.strictKeywords?"object"==typeof d&&Object.keys(d).length>0||!1===d:e.util.schemaHasRules(d,e.RULES.all))&&(h=!1,u.schema=d,u.schemaPath=o+"["+v+"]",u.errSchemaPath=a+"/"+v,n+="  "+e.validate(u)+" ",u.baseId=f,s&&(n+=" if ("+l+") { ",c+="}"))}return s&&(n+=h?" if (true) { ":" "+c.slice(0,-1)+" "),n}},"6h3Y":function(e,t,r){"use strict";var n=r("FmoU"),i=r("42CK"),o=r("ZzDG"),a=r("G21l"),s=r("4xfg"),u=r("cb2h"),c=r("kO9b"),l=r("xpj1"),f=r("Ud7J");t["a"]=function(e,t){var r,h=typeof t;return null==t||"boolean"===h?Object(l["a"])(t):("number"===h?s["a"]:"string"===h?(r=Object(n["e"])(t))?(t=r,i["a"]):c["a"]:t instanceof n["e"]?i["a"]:t instanceof Date?a["a"]:Object(f["b"])(t)?f["a"]:Array.isArray(t)?o["b"]:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?u["a"]:s["a"])(e,t)}},"6pOq":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return v}));var n=r("1OyB"),i=r("vuIU"),o=r("rePB"),a=r("17x9"),s=r.n(a),u=r("2lZV");function c(){}function l(e){e&&console.error(e.error)}var f={container:s.a.object,gl:s.a.object,mapboxApiAccessToken:s.a.string,mapboxApiUrl:s.a.string,attributionControl:s.a.bool,preserveDrawingBuffer:s.a.bool,reuseMaps:s.a.bool,transformRequest:s.a.func,mapOptions:s.a.object,mapStyle:s.a.oneOfType([s.a.string,s.a.object]),visible:s.a.bool,asyncRender:s.a.bool,onLoad:s.a.func,onError:s.a.func,width:s.a.number,height:s.a.number,viewState:s.a.object,longitude:s.a.number,latitude:s.a.number,zoom:s.a.number,bearing:s.a.number,pitch:s.a.number,altitude:s.a.number},h={container:u["a"].body,mapboxApiAccessToken:p(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:c,onError:l,width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function p(){var t=null;if("undefined"!==typeof window&&window.location){var r=window.location.search.match(/access_token=([^&\/]*)/);t=r&&r[1]}return t||"undefined"===typeof e||(t=t||Object({NODE_ENV:"production"}).MapboxAccessToken||Object({NODE_ENV:"production"}).REACT_APP_MAPBOX_ACCESS_TOKEN),t||"no-token"}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";e.debug&&s.a.checkPropTypes(f,e,"prop",t)}var v=function(){function e(t){var r=this;if(Object(n["a"])(this,e),Object(o["a"])(this,"mapboxgl",void 0),Object(o["a"])(this,"props",h),Object(o["a"])(this,"_map",null),Object(o["a"])(this,"width",0),Object(o["a"])(this,"height",0),Object(o["a"])(this,"_fireLoadEvent",(function(){r.props.onLoad({type:"load",target:r._map})})),!t.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=t.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(t)}return Object(i["a"])(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(e){return this._update(this.props,e),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(t){this._map=e.savedMap;var r=this._map.getContainer(),n=t.container;n.classList.add("mapboxgl-map");while(r.childNodes.length>0)n.appendChild(r.childNodes[0]);this._map._container=n,e.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(t){if(t.reuseMaps&&e.savedMap)this._reuse(t);else{if(t.gl){var r=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=r,t.gl}}var n={container:t.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:t.mapStyle,interactive:!1,trackResize:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(n.transformRequest=t.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},n,t.mapOptions)),this._map.once("load",t.onLoad),this._map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){this._map&&(e.savedMap?this._map.remove():(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(e){var t=this;e=Object.assign({},h,e),d(e,"Mapbox"),this.mapboxgl.accessToken=e.mapboxApiAccessToken||h.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=e.mapboxApiUrl,this._create(e);var r=e,n=r.container;Object.defineProperty(n,"offsetWidth",{get:function(){return t.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return t.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return t.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return t.height}});var i=this._map.getCanvas();i&&(i.style.outline="none"),this._updateMapViewport({},e),this._updateMapSize({},e),this.props=e}},{key:"_update",value:function(e,t){if(this._map){t=Object.assign({},this.props,t),d(t,"Mapbox");var r=this._updateMapViewport(e,t),n=this._updateMapSize(e,t);t.asyncRender||!r&&!n||this.redraw(),this.props=t}}},{key:"_updateMapSize",value:function(e,t){var r=e.width!==t.width||e.height!==t.height;return r&&(this.width=t.width,this.height=t.height,this.resize()),r}},{key:"_updateMapViewport",value:function(e,t){var r=this._getViewState(e),n=this._getViewState(t),i=n.latitude!==r.latitude||n.longitude!==r.longitude||n.zoom!==r.zoom||n.pitch!==r.pitch||n.bearing!==r.bearing||n.altitude!==r.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(n)),n.altitude!==r.altitude&&(this._map.transform.altitude=n.altitude)),i}},{key:"_getViewState",value:function(e){var t=e.viewState||e,r=t.longitude,n=t.latitude,i=t.zoom,o=t.pitch,a=void 0===o?0:o,s=t.bearing,u=void 0===s?0:s,c=t.altitude,l=void 0===c?1.5:c;return{longitude:r,latitude:n,zoom:i,pitch:a,bearing:u,altitude:l}}},{key:"_checkStyleSheet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if("undefined"!==typeof u["a"])try{var t=u["a"].createElement("div");t.className="mapboxgl-map",t.style.display="none",u["a"].body.appendChild(t);var r="static"!==window.getComputedStyle(t).position;if(!r){var n=u["a"].createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")),u["a"].head.appendChild(n)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(e){return{center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}}}]),e}();Object(o["a"])(v,"initialized",!1),Object(o["a"])(v,"propTypes",f),Object(o["a"])(v,"defaultProps",h),Object(o["a"])(v,"savedMap",null)}).call(this,r("Q2Ig"))},"6pwk":function(e,t,r){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},"6sVZ":function(e,t){var r=Object.prototype;function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}e.exports=n},"6wl5":function(e,t,r){"use strict";function n(e,t){"string"===typeof e&&(t=e,e=void 0);var r=[];function i(e){if("string"!==typeof e){var t=o();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){var a=Object.keys(e),s=new Array(a.length+1),u=new Array(a.length),c=0;while(c<a.length)s[c]=a[c],u[c]=e[a[c++]];return s[c]=t,Function.apply(null,s).apply(null,u)}return Function(t)()}var l=new Array(arguments.length-1),f=0;while(f<l.length)l[f]=arguments[++f];if(f=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[f++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),f!==l.length)throw Error("parameter count mismatch");return r.push(e),i}function o(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=o,i}e.exports=n,n.verbose=!1},"6x0u":function(e,t,r){"use strict";var n=r("xDBR"),i=r("2oRo"),o=r("0Dky");e.exports=n||!o((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},"6xEa":function(e,t,r){var n,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function i(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var r=o._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(r){return i(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),r=new Uint8Array(2*t.length),n=0,i=t.length;n<i;n++){var a=t.charCodeAt(n);r[2*n]=a>>>8,r[2*n+1]=a%256}return r},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var r=new Array(t.length/2),n=0,i=r.length;n<i;n++)r[n]=256*t[2*n]+t[2*n+1];var a=[];return r.forEach((function(t){a.push(e(t))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(r,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,i,o,a={},s={},u="",c="",l="",f=2,h=3,p=2,d=[],v=0,m=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=h++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<p;n++)v<<=1,m==t-1?(m=0,d.push(r(v)),v=0):m++;for(i=l.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i>>=1}else{for(i=1,n=0;n<p;n++)v=v<<1|i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i=0;for(i=l.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,p),p++),delete s[l]}else for(i=a[l],n=0;n<p;n++)v=v<<1|1&i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,p),p++),a[c]=h++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<p;n++)v<<=1,m==t-1?(m=0,d.push(r(v)),v=0):m++;for(i=l.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i>>=1}else{for(i=1,n=0;n<p;n++)v=v<<1|i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i=0;for(i=l.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,p),p++),delete s[l]}else for(i=a[l],n=0;n<p;n++)v=v<<1|1&i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,p),p++)}for(i=2,n=0;n<p;n++)v=v<<1|1&i,m==t-1?(m=0,d.push(r(v)),v=0):m++,i>>=1;while(1){if(v<<=1,m==t-1){d.push(r(v));break}m++}return d.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var i,o,a,s,u,c,l,f=[],h=4,p=4,d=3,v="",m=[],y={val:n(0),position:r,index:1};for(i=0;i<3;i+=1)f[i]=i;a=0,u=Math.pow(2,2),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(s>0?1:0)*c,c<<=1;switch(a){case 0:a=0,u=Math.pow(2,8),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(s>0?1:0)*c,c<<=1;l=e(a);break;case 1:a=0,u=Math.pow(2,16),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(s>0?1:0)*c,c<<=1;l=e(a);break;case 2:return""}f[3]=l,o=l,m.push(l);while(1){if(y.index>t)return"";a=0,u=Math.pow(2,d),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(s>0?1:0)*c,c<<=1;switch(l=a){case 0:a=0,u=Math.pow(2,8),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(s>0?1:0)*c,c<<=1;f[p++]=e(a),l=p-1,h--;break;case 1:a=0,u=Math.pow(2,16),c=1;while(c!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(s>0?1:0)*c,c<<=1;f[p++]=e(a),l=p-1,h--;break;case 2:return m.join("")}if(0==h&&(h=Math.pow(2,d),d++),f[l])v=f[l];else{if(l!==p)return null;v=o+o.charAt(0)}m.push(v),f[p++]=o+v.charAt(0),h--,o=v,0==h&&(h=Math.pow(2,d),d++)}}};return o}();n=function(){return i}.call(t,r,t,e),void 0===n||(e.exports=n)},7:function(e,t){},"7+kd":function(e,t,r){var n=r("dG/n");n("isConcatSpreadable")},"7+zs":function(e,t,r){var n=r("kRJp"),i=r("UesL"),o=r("tiKp"),a=o("toPrimitive"),s=Date.prototype;a in s||n(s,a,i)},"702D":function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"WeakMap",stat:!0},{from:i})},"77Zs":function(e,t,r){var n=r("Xi7e");function i(){this.__data__=new n,this.size=0}e.exports=i},"7GkX":function(e,t,r){var n=r("b80T"),i=r("A90E"),o=r("MMmD");function a(e){return o(e)?n(e):i(e)}e.exports=a},"7JcK":function(e,t,r){"use strict";var n=r("67WC"),i=r("iqeF"),o=n.aTypedArrayConstructor,a=n.exportTypedArrayStaticMethod;a("of",(function(){var e=0,t=arguments.length,r=new(o(this))(t);while(t>e)r[e]=arguments[e++];return r}),i)},"7O6a":function(e,t,r){"use strict";var n=t;function i(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build="minimal",n.Writer=r("2R+z"),n.BufferWriter=r("bbyY"),n.Reader=r("mQ2N"),n.BufferReader=r("mdYE"),n.util=r("XOFf"),n.rpc=r("cL0a"),n.roots=r("0qCr"),n.configure=i,n.Writer._configure(n.BufferWriter),i()},"7W2i":function(e,t,r){var n=r("SksO");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"7fqy":function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}e.exports=r},"7sf/":function(e,t,r){"use strict";function n(){var e=r("q1tI");return n=function(){return e},e}function i(){var e=o(r("6xEa"));return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var h={"zh-CN":"https://www.typescriptlang.org/zh/play","en-US":"https://www.typescriptlang.org/play"},p=function(e,t){var r=function(){var e=/^zh|cn$/.test(arguments.length<=0?void 0:arguments[0])?h["zh-CN"]:h["en-US"];return"".concat(e,"?skipLibCheck=true&jsx=1#code/").concat(i()["default"].compressToEncodedURIComponent(arguments.length<=1?void 0:arguments[1]))},o=(0,n().useState)(r(e,t)),s=a(o,2),u=s[0],c=s[1];return(0,n().useEffect)((function(){c(r(e,t))}),[e,t]),u};t["default"]=p},"7ueG":function(e,t,r){"use strict";var n=r("I+eb"),i=r("WKiH").start,o=r("yNLB"),a=o("trimStart"),s=a?function(){return i(this)}:"".trimStart;n({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},"8/pp":function(e,t,r){"use strict";var n=r("TqRt"),i=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o,a,s=n(r("lwsE")),u=n(r("W8MJ")),c=n(r("a1gu")),l=n(r("Nsbk")),f=n(r("PJYZ")),h=n(r("7W2i")),p=n(r("lSNA")),d=i(r("q1tI")),v=r("i8i4"),m=(r("KrvG"),n(r("17x9")),a=o=function(e){function t(){var e,r;(0,s["default"])(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=(0,c["default"])(this,(e=(0,l["default"])(t)).call.apply(e,[this].concat(i))),(0,p["default"])((0,f["default"])(r),"_child",void 0),(0,p["default"])((0,f["default"])(r),"_measure",(function(){var e=r.props,t=e.cache,n=e.columnIndex,i=void 0===n?0:n,o=e.parent,a=e.rowIndex,s=void 0===a?r.props.index||0:a,u=r._getCellMeasurements(),c=u.height,l=u.width;c===t.getHeight(s,i)&&l===t.getWidth(s,i)||(t.set(s,i,l,c),o&&"function"===typeof o.recomputeGridSize&&o.recomputeGridSize({columnIndex:i,rowIndex:s}))})),(0,p["default"])((0,f["default"])(r),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),r._child=e,e&&r._maybeMeasureCell()})),r}return(0,h["default"])(t,e),(0,u["default"])(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"===typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||(0,v.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var r=t.style.width,n=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var i=Math.ceil(t.offsetHeight),o=Math.ceil(t.offsetWidth);return r&&(t.style.width=r),n&&(t.style.height=n),{height:i,width:o}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,r=e.columnIndex,n=void 0===r?0:r,i=e.parent,o=e.rowIndex,a=void 0===o?this.props.index||0:o;if(!t.has(a,n)){var s=this._getCellMeasurements(),u=s.height,c=s.width;t.set(a,n,c,u),i&&"function"===typeof i.invalidateCellSizeAfterRender&&i.invalidateCellSizeAfterRender({columnIndex:n,rowIndex:a})}}}]),t}(d.PureComponent),(0,p["default"])(o,"propTypes",null),a);t["default"]=m,(0,p["default"])(m,"__internalCellMeasurerFlag",!1)},"82c2":function(e,t,r){"use strict";var n=r("1seS"),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=function(e){return"function"===typeof e&&"[object Function]"===o.call(e)},c=r("ZLCw")(),l=s&&c,f=function(e,t,r,n){(!(t in e)||u(n)&&n())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},h=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)f(e,o[s],t[o[s]],r[o[s]])};h.supportsDescriptors=!!l,e.exports=h},"879j":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("oZsa"),i=r("cHpt"),o=r("QyJ8"),a=r("tS8v");function s(e,t){if(t&&("object"===Object(o["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(a["a"])(e)}function u(e){var t=Object(i["a"])();return function(){var r,i=Object(n["a"])(e);if(t){var o=Object(n["a"])(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return s(this,r)}}},"8GlL":function(e,t,r){"use strict";var n=r("HAuM"),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},"8L3F":function(e,t,r){"use strict";(function(e){var r="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,n=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(r&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function i(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}function o(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),n))}}var a=r&&window.Promise,s=a?i:o;function u(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function c(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView,n=r.getComputedStyle(e,null);return t?n[t]:n}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function f(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=c(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:f(l(e))}function h(e){return e&&e.referenceNode?e.referenceNode:e}var p=r&&!(!window.MSInputMethodContext||!document.documentMode),d=r&&/MSIE 10/.test(navigator.userAgent);function v(e){return 11===e?p:10===e?d:p||d}function m(e){if(!e)return document.documentElement;var t=v(10)?document.body:null,r=e.offsetParent||null;while(r===t&&e.nextElementSibling)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===c(r,"position")?m(r):r:e?e.ownerDocument.documentElement:document.documentElement}function y(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||m(e.firstElementChild)===e)}function g(e){return null!==e.parentNode?g(e.parentNode):e}function b(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,o=document.createRange();o.setStart(n,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||n.contains(i))return y(a)?a:m(a);var s=g(e);return s.host?b(s.host,t):b(e,g(t).host)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[r]}return e[r]}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=_(t,"top"),i=_(t,"left"),o=r?-1:1;return e.top+=n*o,e.bottom+=n*o,e.left+=i*o,e.right+=i*o,e}function x(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function O(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],v(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function E(e){var t=e.body,r=e.documentElement,n=v(10)&&getComputedStyle(r);return{height:O("Height",t,r,n),width:O("Width",t,r,n)}}var j=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),k=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function P(e){return T({},e,{right:e.left+e.width,bottom:e.top+e.height})}function A(e){var t={};try{if(v(10)){t=e.getBoundingClientRect();var r=_(e,"top"),n=_(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?E(e.ownerDocument):{},a=o.width||e.clientWidth||i.width,s=o.height||e.clientHeight||i.height,u=e.offsetWidth-a,l=e.offsetHeight-s;if(u||l){var f=c(e);u-=x(f,"x"),l-=x(f,"y"),i.width-=u,i.height-=l}return P(i)}function I(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v(10),i="HTML"===t.nodeName,o=A(e),a=A(t),s=f(e),u=c(t),l=parseFloat(u.borderTopWidth),h=parseFloat(u.borderLeftWidth);r&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=P({top:o.top-a.top-l,left:o.left-a.left-h,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!n&&i){var d=parseFloat(u.marginTop),m=parseFloat(u.marginLeft);p.top-=l-d,p.bottom-=l-d,p.left-=h-m,p.right-=h-m,p.marginTop=d,p.marginLeft=m}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=w(p,t)),p}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=I(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),o=Math.max(r.clientHeight,window.innerHeight||0),a=t?0:_(r),s=t?0:_(r,"left"),u={top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:o};return P(u)}function R(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===c(e,"position"))return!0;var r=l(e);return!!r&&R(r)}function M(e){if(!e||!e.parentElement||v())return document.documentElement;var t=e.parentElement;while(t&&"none"===c(t,"transform"))t=t.parentElement;return t||document.documentElement}function L(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?M(e):b(e,h(t));if("viewport"===n)o=C(a,i);else{var s=void 0;"scrollParent"===n?(s=f(l(t)),"BODY"===s.nodeName&&(s=e.ownerDocument.documentElement)):s="window"===n?e.ownerDocument.documentElement:n;var u=I(s,a,i);if("HTML"!==s.nodeName||R(a))o=u;else{var c=E(e.ownerDocument),p=c.height,d=c.width;o.top+=u.top-u.marginTop,o.bottom=p+u.top,o.left+=u.left-u.marginLeft,o.right=d+u.left}}r=r||0;var v="number"===typeof r;return o.left+=v?r:r.left||0,o.top+=v?r:r.top||0,o.right-=v?r:r.right||0,o.bottom-=v?r:r.bottom||0,o}function D(e){var t=e.width,r=e.height;return t*r}function N(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=L(r,n,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map((function(e){return T({key:e},s[e],{area:D(s[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function F(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?M(t):b(t,h(r));return I(r,i,n)}function z(e){var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e),n=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),i=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),o={width:e.offsetWidth+i,height:e.offsetHeight+n};return o}function B(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function U(e,t,r){r=r.split("-")[0];var n=z(e),i={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=t[a]+t[u]/2-n[u]/2,i[s]=r===s?t[s]-n[c]:t[B(s)],i}function V(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function G(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=V(e,(function(e){return e[t]===r}));return e.indexOf(n)}function q(e,t,r){var n=void 0===r?e:e.slice(0,G(e,"name",r));return n.forEach((function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e["function"]||e.fn;e.enabled&&u(r)&&(t.offsets.popper=P(t.offsets.popper),t.offsets.reference=P(t.offsets.reference),t=r(t,e))})),t}function W(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=F(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=N(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=U(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=q(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function H(e,t){return e.some((function(e){var r=e.name,n=e.enabled;return n&&r===t}))}function Z(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],o=i?""+i+r:e;if("undefined"!==typeof document.body.style[o])return o}return null}function X(){return this.state.isDestroyed=!0,H(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function $(e){var t=e.ownerDocument;return t?t.defaultView:window}function Y(e,t,r,n){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,r,{passive:!0}),i||Y(f(o.parentNode),t,r,n),n.push(o)}function K(e,t,r,n){r.updateBound=n,$(e).addEventListener("resize",r.updateBound,{passive:!0});var i=f(e);return Y(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function J(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function Q(e,t){return $(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function ee(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Q(this.reference,this.state))}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function re(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&te(t[r])&&(n="px"),e.style[r]=t[r]+n}))}function ne(e,t){Object.keys(t).forEach((function(r){var n=t[r];!1!==n?e.setAttribute(r,t[r]):e.removeAttribute(r)}))}function ie(e){return re(e.instance.popper,e.styles),ne(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&re(e.arrowElement,e.arrowStyles),e}function oe(e,t,r,n,i){var o=F(i,t,e,r.positionFixed),a=N(r.placement,o,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),re(t,{position:r.positionFixed?"fixed":"absolute"}),r}function ae(e,t){var r=e.offsets,n=r.popper,i=r.reference,o=Math.round,a=Math.floor,s=function(e){return e},u=o(i.width),c=o(n.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),h=u%2===c%2,p=u%2===1&&c%2===1,d=t?l||f||h?o:a:s,v=t?o:s;return{left:d(p&&!f&&t?n.left-1:n.left),top:v(n.top),bottom:v(n.bottom),right:d(n.right)}}var se=r&&/Firefox/i.test(navigator.userAgent);function ue(e,t){var r=t.x,n=t.y,i=e.offsets.popper,o=V(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=m(e.instance.popper),u=A(s),c={position:i.position},l=ae(e,window.devicePixelRatio<2||!se),f="bottom"===r?"top":"bottom",h="right"===n?"left":"right",p=Z("transform"),d=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,d="right"===h?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&p)c[p]="translate3d("+d+"px, "+v+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var y="bottom"===f?-1:1,g="right"===h?-1:1;c[f]=v*y,c[h]=d*g,c.willChange=f+", "+h}var b={"x-placement":e.placement};return e.attributes=T({},b,e.attributes),e.styles=T({},c,e.styles),e.arrowStyles=T({},e.offsets.arrow,e.arrowStyles),e}function ce(e,t,r){var n=V(e,(function(e){var r=e.name;return r===t})),i=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!i){var o="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function le(e,t){var r;if(!ce(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"===typeof n){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",f=u?"Top":"Left",h=f.toLowerCase(),p=u?"left":"top",d=u?"bottom":"right",v=z(n)[l];s[d]-v<a[h]&&(e.offsets.popper[h]-=a[h]-(s[d]-v)),s[h]+v>a[d]&&(e.offsets.popper[h]+=s[h]+v-a[d]),e.offsets.popper=P(e.offsets.popper);var m=s[h]+s[l]/2-v/2,y=c(e.instance.popper),g=parseFloat(y["margin"+f]),b=parseFloat(y["border"+f+"Width"]),_=m-e.offsets.popper[h]-g-b;return _=Math.max(Math.min(a[l]-v,_),0),e.arrowElement=n,e.offsets.arrow=(r={},k(r,h,Math.round(_)),k(r,p,""),r),e}function fe(e){return"end"===e?"start":"start"===e?"end":e}var he=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pe=he.slice(3);function de(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=pe.indexOf(e),n=pe.slice(r+1).concat(pe.slice(0,r));return t?n.reverse():n}var ve={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function me(e,t){if(H(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=L(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=B(n),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case ve.FLIP:a=[n,i];break;case ve.CLOCKWISE:a=de(n);break;case ve.COUNTERCLOCKWISE:a=de(n,!0);break;default:a=t.behavior}return a.forEach((function(s,u){if(n!==s||a.length===u+1)return e;n=e.placement.split("-")[0],i=B(n);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,h="left"===n&&f(c.right)>f(l.left)||"right"===n&&f(c.left)<f(l.right)||"top"===n&&f(c.bottom)>f(l.top)||"bottom"===n&&f(c.top)<f(l.bottom),p=f(c.left)<f(r.left),d=f(c.right)>f(r.right),v=f(c.top)<f(r.top),m=f(c.bottom)>f(r.bottom),y="left"===n&&p||"right"===n&&d||"top"===n&&v||"bottom"===n&&m,g=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(g&&"start"===o&&p||g&&"end"===o&&d||!g&&"start"===o&&v||!g&&"end"===o&&m),_=!!t.flipVariationsByContent&&(g&&"start"===o&&d||g&&"end"===o&&p||!g&&"start"===o&&m||!g&&"end"===o&&v),w=b||_;(h||y||w)&&(e.flipped=!0,(h||y)&&(n=a[u+1]),w&&(o=fe(o)),e.placement=n+(o?"-"+o:""),e.offsets.popper=T({},e.offsets.popper,U(e.instance.popper,e.offsets.reference,e.placement)),e=q(e.instance.modifiers,e,"flip"))})),e}function ye(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return r[s]<o(n[u])&&(e.offsets.popper[u]=o(n[u])-r[c]),r[u]>o(n[s])&&(e.offsets.popper[u]=o(n[s])),e}function ge(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}var u=P(s);return u[t]/100*o}if("vh"===a||"vw"===a){var c=void 0;return c="vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*o}return o}function be(e,t,r,n){var i=[0,0],o=-1!==["right","left"].indexOf(n),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(V(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return c=c.map((function(e,n){var i=(1===n?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return ge(e,i,t,r)}))})),c.forEach((function(e,t){e.forEach((function(r,n){te(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))}))})),i}function _e(e,t){var r=t.offset,n=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=n.split("-")[0],u=void 0;return u=te(+r)?[+r,0]:be(r,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e}function we(e,t){var r=t.boundariesElement||m(e.instance.popper);e.instance.reference===r&&(r=m(r));var n=Z("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[n];i.top="",i.left="",i[n]="";var u=L(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=o,i.left=a,i[n]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var r=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(r=Math.max(l[e],u[e])),k({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=l[r];return l[e]>u[e]&&!t.escapeWithReference&&(n=Math.min(l[r],u[e]-("right"===e?l.width:l.height))),k({},r,n)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=T({},l,f[t](e))})),e.offsets.popper=l,e}function xe(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(r),u=s?"left":"top",c=s?"width":"height",l={start:k({},u,o[u]),end:k({},u,o[u]+o[c]-a[c])};e.offsets.popper=T({},a,l[n])}return e}function Oe(e){if(!ce(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=V(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Ee(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,o=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return i[a?"left":"top"]=o[r]-(s?i[a?"width":"height"]:0),e.placement=B(t),e.offsets.popper=P(i),e}var je={shift:{order:100,enabled:!0,fn:xe},offset:{order:200,enabled:!0,fn:_e,offset:0},preventOverflow:{order:300,enabled:!0,fn:we,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:ye},arrow:{order:500,enabled:!0,fn:le,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:me,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Ee},hide:{order:800,enabled:!0,fn:Oe},computeStyle:{order:850,enabled:!0,fn:ue,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ie,onLoad:oe,gpuAcceleration:void 0}},Se={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:je},ke=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};j(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=s(this.update.bind(this)),this.options=T({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(T({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){n.options.modifiers[t]=T({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return T({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&u(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return S(e,[{key:"update",value:function(){return W.call(this)}},{key:"destroy",value:function(){return X.call(this)}},{key:"enableEventListeners",value:function(){return J.call(this)}},{key:"disableEventListeners",value:function(){return ee.call(this)}}]),e}();ke.Utils=("undefined"!==typeof window?window:e).PopperUtils,ke.placements=he,ke.Defaults=Se,t["a"]=ke}).call(this,r("IyRk"))},"8L3h":function(e,t,r){"use strict";e.exports=r("f/k9")},"8OQS":function(e,t){function r(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"8STE":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},"8WtI":function(e,t,r){"use strict";r.d(t,"a",(function(){return D})),r.d(t,"b",(function(){return N})),r.d(t,"c",(function(){return z})),r.d(t,"d",(function(){return B}));var n=r("NUqu"),i=r("E8nr"),o=r("vuIU"),a=r("1OyB"),s=r("JX7q"),u=r("Ji7U"),c=r("md7G"),l=r("foSv"),f=r("s4An");function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}var p=r("2WcH");function d(e,t,r){return d=Object(p["a"])()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),o=new i;return r&&Object(f["a"])(o,r.prototype),o},d.apply(null,arguments)}function v(e){var t="function"===typeof Map?new Map:void 0;return v=function(e){if(null===e||!h(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,Object(l["a"])(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(f["a"])(r,e)},v(e)}var m=r("eDuk"),y=r.n(m);function g(e){var t=b();return function(){var r,n=Object(l["a"])(e);if(t){var i=Object(l["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c["a"])(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){Object(u["a"])(r,e);var t=g(r);function r(){var e;Object(a["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Error.captureStackTrace(Object(s["a"])(e),r),e}return Object(o["a"])(r)}(v(Error)),w=function(){function e(){for(var t in Object(a["a"])(this,e),this.ajv=x(),n){var r=n[t];this.ajv.addSchema(r,t)}}return Object(o["a"])(e,[{key:"validateMetadata",value:function(e){this.validate("session/metadata.schema.json",e)}},{key:"validateStateUpdate",value:function(e){this.validate("session/state_update.schema.json",e)}},{key:"validateStreamSet",value:function(e){this.validate("core/stream_set.schema.json",e)}},{key:"validatePose",value:function(e){this.validate("core/pose.schema.json",e)}},{key:"validatePrimitive",value:function(e,t){this.validate("primitives/".concat(e,".schema.json"),t)}},{key:"validateTimeSeries",value:function(e){this.validate("core/timeseries_state.schema.json",e)}},{key:"validateFutureInstances",value:function(e){this.validate("core/future_instances.schema.json",e)}},{key:"validateVariable",value:function(e){this.validate("core/variable.schema.json",e)}},{key:"validateAnnotation",value:function(e,t){this.validate("core/annotation_".concat(e,".schema.json"),t)}},{key:"validate",value:function(e,t){var r=this._getSchema(e);if(void 0===r){var n="Could not load schema: ".concat(e);throw n}var i=r(t);if(!i){var o=JSON.stringify(r.errors,null,"  ");throw new _("Validation errors: ".concat(o))}}},{key:"schemaCount",value:function(){return Object.keys(this.ajv._schemas).length}},{key:"hasSchema",value:function(e){return void 0!==this._getSchema(e)}},{key:"_getSchema",value:function(e){return e.endsWith(".schema.json")||(e+=".schema.json"),this.ajv.getSchema(e)}}]),e}();function x(){var e=O();return e}function O(){var e=new y.a({meta:!1,schemaId:"id",extendRefs:"fail"}),t=r("3jBn");return e.addMetaSchema(t),e._opts.defaultMeta=t.id,e.removeKeyword("propertyNames"),e.removeKeyword("contains"),e.removeKeyword("const"),e}var E=Object.freeze({DISCONNECTED:"DISCONNECTED",CONNECTED:"CONNECTED",LOG_SESSION_INITIALIZING:"LOG_SESSION_INITIALIZING",LOG_SESSION_ACTIVE:"LOG_SESSION_ACTIVE",TRANSFORMING_LOG:"TRANSFORMING_LOG",LIVE_SESSION_INITIALIZING:"LIVE_SESSION_INITIALIZING",LIVE_SESSION_ACTIVE:"LIVE_SESSION_ACTIVE"}),j=Object.freeze({START:"START",ERROR:"ERROR",METADATA:"METADATA",TRANSFORM_LOG:"TRANSFORM_LOG",STATE_UPDATE:"STATE_UPDATE",TRANSFORM_LOG_DONE:"TRANSFORM_LOG_DONE"}),S=Object.freeze({START:"session/start",ERROR:"session/error",METADATA:"session/metadata",TRANSFORM_LOG:"session/transform_log",STATE_UPDATE:"session/state_update",TRANSFORM_LOG_DONE:"session/transform_log_done"}),k=Object.freeze({DISCONNECTED:{},CONNECTED:{START:function(e){return e&&"LIVE"===e.session_type?E.LIVE_SESSION_INITIALIZING:E.LOG_SESSION_INITIALIZING}},LOG_SESSION_INITIALIZING:{ERROR:E.DISCONNECTED,METADATA:E.LOG_SESSION_ACTIVE},LOG_SESSION_ACTIVE:{TRANSFORM_LOG:E.TRANSFORMING_LOG},TRANSFORMING_LOG:{STATE_UPDATE:E.TRANSFORMING_LOG,ERROR:E.TRANSFORMING_LOG,TRANSFORM_LOG_DONE:E.LOG_SESSION_ACTIVE},LIVE_SESSION_INITIALIZING:{ERROR:E.DISCONNECTED,METADATA:E.LIVE_SESSION_ACTIVE},LIVE_SESSION_ACTIVE:{STATE_UPDATE:E.LIVE_SESSION_ACTIVE,ERROR:E.LIVE_SESSION_ACTIVE}}),T=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{verbose:!1};Object(a["a"])(this,e),this.options=t,this.msgValidator=new w,this.state=E.DISCONNECTED,this.resetState()}Object(o["a"])(e,[{key:"onConnect",value:function(){this.state=E.CONNECTED,this.resetState()}},{key:"onStart",value:function(e){this.processMessage(e,j.START)}},{key:"onError",value:function(e){this.processMessage(e,j.ERROR)}},{key:"onMetadata",value:function(e){this.processMessage(e,j.METADATA)}},{key:"onTransformLog",value:function(e){this.processMessage(e,j.TRANSFORM_LOG)}},{key:"onStateUpdate",value:function(e){this.processMessage(e,j.STATE_UPDATE)}},{key:"onTransformLogDone",value:function(e){this.processMessage(e,j.TRANSFORM_LOG_DONE)}},{key:"onClose",value:function(){this.state=E.DISCONNECTED,this.lastMessage!==j.ERROR&&(this.stats.stateErrors[this.state]="Close should only happen on error")}},{key:"processMessage",value:function(e,t){this.recordMessage(e,t),this.runTransition(e,t)}},{key:"recordMessage",value:function(e,t){this.lastMessage=t,this.stats.messages[t]=this.stats.messages[t]+1||1;var r=S[t];if(void 0===r)throw Error('"'.concat(t,'" does not have a schema name'));try{this.msgValidator.validate(r,e)}catch(a){if(!(a instanceof _))throw a;var n=a.toString(),i=this.stats.uniqueErrors[t],o=void 0===i;o?(i={},i[n]=1,this.stats.uniqueErrors[t]=i):i[n]=i[n]+1||1,this.stats.validationErrors[t]=this.stats.validationErrors[t]+1||1,o&&this.options.invalidCallback&&this.options.invalidCallback(t,a,e)}}},{key:"runTransition",value:function(e,t){var r=k[this.state];if(void 0===r)throw Error("State: ".concat(this.state," does not have any transitions"));var n=r[t];"function"===typeof n&&(n=r[t](e)),void 0===n?this.stats.stateErrors[this.state]="While in ".concat(this.state," state, cannot accept message ").concat(t):this.state=n}},{key:"resetState",value:function(){this.stats={messages:{},validationErrors:{},uniqueErrors:{},stateErrors:{}},this.lastMessage=null}}])}(),r("0Xrt"));function P(){return T["Root"].fromJSON(i)}var A=r("U8pU");new Set(["double","float","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","bool","string","bytes"]);var I=r("qMUi"),C=function(){function e(t){Object(a["a"])(this,e),t=t||{},this.seenObjects=new Set,this.removeCircular=!0===t.removeCircular,this.stringify=!0===t.stringify}return Object(o["a"])(e,[{key:"encodeStruct",value:function(e){var t={fields:{}};for(var r in this.seenObjects.add(e),e)if(e.hasOwnProperty(r)){var n=e[r];if(I["undefined"](n))continue;t.fields[r]=this.encodeValue(n)}return this.seenObjects["delete"](e),t}},{key:"encodeValue",value:function(e){var t;if(I["null"](e))t={nullValue:0};else if(I["number"](e))t={numberValue:e};else if(I["string"](e))t={stringValue:e};else if(I["boolean"](e))t={boolValue:e};else if(I["object"](e))if(this.seenObjects.has(e)){if(!this.removeCircular)throw new Error(["This object contains a circular reference. To automatically","remove it, set the `removeCircular` option to true."].join(" "));t={stringValue:"[Circular]"}}else t={structValue:this.encodeStruct(e)};else if(I["array"](e))t={listValue:{values:e.map(this.encodeValue.bind(this))}};else{if(!this.stringify)throw new Error("Value of type ".concat(Object(A["a"])(e)," not recognized."));t={stringValue:String(e)}}return t}}]),e}(),R=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,null,[{key:"decodeValue",value:function(t){switch(t.kind){case"structValue":return e.decodeStruct(t.structValue);case"nullValue":return null;case"listValue":return t.listValue.values.map(e.decodeValue);default:return t[t.kind]}}},{key:"decodeStruct",value:function(t){var r={};for(var n in t.fields)if(t.fields.hasOwnProperty(n)){var i=t.fields[n];r[n]=e.decodeValue(i)}return r}}]),e}();T["wrappers"][".google.protobuf.Value"]={fromObject:function(e){return e?(new C).encodeValue(e):this.fromObject(e)},toObject:function(e){return R.decodeValue(e)}},T["wrappers"][".google.protobuf.Struct"]={fromObject:function(e){return e?(new C).encodeStruct(e):this.fromObject(e)},toObject:function(e){return R.decodeStruct(e)}};var M={ENVELOPE:"xviz.v2.Envelope",START:"xviz.v2.Start",TRANSFORM_LOG:"xviz.v2.TransformLog",TRANSFORM_LOG_POINT_IN_TIME:"xviz.v2.TransformPointInTime",TRANSFORM_LOG_DONE:"xviz.v2.TransformLogDone",STATE_UPDATE:"xviz.v2.StateUpdate",RECONFIGURE:"xviz.v2.Reconfigure",METADATA:"xviz.v2.Metadata",ERROR:"xviz.v2.Error"},L={UI_PANEL_INFO:"xviz.v2.UIPanelInfo"},D=1346520369,N=Uint8Array.from([80,66,69,49]),F=P(),z={Envelope:F.lookupType(M.ENVELOPE),Metadata:F.lookupType(M.METADATA),StateUpdate:F.lookupType(M.STATE_UPDATE)},B={UIPanelInfo:F.lookupType(L.UI_PANEL_INFO)}},"8XRh":function(e,t,r){"use strict";var n=r("rePB"),i=r("VTBJ"),o=r("ODXe"),a=r("U8pU"),s=r("q1tI"),u=r("m+aA"),c=r("c+Xe"),l=r("TSYQ"),f=r.n(l),h=r("MNnm");function p(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function d(e,t){var r={animationend:p("Animation","AnimationEnd"),transitionend:p("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var v=d(Object(h["a"])(),"undefined"!==typeof window?window:{}),m={};if(Object(h["a"])()){var y=document.createElement("div");m=y.style}var g={};function b(e){if(g[e])return g[e];var t=v[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in m)return g[e]=t[o],g[e]}return""}var _=b("animationend"),w=b("transitionend"),x=!(!_||!w),O=_||"animationend",E=w||"transitionend";function j(e,t){if(!e)return null;if("object"===Object(a["a"])(e)){var r=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[r]}return"".concat(e,"-").concat(t)}var S="none",k="appear",T="enter",P="leave",A="none",I="prepare",C="start",R="active",M="end",L=r("dm2S"),D=r("wgJM"),N=function(){var e=s["useRef"](null);function t(){D["a"].cancel(e.current)}function r(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Object(D["a"])((function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)}));e.current=o}return s["useEffect"]((function(){return function(){t()}}),[]),[r,t]},F=Object(h["a"])()?s["useLayoutEffect"]:s["useEffect"],z=F,B=[I,C,R,M],U=!1,V=!0;function G(e){return e===R||e===M}var q=function(e,t){var r=Object(L["a"])(A),n=Object(o["a"])(r,2),i=n[0],a=n[1],u=N(),c=Object(o["a"])(u,2),l=c[0],f=c[1];function h(){a(I,!0)}return z((function(){if(i!==A&&i!==M){var e=B.indexOf(i),r=B[e+1],n=t(i);n===U?a(r,!0):l((function(e){function t(){e.isCanceled()||a(r,!0)}!0===n?t():Promise.resolve(n).then(t)}))}}),[e,i]),s["useEffect"]((function(){return function(){f()}}),[]),[h,i]},W=function(e){var t=Object(s["useRef"])(),r=Object(s["useRef"])(e);r.current=e;var n=s["useCallback"]((function(e){r.current(e)}),[]);function i(e){e&&(e.removeEventListener(E,n),e.removeEventListener(O,n))}function o(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(E,n),e.addEventListener(O,n),t.current=e)}return s["useEffect"]((function(){return function(){i(t.current)}}),[]),[o,i]};function H(e,t,r,a){var u=a.motionEnter,c=void 0===u||u,l=a.motionAppear,f=void 0===l||l,h=a.motionLeave,p=void 0===h||h,d=a.motionDeadline,v=a.motionLeaveImmediately,m=a.onAppearPrepare,y=a.onEnterPrepare,g=a.onLeavePrepare,b=a.onAppearStart,_=a.onEnterStart,w=a.onLeaveStart,x=a.onAppearActive,O=a.onEnterActive,E=a.onLeaveActive,j=a.onAppearEnd,A=a.onEnterEnd,M=a.onLeaveEnd,D=a.onVisibleChanged,N=Object(L["a"])(),F=Object(o["a"])(N,2),B=F[0],H=F[1],Z=Object(L["a"])(S),X=Object(o["a"])(Z,2),$=X[0],Y=X[1],K=Object(L["a"])(null),J=Object(o["a"])(K,2),Q=J[0],ee=J[1],te=Object(s["useRef"])(!1),re=Object(s["useRef"])(null);function ne(){return r()}var ie=Object(s["useRef"])(!1);function oe(e){var t=ne();if(!e||e.deadline||e.target===t){var r,n=ie.current;$===k&&n?r=null===j||void 0===j?void 0:j(t,e):$===T&&n?r=null===A||void 0===A?void 0:A(t,e):$===P&&n&&(r=null===M||void 0===M?void 0:M(t,e)),$!==S&&n&&!1!==r&&(Y(S,!0),ee(null,!0))}}var ae=W(oe),se=Object(o["a"])(ae,1),ue=se[0],ce=s["useMemo"]((function(){var e,t,r;switch($){case k:return e={},Object(n["a"])(e,I,m),Object(n["a"])(e,C,b),Object(n["a"])(e,R,x),e;case T:return t={},Object(n["a"])(t,I,y),Object(n["a"])(t,C,_),Object(n["a"])(t,R,O),t;case P:return r={},Object(n["a"])(r,I,g),Object(n["a"])(r,C,w),Object(n["a"])(r,R,E),r;default:return{}}}),[$]),le=q($,(function(e){if(e===I){var t=ce[I];return t?t(ne()):U}var r;pe in ce&&ee((null===(r=ce[pe])||void 0===r?void 0:r.call(ce,ne(),null))||null);return pe===R&&(ue(ne()),d>0&&(clearTimeout(re.current),re.current=setTimeout((function(){oe({deadline:!0})}),d))),V})),fe=Object(o["a"])(le,2),he=fe[0],pe=fe[1],de=G(pe);ie.current=de,z((function(){H(t);var r,n=te.current;(te.current=!0,e)&&(!n&&t&&f&&(r=k),n&&t&&c&&(r=T),(n&&!t&&p||!n&&v&&!t&&p)&&(r=P),r&&(Y(r),he()))}),[t]),Object(s["useEffect"])((function(){($===k&&!f||$===T&&!c||$===P&&!p)&&Y(S)}),[f,c,p]),Object(s["useEffect"])((function(){return function(){te.current=!1,clearTimeout(re.current)}}),[]);var ve=s["useRef"](!1);Object(s["useEffect"])((function(){B&&(ve.current=!0),void 0!==B&&$===S&&((ve.current||B)&&(null===D||void 0===D||D(B)),ve.current=!0)}),[B,$]);var me=Q;return ce[I]&&pe===C&&(me=Object(i["a"])({transition:"none"},me)),[$,pe,me,null!==B&&void 0!==B?B:t]}var Z=r("1OyB"),X=r("vuIU"),$=r("Ji7U"),Y=r("LK+K"),K=function(e){Object($["a"])(r,e);var t=Object(Y["a"])(r);function r(){return Object(Z["a"])(this,r),t.apply(this,arguments)}return Object(X["a"])(r,[{key:"render",value:function(){return this.props.children}}]),r}(s["Component"]),J=K;function Q(e){var t=e;function r(e){return!(!e.motionName||!t)}"object"===Object(a["a"])(e)&&(t=e.transitionSupport);var l=s["forwardRef"]((function(e,t){var a=e.visible,l=void 0===a||a,h=e.removeOnLeave,p=void 0===h||h,d=e.forceRender,v=e.children,m=e.motionName,y=e.leavedClassName,g=e.eventProps,b=r(e),_=Object(s["useRef"])(),w=Object(s["useRef"])();function x(){try{return _.current instanceof HTMLElement?_.current:Object(u["a"])(w.current)}catch(e){return null}}var O=H(b,l,x,e),E=Object(o["a"])(O,4),k=E[0],T=E[1],P=E[2],A=E[3],R=s["useRef"](A);A&&(R.current=!0);var M,L=s["useCallback"]((function(e){_.current=e,Object(c["b"])(t,e)}),[t]),D=Object(i["a"])(Object(i["a"])({},g),{},{visible:l});if(v)if(k!==S&&r(e)){var N,F;T===I?F="prepare":G(T)?F="active":T===C&&(F="start"),M=v(Object(i["a"])(Object(i["a"])({},D),{},{className:f()(j(m,k),(N={},Object(n["a"])(N,j(m,"".concat(k,"-").concat(F)),F),Object(n["a"])(N,m,"string"===typeof m),N)),style:P}),L)}else M=A?v(Object(i["a"])({},D),L):!p&&R.current?v(Object(i["a"])(Object(i["a"])({},D),{},{className:y}),L):d?v(Object(i["a"])(Object(i["a"])({},D),{},{style:{display:"none"}}),L):null;else M=null;if(s["isValidElement"](M)&&Object(c["c"])(M)){var z=M,B=z.ref;B||(M=s["cloneElement"](M,{ref:L}))}return s["createElement"](J,{ref:w},M)}));return l.displayName="CSSMotion",l}var ee=Q(x),te=r("wx14"),re=r("Ff2n"),ne="add",ie="keep",oe="remove",ae="removed";function se(e){var t;return t=e&&"object"===Object(a["a"])(e)&&"key"in e?e:{key:e},Object(i["a"])(Object(i["a"])({},t),{},{key:String(t.key)})}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(se)}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=0,o=t.length,a=ue(e),s=ue(t);a.forEach((function(e){for(var t=!1,a=n;a<o;a+=1){var u=s[a];if(u.key===e.key){n<a&&(r=r.concat(s.slice(n,a).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:ne})}))),n=a),r.push(Object(i["a"])(Object(i["a"])({},u),{},{status:ie})),n+=1,t=!0;break}}t||r.push(Object(i["a"])(Object(i["a"])({},e),{},{status:oe}))})),n<o&&(r=r.concat(s.slice(n).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:ne})}))));var u={};r.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var c=Object.keys(u).filter((function(e){return u[e]>1}));return c.forEach((function(e){r=r.filter((function(t){var r=t.key,n=t.status;return r!==e||n!==oe})),r.forEach((function(t){t.key===e&&(t.status=ie)}))})),r}var le=["component","children","onVisibleChanged","onAllRemoved"],fe=["status"],he=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,r=function(e){Object($["a"])(n,e);var r=Object(Y["a"])(n);function n(){var e;Object(Z["a"])(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o)),e.state={keyEntities:[]},e.removeKey=function(t){var r=e.state.keyEntities,n=r.map((function(e){return e.key!==t?e:Object(i["a"])(Object(i["a"])({},e),{},{status:ae})}));return e.setState({keyEntities:n}),n.filter((function(e){var t=e.status;return t!==ae})).length},e}return Object(X["a"])(n,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,n=this.props,i=n.component,o=n.children,a=n.onVisibleChanged,u=n.onAllRemoved,c=Object(re["a"])(n,le),l=i||s["Fragment"],f={};return he.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,s["createElement"](l,c,r.map((function(r){var n=r.status,i=Object(re["a"])(r,fe),c=n===ne||n===ie;return s["createElement"](t,Object(te["a"])({},f,{key:i.key,visible:c,eventProps:i,onVisibleChanged:function(t){if(null===a||void 0===a||a(t,{key:i.key}),!t){var r=e.removeKey(i.key);0===r&&u&&u()}}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.keys,n=t.keyEntities,i=ue(r),o=ce(n,i);return{keyEntities:o.filter((function(e){var t=n.find((function(t){var r=t.key;return e.key===r}));return!t||t.status!==ae||e.status!==oe}))}}}]),n}(s["Component"]);return r.defaultProps={component:"div"},r}pe(x),t["a"]=ee},"8YOa":function(e,t,r){var n=r("0BK2"),i=r("hh1v"),o=r("UTVS"),a=r("m/L8").f,s=r("kOOl"),u=r("uy83"),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},h=function(e){a(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!f(e))return"F";if(!t)return"E";h(e)}return e[c].objectID},d=function(e,t){if(!o(e,c)){if(!f(e))return!0;if(!t)return!1;h(e)}return e[c].weakData},v=function(e){return u&&m.REQUIRED&&f(e)&&!o(e,c)&&h(e),e},m=e.exports={REQUIRED:!1,fastKey:p,getWeakData:d,onFreeze:v};n[c]=!0},"8d86":function(e,t,r){"use strict";r.r(t),r.d(t,"arc",(function(){return I})),r.d(t,"area",(function(){return N})),r.d(t,"line",(function(){return D})),r.d(t,"pie",(function(){return B})),r.d(t,"areaRadial",(function(){return H})),r.d(t,"radialArea",(function(){return H})),r.d(t,"lineRadial",(function(){return W})),r.d(t,"radialLine",(function(){return W})),r.d(t,"pointRadial",(function(){return Z})),r.d(t,"linkHorizontal",(function(){return te})),r.d(t,"linkVertical",(function(){return re})),r.d(t,"linkRadial",(function(){return ne})),r.d(t,"symbol",(function(){return Oe})),r.d(t,"symbols",(function(){return xe})),r.d(t,"symbolCircle",(function(){return ie})),r.d(t,"symbolCross",(function(){return oe})),r.d(t,"symbolDiamond",(function(){return ue})),r.d(t,"symbolSquare",(function(){return de})),r.d(t,"symbolStar",(function(){return pe})),r.d(t,"symbolTriangle",(function(){return me})),r.d(t,"symbolWye",(function(){return we})),r.d(t,"curveBasisClosed",(function(){return Pe})),r.d(t,"curveBasisOpen",(function(){return Ie})),r.d(t,"curveBasis",(function(){return ke})),r.d(t,"curveBundle",(function(){return Re})),r.d(t,"curveCardinalClosed",(function(){return Fe})),r.d(t,"curveCardinalOpen",(function(){return Be})),r.d(t,"curveCardinal",(function(){return De})),r.d(t,"curveCatmullRomClosed",(function(){return We})),r.d(t,"curveCatmullRomOpen",(function(){return Ze})),r.d(t,"curveCatmullRom",(function(){return Ge})),r.d(t,"curveLinearClosed",(function(){return $e})),r.d(t,"curveLinear",(function(){return R})),r.d(t,"curveMonotoneX",(function(){return nt})),r.d(t,"curveMonotoneY",(function(){return it})),r.d(t,"curveNatural",(function(){return st})),r.d(t,"curveStep",(function(){return ct})),r.d(t,"curveStepAfter",(function(){return ft})),r.d(t,"curveStepBefore",(function(){return lt})),r.d(t,"stack",(function(){return vt})),r.d(t,"stackOffsetExpand",(function(){return mt})),r.d(t,"stackOffsetDiverging",(function(){return yt})),r.d(t,"stackOffsetNone",(function(){return ht})),r.d(t,"stackOffsetSilhouette",(function(){return gt})),r.d(t,"stackOffsetWiggle",(function(){return bt})),r.d(t,"stackOrderAppearance",(function(){return _t})),r.d(t,"stackOrderAscending",(function(){return xt})),r.d(t,"stackOrderDescending",(function(){return Et})),r.d(t,"stackOrderInsideOut",(function(){return jt})),r.d(t,"stackOrderNone",(function(){return pt})),r.d(t,"stackOrderReverse",(function(){return St}));var n=Math.PI,i=2*n,o=1e-6,a=i-o;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new s}s.prototype=u.prototype={constructor:s,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,i,a){e=+e,t=+t,r=+r,i=+i,a=+a;var s=this._x1,u=this._y1,c=r-e,l=i-t,f=s-e,h=u-t,p=f*f+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>o)if(Math.abs(h*c-l*f)>o&&a){var d=r-s,v=i-u,m=c*c+l*l,y=d*d+v*v,g=Math.sqrt(m),b=Math.sqrt(p),_=a*Math.tan((n-Math.acos((m+p-y)/(2*g*b)))/2),w=_/b,x=_/g;Math.abs(w-1)>o&&(this._+="L"+(e+w*f)+","+(t+w*h)),this._+="A"+a+","+a+",0,0,"+ +(h*d>f*v)+","+(this._x1=e+x*c)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,r,s,u,c){e=+e,t=+t,r=+r,c=!!c;var l=r*Math.cos(s),f=r*Math.sin(s),h=e+l,p=t+f,d=1^c,v=c?s-u:u-s;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+h+","+p:(Math.abs(this._x1-h)>o||Math.abs(this._y1-p)>o)&&(this._+="L"+h+","+p),r&&(v<0&&(v=v%i+i),v>a?this._+="A"+r+","+r+",0,1,"+d+","+(e-l)+","+(t-f)+"A"+r+","+r+",0,1,"+d+","+(this._x1=h)+","+(this._y1=p):v>o&&(this._+="A"+r+","+r+",0,"+ +(v>=n)+","+d+","+(this._x1=e+r*Math.cos(u))+","+(this._y1=t+r*Math.sin(u))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var c=u,l=function(e){return function(){return e}},f=Math.abs,h=Math.atan2,p=Math.cos,d=Math.max,v=Math.min,m=Math.sin,y=Math.sqrt,g=1e-12,b=Math.PI,_=b/2,w=2*b;function x(e){return e>1?0:e<-1?b:Math.acos(e)}function O(e){return e>=1?_:e<=-1?-_:Math.asin(e)}function E(e){return e.innerRadius}function j(e){return e.outerRadius}function S(e){return e.startAngle}function k(e){return e.endAngle}function T(e){return e&&e.padAngle}function P(e,t,r,n,i,o,a,s){var u=r-e,c=n-t,l=a-i,f=s-o,h=f*u-l*c;if(!(h*h<g))return h=(l*(t-o)-f*(e-i))/h,[e+h*u,t+h*c]}function A(e,t,r,n,i,o,a){var s=e-r,u=t-n,c=(a?o:-o)/y(s*s+u*u),l=c*u,f=-c*s,h=e+l,p=t+f,v=r+l,m=n+f,g=(h+v)/2,b=(p+m)/2,_=v-h,w=m-p,x=_*_+w*w,O=i-o,E=h*m-v*p,j=(w<0?-1:1)*y(d(0,O*O*x-E*E)),S=(E*w-_*j)/x,k=(-E*_-w*j)/x,T=(E*w+_*j)/x,P=(-E*_+w*j)/x,A=S-g,I=k-b,C=T-g,R=P-b;return A*A+I*I>C*C+R*R&&(S=T,k=P),{cx:S,cy:k,x01:-l,y01:-f,x11:S*(i/O-1),y11:k*(i/O-1)}}var I=function(){var e=E,t=j,r=l(0),n=null,i=S,o=k,a=T,s=null;function u(){var u,l,d=+e.apply(this,arguments),E=+t.apply(this,arguments),j=i.apply(this,arguments)-_,S=o.apply(this,arguments)-_,k=f(S-j),T=S>j;if(s||(s=u=c()),E<d&&(l=E,E=d,d=l),E>g)if(k>w-g)s.moveTo(E*p(j),E*m(j)),s.arc(0,0,E,j,S,!T),d>g&&(s.moveTo(d*p(S),d*m(S)),s.arc(0,0,d,S,j,T));else{var I,C,R=j,M=S,L=j,D=S,N=k,F=k,z=a.apply(this,arguments)/2,B=z>g&&(n?+n.apply(this,arguments):y(d*d+E*E)),U=v(f(E-d)/2,+r.apply(this,arguments)),V=U,G=U;if(B>g){var q=O(B/d*m(z)),W=O(B/E*m(z));(N-=2*q)>g?(q*=T?1:-1,L+=q,D-=q):(N=0,L=D=(j+S)/2),(F-=2*W)>g?(W*=T?1:-1,R+=W,M-=W):(F=0,R=M=(j+S)/2)}var H=E*p(R),Z=E*m(R),X=d*p(D),$=d*m(D);if(U>g){var Y,K=E*p(M),J=E*m(M),Q=d*p(L),ee=d*m(L);if(k<b&&(Y=P(H,Z,Q,ee,K,J,X,$))){var te=H-Y[0],re=Z-Y[1],ne=K-Y[0],ie=J-Y[1],oe=1/m(x((te*ne+re*ie)/(y(te*te+re*re)*y(ne*ne+ie*ie)))/2),ae=y(Y[0]*Y[0]+Y[1]*Y[1]);V=v(U,(d-ae)/(oe-1)),G=v(U,(E-ae)/(oe+1))}}F>g?G>g?(I=A(Q,ee,H,Z,E,G,T),C=A(K,J,X,$,E,G,T),s.moveTo(I.cx+I.x01,I.cy+I.y01),G<U?s.arc(I.cx,I.cy,G,h(I.y01,I.x01),h(C.y01,C.x01),!T):(s.arc(I.cx,I.cy,G,h(I.y01,I.x01),h(I.y11,I.x11),!T),s.arc(0,0,E,h(I.cy+I.y11,I.cx+I.x11),h(C.cy+C.y11,C.cx+C.x11),!T),s.arc(C.cx,C.cy,G,h(C.y11,C.x11),h(C.y01,C.x01),!T))):(s.moveTo(H,Z),s.arc(0,0,E,R,M,!T)):s.moveTo(H,Z),d>g&&N>g?V>g?(I=A(X,$,K,J,d,-V,T),C=A(H,Z,Q,ee,d,-V,T),s.lineTo(I.cx+I.x01,I.cy+I.y01),V<U?s.arc(I.cx,I.cy,V,h(I.y01,I.x01),h(C.y01,C.x01),!T):(s.arc(I.cx,I.cy,V,h(I.y01,I.x01),h(I.y11,I.x11),!T),s.arc(0,0,d,h(I.cy+I.y11,I.cx+I.x11),h(C.cy+C.y11,C.cx+C.x11),T),s.arc(C.cx,C.cy,V,h(C.y11,C.x11),h(C.y01,C.x01),!T))):s.arc(0,0,d,D,L,T):s.lineTo(X,$)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var r=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-b/2;return[p(n)*r,m(n)*r]},u.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:l(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:l(+e),u):t},u.cornerRadius=function(e){return arguments.length?(r="function"===typeof e?e:l(+e),u):r},u.padRadius=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:l(+e),u):n},u.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:l(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:l(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:l(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u};function C(e){this._context=e}C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};var R=function(e){return new C(e)};function M(e){return e[0]}function L(e){return e[1]}var D=function(){var e=M,t=L,r=l(!0),n=null,i=R,o=null;function a(a){var s,u,l,f=a.length,h=!1;for(null==n&&(o=i(l=c())),s=0;s<=f;++s)!(s<f&&r(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:l(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:l(+e),a):t},a.defined=function(e){return arguments.length?(r="function"===typeof e?e:l(!!e),a):r},a.curve=function(e){return arguments.length?(i=e,null!=n&&(o=i(n)),a):i},a.context=function(e){return arguments.length?(null==e?n=o=null:o=i(n=e),a):n},a},N=function(){var e=M,t=null,r=l(0),n=L,i=l(!0),o=null,a=R,s=null;function u(u){var l,f,h,p,d,v=u.length,m=!1,y=new Array(v),g=new Array(v);for(null==o&&(s=a(d=c())),l=0;l<=v;++l){if(!(l<v&&i(p=u[l],l,u))===m)if(m=!m)f=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=f;--h)s.point(y[h],g[h]);s.lineEnd(),s.areaEnd()}m&&(y[l]=+e(p,l,u),g[l]=+r(p,l,u),s.point(t?+t(p,l,u):y[l],n?+n(p,l,u):g[l]))}if(d)return s=null,d+""||null}function f(){return D().defined(i).curve(a).context(o)}return u.x=function(r){return arguments.length?(e="function"===typeof r?r:l(+r),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:l(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:l(+e),u):t},u.y=function(e){return arguments.length?(r="function"===typeof e?e:l(+e),n=null,u):r},u.y0=function(e){return arguments.length?(r="function"===typeof e?e:l(+e),u):r},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:l(+e),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(r)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(t).y(r)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:l(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u},F=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},z=function(e){return e},B=function(){var e=z,t=F,r=null,n=l(0),i=l(w),o=l(0);function a(a){var s,u,c,l,f,h=a.length,p=0,d=new Array(h),v=new Array(h),m=+n.apply(this,arguments),y=Math.min(w,Math.max(-w,i.apply(this,arguments)-m)),g=Math.min(Math.abs(y)/h,o.apply(this,arguments)),b=g*(y<0?-1:1);for(s=0;s<h;++s)(f=v[d[s]=s]=+e(a[s],s,a))>0&&(p+=f);for(null!=t?d.sort((function(e,r){return t(v[e],v[r])})):null!=r&&d.sort((function(e,t){return r(a[e],a[t])})),s=0,c=p?(y-h*b)/p:0;s<h;++s,m=l)u=d[s],f=v[u],l=m+(f>0?f*c:0)+b,v[u]={data:a[u],index:s,value:f,startAngle:m,endAngle:l,padAngle:g};return v}return a.value=function(t){return arguments.length?(e="function"===typeof t?t:l(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,r=null,a):t},a.sort=function(e){return arguments.length?(r=e,t=null,a):r},a.startAngle=function(e){return arguments.length?(n="function"===typeof e?e:l(+e),a):n},a.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:l(+e),a):i},a.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:l(+e),a):o},a},U=G(R);function V(e){this._curve=e}function G(e){function t(t){return new V(e(t))}return t._curve=e,t}function q(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(G(e)):t()._curve},e}V.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var W=function(){return q(D().curve(U))},H=function(){var e=N().curve(U),t=e.curve,r=e.lineX0,n=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return q(r())},delete e.lineX0,e.lineEndAngle=function(){return q(n())},delete e.lineX1,e.lineInnerRadius=function(){return q(i())},delete e.lineY0,e.lineOuterRadius=function(){return q(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(G(e)):t()._curve},e},Z=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},X=Array.prototype.slice;function $(e){return e.source}function Y(e){return e.target}function K(e){var t=$,r=Y,n=M,i=L,o=null;function a(){var a,s=X.call(arguments),u=t.apply(this,s),l=r.apply(this,s);if(o||(o=a=c()),e(o,+n.apply(this,(s[0]=u,s)),+i.apply(this,s),+n.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(r=e,a):r},a.x=function(e){return arguments.length?(n="function"===typeof e?e:l(+e),a):n},a.y=function(e){return arguments.length?(i="function"===typeof e?e:l(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function J(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function Q(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+i)/2,n,r,n,i)}function ee(e,t,r,n,i){var o=Z(t,r),a=Z(t,r=(r+i)/2),s=Z(n,r),u=Z(n,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function te(){return K(J)}function re(){return K(Q)}function ne(){var e=K(ee);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var ie={draw:function(e,t){var r=Math.sqrt(t/b);e.moveTo(r,0),e.arc(0,0,r,0,w)}},oe={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ae=Math.sqrt(1/3),se=2*ae,ue={draw:function(e,t){var r=Math.sqrt(t/se),n=r*ae;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ce=.8908130915292852,le=Math.sin(b/10)/Math.sin(7*b/10),fe=Math.sin(w/10)*le,he=-Math.cos(w/10)*le,pe={draw:function(e,t){var r=Math.sqrt(t*ce),n=fe*r,i=he*r;e.moveTo(0,-r),e.lineTo(n,i);for(var o=1;o<5;++o){var a=w*o/5,s=Math.cos(a),u=Math.sin(a);e.lineTo(u*r,-s*r),e.lineTo(s*n-u*i,u*n+s*i)}e.closePath()}},de={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}},ve=Math.sqrt(3),me={draw:function(e,t){var r=-Math.sqrt(t/(3*ve));e.moveTo(0,2*r),e.lineTo(-ve*r,-r),e.lineTo(ve*r,-r),e.closePath()}},ye=-.5,ge=Math.sqrt(3)/2,be=1/Math.sqrt(12),_e=3*(be/2+1),we={draw:function(e,t){var r=Math.sqrt(t/_e),n=r/2,i=r*be,o=n,a=r*be+r,s=-o,u=a;e.moveTo(n,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(ye*n-ge*i,ge*n+ye*i),e.lineTo(ye*o-ge*a,ge*o+ye*a),e.lineTo(ye*s-ge*u,ge*s+ye*u),e.lineTo(ye*n+ge*i,ye*i-ge*n),e.lineTo(ye*o+ge*a,ye*a-ge*o),e.lineTo(ye*s+ge*u,ye*u-ge*s),e.closePath()}},xe=[ie,oe,ue,de,pe,me,we],Oe=function(){var e=l(ie),t=l(64),r=null;function n(){var n;if(r||(r=n=c()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return n.type=function(t){return arguments.length?(e="function"===typeof t?t:l(t),n):e},n.size=function(e){return arguments.length?(t="function"===typeof e?e:l(+e),n):t},n.context=function(e){return arguments.length?(r=null==e?null:e,n):r},n},Ee=function(){};function je(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Se(e){this._context=e}Se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:je(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:je(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var ke=function(e){return new Se(e)};function Te(e){this._context=e}Te.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:je(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Pe=function(e){return new Te(e)};function Ae(e){this._context=e}Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:je(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ie=function(e){return new Ae(e)};function Ce(e,t){this._basis=new Se(e),this._beta=t}Ce.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0){var n,i=e[0],o=t[0],a=e[r]-i,s=t[r]-o,u=-1;while(++u<=r)n=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+n*a),this._beta*t[u]+(1-this._beta)*(o+n*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Re=function e(t){function r(e){return 1===t?new Se(e):new Ce(e,t)}return r.beta=function(t){return e(+t)},r}(.85);function Me(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Le(e,t){this._context=e,this._k=(1-t)/6}Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Me(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Me(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var De=function e(t){function r(e){return new Le(e,t)}return r.tension=function(t){return e(+t)},r}(0);function Ne(e,t){this._context=e,this._k=(1-t)/6}Ne.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Me(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fe=function e(t){function r(e){return new Ne(e,t)}return r.tension=function(t){return e(+t)},r}(0);function ze(e,t){this._context=e,this._k=(1-t)/6}ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Me(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Be=function e(t){function r(e){return new ze(e,t)}return r.tension=function(t){return e(+t)},r}(0);function Ue(e,t,r){var n=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>g){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>g){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/l,a=(a*c+e._y1*e._l23_2a-r*e._l12_2a)/l}e._context.bezierCurveTo(n,i,o,a,e._x2,e._y2)}function Ve(e,t){this._context=e,this._alpha=t}Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ue(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ge=function e(t){function r(e){return t?new Ve(e,t):new Le(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function qe(e,t){this._context=e,this._alpha=t}qe.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ue(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var We=function e(t){function r(e){return t?new qe(e,t):new Ne(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function He(e,t){this._context=e,this._alpha=t}He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ue(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ze=function e(t){function r(e){return t?new He(e,t):new ze(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function Xe(e){this._context=e}Xe.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var $e=function(e){return new Xe(e)};function Ye(e){return e<0?-1:1}function Ke(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(Ye(o)+Ye(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Je(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Qe(e,t,r){var n=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,i+s*t,o-s,a-s*r,o,a)}function et(e){this._context=e}function tt(e){this._context=new rt(e)}function rt(e){this._context=e}function nt(e){return new et(e)}function it(e){return new tt(e)}function ot(e){this._context=e}function at(e){var t,r,n=e.length-1,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}et.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qe(this,this._t0,Je(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qe(this,Je(this,r=Ke(this,e,t)),r);break;default:Qe(this,this._t0,r=Ke(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(tt.prototype=Object.create(et.prototype)).point=function(e,t){et.prototype.point.call(this,t,e)},rt.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}},ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=at(e),i=at(t),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var st=function(e){return new ot(e)};function ut(e,t){this._context=e,this._t=t}ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}this._x=e,this._y=t}};var ct=function(e){return new ut(e,.5)};function lt(e){return new ut(e,0)}function ft(e){return new ut(e,1)}var ht=function(e,t){if((i=e.length)>1)for(var r,n,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(n=a,a=e[t[o]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]},pt=function(e){var t=e.length,r=new Array(t);while(--t>=0)r[t]=t;return r};function dt(e,t){return e[t]}var vt=function(){var e=l([]),t=pt,r=ht,n=dt;function i(i){var o,a,s=e.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var f,h=s[o],p=l[o]=new Array(u),d=0;d<u;++d)p[d]=f=[0,+n(i[d],h,d,i)],f.data=i[d];p.key=h}for(o=0,a=t(l);o<c;++o)l[a[o]].index=o;return r(l,a),l}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:l(X.call(t)),i):e},i.value=function(e){return arguments.length?(n="function"===typeof e?e:l(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?pt:"function"===typeof e?e:l(X.call(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?ht:e,i):r},i},mt=function(e,t){if((n=e.length)>0){for(var r,n,i,o=0,a=e[0].length;o<a;++o){for(i=r=0;r<n;++r)i+=e[r][o][1]||0;if(i)for(r=0;r<n;++r)e[r][o][1]/=i}ht(e,t)}},yt=function(e,t){if((s=e.length)>0)for(var r,n,i,o,a,s,u=0,c=e[t[0]].length;u<c;++u)for(o=a=0,r=0;r<s;++r)(i=(n=e[t[r]][u])[1]-n[0])>0?(n[0]=o,n[1]=o+=i):i<0?(n[1]=a,n[0]=a+=i):(n[0]=0,n[1]=i)},gt=function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],o=i.length;n<o;++n){for(var a=0,s=0;a<r;++a)s+=e[a][n][1]||0;i[n][1]+=i[n][0]=-s/2}ht(e,t)}},bt=function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,o=0,a=1;a<n;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=e[t[s]],f=l[a][1]||0,h=l[a-1][1]||0,p=(f-h)/2,d=0;d<s;++d){var v=e[t[d]],m=v[a][1]||0,y=v[a-1][1]||0;p+=m-y}u+=f,c+=p*f}r[a-1][1]+=r[a-1][0]=o,u&&(o-=c/u)}r[a-1][1]+=r[a-1][0]=o,ht(e,t)}},_t=function(e){var t=e.map(wt);return pt(e).sort((function(e,r){return t[e]-t[r]}))};function wt(e){var t,r=-1,n=0,i=e.length,o=-1/0;while(++r<i)(t=+e[r][1])>o&&(o=t,n=r);return n}var xt=function(e){var t=e.map(Ot);return pt(e).sort((function(e,r){return t[e]-t[r]}))};function Ot(e){var t,r=0,n=-1,i=e.length;while(++n<i)(t=+e[n][1])&&(r+=t);return r}var Et=function(e){return xt(e).reverse()},jt=function(e){var t,r,n=e.length,i=e.map(Ot),o=_t(e),a=0,s=0,u=[],c=[];for(t=0;t<n;++t)r=o[t],a<s?(a+=i[r],u.push(r)):(s+=i[r],c.push(r));return c.reverse().concat(u)},St=function(e){return pt(e).reverse()}},"8go2":function(e,t,r){r("gg6r")},"8j2W":function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,"a",(function(){return n}))},"8jRI":function(e,t,r){"use strict";var n="%[a-f0-9]{2}",i=new RegExp(n,"gi"),o=new RegExp("("+n+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(r),a(n))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i),r=1;r<t.length;r++)e=a(t,r).join(""),t=e.match(i);return e}}function u(e){var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=o.exec(e);while(r){try{t[r[0]]=decodeURIComponent(r[0])}catch(c){var n=s(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),a=0;a<i.length;a++){var u=i[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return u(e)}}},"8r4s":function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"Set",stat:!0},{of:i})},"8yz6":function(e,t,r){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},"90hW":function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"93I0":function(e,t,r){var n=r("VpIT"),i=r("kOOl"),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"94Xl":function(e,t,r){var n=r("JiZb");n("Array")},"9D6x":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM");n({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var r=o(this),n=arguments.length;a(t);var i=r.has(e);if(!i&&n<3)throw TypeError("Updating absent value");var s=i?r.get(e):a(n>2?arguments[2]:void 0)(e,r);return r.set(e,t(s,e,r)),r}})},"9MNi":function(e,t,r){"use strict";e.exports=o;var n,i=/\/|\./;function o(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),o[e]=t}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:n}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(e){return o[e]||null}},"9N29":function(e,t,r){"use strict";var n=r("I+eb"),i=r("1Y/n").right,o=r("pkCn"),a=r("rkAj"),s=o("reduceRight"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"9R94":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=!0,i="Invariant failed";function o(e,t){if(!e){if(n)throw new Error(i);var r="function"===typeof t?t():t,o=r?"".concat(i,": ").concat(r):i;throw new Error(o)}}},"9d/t":function(e,t,r){var n=r("AO7/"),i=r("xrYK"),o=r("tiKp"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=Object(e),a))?r:s?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},"9fRD":function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var i={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document},o=(i.self||i.window||i.global,i.window||i.self||i.global,i.global||i.self||i.window,i.document,"object"!==typeof n||"[object process]"!==String(n)||n.browser),a="undefined"!==typeof window&&"undefined"!==typeof window.orientation,s="undefined"!==typeof n&&n.version&&/v([0-9]*)/.exec(n.version);s&&parseFloat(s[1])}).call(this,r("IyRk"),r("Q2Ig"))},"9lTW":function(e,t,r){"use strict";(function(t){var n=r("MgzW");function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r("MCLT"),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c=function(){return"foo"===function(){}.name}();function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=b,p=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString(),r=t.match(p);return r&&r[1]}}function v(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!a.isFunction(e))return a.inspect(e);var t=d(e),r=t?": "+t:"";return"[Function"+r+"]"}function y(e){return v(m(e.actual),128)+" "+e.operator+" "+v(m(e.expected),128)}function g(e,t,r,n,i){throw new h.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function b(e,t){e||g(e,!0,t,"==",h.ok)}function _(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;n=n||{actual:[],expected:[]};var s=n.actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),x(e,t,r,n))}return r?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return e=u.call(e),t=u.call(t),_(e,t,r);var s,c,l=T(e),f=T(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(s=l[c],!_(e[s],t[s],r,n))return!1;return!0}function O(e,t,r){_(e,t,!0)&&g(e,t,r,"notDeepStrictEqual",O)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function j(e){var t;try{e()}catch(r){t=r}return t}function S(e,t,r,n){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),i=j(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&g(i,r,"Missing expected exception"+n);var o="string"===typeof n,s=!e&&a.isError(i),u=!e&&i&&!r;if((s&&o&&E(i,r)||u)&&g(i,r,"Got unwanted exception"+n),e&&i&&r&&!E(i,r)||!e&&i)throw i}function k(e,t){e||g(e,!0,t,"==",k)}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=y(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=d(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(h.AssertionError,Error),h.fail=g,h.ok=b,h.equal=function(e,t,r){e!=t&&g(e,t,r,"==",h.equal)},h.notEqual=function(e,t,r){e==t&&g(e,t,r,"!=",h.notEqual)},h.deepEqual=function(e,t,r){_(e,t,!1)||g(e,t,r,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,r){_(e,t,!0)||g(e,t,r,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,r){_(e,t,!1)&&g(e,t,r,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=O,h.strictEqual=function(e,t,r){e!==t&&g(e,t,r,"===",h.strictEqual)},h.notStrictEqual=function(e,t,r){e===t&&g(e,t,r,"!==",h.notStrictEqual)},h["throws"]=function(e,t,r){S(!0,e,t,r)},h.doesNotThrow=function(e,t,r){S(!1,e,t,r)},h.ifError=function(e){if(e)throw e},h.strict=n(k,h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var T=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}}).call(this,r("IyRk"))},"9x6x":function(e,t,r){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r="boolean"===typeof t.cycles&&t.cycles,n=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]},o={key:n,value:t[n]};return e(i,o)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var o,a;if(Array.isArray(t)){for(a="[",o=0;o<t.length;o++)o&&(a+=","),a+=e(t[o])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,u=Object.keys(t).sort(n&&n(t));for(a="",o=0;o<u.length;o++){var c=u[o],l=e(t[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(e)}},"9xmf":function(e,t,r){var n=r("EdiO");function i(e){if(Array.isArray(e))return n(e)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},A2ZE:function(e,t,r){var n=r("HAuM");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},A4jd:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o}));var n=Object.freeze({BINARY_GLB:"BINARY_GLB",BINARY_PBE:"BINARY_PBE",JSON_BUFFER:"JSON_BUFFER",JSON_STRING:"JSON_STRING",OBJECT:"OBJECT"}),i="xviz",o="AVS_xviz"},A90E:function(e,t,r){var n=r("6sVZ"),i=r("V6Ve"),o=Object.prototype,a=o.hasOwnProperty;function s(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}e.exports=s},A9bQ:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("1OyB"),i=r("vuIU"),o=r("ia4Z"),a=r("FZGT"),s=r("A4jd"),u=function(){function e(t){Object(n["a"])(this,e),this.message=t,this._message=null,this._setupTypeData()}return Object(i["a"])(e,[{key:"type",get:function(){return this._message?this._message.type:null}},{key:"data",get:function(){return this._message?this._message.data:null}},{key:"_setupTypeData",value:function(){if(Object(o["c"])(this.message)){var e=Object(o["h"])(this.message);"xviz"===e.namespace&&(this._message=e)}else this.message.version?this._message={namespace:s["c"],type:a["a"].METADATA,data:this.message}:this.message.update_type&&this.message.updates?this._message={namespace:s["c"],type:a["a"].STATE_UPDATE,data:this.message}:this._message={namespace:null,type:null,data:this.message}}}]),e}()},AGfQ:function(e,t,r){"use strict";r.d(t,"a",(function(){return LP})),r.d(t,"b",(function(){return bA}));var n={};r.r(n),r.d(n,"filename",(function(){return Ph})),r.d(n,"dirname",(function(){return Ah})),r.d(n,"join",(function(){return Ih}));var i=r("1OyB"),o=r("vuIU"),a=r("Ji7U"),s=r("md7G"),u=r("foSv"),c=r("rePB"),l=r("rAM+"),f=r("k1fw"),h=r("fWQN"),p=r("mtLc"),d=r("oZsa");function v(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Object(d["a"])(e),null===e)break;return e}function m(){return m="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=v(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},m.apply(this,arguments)}var y=r("yKVA"),g=r("879j"),b=r("tJVT"),_=r("tS8v"),w=r("/GC/"),x=new w["a"]({id:"deck"}),O={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(O,"IDENTITY",{get:function(){return x.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});var E={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},j={common:0,meters:1,pixels:2},S={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},k={DRAW:"draw",MASK:"mask"},T=r("jrin"),P=new w["a"]({id:"luma.gl"});function A(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}var I="Invalid WebGLRenderingContext",C="Requires WebGL2";function R(e){return"undefined"!==typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function M(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function L(e){return M(e)?e:null}function D(e){return A(R(e),I),e}function N(e){return A(M(e),C),e}var F={};function z(e){globalThis.console&&globalThis.console.error&&globalThis.console.error(e)}function B(e){globalThis.console&&globalThis.console.log&&globalThis.console.log(e)}function U(e,t){F[e]=!0,void 0!==t&&z(t)}function V(e){var t=e.getError;e.getError=function(){var r;do{r=t.apply(e),0!==r&&(F[r]=!0)}while(0!==r);for(r in F)if(F[r])return delete F[r],parseInt(r,10);return 0}}var G=function e(t){var r=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var n=0;n<this.attribs.length;n++){var i=new e.VertexAttrib(r);this.attribs[n]=i}this.maxAttrib=0};G.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()},G.VertexAttrib.prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var q,W=function(e){var t=this;this.gl=e,V(e);var r=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:r.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){var n=t.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,e);var i=n.attribs[e];return i.enabled=!0,r.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){var n=t.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,e);var i=n.attribs[e];return i.enabled=!1,r.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,n){switch(e){case 34962:t.currentArrayBuffer=n;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=n;break;default:}return r.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,n){var i=t.currentVertexArrayObject,o=i.attribs[e];switch(n){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return r.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,n,i,o,a,s){var u=t.currentVertexArrayObject;u.maxAttrib=Math.max(u.maxAttrib,e);var c=u.attribs[e];return c.buffer=t.currentArrayBuffer,c.size=n,c.type=i,c.normalized=o,c.stride=a,c.offset=s,c.recache(),r.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(function(){B("OESVertexArrayObject emulation library context restored"),t.reset_()}),!0),this.reset_()};function H(e){if("function"!==typeof e.createVertexArray){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};var r=e.getExtension;e.getExtension=function(t){var n=r.call(this,t);return n||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new W(this)),this.__OESVertexArrayObject))}}}W.prototype.VERTEX_ARRAY_BINDING_OES=34229,W.prototype.reset_=function(){var e=void 0!==this.vertexArrayObjects;if(e)for(var t=0;t<this.vertexArrayObjects.length;++t)this.vertexArrayObjects.isAlive=!1;var r=this.gl;this.maxVertexAttribs=r.getParameter(34921),this.defaultVertexArrayObject=new G(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},W.prototype.createVertexArrayOES=function(){var e=new G(this);return this.vertexArrayObjects.push(e),e},W.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},W.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof G&&e.hasBeenBound&&e.ext===this)},W.prototype.bindVertexArrayOES=function(e){var t=this.gl;if(!e||e.isAlive){var r=this.original,n=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(n!==i){n&&i.elementArrayBuffer===n.elementArrayBuffer||r.bindBuffer.call(t,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,a=Math.max(n?n.maxAttrib:0,i.maxAttrib),s=0;s<=a;s++){var u=i.attribs[s],c=n?n.attribs[s]:null;if(n&&u.enabled===c.enabled||(u.enabled?r.enableVertexAttribArray.call(t,s):r.disableVertexAttribArray.call(t,s)),u.enabled){var l=!1;n&&u.buffer===c.buffer||(o!==u.buffer&&(r.bindBuffer.call(t,34962,u.buffer),o=u.buffer),l=!0),(l||u.cached!==c.cached)&&r.vertexAttribPointer.call(t,s,u.size,u.type,u.normalized,u.stride,u.offset)}}this.currentArrayBuffer!==o&&r.bindBuffer.call(t,34962,this.currentArrayBuffer)}}else U(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")};var Z,X="OES_element_index",$="WEBGL_draw_buffers",Y="EXT_disjoint_timer_query",K="EXT_disjoint_timer_query_webgl2",J="EXT_texture_filter_anisotropic",Q="WEBGL_debug_renderer_info",ee=35723,te=4352,re=36795,ne=34047,ie=37445,oe=37446,ae=function(e){return M(e)?void 0:0},se=(q={},Object(T["a"])(q,3074,(function(e){return M(e)?void 0:36064})),Object(T["a"])(q,ee,(function(e){return M(e)?void 0:te})),Object(T["a"])(q,35977,ae),Object(T["a"])(q,32937,ae),Object(T["a"])(q,re,(function(e,t){var r=M(e)?e.getExtension(K):e.getExtension(Y);return r&&r.GPU_DISJOINT_EXT?t(r.GPU_DISJOINT_EXT):0})),Object(T["a"])(q,ie,(function(e,t){var r=e.getExtension(Q);return t(r&&r.UNMASKED_VENDOR_WEBGL||7936)})),Object(T["a"])(q,oe,(function(e,t){var r=e.getExtension(Q);return t(r&&r.UNMASKED_RENDERER_WEBGL||7937)})),Object(T["a"])(q,ne,(function(e,t){var r=e.luma.extensions[J];return r?t(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(T["a"])(q,32883,ae),Object(T["a"])(q,35071,ae),Object(T["a"])(q,37447,ae),Object(T["a"])(q,36063,(function(e,t){if(!M(e)){var r=e.getExtension($);return r?t(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(T["a"])(q,35379,ae),Object(T["a"])(q,35374,ae),Object(T["a"])(q,35377,ae),Object(T["a"])(q,34852,(function(e){if(!M(e)){var t=e.getExtension($);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(T["a"])(q,36203,(function(e){return e.getExtension(X)?2147483647:65535})),Object(T["a"])(q,33001,(function(e){return e.getExtension(X)?16777216:65535})),Object(T["a"])(q,33e3,(function(e){return 16777216})),Object(T["a"])(q,37157,ae),Object(T["a"])(q,35373,ae),Object(T["a"])(q,35657,ae),Object(T["a"])(q,36183,ae),Object(T["a"])(q,37137,ae),Object(T["a"])(q,34045,ae),Object(T["a"])(q,35978,ae),Object(T["a"])(q,35979,ae),Object(T["a"])(q,35968,ae),Object(T["a"])(q,35376,ae),Object(T["a"])(q,35375,ae),Object(T["a"])(q,35659,ae),Object(T["a"])(q,37154,ae),Object(T["a"])(q,35371,ae),Object(T["a"])(q,35658,ae),Object(T["a"])(q,35076,ae),Object(T["a"])(q,35077,ae),Object(T["a"])(q,35380,ae),q);function ue(e,t,r){var n=se[r],i="function"===typeof n?n(e,t,r):n,o=void 0!==i?i:t(r);return o}var ce="OES_vertex_array_object",le="ANGLE_instanced_arrays",fe="WEBGL_draw_buffers",he="EXT_disjoint_timer_query",pe="EXT_texture_filter_anisotropic",de="VertexArray requires WebGL2 or OES_vertex_array_object extension";function ve(e,t){return{webgl2:M(e),ext:e.getExtension(t)}}var me=(Z={},Object(T["a"])(Z,ce,{meta:{suffix:"OES"},createVertexArray:function(){A(!1,de)},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(T["a"])(Z,le,{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){A(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(T["a"])(Z,fe,{meta:{suffix:"WEBGL"},drawBuffers:function(){A(!1)}}),Object(T["a"])(Z,he,{meta:{suffix:"EXT"},createQuery:function(){A(!1)},deleteQuery:function(){A(!1)},beginQuery:function(){A(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),Z),ye={readBuffer:function(e,t,r){M(e)&&t(r)},getVertexAttrib:function(e,t,r,n){var i,o=ve(e,le),a=o.webgl2,s=o.ext;switch(n){case 35069:i=!!a&&void 0;break;case 35070:i=a||s?void 0:0;break;default:}return void 0!==i?i:t(r,n)},getProgramParameter:function(e,t,r,n){if(!M(e))switch(n){case 35967:return 35981;case 35971:return 0;case 35382:return 0;default:}return t(r,n)},getInternalformatParameter:function(e,t,r,n,i){if(!M(e))switch(i){case 32937:return new Int32Array([0]);default:}return e.getInternalformatParameter(r,n,i)},getTexParameter:function(e,t,r,n){switch(n){case 34046:var i=e.luma.extensions,o=i[pe];n=o&&o.TEXTURE_MAX_ANISOTROPY_EXT||34046;break;default:}return t(r,n)},getParameter:ue,hint:function(e,t,r,n){return t(r,n)}};function ge(e){e.luma=e.luma||{};var t=e.luma;return t.polyfilled||(H(e),be(e),we(e,me),_e(e,{target:t,target2:e}),t.polyfilled=!0),e}function be(e){e.luma.extensions={};var t,r=e.getSupportedExtensions()||[],n=Object(l["a"])(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.luma[i]=e.getExtension(i)}}catch(o){n.e(o)}finally{n.f()}}function _e(e,t){var r=t.target,n=t.target2;Object.keys(ye).forEach((function(t){if("function"===typeof ye[t]){var i=e[t]?e[t].bind(e):function(){},o=ye[t].bind(null,e,i);r[t]=o,n[t]=o}}))}function we(e,t){var r,n=Object(l["a"])(Object.getOwnPropertyNames(t));try{for(n.s();!(r=n.n()).done;){var i=r.value;"overrides"!==i&&xe(e,{extension:i,target:e.luma,target2:e})}}catch(o){n.e(o)}finally{n.f()}}function xe(e,t){var r=t.extension,n=t.target,i=t.target2,o=me[r];A(o);for(var a=o.meta,s=void 0===a?{}:a,u=s.suffix,c=void 0===u?"":u,l=e.getExtension(r),f=function(){var t=p[h],r="".concat(t).concat(c),a=null;"meta"===t||"function"===typeof e[t]||(l&&"function"===typeof l[r]?a=function(){return l[r].apply(l,arguments)}:"function"===typeof o[t]&&(a=o[t].bind(n))),a&&(n[t]=a,i[t]=a)},h=0,p=Object.keys(o);h<p.length;h++)f()}globalThis.polyfillContext=ge;var Oe,Ee,je,Se=r("oBTY"),ke=(Oe={},Object(T["a"])(Oe,3042,!1),Object(T["a"])(Oe,32773,new Float32Array([0,0,0,0])),Object(T["a"])(Oe,32777,32774),Object(T["a"])(Oe,34877,32774),Object(T["a"])(Oe,32969,1),Object(T["a"])(Oe,32968,0),Object(T["a"])(Oe,32971,1),Object(T["a"])(Oe,32970,0),Object(T["a"])(Oe,3106,new Float32Array([0,0,0,0])),Object(T["a"])(Oe,3107,[!0,!0,!0,!0]),Object(T["a"])(Oe,2884,!1),Object(T["a"])(Oe,2885,1029),Object(T["a"])(Oe,2929,!1),Object(T["a"])(Oe,2931,1),Object(T["a"])(Oe,2932,513),Object(T["a"])(Oe,2928,new Float32Array([0,1])),Object(T["a"])(Oe,2930,!0),Object(T["a"])(Oe,3024,!0),Object(T["a"])(Oe,36006,null),Object(T["a"])(Oe,2886,2305),Object(T["a"])(Oe,33170,4352),Object(T["a"])(Oe,2849,1),Object(T["a"])(Oe,32823,!1),Object(T["a"])(Oe,32824,0),Object(T["a"])(Oe,10752,0),Object(T["a"])(Oe,32938,1),Object(T["a"])(Oe,32939,!1),Object(T["a"])(Oe,3089,!1),Object(T["a"])(Oe,3088,new Int32Array([0,0,1024,1024])),Object(T["a"])(Oe,2960,!1),Object(T["a"])(Oe,2961,0),Object(T["a"])(Oe,2968,4294967295),Object(T["a"])(Oe,36005,4294967295),Object(T["a"])(Oe,2962,519),Object(T["a"])(Oe,2967,0),Object(T["a"])(Oe,2963,4294967295),Object(T["a"])(Oe,34816,519),Object(T["a"])(Oe,36003,0),Object(T["a"])(Oe,36004,4294967295),Object(T["a"])(Oe,2964,7680),Object(T["a"])(Oe,2965,7680),Object(T["a"])(Oe,2966,7680),Object(T["a"])(Oe,34817,7680),Object(T["a"])(Oe,34818,7680),Object(T["a"])(Oe,34819,7680),Object(T["a"])(Oe,2978,[0,0,1024,1024]),Object(T["a"])(Oe,3333,4),Object(T["a"])(Oe,3317,4),Object(T["a"])(Oe,37440,!1),Object(T["a"])(Oe,37441,!1),Object(T["a"])(Oe,37443,37444),Object(T["a"])(Oe,35723,4352),Object(T["a"])(Oe,36010,null),Object(T["a"])(Oe,35977,!1),Object(T["a"])(Oe,3330,0),Object(T["a"])(Oe,3332,0),Object(T["a"])(Oe,3331,0),Object(T["a"])(Oe,3314,0),Object(T["a"])(Oe,32878,0),Object(T["a"])(Oe,3316,0),Object(T["a"])(Oe,3315,0),Object(T["a"])(Oe,32877,0),Oe),Te=function(e,t,r){return t?e.enable(r):e.disable(r)},Pe=function(e,t,r){return e.hint(r,t)},Ae=function(e,t,r){return e.pixelStorei(r,t)},Ie=function(e,t){var r=M(e)?36009:36160;return e.bindFramebuffer(r,t)},Ce=function(e,t){return e.bindFramebuffer(36008,t)};function Re(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var Me=(Ee={},Object(T["a"])(Ee,3042,Te),Object(T["a"])(Ee,32773,(function(e,t){return e.blendColor.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,32777,"blendEquation"),Object(T["a"])(Ee,34877,"blendEquation"),Object(T["a"])(Ee,32969,"blendFunc"),Object(T["a"])(Ee,32968,"blendFunc"),Object(T["a"])(Ee,32971,"blendFunc"),Object(T["a"])(Ee,32970,"blendFunc"),Object(T["a"])(Ee,3106,(function(e,t){return e.clearColor.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,3107,(function(e,t){return e.colorMask.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,2884,Te),Object(T["a"])(Ee,2885,(function(e,t){return e.cullFace(t)})),Object(T["a"])(Ee,2929,Te),Object(T["a"])(Ee,2931,(function(e,t){return e.clearDepth(t)})),Object(T["a"])(Ee,2932,(function(e,t){return e.depthFunc(t)})),Object(T["a"])(Ee,2928,(function(e,t){return e.depthRange.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,2930,(function(e,t){return e.depthMask(t)})),Object(T["a"])(Ee,3024,Te),Object(T["a"])(Ee,35723,Pe),Object(T["a"])(Ee,36006,Ie),Object(T["a"])(Ee,2886,(function(e,t){return e.frontFace(t)})),Object(T["a"])(Ee,33170,Pe),Object(T["a"])(Ee,2849,(function(e,t){return e.lineWidth(t)})),Object(T["a"])(Ee,32823,Te),Object(T["a"])(Ee,32824,"polygonOffset"),Object(T["a"])(Ee,10752,"polygonOffset"),Object(T["a"])(Ee,35977,Te),Object(T["a"])(Ee,32938,"sampleCoverage"),Object(T["a"])(Ee,32939,"sampleCoverage"),Object(T["a"])(Ee,3089,Te),Object(T["a"])(Ee,3088,(function(e,t){return e.scissor.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,2960,Te),Object(T["a"])(Ee,2961,(function(e,t){return e.clearStencil(t)})),Object(T["a"])(Ee,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),Object(T["a"])(Ee,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),Object(T["a"])(Ee,2962,"stencilFuncFront"),Object(T["a"])(Ee,2967,"stencilFuncFront"),Object(T["a"])(Ee,2963,"stencilFuncFront"),Object(T["a"])(Ee,34816,"stencilFuncBack"),Object(T["a"])(Ee,36003,"stencilFuncBack"),Object(T["a"])(Ee,36004,"stencilFuncBack"),Object(T["a"])(Ee,2964,"stencilOpFront"),Object(T["a"])(Ee,2965,"stencilOpFront"),Object(T["a"])(Ee,2966,"stencilOpFront"),Object(T["a"])(Ee,34817,"stencilOpBack"),Object(T["a"])(Ee,34818,"stencilOpBack"),Object(T["a"])(Ee,34819,"stencilOpBack"),Object(T["a"])(Ee,2978,(function(e,t){return e.viewport.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,3333,Ae),Object(T["a"])(Ee,3317,Ae),Object(T["a"])(Ee,37440,Ae),Object(T["a"])(Ee,37441,Ae),Object(T["a"])(Ee,37443,Ae),Object(T["a"])(Ee,3330,Ae),Object(T["a"])(Ee,3332,Ae),Object(T["a"])(Ee,3331,Ae),Object(T["a"])(Ee,36010,Ce),Object(T["a"])(Ee,3314,Ae),Object(T["a"])(Ee,32878,Ae),Object(T["a"])(Ee,3316,Ae),Object(T["a"])(Ee,3315,Ae),Object(T["a"])(Ee,32877,Ae),Object(T["a"])(Ee,"framebuffer",(function(e,t){var r=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,r)})),Object(T["a"])(Ee,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),Object(T["a"])(Ee,"blendColor",(function(e,t){return e.blendColor.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"blendEquation",(function(e,t){t=Re(t)?t:[t,t],e.blendEquationSeparate.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"blendFunc",(function(e,t){t=Re(t)&&2===t.length?[].concat(Object(Se["a"])(t),Object(Se["a"])(t)):t,e.blendFuncSeparate.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"clearColor",(function(e,t){return e.clearColor.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"clearDepth",(function(e,t){return e.clearDepth(t)})),Object(T["a"])(Ee,"clearStencil",(function(e,t){return e.clearStencil(t)})),Object(T["a"])(Ee,"colorMask",(function(e,t){return e.colorMask.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),Object(T["a"])(Ee,"cullFace",(function(e,t){return e.cullFace(t)})),Object(T["a"])(Ee,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),Object(T["a"])(Ee,"depthFunc",(function(e,t){return e.depthFunc(t)})),Object(T["a"])(Ee,"depthMask",(function(e,t){return e.depthMask(t)})),Object(T["a"])(Ee,"depthRange",(function(e,t){return e.depthRange.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),Object(T["a"])(Ee,"derivativeHint",(function(e,t){e.hint(35723,t)})),Object(T["a"])(Ee,"frontFace",(function(e,t){return e.frontFace(t)})),Object(T["a"])(Ee,"mipmapHint",(function(e,t){return e.hint(33170,t)})),Object(T["a"])(Ee,"lineWidth",(function(e,t){return e.lineWidth(t)})),Object(T["a"])(Ee,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),Object(T["a"])(Ee,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),Object(T["a"])(Ee,"scissor",(function(e,t){return e.scissor.apply(e,Object(Se["a"])(t))})),Object(T["a"])(Ee,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),Object(T["a"])(Ee,"stencilMask",(function(e,t){t=Re(t)?t:[t,t];var r=t,n=Object(b["a"])(r,2),i=n[0],o=n[1];e.stencilMaskSeparate(1028,i),e.stencilMaskSeparate(1029,o)})),Object(T["a"])(Ee,"stencilFunc",(function(e,t){t=Re(t)&&3===t.length?[].concat(Object(Se["a"])(t),Object(Se["a"])(t)):t;var r=t,n=Object(b["a"])(r,6),i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5];e.stencilFuncSeparate(1028,i,o,a),e.stencilFuncSeparate(1029,s,u,c)})),Object(T["a"])(Ee,"stencilOp",(function(e,t){t=Re(t)&&3===t.length?[].concat(Object(Se["a"])(t),Object(Se["a"])(t)):t;var r=t,n=Object(b["a"])(r,6),i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5];e.stencilOpSeparate(1028,i,o,a),e.stencilOpSeparate(1029,s,u,c)})),Object(T["a"])(Ee,"viewport",(function(e,t){return e.viewport.apply(e,Object(Se["a"])(t))})),Ee);function Le(e,t,r){return void 0!==t[e]?t[e]:r[e]}var De={blendEquation:function(e,t,r){return e.blendEquationSeparate(Le(32777,t,r),Le(34877,t,r))},blendFunc:function(e,t,r){return e.blendFuncSeparate(Le(32969,t,r),Le(32968,t,r),Le(32971,t,r),Le(32970,t,r))},polygonOffset:function(e,t,r){return e.polygonOffset(Le(32824,t,r),Le(10752,t,r))},sampleCoverage:function(e,t,r){return e.sampleCoverage(Le(32938,t,r),Le(32939,t,r))},stencilFuncFront:function(e,t,r){return e.stencilFuncSeparate(1028,Le(2962,t,r),Le(2967,t,r),Le(2963,t,r))},stencilFuncBack:function(e,t,r){return e.stencilFuncSeparate(1029,Le(34816,t,r),Le(36003,t,r),Le(36004,t,r))},stencilOpFront:function(e,t,r){return e.stencilOpSeparate(1028,Le(2964,t,r),Le(2965,t,r),Le(2966,t,r))},stencilOpBack:function(e,t,r){return e.stencilOpSeparate(1029,Le(34817,t,r),Le(34818,t,r),Le(34819,t,r))}},Ne={enable:function(e,t){return e(Object(T["a"])({},t,!0))},disable:function(e,t){return e(Object(T["a"])({},t,!1))},pixelStorei:function(e,t,r){return e(Object(T["a"])({},t,r))},hint:function(e,t,r){return e(Object(T["a"])({},t,r))},bindFramebuffer:function(e,t,r){var n;switch(t){case 36160:return e((n={},Object(T["a"])(n,36006,r),Object(T["a"])(n,36010,r),n));case 36009:return e(Object(T["a"])({},36006,r));case 36008:return e(Object(T["a"])({},36010,r));default:return null}},blendColor:function(e,t,r,n,i){return e(Object(T["a"])({},32773,new Float32Array([t,r,n,i])))},blendEquation:function(e,t){var r;return e((r={},Object(T["a"])(r,32777,t),Object(T["a"])(r,34877,t),r))},blendEquationSeparate:function(e,t,r){var n;return e((n={},Object(T["a"])(n,32777,t),Object(T["a"])(n,34877,r),n))},blendFunc:function(e,t,r){var n;return e((n={},Object(T["a"])(n,32969,t),Object(T["a"])(n,32968,r),Object(T["a"])(n,32971,t),Object(T["a"])(n,32970,r),n))},blendFuncSeparate:function(e,t,r,n,i){var o;return e((o={},Object(T["a"])(o,32969,t),Object(T["a"])(o,32968,r),Object(T["a"])(o,32971,n),Object(T["a"])(o,32970,i),o))},clearColor:function(e,t,r,n,i){return e(Object(T["a"])({},3106,new Float32Array([t,r,n,i])))},clearDepth:function(e,t){return e(Object(T["a"])({},2931,t))},clearStencil:function(e,t){return e(Object(T["a"])({},2961,t))},colorMask:function(e,t,r,n,i){return e(Object(T["a"])({},3107,[t,r,n,i]))},cullFace:function(e,t){return e(Object(T["a"])({},2885,t))},depthFunc:function(e,t){return e(Object(T["a"])({},2932,t))},depthRange:function(e,t,r){return e(Object(T["a"])({},2928,new Float32Array([t,r])))},depthMask:function(e,t){return e(Object(T["a"])({},2930,t))},frontFace:function(e,t){return e(Object(T["a"])({},2886,t))},lineWidth:function(e,t){return e(Object(T["a"])({},2849,t))},polygonOffset:function(e,t,r){var n;return e((n={},Object(T["a"])(n,32824,t),Object(T["a"])(n,10752,r),n))},sampleCoverage:function(e,t,r){var n;return e((n={},Object(T["a"])(n,32938,t),Object(T["a"])(n,32939,r),n))},scissor:function(e,t,r,n,i){return e(Object(T["a"])({},3088,new Int32Array([t,r,n,i])))},stencilMask:function(e,t){var r;return e((r={},Object(T["a"])(r,2968,t),Object(T["a"])(r,36005,t),r))},stencilMaskSeparate:function(e,t,r){return e(Object(T["a"])({},1028===t?2968:36005,r))},stencilFunc:function(e,t,r,n){var i;return e((i={},Object(T["a"])(i,2962,t),Object(T["a"])(i,2967,r),Object(T["a"])(i,2963,n),Object(T["a"])(i,34816,t),Object(T["a"])(i,36003,r),Object(T["a"])(i,36004,n),i))},stencilFuncSeparate:function(e,t,r,n,i){var o;return e((o={},Object(T["a"])(o,1028===t?2962:34816,r),Object(T["a"])(o,1028===t?2967:36003,n),Object(T["a"])(o,1028===t?2963:36004,i),o))},stencilOp:function(e,t,r,n){var i;return e((i={},Object(T["a"])(i,2964,t),Object(T["a"])(i,2965,r),Object(T["a"])(i,2966,n),Object(T["a"])(i,34817,t),Object(T["a"])(i,34818,r),Object(T["a"])(i,34819,n),i))},stencilOpSeparate:function(e,t,r,n,i){var o;return e((o={},Object(T["a"])(o,1028===t?2964:34817,r),Object(T["a"])(o,1028===t?2965:34818,n),Object(T["a"])(o,1028===t?2966:34819,i),o))},viewport:function(e,t,r,n,i){return e(Object(T["a"])({},2978,[t,r,n,i]))}},Fe=function(e,t){return e.isEnabled(t)},ze=(je={},Object(T["a"])(je,3042,Fe),Object(T["a"])(je,2884,Fe),Object(T["a"])(je,2929,Fe),Object(T["a"])(je,3024,Fe),Object(T["a"])(je,32823,Fe),Object(T["a"])(je,32926,Fe),Object(T["a"])(je,32928,Fe),Object(T["a"])(je,3089,Fe),Object(T["a"])(je,2960,Fe),Object(T["a"])(je,35977,Fe),je);function Be(e){for(var t in e)return!1;return!0}function Ue(e,t){if(e===t)return!0;var r=Array.isArray(e)||ArrayBuffer.isView(e),n=Array.isArray(t)||ArrayBuffer.isView(t);if(r&&n&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}function Ve(e,t){var r=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache&&e.state.enable?e.state.cache[t]:r.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function Ge(e,t,r){var n=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=r.apply(void 0,[e.state._updateCache].concat(i)),s=a.valueChanged,u=a.oldValue;return s&&n.apply(void 0,i),u},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}function qe(e){var t=e.useProgram.bind(e);e.useProgram=function(r){e.state.program!==r&&(t(r),e.state.program=r)}}var We=function(){function e(t){Object(h["a"])(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.copyState,i=void 0!==n&&n,o=r.log,a=void 0===o?function(){}:o;this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=i?Ye(t):Object.assign({},ke),this.log=a,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(p["a"])(e,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){A(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];$e(this.gl,e),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,r=!1,n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e){A(void 0!==i);var o=e[i],a=this.cache[i];Ue(o,a)||(r=!0,t=a,n&&!(i in n)&&(n[i]=a),this.cache[i]=o)}return{valueChanged:r,oldValue:t}}}]),e}();function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.enable,n=void 0===r||r,i=t.copyState;if(A(void 0!==i),!e.state){var o=globalThis.polyfillContext;for(var a in o&&o(e),e.state=new We(e,{copyState:i}),qe(e),Ne){var s=Ne[a];Ge(e,a,s)}Ve(e,"getParameter"),Ve(e,"isEnabled")}return e.state.enable=n,e}function Ze(e){e.state||He(e,{copyState:!1}),e.state.push()}function Xe(e){A(e.state),e.state.pop()}function $e(e,t){if(A(R(e),"setParameters requires a WebGL context"),!Be(t)){var r={};for(var n in t){var i=Number(n),o=Me[n];o&&("string"===typeof o?r[o]=!0:o(e,t[n],i))}var a=e.state&&e.state.cache;if(a)for(var s in r){var u=De[s];u(e,t,a)}}}function Ye(e,t){if(t=t||ke,"number"===typeof t){var r=t,n=ze[r];return n?n(e,r):e.getParameter(r)}var i,o=Array.isArray(t)?t:Object.keys(t),a={},s=Object(l["a"])(o);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=ze[u];a[u]=c?c(e,Number(u)):e.getParameter(Number(u))}}catch(f){s.e(f)}finally{s.f()}return a}function Ke(e){$e(e,ke)}function Je(e,t,r){if(Be(t))return r(e);var n,i=t.nocatch,o=void 0===i||i;if(Ze(e),$e(e,t),o)n=r(e),Xe(e);else try{n=r(e)}finally{Xe(e)}return n}var Qe=r("DOHC");function et(e){var t=e.luma;if(e.canvas&&t){var r=t.canvasSizeInfo.clientWidth;return r?e.drawingBufferWidth/r:1}return 1}function tt(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=et(e),i=e.drawingBufferWidth,o=e.drawingBufferHeight;return nt(t,n,i,o,r)}function rt(e){var t="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function nt(e,t,r,n,i){var o,a=it(e[0],t,r),s=ot(e[1],t,n,i),u=it(e[0]+1,t,r),c=u===r-1?u:u-1;return u=ot(e[1]+1,t,n,i),i?(u=0===u?u:u+1,o=s,s=u):o=u===n-1?u:u-1,{x:a,y:s,width:Math.max(c-a+1,1),height:Math.max(o-s+1,1)}}function it(e,t,r){var n=Math.min(Math.round(e*t),r-1);return n}function ot(e,t,r,n){return n?Math.max(0,r-1-Math.round(e*t)):Math.min(Math.round(e*t),r-1)}var at=Object(Qe["a"])(),st=at&&"undefined"!==typeof document,ut={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(at,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),e=Object.assign({},ut,e);var t,r=e,n=r.width,i=r.height;function o(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}e.onError=o;var a=e,s=a.canvas,u=dt({canvas:s,width:n,height:i,onError:o});return t=pt(u,e),t?(t=lt(t,e),vt(t),t):null}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||mt(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{},t=Object.assign({},ut,t);var r=t,n=r.manageState,i=r.debug;return n&&He(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return P.log.apply(P,[1].concat(t))()}}),at&&i&&(globalThis.makeDebugContext?(e=globalThis.makeDebugContext(e,t),P.level=Math.max(P.level,1)):P.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function ft(e){var t=e.getParameter(7936),r=e.getParameter(7937),n=e.getExtension("WEBGL_debug_renderer_info"),i=n&&e.getParameter(n.UNMASKED_VENDOR_WEBGL||7936),o=n&&e.getParameter(n.UNMASKED_RENDERER_WEBGL||7937);return{vendor:i||t,renderer:o||r,vendorMasked:t,rendererMasked:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){var r=rt(t.useDevicePixels);yt(e,r,t)}else{var n=e.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in t&&"height"in t&&n.resize(t.width,t.height)}}function pt(e,t){var r=t.onError,n=null,i=function(e){return n=e.statusMessage||n};e.addEventListener("webglcontextcreationerror",i,!1);var o=t.webgl1,a=void 0===o||o,s=t.webgl2,u=void 0===s||s,c=null;return u&&(c=c||e.getContext("webgl2",t),c=c||e.getContext("experimental-webgl2",t)),a&&(c=c||e.getContext("webgl",t),c=c||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),c?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),c):r("Failed to create ".concat(u&&!a?"WebGL2":"WebGL"," context: ").concat(n||"Unknown error"))}function dt(e){var t,r=e.canvas,n=e.width,i=void 0===n?800:n,o=e.height,a=void 0===o?600:o,s=e.onError;if("string"===typeof r){var u=st&&"complete"===document.readyState;u||s("createGLContext called on canvas '".concat(r,"' before page was loaded")),t=document.getElementById(r)}else r?t=r:(t=document.createElement("canvas"),t.id="lumagl-canvas",t.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",t.style.height=Number.isFinite(a)?"".concat(a,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}function vt(e){var t=M(e)?"WebGL2":"WebGL1",r=ft(e),n=r?"(".concat(r.vendor,",").concat(r.renderer,")"):"",i=e.debug?" debug":"";P.info(1,"".concat(t).concat(i," context ").concat(n))()}function mt(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}function yt(e,t,r){var n="width"in r?r.width:e.canvas.clientWidth,i="height"in r?r.height:e.canvas.clientHeight;n&&i||(P.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,n=e.canvas.width||1,i=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var o=e.luma.canvasSizeInfo;if(o.clientWidth!==n||o.clientHeight!==i||o.devicePixelRatio!==t){var a=t,s=Math.floor(n*a),u=Math.floor(i*a);e.canvas.width=s,e.canvas.height=u,e.drawingBufferWidth===s&&e.drawingBufferHeight===u||(P.warn("Device pixel ratio clamped")(),a=Math.min(e.drawingBufferWidth/n,e.drawingBufferHeight/i),e.canvas.width=Math.floor(n*a),e.canvas.height=Math.floor(i*a)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:n,clientHeight:i,devicePixelRatio:t})}}var gt=r("laie"),bt="8.5.18",_t="set luma.log.level=1 (or higher) to trace rendering",wt=function(){function e(){Object(h["a"])(this,e),this.stats=new Map}return Object(p["a"])(e,[{key:"get",value:function(e){return this.stats.has(e)||this.stats.set(e,new gt["a"]({id:e})),this.stats.get(e)}}]),e}(),xt=new wt;if(globalThis.luma&&globalThis.luma.VERSION!==bt)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(bt));globalThis.luma||(Object(Qe["a"])()&&P.log(1,"luma.gl ".concat(bt," - ").concat(_t))(),globalThis.luma=globalThis.luma||{VERSION:bt,version:bt,log:P,stats:xt,globals:{modules:{},nodeIO:{}}});globalThis.luma;function Ot(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}function Et(e,t){if("string"!==typeof t)return t;var r=Number(t);if(!isNaN(r))return r;t=t.replace(/^.*\./,"");var n=e[t];return Ot(void 0!==n,"Accessing undefined constant GL.".concat(t)),n}function jt(e,t){for(var r in t=Number(t),e)if(e[r]===t)return"GL.".concat(r);return String(t)}var St={};function kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";St[e]=St[e]||1;var t=St[e]++;return"".concat(e,"-").concat(t)}function Tt(e){return Ot("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function Pt(e){var t=!0;for(var r in e){t=!1;break}return t}function At(e,t,r,n){var i="See luma.gl ".concat(r," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(e);n.forEach((function(e){o.methodName||(o[e]=function(){throw P.removed("Calling removed method ".concat(t,".").concat(e,": "),i)(),new Error(e)})}))}var It="Resource subclass must define virtual methods",Ct=function(e){function t(e){Object(h["a"])(this,t);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(e);var n=r.id,i=r.userData,o=void 0===i?{}:i;this.gl=e,this.gl2=e,this.id=n||kt(this[Symbol.toStringTag]),this.userData=o,this._bound=!1,this._handle=r.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return Object(p["a"])(t,[{key:e,get:function(){return"Resource"}},{key:"toString",value:function(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}},{key:"handle",get:function(){return this._handle}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteChildren,r=void 0!==t&&t,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach((function(e){return e["delete"]()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Et(this.gl,e),Ot(e);var r=this.constructor.PARAMETERS||{},n=r[e];if(n){var i=M(this.gl),o=(!("webgl2"in n)||i)&&(!("extension"in n)||this.gl.getExtension(n.extension));if(!o){var a=n.webgl1,s="webgl2"in n?n.webgl2:n.webgl1,u=i?s:a;return u}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.parameters,n=t.keys,i=this.constructor.PARAMETERS||{},o=M(this.gl),a={},s=r||Object.keys(i),u=Object(l["a"])(s);try{for(u.s();!(e=u.n()).done;){var c=e.value,f=i[c],h=f&&(!("webgl2"in f)||o)&&(!("extension"in f)||this.gl.getExtension(f.extension));if(h){var p=n?jt(this.gl,c):c;a[p]=this.getParameter(c,t),n&&"GLenum"===f.type&&(a[p]=jt(this.gl,a[p]))}}}catch(d){u.e(d)}finally{u.f()}return a}},{key:"setParameter",value:function(e,t){e=Et(this.gl,e),Ot(e);var r=this.constructor.PARAMETERS||{},n=r[e];if(n){var i=M(this.gl),o=(!("webgl2"in n)||i)&&(!("extension"in n)||this.gl.getExtension(n.extension));if(!o)throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=Et(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,r){return At(this,e,t,r)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(It)}},{key:"_deleteHandle",value:function(){throw new Error(It)}},{key:"_bindHandle",value:function(e){throw new Error(It)}},{key:"_getOptsFromHandle",value:function(){throw new Error(It)}},{key:"_getParameter",value:function(e,t){throw new Error(It)}},{key:"_setParameter",value:function(e,t){throw new Error(It)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var e=this[Symbol.toStringTag],t=xt.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var e=this[Symbol.toStringTag],t=xt.get("Resource Counts");t.get("".concat(e,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}},{key:"_trackAllocatedMemoryForContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=xt.get("Memory Usage".concat(r));n.get("GPU Memory").addCount(e),n.get("".concat(t," Memory")).addCount(e)}},{key:"_trackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}},{key:"_trackDeallocatedMemoryForContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=xt.get("Memory Usage".concat(t));r.get("GPU Memory").subtractCount(this.byteLength),r.get("".concat(e," Memory")).subtractCount(this.byteLength)}}]),t}(Symbol.toStringTag),Rt=r("xdlL"),Mt="Failed to deduce GL constant from typed array";function Lt(e){var t=ArrayBuffer.isView(e)?e.constructor:e;switch(t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(Mt)}}function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.clamped,n=void 0===r||r;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function Nt(e){var t=e.data,r=e.width,n=e.height,i=e.bytesPerPixel,o=void 0===i?4:i,a=e.temp,s=r*o;a=a||new Uint8Array(s);for(var u=0;u<n/2;++u){var c=u*s,l=(n-u-1)*s;a.set(t.subarray(c,c+s)),t.copyWithin(c,l,l+s),t.set(a,l)}}function Ft(e){for(var t=e.data,r=e.width,n=e.height,i=Math.round(r/2),o=Math.round(n/2),a=new Uint8Array(i*o*4),s=0;s<o;s++)for(var u=0;u<i;u++)for(var c=0;c<4;c++)a[4*(s*i+u)+c]=t[4*(2*s*r+2*u)+c];return{data:a,width:i,height:o}}function zt(e,t,r){var n=r.removedProps,i=void 0===n?{}:n,o=r.deprecatedProps,a=void 0===o?{}:o,s=r.replacedProps,u=void 0===s?{}:s;for(var c in i)if(c in t){var l=i[c],f=l?"".concat(e,".").concat(i[c]):"N/A";P.removed("".concat(e,".").concat(c),f)()}for(var h in a)if(h in t){var p=a[h];P.deprecated("".concat(e,".").concat(h),"".concat(e,".").concat(p))()}var d=null;for(var v in u)if(v in t){var m=u[v];P.deprecated("".concat(e,".").concat(v),"".concat(e,".").concat(m))(),d=d||Object.assign({},t),d[m]=t[v],delete d[v]}return d||t}var Bt,Ut,Vt,Gt={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},qt={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},Wt=function(){function e(){var t=this;Object(h["a"])(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return Object(p["a"])(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=zt("Accessor",e,qt),void 0!==e.type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}],[{key:"getBytesPerElement",value:function(e){var t=Dt(e.type||5126);return t.BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){Ot(e.size);var t=Dt(e.type||5126);return t.BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Object(Rt["a"])(e,[Gt].concat(r))}}]),e}(),Ht=10,Zt={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},Xt={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:Zt},$t={removedProps:Zt},Yt=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r.call(this,e,i),t.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),t.target=i.target||(t.gl.webgl2?36662:34962),t.initialize(i),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"Buffer"}},{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/Wt.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/Wt.getBytesPerVertex(e))}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=zt("Buffer",e,Xt),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}},{key:"setProps",value:function(e){return e=zt("Buffer",e,$t),"accessor"in e&&this.setAccessor(e.accessor),this}},{key:"setAccessor",value:function(e){return e=Object.assign({},e),delete e.buffer,this.accessor=new Wt(e),this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,r=t.data,n=t.offset,i=void 0===n?0:n,o=t.srcOffset,a=void 0===o?0:o,s=e.byteLength||e.length;Ot(r);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==a||void 0!==s?(N(this.gl),this.gl.bufferSubData(this.target,i,r,a,s)):this.gl.bufferSubData(u,i,r),this.gl.bindBuffer(u,null),this.debugData=null,this._inferType(r),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,r=e.readOffset,n=void 0===r?0:r,i=e.writeOffset,o=void 0===i?0:i,a=e.size,s=this.gl;return N(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,n,o,a),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,r=void 0===t?null:t,n=e.srcByteOffset,i=void 0===n?0:n,o=e.dstOffset,a=void 0===o?0:o,s=e.length,u=void 0===s?0:s;N(this.gl);var c,l,f=Dt(this.accessor.type||5126,{clamped:!1}),h=this._getAvailableElementCount(i),p=a;r?(l=r.length,c=l-p):(c=Math.min(h,u||h),l=p+c);var d=Math.min(h,c);return u=u||d,Ot(u<=d),r=r||new f(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,r,a,u),this.gl.bindBuffer(36662,null),r}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?this.target:t,n=e.index,i=void 0===n?this.accessor&&this.accessor.index:n,o=e.offset,a=void 0===o?0:o,s=e.size;return 35345===r||35982===r?void 0!==s?this.gl.bindBufferRange(r,i,this.handle,a,s):(Ot(0===a),this.gl.bindBufferBase(r,i,this.handle)):this.gl.bindBuffer(r,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?this.target:t,n=e.index,i=void 0===n?this.accessor&&this.accessor.index:n,o=35345===r||35982===r;return o?this.gl.bindBufferBase(r,i,null):this.gl.bindBuffer(r,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(Ht,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;Ot(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var n=this._getTarget();this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,this.usage),this.gl.bufferSubData(n,t,e),this.gl.bindBuffer(n,null),this.debugData=e.slice(0,Ht),this.bytesUsed=r,this._trackAllocatedMemory(r);var i=Lt(e);return Ot(i),this.setAccessor(new Wt(this.accessor,{type:i})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Ot(e>=0),this._trackDeallocatedMemory();var r=e;0===e&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,t),this.gl.bindBuffer(n,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=Dt(this.accessor.type||5126,{clamped:!1}),r=e/t.BYTES_PER_ELEMENT;return this.getElementCount()-r}},{key:"_inferType",value:function(e){this.accessor.type||this.setAccessor(new Wt(this.accessor,{type:Lt(e)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"type",get:function(){return P.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return P.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}},{key:"setByteLength",value:function(e){return P.deprecated("setByteLength","reallocate")(),this.reallocate(e)}},{key:"updateAccessor",value:function(e){return P.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new Wt(this.accessor,e),this}}]),n}(Ct,Symbol.toStringTag),Kt=(Bt={},Object(T["a"])(Bt,6407,{dataFormat:6407,types:[5121,33635]}),Object(T["a"])(Bt,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(T["a"])(Bt,6406,{dataFormat:6406,types:[5121]}),Object(T["a"])(Bt,6409,{dataFormat:6409,types:[5121]}),Object(T["a"])(Bt,6410,{dataFormat:6410,types:[5121]}),Object(T["a"])(Bt,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(T["a"])(Bt,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(T["a"])(Bt,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(T["a"])(Bt,34836,{dataFormat:6408,types:[5126],gl2:!0}),Bt),Jt=(Ut={},Object(T["a"])(Ut,6403,1),Object(T["a"])(Ut,36244,1),Object(T["a"])(Ut,33319,2),Object(T["a"])(Ut,33320,2),Object(T["a"])(Ut,6407,3),Object(T["a"])(Ut,36248,3),Object(T["a"])(Ut,6408,4),Object(T["a"])(Ut,36249,4),Object(T["a"])(Ut,6402,1),Object(T["a"])(Ut,34041,1),Object(T["a"])(Ut,6406,1),Object(T["a"])(Ut,6409,1),Object(T["a"])(Ut,6410,2),Ut),Qt=(Vt={},Object(T["a"])(Vt,5126,4),Object(T["a"])(Vt,5125,4),Object(T["a"])(Vt,5124,4),Object(T["a"])(Vt,5123,2),Object(T["a"])(Vt,5122,2),Object(T["a"])(Vt,5131,2),Object(T["a"])(Vt,5120,1),Object(T["a"])(Vt,5121,1),Vt);function er(e,t){var r=Kt[t];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=M(e)&&r.gl2||r.gl1;return"string"===typeof n?e.getExtension(n):n}function tr(e,t){var r=Kt[t];switch(r&&r.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}var rr=[9729,9728],nr=globalThis.WebGLBuffer||function(){},ir=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e,t){var i;Object(h["a"])(this,n);var o=t.id,a=void 0===o?kt("texture"):o,s=t.handle,u=t.target;return i=r.call(this,e,{id:a,handle:s}),i.target=u,i.textureUnit=void 0,i.loaded=!1,i.width=void 0,i.height=void 0,i.depth=void 0,i.format=void 0,i.type=void 0,i.dataFormat=void 0,i.border=void 0,i.textureUnit=void 0,i.mipmaps=void 0,i}return Object(p["a"])(n,[{key:t,get:function(){return"Texture"}},{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data;if(r instanceof Promise)return r.then((function(r){return e.initialize(Object.assign({},t,{pixels:r,data:r}))})),this;var n="undefined"!==typeof HTMLVideoElement&&r instanceof HTMLVideoElement;if(n&&r.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,r.addEventListener("loadeddata",(function(){return e.initialize(t)})),this;var i=t.pixels,o=void 0===i?null:i,a=t.format,s=void 0===a?6408:a,u=t.border,c=void 0===u?0:u,l=t.recreate,f=void 0!==l&&l,h=t.parameters,p=void 0===h?{}:h,d=t.pixelStore,v=void 0===d?{}:d,m=t.textureUnit,y=void 0===m?void 0:m;r||(r=o);var g=t.width,b=t.height,_=t.dataFormat,w=t.type,x=t.compressed,O=void 0!==x&&x,E=t.mipmaps,j=void 0===E||E,S=t.depth,k=void 0===S?0:S,T=this._deduceParameters({format:s,type:w,dataFormat:_,compressed:O,data:r,width:g,height:b});return g=T.width,b=T.height,O=T.compressed,_=T.dataFormat,w=T.type,this.width=g,this.height=b,this.depth=k,this.format=s,this.type=w,this.dataFormat=_,this.border=c,this.textureUnit=y,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),j&&this._isNPOT()&&(P.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),j=!1,this._updateForNPOT(p)),this.mipmaps=j,this.setImageData({data:r,width:g,height:b,depth:k,format:s,type:w,dataFormat:_,border:c,mipmaps:j,parameters:v,compressed:O}),j&&this.generateMipmap(),this.setParameters(p),f&&(this.data=r),n&&(this._video={video:r,parameters:p,lastTime:r.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?r.currentTime:-1}),this}},{key:"update",value:function(){if(this._video){var e=this._video,t=e.video,r=e.parameters,n=e.lastTime;if(n===t.currentTime||t.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:t,parameters:r}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=t.currentTime}}},{key:"resize",value:function(e){var t=e.height,r=e.width,n=e.mipmaps,i=void 0!==n&&n;return r!==this.width||t!==this.height?this.initialize({width:r,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(P.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Je(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(e){this._trackDeallocatedMemory("Texture");var t=e.target,r=void 0===t?this.target:t,n=e.pixels,i=void 0===n?null:n,o=e.level,a=void 0===o?0:o,s=e.format,u=void 0===s?this.format:s,c=e.border,f=void 0===c?this.border:c,h=e.offset,p=void 0===h?0:h,d=e.parameters,v=void 0===d?{}:d,m=e.data,y=void 0===m?null:m,g=e.type,_=void 0===g?this.type:g,w=e.width,x=void 0===w?this.width:w,O=e.height,E=void 0===O?this.height:O,j=e.dataFormat,S=void 0===j?this.dataFormat:j,k=e.compressed,T=void 0!==k&&k;y||(y=i);var P=this._deduceParameters({format:u,type:_,dataFormat:S,compressed:T,data:y,width:x,height:E});_=P.type,S=P.dataFormat,T=P.compressed,x=P.width,E=P.height;var A=this.gl;A.bindTexture(this.target,this.handle);var I,C=null,R=this._getDataType({data:y,compressed:T});y=R.data,C=R.dataType;var L=0;if(Je(this.gl,v,(function(){switch(C){case"null":A.texImage2D(r,a,u,x,E,f,S,_,y);break;case"typed-array":A.texImage2D(r,a,u,x,E,f,S,_,y,p);break;case"buffer":I=N(A),I.bindBuffer(35052,y.handle||y),I.texImage2D(r,a,u,x,E,f,S,_,p),I.bindBuffer(35052,null);break;case"browser-object":M(A)?A.texImage2D(r,a,u,x,E,f,S,_,y):A.texImage2D(r,a,u,S,_,y);break;case"compressed":var e,t=Object(l["a"])(y.entries());try{for(t.s();!(e=t.n()).done;){var n=e.value,i=Object(b["a"])(n,2),o=i[0],s=i[1];A.compressedTexImage2D(r,o,s.format,s.width,s.height,f,s.data),L+=s.levelSize}}catch(c){t.e(c)}finally{t.f()}break;default:Ot(!1,"Unknown image data type")}})),"compressed"===C)this._trackAllocatedMemory(L,"Texture");else if(y&&y.byteLength)this._trackAllocatedMemory(y.byteLength,"Texture");else{var D=Jt[this.dataFormat]||4,F=Qt[this.type]||1;this._trackAllocatedMemory(this.width*this.height*D*F,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(e){var t=this,r=e.target,n=void 0===r?this.target:r,i=e.pixels,o=void 0===i?null:i,a=e.data,s=void 0===a?null:a,u=e.x,c=void 0===u?0:u,l=e.y,f=void 0===l?0:l,h=e.width,p=void 0===h?this.width:h,d=e.height,v=void 0===d?this.height:d,m=e.level,y=void 0===m?0:m,g=e.format,b=void 0===g?this.format:g,_=e.type,w=void 0===_?this.type:_,x=e.dataFormat,O=void 0===x?this.dataFormat:x,E=e.compressed,j=void 0!==E&&E,S=e.offset,k=void 0===S?0:S,T=e.border,P=(void 0===T&&this.border,e.parameters),A=void 0===P?{}:P,I=this._deduceParameters({format:b,type:w,dataFormat:O,compressed:j,data:s,width:p,height:v});if(w=I.type,O=I.dataFormat,j=I.compressed,p=I.width,v=I.height,Ot(0===this.depth,"texSubImage not supported for 3D textures"),s||(s=o),s&&s.data){var C=s;s=C.data,p=C.shape[0],v=C.shape[1]}s instanceof Yt&&(s=s.handle),this.gl.bindTexture(this.target,this.handle),Je(this.gl,A,(function(){if(j)t.gl.compressedTexSubImage2D(n,y,c,f,p,v,b,s);else if(null===s)t.gl.texSubImage2D(n,y,c,f,p,v,O,w,null);else if(ArrayBuffer.isView(s))t.gl.texSubImage2D(n,y,c,f,p,v,O,w,s,k);else if(s instanceof nr){var e=N(t.gl);e.bindBuffer(35052,s),e.texSubImage2D(n,y,c,f,p,v,O,w,k),e.bindBuffer(35052,null)}else if(M(t.gl)){var r=N(t.gl);r.texSubImage2D(n,y,c,f,p,v,O,w,s)}else t.gl.texSubImage2D(n,y,c,f,O,w,s)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return P.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}},{key:"_getDataType",value:function(e){var t=e.data,r=e.compressed,n=void 0!==r&&r;return n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof Yt?{data:t.handle,dataType:"buffer"}:t instanceof nr?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(e){var t=e.format,r=e.data,n=e.width,i=e.height,o=e.dataFormat,a=e.type,s=e.compressed,u=Kt[t];o=o||u&&u.dataFormat,a=a||u&&u.types[0],s=s||u&&u.compressed;var c=this._deduceImageSize(r,n,i);return n=c.width,i=c.height,{dataFormat:o,type:a,compressed:s,width:n,height:i,format:t,data:r}}},{key:"_deduceImageSize",value:function(e,t,r){var n;return n="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:r}:{width:t>=0?t:1,height:r>=0?r:1},Ot(n,"Could not deduced texture size"),Ot(void 0===t||n.width===t,"Deduced texture width does not match supplied width"),Ot(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:Ot(!1);break;default:this.gl.texParameteri(this.target,e,t);break}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!M(this.gl)&&(!(!this.width||!this.height)&&(!Tt(this.width)||!Tt(this.height)))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===rr.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071);break;default:break}return t}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.format,n=t.linearFiltering,i=!0;return r&&(i=i&&er(e,r),i=i&&(!n||tr(e,r))),i}}]),n}(Ct,Symbol.toStringTag),or="";function ar(e,t){return Ot("string"===typeof e),e=or+e,new Promise((function(r,n){try{var i=new Image;i.onload=function(){return r(i)},i.onerror=function(){return n(new Error("Could not load image ".concat(e,".")))},i.crossOrigin=t&&t.crossOrigin||"anonymous",i.src=e}catch(o){n(o)}}))}var sr,ur=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D(e),(i instanceof Promise||"string"===typeof i)&&(i={data:i}),"string"===typeof i.data&&(i=Object.assign({},i,{data:ar(i.data)})),t=r.call(this,e,Object.assign({},i,{target:3553})),t.initialize(i),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"Texture2D"}}],[{key:"isSupported",value:function(e,t){return ir.isSupported(e,t)}}]),n}(ir,Symbol.toStringTag),cr="EXT_color_buffer_float",lr=(sr={},Object(T["a"])(sr,33189,{bpp:2}),Object(T["a"])(sr,33190,{gl2:!0,bpp:3}),Object(T["a"])(sr,36012,{gl2:!0,bpp:4}),Object(T["a"])(sr,36168,{bpp:1}),Object(T["a"])(sr,34041,{bpp:4}),Object(T["a"])(sr,35056,{gl2:!0,bpp:4}),Object(T["a"])(sr,36013,{gl2:!0,bpp:5}),Object(T["a"])(sr,32854,{bpp:2}),Object(T["a"])(sr,36194,{bpp:2}),Object(T["a"])(sr,32855,{bpp:2}),Object(T["a"])(sr,33321,{gl2:!0,bpp:1}),Object(T["a"])(sr,33330,{gl2:!0,bpp:1}),Object(T["a"])(sr,33329,{gl2:!0,bpp:1}),Object(T["a"])(sr,33332,{gl2:!0,bpp:2}),Object(T["a"])(sr,33331,{gl2:!0,bpp:2}),Object(T["a"])(sr,33334,{gl2:!0,bpp:4}),Object(T["a"])(sr,33333,{gl2:!0,bpp:4}),Object(T["a"])(sr,33323,{gl2:!0,bpp:2}),Object(T["a"])(sr,33336,{gl2:!0,bpp:2}),Object(T["a"])(sr,33335,{gl2:!0,bpp:2}),Object(T["a"])(sr,33338,{gl2:!0,bpp:4}),Object(T["a"])(sr,33337,{gl2:!0,bpp:4}),Object(T["a"])(sr,33340,{gl2:!0,bpp:8}),Object(T["a"])(sr,33339,{gl2:!0,bpp:8}),Object(T["a"])(sr,32849,{gl2:!0,bpp:3}),Object(T["a"])(sr,32856,{gl2:!0,bpp:4}),Object(T["a"])(sr,32857,{gl2:!0,bpp:4}),Object(T["a"])(sr,36220,{gl2:!0,bpp:4}),Object(T["a"])(sr,36238,{gl2:!0,bpp:4}),Object(T["a"])(sr,36975,{gl2:!0,bpp:4}),Object(T["a"])(sr,36214,{gl2:!0,bpp:8}),Object(T["a"])(sr,36232,{gl2:!0,bpp:8}),Object(T["a"])(sr,36226,{gl2:!0,bpp:16}),Object(T["a"])(sr,36208,{gl2:!0,bpp:16}),Object(T["a"])(sr,33325,{gl2:cr,bpp:2}),Object(T["a"])(sr,33327,{gl2:cr,bpp:4}),Object(T["a"])(sr,34842,{gl2:cr,bpp:8}),Object(T["a"])(sr,33326,{gl2:cr,bpp:4}),Object(T["a"])(sr,33328,{gl2:cr,bpp:8}),Object(T["a"])(sr,34836,{gl2:cr,bpp:16}),Object(T["a"])(sr,35898,{gl2:cr,bpp:4}),sr);function fr(e,t,r){var n=r[t];if(!n)return!1;var i=M(e)&&n.gl2||n.gl1;return"string"===typeof i?e.getExtension(i):i}var hr=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r.call(this,e,i),t.initialize(i),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"Renderbuffer"}},{key:"initialize",value:function(e){var t=e.format,r=e.width,n=void 0===r?1:r,i=e.height,o=void 0===i?1:i,a=e.samples,s=void 0===a?0:a;return Ot(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==s&&M(this.gl)?this.gl.renderbufferStorageMultisample(36161,s,t,n,o):this.gl.renderbufferStorage(36161,t,n,o),this.format=t,this.width=n,this.height=o,this.samples=s,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*lr[this.format].bpp),this}},{key:"resize",value:function(e){var t=e.width,r=e.height;return t!==this.width||r!==this.height?this.initialize({width:t,height:r,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){this.gl.bindRenderbuffer(36161,this.handle);var t=this.gl.getRenderbufferParameter(36161,e);return t}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null},r=t.format;return!r||fr(e,r,lr)}},{key:"getSamplesForFormat",value:function(e,t){var r=t.format;return e.getInternalformatParameter(36161,r,32937)}}]),n}(Ct,Symbol.toStringTag),pr=256,dr=1024,vr=16384,mr=6144,yr=6145,gr=6146,br=34041,_r="clear: bad arguments";function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.framebuffer,n=void 0===r?null:r,i=t.color,o=void 0===i?null:i,a=t.depth,s=void 0===a?null:a,u=t.stencil,c=void 0===u?null:u,l={};n&&(l.framebuffer=n);var f=0;o&&(f|=vr,!0!==o&&(l.clearColor=o)),s&&(f|=pr,!0!==s&&(l.clearDepth=s)),c&&(f|=dr,!0!==s&&(l.clearStencil=s)),Ot(0!==f,_r),Je(e,l,(function(){e.clear(f)}))}function xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.framebuffer,n=void 0===r?null:r,i=t.buffer,o=void 0===i?mr:i,a=t.drawBuffer,s=void 0===a?0:a,u=t.value,c=void 0===u?[0,0,0,0]:u;N(e),Je(e,{framebuffer:n},(function(){switch(o){case mr:switch(c.constructor){case Int32Array:e.clearBufferiv(o,s,c);break;case Uint32Array:e.clearBufferuiv(o,s,c);break;case Float32Array:default:e.clearBufferfv(o,s,c)}break;case yr:e.clearBufferfv(yr,0,[c]);break;case gr:e.clearBufferiv(gr,0,[c]);break;case br:var t=Object(b["a"])(c,2),r=t[0],n=t[1];e.clearBufferfi(br,0,r,n);break;default:Ot(!1,_r)}}))}function Or(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Ot(!1),0}}var Er=r("qLMh");function jr(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function Sr(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){jr(o,n,i,a,s,"next",e)}function s(e){jr(o,n,i,a,s,"throw",e)}a(void 0)}))}}var kr=[34069,34070,34071,34072,34073,34074],Tr=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D(e),t=r.call(this,e,Object.assign({},i,{target:34067})),t.initialize(i),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"TextureCube"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mipmaps,n=void 0===r||r,i=t.parameters,o=void 0===i?{}:i;return this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,n&&e.generateMipmap(t),e.setParameters(o)})),this}},{key:"subImage",value:function(e){var t=e.face,r=e.data,n=e.x,i=void 0===n?0:n,o=e.y,a=void 0===o?0:o,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:r,x:i,y:a,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(){var e=Sr(Object(Er["a"])().mark((function e(t){var r,n,i,o,a,s,u,c,l,f,h,p,d,v=this;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.width,n=t.height,i=t.pixels,o=t.data,a=t.border,s=void 0===a?0:a,u=t.format,c=void 0===u?6408:u,l=t.type,f=void 0===l?5121:l,h=this.gl,p=i||o,e.next=5,Promise.all(kr.map((function(e){var t=p[e];return Promise.all(Array.isArray(t)?t:[t])})));case 5:d=e.sent,this.bind(),kr.forEach((function(e,t){d[t].length>1&&!1!==v.opts.mipmaps&&P.warn("".concat(v.id," has mipmap and multiple LODs."))(),d[t].forEach((function(t,i){r&&n?h.texImage2D(e,i,c,r,n,s,c,f,t):h.texImage2D(e,i,c,c,f,t)}))})),this.unbind();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setImageDataForFace",value:function(e){var t=this,r=e.face,n=e.width,i=e.height,o=e.pixels,a=e.data,s=e.border,u=void 0===s?0:s,c=e.format,l=void 0===c?6408:c,f=e.type,h=void 0===f?5121:f,p=this.gl,d=o||a;return this.bind(),d instanceof Promise?d.then((function(n){return t.setImageDataForFace(Object.assign({},e,{face:r,data:n,pixels:n}))})):this.width||this.height?p.texImage2D(r,0,l,n,i,u,l,h,d):p.texImage2D(r,0,l,l,h,d),this}}]),n}(ir,Symbol.toStringTag);Tr.FACES=kr;var Pr=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N(e),i=Object.assign({depth:1},i,{target:32879,unpackFlipY:!1}),t=r.call(this,e,i),t.initialize(i),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"Texture3D"}},{key:"setImageData",value:function(e){var t=this,r=e.level,n=void 0===r?0:r,i=e.dataFormat,o=void 0===i?6408:i,a=e.width,s=e.height,u=e.depth,c=void 0===u?1:u,l=e.border,f=void 0===l?0:l,h=e.format,p=e.type,d=void 0===p?5121:p,v=e.offset,m=void 0===v?0:v,y=e.data,g=e.parameters,b=void 0===g?{}:g;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Je(this.gl,b,(function(){ArrayBuffer.isView(y)&&t.gl.texImage3D(t.target,n,o,a,s,c,f,h,d,y),y instanceof Yt&&(t.gl.bindBuffer(35052,y.handle),t.gl.texImage3D(t.target,n,o,a,s,c,f,h,d,m))})),y&&y.byteLength)this._trackAllocatedMemory(y.byteLength,"Texture");else{var _=Jt[this.dataFormat]||4,w=Qt[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*_*w,"Texture")}return this.loaded=!0,this}}],[{key:"isSupported",value:function(e){return M(e)}}]),n}(ir,Symbol.toStringTag);function Ar(e,t){Ot(e instanceof ur||e instanceof Tr||e instanceof Pr);var r=e.constructor,n=e.gl,i=e.width,o=e.height,a=e.format,s=e.type,u=e.dataFormat,c=e.border,l=e.mipmaps,f=Object.assign({width:i,height:o,format:a,type:s,dataFormat:u,border:c,mipmaps:l},t);return new r(n,f)}function Ir(e,t){var r=e.gl,n=e.width,i=e.height,o=e.id,a=new Fr(r,Object.assign({},t,{id:"framebuffer-for-".concat(o),width:n,height:i,attachments:Object(T["a"])({},36064,e)}));return a}function Cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sourceX,n=void 0===r?0:r,i=t.sourceY,o=void 0===i?0:i,a=t.sourceFormat,s=void 0===a?6408:a,u=t.sourceAttachment,c=void 0===u?36064:u,l=t.target,f=void 0===l?null:l,h=t.sourceWidth,p=t.sourceHeight,d=t.sourceType,v=Lr(e),m=v.framebuffer,y=v.deleteFramebuffer;Ot(m);var g=m.gl,b=m.handle,_=m.attachments;h=h||m.width,p=p||m.height,36064===c&&null===b&&(c=1028),Ot(_[c]),d=d||_[c].type,f=Dr(f,d,s,h,p),d=d||Lt(f);var w=g.bindFramebuffer(36160,b);return g.readPixels(n,o,h,p,s,d,f),g.bindFramebuffer(36160,w||null),y&&m["delete"](),f}function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sourceAttachment,n=void 0===r?36064:r,i=t.targetMaxHeight,o=void 0===i?Number.MAX_SAFE_INTEGER:i,a=Cr(e,{sourceAttachment:n}),s=e.width,u=e.height;while(u>o){var c=Ft({data:a,width:s,height:u});a=c.data,s=c.width,u=c.height}Nt({data:a,width:s,height:u});var l=document.createElement("canvas");l.width=s,l.height=u;var f=l.getContext("2d"),h=f.createImageData(s,u);return h.data.set(a),f.putImageData(h,0,0),l.toDataURL()}function Mr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.sourceX,i=void 0===n?0:n,o=r.sourceY,a=void 0===o?0:o,s=r.targetMipmaplevel,u=void 0===s?0:s,c=r.targetInternalFormat,l=void 0===c?6408:c,f=r.targetX,h=r.targetY,p=r.targetZ,d=r.width,v=r.height,m=Lr(e),y=m.framebuffer,g=m.deleteFramebuffer;Ot(y);var b=y.gl,_=y.handle,w="undefined"!==typeof f||"undefined"!==typeof h||"undefined"!==typeof p;f=f||0,h=h||0,p=p||0;var x=b.bindFramebuffer(36160,_);Ot(t);var O=null;if(t instanceof ir&&(O=t,d=Number.isFinite(d)?d:O.width,v=Number.isFinite(v)?v:O.height,O.bind(0),t=O.target),w)switch(t){case 3553:case 34067:b.copyTexSubImage2D(t,u,f,h,i,a,d,v);break;case 35866:case 32879:var E=N(b);E.copyTexSubImage3D(t,u,f,h,p,i,a,d,v);break;default:}else b.copyTexImage2D(t,u,l,i,a,d,v,0);return O&&O.unbind(),b.bindFramebuffer(36160,x||null),g&&y["delete"](),O}function Lr(e){return e instanceof Fr?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:Ir(e),deleteFramebuffer:!0}}function Dr(e,t,r,n,i){if(e)return e;t=t||5121;var o=Dt(t,{clamped:!1}),a=Or(r);return new o(n*i*a)}var Nr="Multiple render targets not supported",Fr=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r.call(this,e,i),t.width=null,t.height=null,t.attachments={},t.readBuffer=36064,t.drawBuffers=[36064],t.ownResources=[],t.initialize(i),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"Framebuffer"}},{key:"MAX_COLOR_ATTACHMENTS",get:function(){var e=N(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){var e=N(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}},{key:"initialize",value:function(e){var t=e.width,r=void 0===t?1:t,n=e.height,i=void 0===n?1:n,o=e.attachments,a=void 0===o?null:o,s=e.color,u=void 0===s||s,c=e.depth,l=void 0===c||c,f=e.stencil,h=void 0!==f&&f,p=e.check,d=void 0===p||p,v=e.readBuffer,m=void 0===v?void 0:v,y=e.drawBuffers,g=void 0===y?void 0:y;if(Ot(r>=0&&i>=0,"Width and height need to be integers"),this.width=r,this.height=i,a)for(var b in a){var _=a[b],w=Array.isArray(_)?_[0]:_;w.resize({width:r,height:i})}else a=this._createDefaultAttachments(u,l,h,r,i);this.update({clearAttachments:!0,attachments:a,readBuffer:m,drawBuffers:g}),a&&d&&this.checkStatus()}},{key:"delete",value:function(){var e,t=Object(l["a"])(this.ownResources);try{for(t.s();!(e=t.n()).done;){var r=e.value;r["delete"]()}}catch(i){t.e(i)}finally{t.f()}return m(Object(d["a"])(n.prototype),"delete",this).call(this),this}},{key:"update",value:function(e){var t=e.attachments,r=void 0===t?{}:t,n=e.readBuffer,i=e.drawBuffers,o=e.clearAttachments,a=void 0!==o&&o,s=e.resizeAttachments,u=void 0===s||s;this.attach(r,{clearAttachments:a,resizeAttachments:u});var c=this.gl,l=c.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),i&&this._setDrawBuffers(i),c.bindFramebuffer(36160,l||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,r=e.height;if(null===this.handle)return Ot(void 0===t&&void 0===r),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var n in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===r&&(r=this.gl.drawingBufferHeight),t!==this.width&&r!==this.height&&P.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(r))(),this.attachments)this.attachments[n].resize({width:t,height:r});return this.width=t,this.height=r,this}},{key:"attach",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clearAttachments,i=void 0!==n&&n,o=r.resizeAttachments,a=void 0===o||o,s={};i&&Object.keys(this.attachments).forEach((function(e){s[e]=null})),Object.assign(s,e);var u=this.gl.bindFramebuffer(36160,this.handle);for(var c in s){Ot(void 0!==c,"Misspelled framebuffer binding point?");var l=Number(c),f=s[l],h=f;if(h)if(h instanceof hr)this._attachRenderbuffer({attachment:l,renderbuffer:h});else if(Array.isArray(f)){var p=Object(b["a"])(f,3),d=p[0],v=p[1],m=void 0===v?0:v,y=p[2],g=void 0===y?0:y;h=d,this._attachTexture({attachment:l,texture:d,layer:m,level:g})}else this._attachTexture({attachment:l,texture:h,layer:0,level:0});else this._unattach(l);a&&h&&h.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,u||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){this.gl;var e=this.getStatus();if(36053!==e)throw new Error(Br(e));return this}},{key:"getStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),r=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),r}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.color,n=t.depth,i=t.stencil,o=t.drawBuffers,a=void 0===o?[]:o,s=this.gl.bindFramebuffer(36160,this.handle);return(r||n||i)&&wr(this.gl,{color:r,depth:n,stencil:i}),a.forEach((function(t,r){xr(e.gl,{drawBuffer:r,value:t})})),this.gl.bindFramebuffer(36160,s||null),this}},{key:"readPixels",value:function(){return P.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return P.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return P.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return P.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return P.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return P.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(e){var t=e.attachments,r=void 0===t?[]:t,n=e.x,i=void 0===n?0:n,o=e.y,a=void 0===o?0:o,s=e.width,u=e.height,c=N(this.gl),l=c.bindFramebuffer(36008,this.handle),f=0===i&&0===a&&void 0===s&&void 0===u;return f?c.invalidateFramebuffer(36008,r):c.invalidateFramebuffer(36008,r,i,a,s,u),c.bindFramebuffer(36008,l),this}},{key:"getAttachmentParameter",value:function(e,t,r){var n=this._getAttachmentParameterFallback(t);return null===n&&(this.gl.bindFramebuffer(36160,this.handle),n=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),r&&n>1e3&&(n=jt(this.gl,n)),n}},{key:"getAttachmentParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],i={},o=Object(l["a"])(n);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=r?jt(this.gl,a):a;i[s]=this.getAttachmentParameter(t,a,r)}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(this.attachments),r={},n=0,i=t;n<i.length;n++){var o=i[n],a=Number(o),s=e?jt(this.gl,a):a;r[s]=this.getAttachmentParameters(a,e)}return r}},{key:"show",value:function(){return"undefined"!==typeof window&&window.open(Rr(this),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>P.level||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);var r=Rr(this,{targetMaxHeight:100});return P.image({logLevel:e,message:t,image:r},t)(),this}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?36160:t;return this.gl.bindFramebuffer(r,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?36160:t;return this.gl.bindFramebuffer(r,null),this}},{key:"_createDefaultAttachments",value:function(e,t,r,n,i){var o,a=null;e&&(a=a||{},a[36064]=new ur(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:n,height:i,mipmaps:!1,parameters:(o={},Object(T["a"])(o,10241,9729),Object(T["a"])(o,10240,9729),Object(T["a"])(o,10242,33071),Object(T["a"])(o,10243,33071),o)}),this.ownResources.push(a[36064]));return t&&r?(a=a||{},a[33306]=new hr(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:n,height:111}),this.ownResources.push(a[33306])):t?(a=a||{},a[36096]=new hr(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:n,height:i}),this.ownResources.push(a[36096])):r&&Ot(!1),a}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof hr?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,r=void 0===t?36064:t,n=e.renderbuffer,i=this.gl;i.framebufferRenderbuffer(36160,r,36161,n.handle),this.attachments[r]=n}},{key:"_attachTexture",value:function(e){var t=e.attachment,r=void 0===t?36064:t,n=e.texture,i=e.layer,o=e.level,a=this.gl;switch(a.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:var s=N(a);s.framebufferTextureLayer(36160,r,n.target,o,i);break;case 34067:var u=zr(i);a.framebufferTexture2D(36160,r,u,n.handle,o);break;case 3553:a.framebufferTexture2D(36160,r,3553,n.handle,o);break;default:Ot(!1,"Illegal texture type")}a.bindTexture(n.target,null),this.attachments[r]=n}},{key:"_setReadBuffer",value:function(e){var t=L(this.gl);t?t.readBuffer(e):Ot(36064===e||1029===e,Nr),this.readBuffer=e}},{key:"_setDrawBuffers",value:function(e){var t=this.gl,r=N(t);if(r)r.drawBuffers(e);else{var n=t.getExtension("WEBGL_draw_buffers");n?n.drawBuffersWEBGL(e):Ot(1===e.length&&(36064===e[0]||1029===e[0]),Nr)}this.drawBuffers=e}},{key:"_getAttachmentParameterFallback",value:function(e){var t=$r(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.colorBufferFloat,n=t.colorBufferHalfFloat,i=!0;return r&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),n&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new n(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),n}(Ct,Symbol.toStringTag);function zr(e){return e<34069?e+34069:e}function Br(e){var t=Fr.STATUS||{};return t[e]||"Framebuffer error ".concat(e)}var Ur,Vr=[36049,36048,33296,33298,33299,33300,33301,33302,33303];Fr.ATTACHMENT_PARAMETERS=Vr;var Gr={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};function qr(e){var t=new ur(e,{format:6408,type:5126,dataFormat:6408}),r=new Fr(e,{id:"test-framebuffer",check:!1,attachments:Object(T["a"])({},36064,t)}),n=r.getStatus();return t["delete"](),r["delete"](),36053===n}var Wr=(Ur={},Object(T["a"])(Ur,Gr.WEBGL2,[!1,!0]),Object(T["a"])(Ur,Gr.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),Object(T["a"])(Ur,Gr.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),Object(T["a"])(Ur,Gr.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),Object(T["a"])(Ur,Gr.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),Object(T["a"])(Ur,Gr.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),Object(T["a"])(Ur,Gr.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),Object(T["a"])(Ur,Gr.FLOAT_BLEND,["EXT_float_blend"]),Object(T["a"])(Ur,Gr.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),Object(T["a"])(Ur,Gr.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),Object(T["a"])(Ur,Gr.TEXTURE_FLOAT,["OES_texture_float",!0]),Object(T["a"])(Ur,Gr.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),Object(T["a"])(Ur,Gr.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),Object(T["a"])(Ur,Gr.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),Object(T["a"])(Ur,Gr.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),Object(T["a"])(Ur,Gr.COLOR_ATTACHMENT_RGBA32F,[qr,"EXT_color_buffer_float"]),Object(T["a"])(Ur,Gr.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),Object(T["a"])(Ur,Gr.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),Object(T["a"])(Ur,Gr.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),Object(T["a"])(Ur,Gr.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),Object(T["a"])(Ur,Gr.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),Object(T["a"])(Ur,Gr.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),Ur),Hr=2;function Zr(e,t){return Xr(e,t)}function Xr(e,t){return t=Array.isArray(t)?t:[t],t.every((function(t){return Yr(e,t)}))}function $r(e){for(var t in e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},Wr)void 0===e.luma.caps[t]&&(e.luma.caps[t]=Yr(e,t));return e.luma.caps}function Yr(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=Kr(e,t)),e.luma.caps[t]||P.log(Hr,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}function Kr(e,t){var r,n=Wr[t];Ot(n,t);var i=M(e)&&n[1]||n[0];if("function"===typeof i)r=i(e);else if(Array.isArray(i)){r=!0;var o,a=Object(l["a"])(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;r=r&&Boolean(e.getExtension(s))}}catch(u){a.e(u)}finally{a.f()}}else"string"===typeof i?r=Boolean(e.getExtension(i)):"boolean"===typeof i?r=i:Ot(!1);return r}var Jr=function(){function e(t,r){Object(h["a"])(this,e),Object(c["a"])(this,"opts",void 0),Object(c["a"])(this,"source",void 0),this.opts=r,this.source=t}return Object(p["a"])(e,[{key:"value",get:function(){return this.source.value}},{key:"getValue",value:function(){var e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];var r=this.source.value,n=t.size,i=r;if(r&&r.length!==n){i=new Float32Array(n);for(var o=t.elementOffset||0,a=0;a<n;++a)i[a]=r[o+a]}return i}},{key:"getAccessor",value:function(){return Object(f["a"])(Object(f["a"])({},this.source.getAccessor()),this.opts)}}]),e}();function Qr(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}var en=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h["a"])(this,e),Object(c["a"])(this,"_pool",[]),Object(c["a"])(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(t)}return Object(p["a"])(e,[{key:"setOptions",value:function(e){Object.assign(this.opts,e)}},{key:"allocate",value:function(e,t,r){var n=r.size,i=void 0===n?1:n,o=r.type,a=r.padding,s=void 0===a?0:a,u=r.copy,c=void 0!==u&&u,l=r.initialize,f=void 0!==l&&l,h=r.maxCount,p=o||e&&e.constructor||Float32Array,d=t*i+s;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new p(e.buffer,0,d)}var v=1/0;h&&(v=h*i+s);var m=this._allocate(p,d,f,v);return e&&c?m.set(e):f||m.fill(0,0,4),this._release(e),m}},{key:"release",value:function(e){this._release(e)}},{key:"_allocate",value:function(e,t,r,n){var i=Math.max(Math.ceil(t*this.opts.overAlloc),1);i>n&&(i=n);var o=this._pool,a=e.BYTES_PER_ELEMENT*i,s=o.findIndex((function(e){return e.byteLength>=a}));if(s>=0){var u=new e(o.splice(s,1)[0],0,i);return r&&u.fill(0),u}return new e(i)}},{key:"_release",value:function(e){if(ArrayBuffer.isView(e)){var t=this._pool,r=e.buffer,n=r.byteLength,i=t.findIndex((function(e){return e.byteLength>=n}));i<0?t.push(r):(i>0||t.length<this.opts.poolSize)&&t.splice(i,0,r),t.length>this.opts.poolSize&&t.shift()}}}]),e}(),tn=new en,rn=r("zXfU");function nn(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function on(e,t){var r=e%t;return r<0?t+r:r}function an(e){return[e[12],e[13],e[14]]}function sn(e){return{left:ln(e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),right:ln(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),bottom:ln(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),top:ln(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),near:ln(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),far:ln(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14])}}var un,cn=new rn["a"];function ln(e,t,r,n){cn.set(e,t,r);var i=cn.len();return{distance:n/i,normal:new rn["a"](-e/i,-t/i,-r/i)}}function fn(e){return e-Math.fround(e)}function hn(e,t){var r=t.size,n=void 0===r?1:r,i=t.startIndex,o=void 0===i?0:i,a=void 0!==t.endIndex?t.endIndex:e.length,s=(a-o)/n;un=tn.allocate(un,s,{type:Float32Array,size:2*n});var u=o,c=0;while(u<a){for(var l=0;l<n;l++){var f=e[u++];un[c+l]=f,un[c+l+n]=fn(f)}c+=2*n}return un.subarray(0,s*n*2)}function pn(e){return e.stride||e.size*e.bytesPerElement}function dn(e,t){t.offset&&x.removed("shaderAttribute.offset","vertexOffset, elementOffset")();var r=pn(e),n=void 0!==t.vertexOffset?t.vertexOffset:e.vertexOffset||0,i=t.elementOffset||0,o=n*r+i*e.bytesPerElement+(e.offset||0);return Object(f["a"])(Object(f["a"])({},t),{},{offset:o,stride:r})}function vn(e,t){var r=dn(e,t);return{high:r,low:Object(f["a"])(Object(f["a"])({},r),{},{offset:r.offset+4*e.size})}}var mn=function(){function e(t,r,n){Object(h["a"])(this,e),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"size",void 0),Object(c["a"])(this,"settings",void 0),Object(c["a"])(this,"value",void 0),Object(c["a"])(this,"doublePrecision",void 0),Object(c["a"])(this,"_buffer",void 0),Object(c["a"])(this,"state",void 0),this.gl=t,this.id=r.id||"",this.size=r.size||1;var i,o=r.logicalType||r.type,a=5130===o,s=r.defaultValue;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),i=a?5126:!o&&r.isIndexed?t&&Zr(t,Gr.ELEMENT_INDEX_UINT32)?5125:5123:o||5126;var u=Qr(o||i||5126);this.doublePrecision=a,a&&!1===r.fp64&&(u=Float32Array),this.value=null,this.settings=Object(f["a"])(Object(f["a"])({},r),{},{defaultType:u,defaultValue:s,logicalType:o,type:i,size:this.size,bytesPerElement:u.BYTES_PER_ELEMENT}),this.state=Object(f["a"])(Object(f["a"])({},n),{},{externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}),this._buffer=null}return Object(p["a"])(e,[{key:"isConstant",get:function(){return this.state.constant}},{key:"buffer",get:function(){if(!this._buffer){var e=this.settings,t=e.isIndexed,r=e.type;this._buffer=new Yt(this.gl,{id:this.id,target:t?34963:34962,accessor:{type:r}})}return this._buffer}},{key:"byteOffset",get:function(){var e=this.getAccessor();return e.vertexOffset?e.vertexOffset*pn(e):0}},{key:"numInstances",get:function(){return this.state.numInstances},set:function(e){this.state.numInstances=e}},{key:"delete",value:function(){this._buffer&&(this._buffer["delete"](),this._buffer=null),tn.release(this.state.allocatedValue)}},{key:"getShaderAttributes",value:function(e,t){if(this.doublePrecision){var r={},n=this.value instanceof Float64Array,i=vn(this.getAccessor(),t||{});return r[e]=new Jr(this,i.high),r["".concat(e,"64Low")]=n?new Jr(this,i.low):new Float32Array(this.size),r}if(t){var o=dn(this.getAccessor(),t);return Object(T["a"])({},e,new Jr(this,o))}return Object(T["a"])({},e,this)}},{key:"getBuffer",value:function(){return this.state.constant?null:this.state.externalBuffer||this._buffer}},{key:"getValue",value:function(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}},{key:"getAccessor",value:function(){return this.state.bufferAccessor}},{key:"getBounds",value:function(){if(this.state.bounds)return this.state.bounds;var e=null;if(this.state.constant&&this.value){var t=Array.from(this.value);e=[t,t]}else{var r=this.value,n=this.numInstances,i=this.size,o=n*i;if(r&&o&&r.length>=o){for(var a=new Array(i).fill(1/0),s=new Array(i).fill(-1/0),u=0;u<o;)for(var c=0;c<i;c++){var l=r[u++];l<a[c]&&(a[c]=l),l>s[c]&&(s[c]=l)}e=[a,s]}}return this.state.bounds=e,e}},{key:"setData",value:function(e){var t,r=this.state;t=ArrayBuffer.isView(e)?{value:e}:e instanceof Yt?{buffer:e}:e;var n=Object(f["a"])(Object(f["a"])({},this.settings),t);if(r.bufferAccessor=n,r.bounds=null,t.constant){var i=t.value;i=this._normalizeValue(i,[],0),this.settings.normalized&&(i=this.normalizeConstant(i));var o=!r.constant||!this._areValuesEqual(i,this.value);if(!o)return!1;r.externalBuffer=null,r.constant=!0,this.value=i}else if(t.buffer){var a=t.buffer;r.externalBuffer=a,r.constant=!1,this.value=t.value||null;var s=t.value instanceof Float64Array;n.type=t.type||a.accessor.type,n.bytesPerElement=a.accessor.BYTES_PER_ELEMENT*(s?2:1),n.stride=pn(n)}else if(t.value){this._checkExternalBuffer(t);var u=t.value;r.externalBuffer=null,r.constant=!1,this.value=u,n.bytesPerElement=u.BYTES_PER_ELEMENT,n.stride=pn(n);var c=this.buffer,l=this.byteOffset;this.doublePrecision&&u instanceof Float64Array&&(u=hn(u,n));var h=u.byteLength+l+2*n.stride;c.byteLength<h&&c.reallocate(h),c.setAccessor(null),c.subData({data:u,offset:l}),n.type=t.type||c.accessor.type}return!0}},{key:"updateSubBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;var t=this.value,r=e.startOffset,n=void 0===r?0:r,i=e.endOffset;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?hn(t,{size:this.size,startIndex:n,endIndex:i}):t.subarray(n,i),offset:n*t.BYTES_PER_ELEMENT+this.byteOffset})}},{key:"allocate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state,n=r.allocatedValue,i=tn.allocate(n,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=i;var o=this.buffer,a=this.byteOffset;return o.byteLength<i.byteLength+a&&(o.reallocate(i.byteLength+a),t&&n&&o.subData({data:n instanceof Float64Array?hn(n,this):n,offset:a})),r.allocatedValue=i,r.constant=!1,r.externalBuffer=null,r.bufferAccessor=this.settings,!0}},{key:"_checkExternalBuffer",value:function(e){var t=e.value;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));var r=this.settings.defaultType,n=!1;if(this.doublePrecision&&(n=t.BYTES_PER_ELEMENT<4),n)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof r||!this.settings.normalized||"normalized"in e||x.warn("Attribute ".concat(this.id," is normalized"))()}},{key:"normalizeConstant",value:function(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((function(e){return(e+128)/255*2-1}));case 5122:return new Float32Array(e).map((function(e){return(e+32768)/65535*2-1}));case 5121:return new Float32Array(e).map((function(e){return e/255}));case 5123:return new Float32Array(e).map((function(e){return e/65535}));default:return e}}},{key:"_normalizeValue",value:function(e,t,r){var n=this.settings,i=n.defaultValue,o=n.size;if(Number.isFinite(e))return t[r]=e,t;if(!e)return t[r]=i[0],t;switch(o){case 4:t[r+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:t[r+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:t[r+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:t[r+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:var a=o;while(--a>=0)t[r+a]=Number.isFinite(e[a])?e[a]:i[a]}return t}},{key:"_areValuesEqual",value:function(e,t){if(!e||!t)return!1;for(var r=this.size,n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}}]),e}();function yn(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}var gn=[],bn=[];function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=gn,i={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?n=e:e.length>0&&(bn.length=e.length,n=bn):n=gn,(t>0||Number.isFinite(r))&&(n=(Array.isArray(n)?n:Array.from(n)).slice(t,r),i.index=t-1),{iterable:n,objectInfo:i}}function wn(e){return e&&e[Symbol.asyncIterator]}function xn(e,t){var r=t.size,n=t.stride,i=t.offset,o=t.startIndices,a=t.nested,s=e.BYTES_PER_ELEMENT,u=n?n/s:r,c=i?i/s:0,l=Math.floor((e.length-c)/u);return function(t,n){var i=n.index,s=n.target;if(!o){for(var f=i*u+c,h=0;h<r;h++)s[h]=e[f+h];return s}var p,d=o[i],v=o[i+1]||l;if(a){p=new Array(v-d);for(var m=d;m<v;m++){var y=m*u+c;s=new Array(r);for(var g=0;g<r;g++)s[g]=e[y+g];p[m-d]=s}}else if(u===r)p=e.subarray(d*r+c,v*r+c);else{p=new e.constructor((v-d)*r);for(var b=0,_=d;_<v;_++)for(var w=_*u+c,x=0;x<r;x++)p[b++]=e[w+x]}return p}}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return Array.isArray(e)?En(e,t,[]):t(e)?[e]:[]}function En(e,t,r){var n=-1;while(++n<e.length){var i=e[n];Array.isArray(i)?En(i,t,r):t(i)&&r.push(i)}return r}function jn(e){for(var t=e.target,r=e.source,n=e.start,i=void 0===n?0:n,o=e.count,a=void 0===o?1:o,s=r.length,u=a*s,c=0,l=i;c<s;c++)t[l++]=r[c];while(c<u)c<u-c?(t.copyWithin(i+c,i,i+c),c*=2):(t.copyWithin(i+c,i,i+u-c),c=u);return t}var Sn=[],kn=[[0,1/0]];function Tn(e,t){if(e===kn)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;for(var r=[],n=e.length,i=0,o=0;o<n;o++){var a=e[o];a[1]<t[0]?(r.push(a),i=o+1):a[0]>t[1]?r.push(a):t=[Math.min(a[0],t[0]),Math.max(a[1],t[1])]}return r.splice(i,0,t),r}function Pn(e){var t=e.source,r=e.target,n=e.start,i=void 0===n?0:n,o=e.size,a=e.getData,s=e.end||r.length,u=t.length,c=s-i;if(u>c)r.set(t.subarray(0,c),i);else if(r.set(t,i),a){var l=u;while(l<c)for(var f=a(l,t),h=0;h<o;h++)r[i+l]=f[h]||0,l++}}function An(e){var t=e.source,r=e.target,n=e.size,i=e.getData,o=e.sourceStartIndices,a=e.targetStartIndices;if(!Array.isArray(a))return Pn({source:t,target:r,size:n,getData:i}),r;for(var s=0,u=0,c=i&&function(e,t){return i(e+u,t)},l=Math.min(o.length,a.length),f=1;f<l;f++){var h=o[f]*n,p=a[f]*n;Pn({source:t.subarray(s,h),target:r,start:u,end:p,size:n,getData:c}),s=h,u=p}return u<r.length&&Pn({source:[],target:r,start:u,size:n,getData:c}),r}var In={interpolation:{duration:0,easing:function(e){return e}},spring:{stiffness:.05,damping:.5}};function Cn(e,t){if(!e)return null;Number.isFinite(e)&&(e={type:"interpolation",duration:e});var r=e.type||"interpolation";return Object(f["a"])(Object(f["a"])(Object(f["a"])(Object(f["a"])({},In[r]),t),e),{},{type:r})}function Rn(e,t){var r=t.getBuffer();return r?[r,{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function Mn(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function Ln(e){e.push(e.shift())}function Dn(e,t){var r=e.doublePrecision,n=e.settings,i=e.value,o=e.size,a=r&&i instanceof Float64Array?2:1;return(n.noAlloc?i.length:t*o)*a}function Nn(e){var t=e.buffer,r=e.numInstances,n=e.attribute,i=e.fromLength,o=e.fromStartIndices,a=e.getData,s=void 0===a?function(e){return e}:a,u=n.doublePrecision&&n.value instanceof Float64Array?2:1,c=n.size*u,l=n.byteOffset,f=n.startIndices,h=o&&f,p=Dn(n,r),d=n.isConstant;if(h||!(i>=p)){var v=d?n.value:n.getBuffer().getData({srcByteOffset:l});if(n.settings.normalized&&!d){var m=s;s=function(e,t){return n.normalizeConstant(m(e,t))}}var y=d?function(e,t){return s(v,t)}:function(e,t){return s(v.subarray(e,e+c),t)},g=t.getData({length:i}),b=new Float32Array(p);An({source:g,target:b,sourceStartIndices:o,targetStartIndices:f,size:c,getData:y}),t.byteLength<b.byteLength+l&&t.reallocate(b.byteLength+l),t.subData({data:b,offset:l})}}var Fn=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e,n){var i;return Object(h["a"])(this,r),i=t.call(this,e,n,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:kn}),Object(c["a"])(Object(_["a"])(i),"constant",!1),i.settings.update=n.update||(n.accessor?i._autoUpdater:void 0),Object.seal(i.settings),Object.seal(i.state),i._validateAttributeUpdaters(),i}return Object(p["a"])(r,[{key:"startIndices",get:function(){return this.state.startIndices},set:function(e){this.state.startIndices=e}},{key:"needsUpdate",value:function(){return this.state.needsUpdate}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearChangedFlags,r=void 0!==t&&t,n=this.state.needsRedraw;return this.state.needsRedraw=n&&!r,n}},{key:"getUpdateTriggers",value:function(){var e=this.settings.accessor;return[this.id].concat("function"!==typeof e&&e||[])}},{key:"supportsTransition",value:function(){return Boolean(this.settings.transition)}},{key:"getTransitionSetting",value:function(e){if(!e||!this.supportsTransition())return null;var t=this.settings.accessor,r=this.settings.transition,n=Array.isArray(t)?e[t.find((function(t){return e[t]}))]:e[t];return Cn(n,r)}},{key:"setNeedsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){var r=t.startRow,n=void 0===r?0:r,i=t.endRow,o=void 0===i?1/0:i;this.state.updateRanges=Tn(this.state.updateRanges,[n,o])}else this.state.updateRanges=kn}},{key:"clearNeedsUpdate",value:function(){this.state.needsUpdate=!1,this.state.updateRanges=Sn}},{key:"setNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}},{key:"allocate",value:function(e){var t=this.state,n=this.settings;return!n.noAlloc&&(!!n.update&&(m(Object(d["a"])(r.prototype),"allocate",this).call(this,e,t.updateRanges!==kn),!0))}},{key:"updateBuffer",value:function(e){var t=e.numInstances,n=e.data,i=e.props,o=e.context;if(!this.needsUpdate())return!1;var a=this.state.updateRanges,s=this.settings,u=s.update,c=s.noAlloc,f=!0;if(u){var h,p=Object(l["a"])(a);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=Object(b["a"])(v,2),g=y[0],_=y[1];u.call(o,this,{data:n,startRow:g,endRow:_,props:i,numInstances:t})}}catch(P){p.e(P)}finally{p.f()}if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else{var w,x=Object(l["a"])(a);try{for(x.s();!(w=x.n()).done;){var O=w.value,E=Object(b["a"])(O,2),j=E[0],S=E[1],k=Number.isFinite(j)?this.getVertexOffset(j):0,T=Number.isFinite(S)?this.getVertexOffset(S):c||!Number.isFinite(t)?this.value.length:t*this.size;m(Object(d["a"])(r.prototype),"updateSubBuffer",this).call(this,{startOffset:k,endOffset:T})}}catch(P){x.e(P)}finally{x.f()}}else;this._checkAttributeArray()}else f=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),f}},{key:"setConstantValue",value:function(e){if(void 0===e||"function"===typeof e)return!1;var t=this.setData({constant:!0,value:e});return t&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}},{key:"setExternalBuffer",value:function(e){var t=this.state;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}},{key:"setBinaryValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.state,n=this.settings;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(n.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;r.binaryValue=e,this.setNeedsRedraw();var i=n.transform||t!==this.startIndices;if(i){ArrayBuffer.isView(e)&&(e={value:e});var o=e;yn(ArrayBuffer.isView(o.value),"invalid ".concat(n.accessor));var a=Boolean(o.size)&&o.size!==this.size;return r.binaryAccessor=xn(o.value,{size:o.size||this.size,stride:o.stride,offset:o.offset,startIndices:t,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}},{key:"getVertexOffset",value:function(e){var t=this.startIndices,r=t?t[e]:e;return r*this.size}},{key:"getShaderAttributes",value:function(){var e=this.settings.shaderAttributes||Object(T["a"])({},this.id,null),t={};for(var n in e)Object.assign(t,m(Object(d["a"])(r.prototype),"getShaderAttributes",this).call(this,n,e[n]));return t}},{key:"_autoUpdater",value:function(e,t){var r=t.data,n=t.startRow,i=t.endRow,o=t.props,a=t.numInstances;if(!e.constant){var s=e.settings,u=e.state,c=e.value,f=e.size,h=e.startIndices,p=s.accessor,d=s.transform,v=u.binaryAccessor||("function"===typeof p?p:o[p]);yn("function"===typeof v,'accessor "'.concat(p,'" is not a function'));var m,y=e.getVertexOffset(n),g=_n(r,n,i),b=g.iterable,_=g.objectInfo,w=Object(l["a"])(b);try{for(w.s();!(m=w.n()).done;){var x=m.value;_.index++;var O=v(x,_);if(d&&(O=d.call(this,O)),h){var E=(_.index<h.length-1?h[_.index+1]:a)-h[_.index];if(O&&Array.isArray(O[0])){var j,S=y,k=Object(l["a"])(O);try{for(k.s();!(j=k.n()).done;){var T=j.value;e._normalizeValue(T,c,S),S+=f}}catch(P){k.e(P)}finally{k.f()}}else O&&O.length>f?c.set(O,y):(e._normalizeValue(O,_.target,0),jn({target:c,source:_.target,start:y,count:E}));y+=E*f}else e._normalizeValue(O,c,y),y+=f}}catch(P){w.e(P)}finally{w.f()}}}},{key:"_validateAttributeUpdaters",value:function(){var e=this.settings,t=e.noAlloc||"function"===typeof e.update;if(!t)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var e=this.value,t=Math.min(4,this.size);if(e&&e.length>=t){var r=!0;switch(t){case 4:r=r&&Number.isFinite(e[3]);case 3:r=r&&Number.isFinite(e[2]);case 2:r=r&&Number.isFinite(e[1]);case 1:r=r&&Number.isFinite(e[0]);break;default:r=!1}if(!r)throw new Error("Illegal attribute generated for ".concat(this.id))}}}]),r}(mn),zn={};function Bn(e){zn=e}function Un(e,t,r,n){x.level>0&&zn[e]&&zn[e].call(null,t,r,n)}function Vn(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}var Gn="void main() {gl_FragColor = vec4(0);}",qn="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",Wn="#version 300 es\n".concat(qn);function Hn(e,t){t=Array.isArray(t)?t:[t];var r=e.replace(/^\s+/,"").split(/\s+/),n=Object(b["a"])(r,3),i=n[0],o=n[1],a=n[2];if(!t.includes(i)||!o||!a)return null;var s=a.split(";")[0];return{qualifier:i,type:o,name:s}}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,r=void 0===t?100:t,n=e.input,i=e.inputType,o=e.output;if(!n)return 300===r?Wn:r>300?"#version ".concat(r,"\n").concat(qn):Gn;var a=Yn(n,i);return r>=300?"#version ".concat(r," ").concat(300===r?"es":"","\nin ").concat(i," ").concat(n,";\nout vec4 ").concat(o,";\nvoid main() {\n  ").concat(o," = ").concat(a,";\n}"):"varying ".concat(i," ").concat(n,";\nvoid main() {\n  gl_FragColor = ").concat(a,";\n}")}function Xn(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Vn(!1),null}}function $n(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Vn(!1),null}}function Yn(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return Vn(!1),null}}var Kn=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N(e),t=r.call(this,e,i),t.initialize(i),t.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"TransformFeedback"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Pt(this.buffers)||this.bind((function(){return e._unbindBuffers()})),this.setProps(t),this}},{key:"setProps",value:function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}},{key:"setBuffers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var r in t)e.setBuffer(r,t[r])})),this}},{key:"setBuffer",value:function(e,t){var r=this._getVaryingIndex(e),n=this._getBufferParams(t),i=n.buffer,o=n.byteSize,a=n.byteOffset;return r<0?(this.unused[e]=i,P.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[r]=t,this.bindOnUse||this._bindBuffer(r,i,a,o),this)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(e){var t,r,n;return e instanceof Yt===!1?(n=e.buffer,r=e.byteSize,t=e.byteOffset):n=e,void 0===t&&void 0===r||(t=t||0,r=r||n.byteLength-t),{buffer:n,byteOffset:t,byteSize:r}}},{key:"_getVaryingInfo",value:function(e){return this.configuration&&this.configuration.getVaryingInfo(e)}},{key:"_getVaryingIndex",value:function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),r=t.buffer,n=t.byteSize,i=t.byteOffset;this._bindBuffer(e,r,i,n)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)}},{key:"_bindBuffer",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=t&&t.handle;return i&&void 0!==n?this.gl.bindBufferRange(35982,e,i,r,n):this.gl.bindBufferBase(35982,e,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindTransformFeedback(36386,this.handle)}}],[{key:"isSupported",value:function(e){return M(e)}}]),n}(Ct,Symbol.toStringTag),Jn=function(){function e(t){Object(h["a"])(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(r),Object.seal(this)}return Object(p["a"])(e,[{key:"setupResources",value:function(e){var t,r=Object(l["a"])(this.bindings);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._setupTransformFeedback(n,e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.varyings;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],r=t.sourceBuffers,n=t.transformFeedback,i=Object.assign({},r,e.attributes);return{attributes:i,transformFeedback:n}}},{key:"swap",value:function(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}},{key:"getBuffer",value:function(e){var t=this.bindings[this.currentIndex].feedbackBuffers,r=e?t[e]:null;return r?r instanceof Yt?r:r.buffer:null}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.varyingName,r=this.getBuffer(t);return r?r.getData():null}},{key:"delete",value:function(){for(var e in this.resources)this.resources[e]["delete"]()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&Ot(M(this.gl))}},{key:"_getFeedbackBuffers",value:function(e){var t=e.sourceBuffers,r=void 0===t?{}:t,n={};if(this.bindings[this.currentIndex]&&Object.assign(n,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(var i in this.feedbackMap){var o=this.feedbackMap[i];i in r&&(n[o]=i)}for(var a in Object.assign(n,e.feedbackBuffers),n){var s=n[a];if("string"===typeof s){var u=r[s],c=u.byteLength,l=u.usage,f=u.accessor;n[a]=this._createNewBuffer(a,{byteLength:c,usage:l,accessor:f})}}return n}},{key:"_setupBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,r=void 0===t?null:t;Object.assign(this.feedbackMap,e.feedbackMap);var n=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:r,feedbackBuffers:n})}},{key:"_setupTransformFeedback",value:function(e,t){var r=t.model,n=r.program;e.transformFeedback=new Kn(this.gl,{program:n,buffers:e.feedbackBuffers})}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){var t=this._swapBuffers(this.bindings[this.currentIndex]),r=t.sourceBuffers,n=t.feedbackBuffers,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceBuffers:r,feedbackBuffers:n})}}},{key:"_updateBinding",value:function(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}},{key:"_swapBuffers",value:function(e){if(!this.feedbackMap)return null;var t=Object.assign({},e.sourceBuffers),r=Object.assign({},e.feedbackBuffers);for(var n in this.feedbackMap){var i=this.feedbackMap[n];t[n]=e.feedbackBuffers[i],r[i]=e.sourceBuffers[n],Ot(r[i]instanceof Yt)}return{sourceBuffers:t,feedbackBuffers:r}}},{key:"_createNewBuffer",value:function(e,t){var r=new Yt(this.gl,t);return this.resources[e]&&this.resources[e]["delete"](),this.resources[e]=r,r}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}}]),e}();function Qn(e){var t=100,r=e.match(/[^\s]+/g);if(r.length>=2&&"#version"===r[0]){var n=parseInt(r[1],10);Number.isFinite(n)&&(t=n)}return t}var ei,ti="#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",ri="#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n",ni="vs",ii="fs",oi=(ei={},Object(T["a"])(ei,ni,ti),Object(T["a"])(ei,ii,ri),ei),ai="__LUMA_INJECT_DECLARATIONS__",si=/void\s+main\s*\([^)]*\)\s*\{\n?/,ui=/}\n?[^{}]*$/,ci=[];function li(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t===ni,o=function(t){var n=r[t];n.sort((function(e,t){return e.order-t.order})),ci.length=n.length;for(var o=0,a=n.length;o<a;++o)ci[o]=n[o].injection;var s="".concat(ci.join("\n"),"\n");switch(t){case"vs:#decl":i&&(e=e.replace(ai,s));break;case"vs:#main-start":i&&(e=e.replace(si,(function(e){return e+s})));break;case"vs:#main-end":i&&(e=e.replace(ui,(function(e){return s+e})));break;case"fs:#decl":i||(e=e.replace(ai,s));break;case"fs:#main-start":i||(e=e.replace(si,(function(e){return e+s})));break;case"fs:#main-end":i||(e=e.replace(ui,(function(e){return s+e})));break;default:e=e.replace(t,(function(e){return e+s}))}};for(var a in r)o(a);return e=e.replace(ai,""),n&&(e=e.replace(/\}\s*$/,(function(e){return e+oi[t]}))),e}function fi(e){var t={};return Vn(Array.isArray(e)&&e.length>1),e.forEach((function(e){for(var r in e)t[r]=t[r]?"".concat(t[r],"\n").concat(e[r]):e[r]})),t}var hi,pi="attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",di={name:"transform",vs:pi,fs:null},vi="transform_uSampler_",mi="transform_uSize_",yi="transform_position";function gi(e){var t=e.vs,r=e.sourceTextureMap,n=e.targetTextureVarying,i=e.targetTexture,o=Object.keys(r),a=o.length,s=null,u={},c=t,l={};if(a>0||n){var f=c.split("\n"),h=f.slice();if(f.forEach((function(e,t,i){if(a>0){var o=Oi(e,r);if(o){var c=o.updatedLine,f=o.inject;h[t]=c,l=fi([l,f]),Object.assign(u,o.samplerTextureMap),a--}}n&&!s&&(s=xi(e,n))})),n){Ot(i);var p="".concat(mi).concat(n),d="uniform vec2 ".concat(p,";\n"),v="     vec2 ".concat(yi," = transform_getPos(").concat(p,");\n     gl_Position = vec4(").concat(yi,", 0, 1.);\n"),m={"vs:#decl":d,"vs:#main-start":v};l=fi([l,m])}c=h.join("\n")}return{vs:c,targetTextureType:s,inject:l,samplerTextureMap:u}}function bi(e){var t,r,n=e.sourceTextureMap,i=e.targetTextureVarying,o=e.targetTexture,a={};for(var s in i&&(t=o.width,r=o.height,a["".concat(mi).concat(i)]=[t,r]),n){var u=n[s];t=u.width,r=u.height,a["".concat(mi).concat(s)]=[t,r]}return a}function _i(e){return Hn(e,["attribute","in"])}function wi(e){var t="".concat(vi).concat(e),r="".concat(mi).concat(e),n="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(r,";");return{samplerName:t,sizeName:r,uniformDeclerations:n}}function xi(e,t){var r=Hn(e,["varying","out"]);return r&&r.name===t?r.type:null}function Oi(e,t){var r={},n=_i(e);if(!n)return null;var i=n.type,o=n.name;if(o&&t[o]){var a="// ".concat(e," => Replaced by Transform with a sampler"),s=wi(o),u=s.samplerName,c=s.sizeName,l=s.uniformDeclerations,f=Xn(i),h="  ".concat(i," ").concat(o," = transform_getInput(").concat(u,", ").concat(c,").").concat(f,";\n");r[u]=o;var p={"vs:#decl":l,"vs:#main-start":h};return{updatedLine:a,inject:p,samplerTextureMap:r}}return null}var Ei=(hi={},Object(T["a"])(hi,10241,9728),Object(T["a"])(hi,10240,9728),Object(T["a"])(hi,10242,33071),Object(T["a"])(hi,10243,33071),hi),ji="transform_output",Si=function(){function e(t){Object(h["a"])(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(r),Object.seal(this)}return Object(p["a"])(e,[{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._processVertexShader(e);return Object.assign({},e,t)}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],r=t.sourceBuffers,n=t.sourceTextures,i=t.framebuffer,o=t.targetTexture,a=Object.assign({},r,e.attributes),s=Object.assign({},e.uniforms),u=Object.assign({},e.parameters),c=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){for(var l in a.transform_elementID=this.elementIDBuffer,this.samplerTextureMap){var f=this.samplerTextureMap[l];s[l]=n[f]}this._setSourceTextureParameters();var h=bi({sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(s,h)}return this.hasTargetTexture&&(c=!1,u.viewport=[0,0,i.width,i.height]),{attributes:a,framebuffer:i,uniforms:s,discard:c,parameters:u}}},{key:"swap",value:function(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}},{key:"getTargetTexture",value:function(){var e=this.bindings[this.currentIndex].targetTexture;return e}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packed,r=void 0!==t&&t,n=this.bindings[this.currentIndex].framebuffer,i=Cr(n);if(!r)return i;for(var o=i.constructor,a=$n(this.targetTextureType),s=new o(i.length*a/4),u=0,c=0;c<i.length;c+=4)for(var l=0;l<a;l++)s[u++]=i[c+l];return s}},{key:"getFramebuffer",value:function(){var e=this.bindings[this.currentIndex];return e.framebuffer}},{key:"delete",value:function(){this.ownTexture&&this.ownTexture["delete"](),this.elementIDBuffer&&this.elementIDBuffer["delete"]()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._targetTextureVarying,r=e._swapTexture;this._swapTexture=r,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}},{key:"_createTargetTexture",value:function(e){var t=e.sourceTextures,r=e.textureOrReference;if(r instanceof ur)return r;var n=t[r];return n?(this._targetRefTexName=r,this._createNewTexture(n)):null}},{key:"_setupTextures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,r=e._sourceTextures,n=void 0===r?{}:r,i=e._targetTexture,o=this._createTargetTexture({sourceTextures:n,textureOrReference:i});this.hasSourceTextures=this.hasSourceTextures||n&&Object.keys(n).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:n,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}},{key:"_updateElementIDBuffer",value:function(e){if(!("number"!==typeof e||this.elementCount>=e)){var t=new Float32Array(e);t.forEach((function(e,t,r){r[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new Yt(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){var t=this._swapTextures(this.bindings[this.currentIndex]),r=t.sourceTextures,n=t.targetTexture,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceTextures:r,targetTexture:n})}}},{key:"_updateBinding",value:function(e,t){var r=t.sourceBuffers,n=t.sourceTextures,i=t.targetTexture;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,n),Object.assign(e.sourceBuffers,r),i){e.targetTexture=i;var o=i.width,a=i.height,s=e,u=s.framebuffer;u?(u.update({attachments:Object(T["a"])({},36064,i),resizeAttachments:!1}),u.resize({width:o,height:a})):e.framebuffer=new Fr(this.gl,{id:"transform-framebuffer",width:o,height:a,attachments:Object(T["a"])({},36064,i)})}return e}},{key:"_setSourceTextureParameters",value:function(){var e=this.currentIndex,t=this.bindings[e].sourceTextures;for(var r in t)t[r].setParameters(Ei)}},{key:"_swapTextures",value:function(e){if(!this._swapTexture)return null;var t=Object.assign({},e.sourceTextures);t[this._swapTexture]=e.targetTexture;var r=e.sourceTextures[this._swapTexture];return{sourceTextures:t,targetTexture:r}}},{key:"_createNewTexture",value:function(e){var t,r=Ar(e,{parameters:(t={},Object(T["a"])(t,10241,9728),Object(T["a"])(t,10240,9728),Object(T["a"])(t,10242,33071),Object(T["a"])(t,10243,33071),t),pixelStore:Object(T["a"])({},37440,!1)});return this.ownTexture&&this.ownTexture["delete"](),this.ownTexture=r,r}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}},{key:"_processVertexShader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],r=t.sourceTextures,n=t.targetTexture,i=gi({vs:e.vs,sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:n}),o=i.vs,a=i.uniforms,s=i.targetTextureType,u=i.inject,c=i.samplerTextureMap,l=fi([e.inject||{},u]);this.targetTextureType=s,this.samplerTextureMap=c;var f=e._fs||Zn({version:Qn(o),input:this.targetTextureVarying,inputType:s,output:ji}),h=this.hasSourceTextures||this.targetTextureVarying?[di].concat(e.modules||[]):e.modules;return{vs:o,fs:f,modules:h,uniforms:a,inject:l}}}]),e}(),ki={number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate:function(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}};function Ti(e){var t={};for(var r in e){var n=e[r],i=Pi(n);t[r]=i}return t}function Pi(e){var t=Ai(e);return"object"===t?e?"type"in e?Object.assign({},e,ki[e.type]):"value"in e?(t=Ai(e.value),Object.assign({type:t},e,ki[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},ki[t])}function Ai(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}var Ii="vs",Ci="fs",Ri=function(){function e(t){Object(h["a"])(this,e);var r=t.name,n=t.vs,i=t.fs,o=t.dependencies,a=void 0===o?[]:o,s=t.uniforms,u=t.getUniforms,c=t.deprecations,l=void 0===c?[]:c,f=t.defines,p=void 0===f?{}:f,d=t.inject,v=void 0===d?{}:d,m=t.vertexShader,y=t.fragmentShader;Vn("string"===typeof r),this.name=r,this.vs=n||m,this.fs=i||y,this.getModuleUniforms=u,this.dependencies=a,this.deprecations=this._parseDeprecationDefinitions(l),this.defines=p,this.injections=Mi(v),s&&(this.uniforms=Ti(s))}return Object(p["a"])(e,[{key:"getModuleSource",value:function(e){var t;switch(e){case Ii:t=this.vs||"";break;case Ci:t=this.fs||"";break;default:Vn(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(e,t){this.deprecations.forEach((function(r){r.regex.test(e)&&(r.deprecated?t.deprecated(r.old,r["new"])():t.removed(r.old,r["new"])())}))}},{key:"_parseDeprecationDefinitions",value:function(e){return e.forEach((function(e){switch(e.type){case"function":e.regex=new RegExp("\\b".concat(e.old,"\\("));break;default:e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))}})),e}},{key:"_defaultGetUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},r=this.uniforms;for(var n in r){var i=r[n];n in e&&!i["private"]?(i.validate&&Vn(i.validate(e[n],i),"".concat(this.name,": invalid ").concat(n)),t[n]=e[n]):t[n]=i.value}return t}}]),e}();function Mi(e){var t={vs:{},fs:{}};for(var r in e){var n=e[r],i=r.slice(0,2);"string"===typeof n&&(n={order:0,injection:n}),t[i][r]=n}return t}function Li(e){return Di(Fi(e))}function Di(e){var t={},r={};return Ni({modules:e,level:0,moduleMap:t,moduleDepth:r}),Object.keys(r).sort((function(e,t){return r[t]-r[e]})).map((function(e){return t[e]}))}function Ni(e){var t=e.modules,r=e.level,n=e.moduleMap,i=e.moduleDepth;if(r>=5)throw new Error("Possible loop in shader dependency graph");var o,a=Object(l["a"])(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;n[s.name]=s,(void 0===i[s.name]||i[s.name]<r)&&(i[s.name]=r)}}catch(h){a.e(h)}finally{a.f()}var u,c=Object(l["a"])(t);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.dependencies&&Ni({modules:f.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}}catch(h){c.e(h)}finally{c.f()}}function Fi(e,t){return e.map((function(e){return e instanceof Ri||(Vn("string"!==typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),Vn(e.name,"shader module has no name"),e=new Ri(e),e.dependencies=Fi(e.dependencies)),e}))}function zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.navigator||{},r=e.userAgent||t.userAgent||"",n=-1!==r.indexOf("MSIE "),i=-1!==r.indexOf("Trident/");return n||i}var Bi=7936,Ui=7937,Vi=7938,Gi=35724,qi={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},Wi={};function Hi(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function Zi(e){var t=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||Bi),n=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||Ui),i=Xi(r,n),o={gpuVendor:i,vendor:r,renderer:n,version:e.getParameter(Vi),shadingLanguageVersion:e.getParameter(Gi)};return o}function Xi(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(qi).forEach((function(e){Wi[e]=e}));var $i={};function Yi(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=qi[t];if(Vn(n,t),!zi(r))return!0;if(t in $i)return $i[t];var i=n[0],o=r.behavior||"enable",a="#extension GL_".concat(i," : ").concat(o,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,a),e.compileShader(s);var u=e.getShaderParameter(s,35713);return e.deleteShader(s),$i[t]=u,u}function Ki(e,t){var r=qi[t];Vn(r,t);var n=Hi(e)&&r[1]||r[0],i="string"===typeof n?Boolean(e.getExtension(n)):n;return Vn(!1===i||!0===i),i}function Ji(e,t){return t=Array.isArray(t)?t:[t],t.every((function(t){return Ki(e,t)}))}function Qi(e){var t=Zi(e);switch(t.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}function eo(e,t,r){var n="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return Ji(e,Wi.GLSL_FRAG_DEPTH)&&(n+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),Ji(e,Wi.GLSL_DERIVATIVES)&&Yi(e,Wi.GLSL_DERIVATIVES)&&(n+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),Ji(e,Wi.GLSL_FRAG_DATA)&&Yi(e,Wi.GLSL_FRAG_DATA,{behavior:"require"})&&(n+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),Ji(e,Wi.GLSL_TEXTURE_LOD)&&(n+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),n}function to(e){return new RegExp("\\b".concat(e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}var ro,no=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],io=[].concat(no,[[to("attribute"),"in $1"],[to("varying"),"out $1"]]),oo=[].concat(no,[[to("varying"),"in $1"]]),ao=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],so=[].concat(ao,[[to("in"),"attribute $1"],[to("out"),"varying $1"]]),uo=[].concat(ao,[[to("in"),"varying $1"]]),co="gl_FragColor",lo=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,fo=/void\s+main\s*\([^)]*\)\s*\{\n?/;function ho(e,t,r){switch(t){case 300:return r?po(e,io):vo(e);case 100:return r?po(e,so):mo(e);default:throw new Error("unknown GLSL version ".concat(t))}}function po(e,t){var r,n=Object(l["a"])(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=Object(b["a"])(i,2),a=o[0],s=o[1];e=e.replace(a,s)}}catch(u){n.e(u)}finally{n.f()}return e}function vo(e){e=po(e,oo);var t=e.match(lo);if(t){var r=t[1];e=e.replace(new RegExp("\\b".concat(co,"\\b"),"g"),r)}else{var n="fragmentColor";e=e.replace(fo,(function(e){return"out vec4 ".concat(n,";\n").concat(e)})).replace(new RegExp("\\b".concat(co,"\\b"),"g"),n)}return e}function mo(e){e=po(e,uo);var t=e.match(lo);if(t){var r=t[1];e=e.replace(lo,"").replace(new RegExp("\\b".concat(r,"\\b"),"g"),co)}return e}var yo,go="\n\n".concat(ai,"\n\n"),bo=(ro={},Object(T["a"])(ro,ni,"vertex"),Object(T["a"])(ro,ii,"fragment"),ro),_o="precision highp float;\n\n";function wo(e,t){var r=t.vs,n=t.fs,i=Li(t.modules||[]);return{gl:e,vs:xo(e,Object.assign({},t,{source:r,type:ni,modules:i})),fs:xo(e,Object.assign({},t,{source:n,type:ii,modules:i})),getUniforms:Oo(i)}}function xo(e,t){var r=t.id,n=t.source,i=t.type,o=t.modules,a=t.defines,s=void 0===a?{}:a,u=t.hookFunctions,c=void 0===u?[]:u,f=t.inject,h=void 0===f?{}:f,p=t.transpileToGLSL100,d=void 0!==p&&p,v=t.prologue,m=void 0===v||v,y=t.log;Vn("string"===typeof n,"shader source must be a string");var g=i===ni,b=n.split("\n"),_=100,w="",x=n;0===b[0].indexOf("#version ")?(_=300,w=b[0],x=b.slice(1).join("\n")):w="#version ".concat(_);var O={};o.forEach((function(e){Object.assign(O,e.getDefines())})),Object.assign(O,s);var E=m?"".concat(w,"\n").concat(jo({id:r,source:n,type:i}),"\n").concat(Eo({type:i}),"\n").concat(Qi(e),"\n").concat(eo(e,_,!g),"\n").concat(So(O),"\n").concat(g?"":_o,"\n"):"".concat(w,"\n"),j=To(c),S={},k={},T={};for(var P in h){var A="string"===typeof h[P]?{injection:h[P],order:0}:h[P],I=P.match(/^(v|f)s:(#)?([\w-]+)$/);if(I){var C=I[2],R=I[3];C?"decl"===R?k[P]=[A]:T[P]=[A]:S[P]=[A]}else T[P]=[A]}var M,L=Object(l["a"])(o);try{for(L.s();!(M=L.n()).done;){var D=M.value;y&&D.checkDeprecations(x,y);var N=D.getModuleSource(i,_);E+=N;var F=D.injections[i];for(var z in F){var B=z.match(/^(v|f)s:#([\w-]+)$/);if(B){var U=B[2],V="decl"===U?k:T;V[z]=V[z]||[],V[z].push(F[z])}else S[z]=S[z]||[],S[z].push(F[z])}}}catch(G){L.e(G)}finally{L.f()}return E+=go,E=li(E,i,k),E+=ko(j[i],S),E+=x,E=li(E,i,T),E=ho(E,d?100:_,g),E}function Oo(e){return function(t){var r,n={},i=Object(l["a"])(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.getUniforms(t,n);Object.assign(n,a)}}catch(s){i.e(s)}finally{i.f()}return n}}function Eo(e){var t=e.type;return"\n#define SHADER_TYPE_".concat(bo[t].toUpperCase(),"\n")}function jo(e){var t=e.id,r=e.source,n=e.type,i=t&&"string"===typeof t&&-1===r.indexOf("SHADER_NAME");return i?"\n#define SHADER_NAME ".concat(t,"_").concat(bo[n],"\n\n"):""}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,r="";for(var n in e){0===t&&(r+="\n// APPLICATION DEFINES\n"),t++;var i=e[n];(i||Number.isFinite(i))&&(r+="#define ".concat(n.toUpperCase()," ").concat(e[n],"\n"))}return 0===t&&(r+="\n"),r}function ko(e,t){var r="";for(var n in e){var i=e[n];if(r+="void ".concat(i.signature," {\n"),i.header&&(r+="  ".concat(i.header)),t[n]){var o=t[n];o.sort((function(e,t){return e.order-t.order}));var a,s=Object(l["a"])(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;r+="  ".concat(u.injection,"\n")}}catch(c){s.e(c)}finally{s.f()}}i.footer&&(r+="  ".concat(i.footer)),r+="}\n"}return r}function To(e){var t={vs:{},fs:{}};return e.forEach((function(e){var r;"string"!==typeof e?(r=e,e=r.hook):r={},e=e.trim();var n=e.split(":"),i=Object(b["a"])(n,2),o=i[0],a=i[1],s=e.replace(/\(.+/,"");t[o][s]=Object.assign(r,{signature:a})})),t}var Po=(yo={},Object(T["a"])(yo,5126,Wo.bind(null,"uniform1fv",Lo,1,Ho)),Object(T["a"])(yo,35664,Wo.bind(null,"uniform2fv",Lo,2,Ho)),Object(T["a"])(yo,35665,Wo.bind(null,"uniform3fv",Lo,3,Ho)),Object(T["a"])(yo,35666,Wo.bind(null,"uniform4fv",Lo,4,Ho)),Object(T["a"])(yo,5124,Wo.bind(null,"uniform1iv",Do,1,Ho)),Object(T["a"])(yo,35667,Wo.bind(null,"uniform2iv",Do,2,Ho)),Object(T["a"])(yo,35668,Wo.bind(null,"uniform3iv",Do,3,Ho)),Object(T["a"])(yo,35669,Wo.bind(null,"uniform4iv",Do,4,Ho)),Object(T["a"])(yo,35670,Wo.bind(null,"uniform1iv",Do,1,Ho)),Object(T["a"])(yo,35671,Wo.bind(null,"uniform2iv",Do,2,Ho)),Object(T["a"])(yo,35672,Wo.bind(null,"uniform3iv",Do,3,Ho)),Object(T["a"])(yo,35673,Wo.bind(null,"uniform4iv",Do,4,Ho)),Object(T["a"])(yo,35674,Wo.bind(null,"uniformMatrix2fv",Lo,4,Zo)),Object(T["a"])(yo,35675,Wo.bind(null,"uniformMatrix3fv",Lo,9,Zo)),Object(T["a"])(yo,35676,Wo.bind(null,"uniformMatrix4fv",Lo,16,Zo)),Object(T["a"])(yo,35678,qo),Object(T["a"])(yo,35680,qo),Object(T["a"])(yo,5125,Wo.bind(null,"uniform1uiv",No,1,Ho)),Object(T["a"])(yo,36294,Wo.bind(null,"uniform2uiv",No,2,Ho)),Object(T["a"])(yo,36295,Wo.bind(null,"uniform3uiv",No,3,Ho)),Object(T["a"])(yo,36296,Wo.bind(null,"uniform4uiv",No,4,Ho)),Object(T["a"])(yo,35685,Wo.bind(null,"uniformMatrix2x3fv",Lo,6,Zo)),Object(T["a"])(yo,35686,Wo.bind(null,"uniformMatrix2x4fv",Lo,8,Zo)),Object(T["a"])(yo,35687,Wo.bind(null,"uniformMatrix3x2fv",Lo,6,Zo)),Object(T["a"])(yo,35688,Wo.bind(null,"uniformMatrix3x4fv",Lo,12,Zo)),Object(T["a"])(yo,35689,Wo.bind(null,"uniformMatrix4x2fv",Lo,8,Zo)),Object(T["a"])(yo,35690,Wo.bind(null,"uniformMatrix4x3fv",Lo,12,Zo)),Object(T["a"])(yo,35678,qo),Object(T["a"])(yo,35680,qo),Object(T["a"])(yo,35679,qo),Object(T["a"])(yo,35682,qo),Object(T["a"])(yo,36289,qo),Object(T["a"])(yo,36292,qo),Object(T["a"])(yo,36293,qo),Object(T["a"])(yo,36298,qo),Object(T["a"])(yo,36299,qo),Object(T["a"])(yo,36300,qo),Object(T["a"])(yo,36303,qo),Object(T["a"])(yo,36306,qo),Object(T["a"])(yo,36307,qo),Object(T["a"])(yo,36308,qo),Object(T["a"])(yo,36311,qo),yo),Ao={},Io={},Co={},Ro=[0];function Mo(e,t,r,n){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(Ro[0]=e,e=Ro);var i=e.length;if(i%t&&P.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof r)return e;var o=n[i];o||(o=new r(i),n[i]=o);for(var a=0;a<i;a++)o[a]=e[a];return o}function Lo(e,t){return Mo(e,t,Float32Array,Ao)}function Do(e,t){return Mo(e,t,Int32Array,Io)}function No(e,t){return Mo(e,t,Uint32Array,Co)}function Fo(e,t,r){var n=Po[r.type];if(!n)throw new Error("Unknown GLSL uniform type ".concat(r.type));return n().bind(null,e,t)}function zo(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=/([^[]*)(\[[0-9]+\])?/,r=e.match(t);if(!r||r.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:r[1],length:r[2]||1,isArray:Boolean(r[2])}}function Bo(e,t,r){for(var n in e){var i=e[n],o=!r||Boolean(r[n]);if(o&&!Uo(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(n),i),new Error("".concat(t," Bad uniform ").concat(n))}return!0}function Uo(e){return Array.isArray(e)||ArrayBuffer.isView(e)?Go(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof ir||(e instanceof hr||e instanceof Fr&&Boolean(e.texture))))}function Vo(e,t,r){if(Array.isArray(r)||ArrayBuffer.isView(r))if(e[t])for(var n=e[t],i=0,o=r.length;i<o;++i)n[i]=r[i];else e[t]=r.slice();else e[t]=r}function Go(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),r=0;r<t;++r)if(!Number.isFinite(e[r]))return!1;return!0}function qo(){var e=null;return function(t,r,n){var i=e!==n;return i&&(t.uniform1i(r,n),e=n),i}}function Wo(e,t,r,n){var i=null,o=null;return function(a,s,u){var c=t(u,r),l=c.length,f=!1;if(null===i)i=new Float32Array(l),o=l,f=!0;else{Ot(o===l,"Uniform length cannot change.");for(var h=0;h<l;++h)if(c[h]!==i[h]){f=!0;break}}return f&&(n(a,e,s,c),i.set(c)),f}}function Ho(e,t,r,n){e[t](r,n)}function Zo(e,t,r,n){e[t](r,!1,n)}function Xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,n=e.match(r);return n?n[1]:t}var $o=35632,Yo=35633;function Ko(e){switch(e){case $o:return"fragment";case Yo:return"vertex";default:return"unknown type"}}function Jo(e,t,r,n){for(var i=e.split(/\r?\n/),o={},a={},s=n||Xo(t)||"(unnamed)",u="".concat(Ko(r)," shader ").concat(s),c=0;c<i.length;c++){var l=i[c];if(!(l.length<=1)){var f=l.split(":"),h=f[0],p=parseInt(f[2],10);if(isNaN(p))throw new Error("GLSL compilation error in ".concat(u,": ").concat(e));"WARNING"!==h?o[p]=l:a[p]=l}}var d=ea(t);return{shaderName:u,errors:Qo(o,d),warnings:Qo(a,d)}}function Qo(e,t){for(var r="",n=0;n<t.length;n++){var i=t[n];if((e[n+3]||e[n+2]||e[n+1])&&(r+="".concat(i,"\n"),e[n+1])){var o=e[n+1],a=o.split(":",3),s=a[0],u=parseInt(a[1],10)||0,c=o.substring(a.join(":").length+1).trim();r+=ta("^^^ ".concat(s,": ").concat(c,"\n\n"),u)}}return r}function ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",n=e.split(/\r?\n/),i=String(n.length+t-1).length;return n.map((function(e,n){var o=String(n+t),a=o.length,s=ta(o,i-a);return s+r+e}))}function ta(e,t){for(var r="",n=0;n<t;++n)r+=" ";return"".concat(r).concat(e)}var ra,na="Shader: GLSL source code must be a JavaScript string",ia=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e,t){var i;Object(h["a"])(this,n),D(e),Ot("string"===typeof t.source,na);var o=Xo(t.source,null)||t.id||kt("unnamed ".concat(n.getTypeName(t.shaderType)));return i=r.call(this,e,{id:o}),i.shaderType=t.shaderType,i.source=t.source,i.initialize(t),i}return Object(p["a"])(n,[{key:t,get:function(){return"Shader"}},{key:"initialize",value:function(e){var t=e.source,r=Xo(t,null);r&&(this.id=kt(r)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(n.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return Xo(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var t=this.getParameter(35713);if(!t){var r=this.gl.getShaderInfoLog(this.handle),n=Jo(r,this.source,this.shaderType,this.id),i=n.shaderName,o=n.errors,a=n.warnings;throw P.error("GLSL compilation errors in ".concat(i,"\n").concat(o))(),P.warn("GLSL compilation warnings in ".concat(i,"\n").concat(a))(),new Error("GLSL compilation errors in ".concat(i))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}],[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Ot(!1),"unknown"}}}]),n}(Ct,Symbol.toStringTag),oa=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e,t){return Object(h["a"])(this,n),"string"===typeof t&&(t={source:t}),r.call(this,e,Object.assign({},t,{shaderType:35633}))}return Object(p["a"])(n,[{key:t,get:function(){return"VertexShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),n}(ia,Symbol.toStringTag),aa=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e,t){return Object(h["a"])(this,n),"string"===typeof t&&(t={source:t}),r.call(this,e,Object.assign({},t,{shaderType:35632}))}return Object(p["a"])(n,[{key:t,get:function(){return"FragmentShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),n}(ia,Symbol.toStringTag),sa=5120,ua=5121,ca=5122,la=5123,fa=0,ha=1,pa=2,da=3,va=4,ma=5,ya=6,ga=5126,ba=35664,_a=35665,wa=35666,xa=5124,Oa=35667,Ea=35668,ja=35669,Sa=5125,ka=36294,Ta=36295,Pa=36296,Aa=35670,Ia=35671,Ca=35672,Ra=35673,Ma=35674,La=35675,Da=35676,Na=35685,Fa=35686,za=35687,Ba=35688,Ua=35689,Va=35690,Ga=(ra={},Object(T["a"])(ra,ga,[ga,1,"float"]),Object(T["a"])(ra,ba,[ga,2,"vec2"]),Object(T["a"])(ra,_a,[ga,3,"vec3"]),Object(T["a"])(ra,wa,[ga,4,"vec4"]),Object(T["a"])(ra,xa,[xa,1,"int"]),Object(T["a"])(ra,Oa,[xa,2,"ivec2"]),Object(T["a"])(ra,Ea,[xa,3,"ivec3"]),Object(T["a"])(ra,ja,[xa,4,"ivec4"]),Object(T["a"])(ra,Sa,[Sa,1,"uint"]),Object(T["a"])(ra,ka,[Sa,2,"uvec2"]),Object(T["a"])(ra,Ta,[Sa,3,"uvec3"]),Object(T["a"])(ra,Pa,[Sa,4,"uvec4"]),Object(T["a"])(ra,Aa,[ga,1,"bool"]),Object(T["a"])(ra,Ia,[ga,2,"bvec2"]),Object(T["a"])(ra,Ca,[ga,3,"bvec3"]),Object(T["a"])(ra,Ra,[ga,4,"bvec4"]),Object(T["a"])(ra,Ma,[ga,8,"mat2"]),Object(T["a"])(ra,Na,[ga,8,"mat2x3"]),Object(T["a"])(ra,Fa,[ga,8,"mat2x4"]),Object(T["a"])(ra,La,[ga,12,"mat3"]),Object(T["a"])(ra,za,[ga,12,"mat3x2"]),Object(T["a"])(ra,Ba,[ga,12,"mat3x4"]),Object(T["a"])(ra,Da,[ga,16,"mat4"]),Object(T["a"])(ra,Ua,[ga,16,"mat4x2"]),Object(T["a"])(ra,Va,[ga,16,"mat4x3"]),ra);function qa(e){switch(e){case fa:return fa;case ha:return ha;case da:return ha;case pa:return ha;case va:return va;case ma:return va;case ya:return va;default:return Ot(!1),0}}function Wa(e){var t=Ga[e];if(!t)return null;var r=Object(b["a"])(t,2),n=r[0],i=r[1];return{type:n,components:i}}function Ha(e,t){switch(e){case sa:case ua:case ca:case la:e=ga;break;default:}for(var r in Ga){var n=Object(b["a"])(Ga[r],3),i=n[0],o=n[1],a=n[2];if(i===e&&o===t)return{glType:r,name:a}}return null}var Za=function(){function e(t){Object(h["a"])(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return Object(p["a"])(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,r=t.getProgramParameter(e.handle,35721),n=0;n<r;n++){var i=t.getActiveAttrib(e.handle,n),o=i.name,a=i.type,s=i.size,u=t.getAttribLocation(e.handle,o);u>=0&&this._addAttribute(u,o,a,s)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if(M(t)){for(var r=t.getProgramParameter(e.handle,35971),n=0;n<r;n++){var i=t.getTransformFeedbackVarying(e.handle,n),o=i.name,a=i.type,s=i.size;this._addVarying(n,o,a,s)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,r,n){var i=Wa(r),o=i.type,a=i.components,s={type:o,size:n*a};this._inferProperties(e,t,s);var u={location:e,name:t,accessor:new Wt(s)};this.attributeInfos.push(u),this.attributeInfosByLocation[e]=u,this.attributeInfosByName[u.name]=u}},{key:"_inferProperties",value:function(e,t,r){/instance/i.test(t)&&(r.divisor=1)}},{key:"_addVarying",value:function(e,t,r,n){var i=Wa(r),o=i.type,a=i.components,s=new Wt({type:o,size:n*a}),u={location:e,name:t,accessor:s};this.varyingInfos.push(u),this.varyingInfosByName[u.name]=u}}]),e}(),Xa=4,$a=35981,Ya=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],Ka=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r.call(this,e,i),t.stubRemovedMethods("Program","v6.0",Ya),t._isCached=!1,t.initialize(i),Object.seal(Object(_["a"])(t)),t._setId(i.id),t}return Object(p["a"])(n,[{key:t,get:function(){return"Program"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hash,r=e.vs,n=e.fs,i=e.varyings,o=e.bufferMode,a=void 0===o?$a:o;return this.hash=t||"",this.vs="string"===typeof r?new oa(this.gl,{id:"".concat(e.id,"-vs"),source:r}):r,this.fs="string"===typeof n?new aa(this.gl,{id:"".concat(e.id,"-fs"),source:n}):n,Ot(this.vs instanceof oa),Ot(this.fs instanceof aa),this.uniforms={},this._textureUniforms={},i&&i.length>0&&(N(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,a)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Za(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:m(Object(d["a"])(n.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}},{key:"draw",value:function(e){var t=this,r=e.logPriority,n=e.drawMode,i=void 0===n?4:n,o=e.vertexCount,a=e.offset,s=void 0===a?0:a,u=e.start,c=e.end,l=e.isIndexed,f=void 0!==l&&l,h=e.indexType,p=void 0===h?5123:h,d=e.instanceCount,v=void 0===d?0:d,m=e.isInstanced,y=void 0===m?v>0:m,g=e.vertexArray,b=void 0===g?null:g,_=e.transformFeedback,w=e.framebuffer,x=e.parameters,O=void 0===x?{}:x,E=e.uniforms,j=e.samplers;if((E||j)&&(P.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(E||{})),P.priority>=r){var S=w?w.id:"default",k="mode=".concat(jt(this.gl,i)," verts=").concat(o," ")+"instances=".concat(v," indexType=").concat(jt(this.gl,p)," ")+"isInstanced=".concat(y," isIndexed=").concat(f," ")+"Framebuffer=".concat(S);P.log(r,k)()}return Ot(b),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===o||y&&0===v)&&(b.bindForDraw(o,v,(function(){if(void 0!==w&&(O=Object.assign({},O,{framebuffer:w})),_){var e=qa(i);_.begin(e)}t._bindTextures(),Je(t.gl,O,(function(){f&&y?t.gl2.drawElementsInstanced(i,o,p,s,v):f&&M(t.gl)&&!isNaN(u)&&!isNaN(c)?t.gl2.drawRangeElements(i,u,c,o,p,s):f?t.gl.drawElements(i,o,p,s):y?t.gl2.drawArraysInstanced(i,s,o,v):t.gl.drawArrays(i,s,o)})),_&&_.end()})),!0)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in P.priority>=2&&Bo(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle),e){var r=e[t],n=this._uniformSetters[t];if(n){var i=r,o=!1;if(i instanceof Fr&&(i=i.texture),i instanceof ir)if(o=this.uniforms[t]!==r,o){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var a=i,s=n.textureIndex;a.bind(s),i=s,this._textureUniforms[t]=a}else i=n.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(n(i)||o)&&Vo(this.uniforms,t,r)}}return this}},{key:"_areTexturesRenderable",value:function(){var e=!0;for(var t in this._textureUniforms){var r=this._textureUniforms[t];r.update(),e=e&&r.loaded}return e}},{key:"_bindTextures",value:function(){for(var e in this._textureUniforms){var t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t,r=this.gl.getAttachedShaders(e),n={},i=Object(l["a"])(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=this.gl.getShaderParameter(this.handle,35663);switch(a){case 35633:n.vs=new oa({handle:o});break;case 35632:n.fs=new aa({handle:o});break;default:}}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=kt(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}},{key:"_compileAndLink",value:function(){var e=this.gl;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),P.time(Xa,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),P.timeEnd(Xa,"linkProgram for ".concat(this._getName()))(),e.debug||P.level>0){var t=e.getProgramParameter(this.handle,35714);if(!t)throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));e.validateProgram(this.handle);var r=e.getProgramParameter(this.handle,35715);if(!r)throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var r=this.gl.getActiveUniform(this.handle,t),n=zo(r.name),i=n.name,o=e.getUniformLocation(this.handle,i);if(this._uniformSetters[i]=Fo(e,o,r),r.size>1)for(var a=0;a<r.size;a++)o=e.getUniformLocation(this.handle,"".concat(i,"[").concat(a,"]")),this._uniformSetters["".concat(i,"[").concat(a,"]")]=Fo(e,o,r)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl2.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}]),n}(Ct,Symbol.toStringTag),Ja=function(){function e(t){Object(h["a"])(this,e),this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return Object(p["a"])(e,[{key:"addDefaultModule",value:function(e){this._defaultModules.find((function(t){return t.name===e.name}))||this._defaultModules.push(e),this.stateHash++}},{key:"removeDefaultModule",value:function(e){var t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((function(e){return e.name!==t})),this.stateHash++}},{key:"addShaderHook",value:function(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}},{key:"get",value:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.vs,i=void 0===n?"":n,o=r.fs,a=void 0===o?"":o,s=r.defines,u=void 0===s?{}:s,c=r.inject,f=void 0===c?{}:c,h=r.varyings,p=void 0===h?[]:h,d=r.bufferMode,v=void 0===d?35981:d,m=r.transpileToGLSL100,y=void 0!==m&&m,g=this._getModuleList(r.modules),b=this._getHash(i),_=this._getHash(a),w=g.map((function(e){return t._getHash(e.name)})).sort(),x=p.map((function(e){return t._getHash(e)})),O=Object.keys(u).sort(),E=Object.keys(f).sort(),j=[],S=[],k=Object(l["a"])(O);try{for(k.s();!(e=k.n()).done;){var T=e.value;j.push(this._getHash(T)),j.push(this._getHash(u[T]))}}catch(M){k.e(M)}finally{k.f()}var P,A=Object(l["a"])(E);try{for(A.s();!(P=A.n()).done;){var I=P.value;S.push(this._getHash(I)),S.push(this._getHash(f[I]))}}catch(M){A.e(M)}finally{A.f()}var C="".concat(b,"/").concat(_,"D").concat(j.join("/"),"M").concat(w.join("/"),"I").concat(S.join("/"),"V").concat(x.join("/"),"H").concat(this.stateHash,"B").concat(v).concat(y?"T":"");if(!this._programCache[C]){var R=wo(this.gl,{vs:i,fs:a,modules:g,inject:f,defines:u,hookFunctions:this._hookFunctions,transpileToGLSL100:y});this._programCache[C]=new Ka(this.gl,{hash:C,vs:R.vs,fs:R.fs,varyings:p,bufferMode:v}),this._getUniforms[C]=R.getUniforms||function(e){},this._useCounts[C]=0}return this._useCounts[C]++,this._programCache[C]}},{key:"getUniforms",value:function(e){return this._getUniforms[e.hash]||null}},{key:"release",value:function(e){var t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t]["delete"](),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}},{key:"_getHash",value:function(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}},{key:"_getModuleList",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Array(this._defaultModules.length+e.length),r={},n=0,i=0,o=this._defaultModules.length;i<o;++i){var a=this._defaultModules[i],s=a.name;t[n++]=a,r[s]=!0}for(var u=0,c=e.length;u<c;++u){var l=e[u],f=l.name;r[f]||(t[n++]=l,r[f]=!0)}return t.length=n,t}}],[{key:"getDefaultProgramManager",value:function(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new e(t),t.luma.defaultProgramManager}}]),e}(),Qa=null;function es(e){return(!Qa||Qa.byteLength<e)&&(Qa=new ArrayBuffer(e)),Qa}function ts(e,t){var r=es(e.BYTES_PER_ELEMENT*t);return new e(r,0,t)}function rs(e){for(var t=e.target,r=e.source,n=e.start,i=void 0===n?0:n,o=e.count,a=void 0===o?1:o,s=r.length,u=a*s,c=0,l=i;c<s;c++)t[l++]=r[c];while(c<u)c<u-c?(t.copyWithin(i+c,i,i+c),c*=2):(t.copyWithin(i+c,i,i+u-c),c=u);return t}var ns=r("vdpk"),is=globalThis;function os(e){if(!e&&!Object(Qe["a"])())return"Node";if(Object(ns["a"])(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),i=-1!==r.indexOf("Trident/");return n||i?"IE":is.chrome?"Chrome":is.safari?"Safari":is.mozInnerScreenX?"Firefox":"Unknown"}var as="elements must be GL.ELEMENT_ARRAY_BUFFER",ss=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.id||i.program&&i.program.id;return t=r.call(this,e,Object.assign({},i,{id:o})),t.buffer=null,t.bufferValue=null,t.isDefaultArray=i.isDefaultArray||!1,t.gl2=e,t.initialize(i),Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"VertexArrayObject"}},{key:"delete",value:function(){return m(Object(d["a"])(n.prototype),"delete",this).call(this),this.buffer&&this.buffer["delete"](),this}},{key:"MAX_ATTRIBUTES",get:function(){return n.getMaxAttributes(this.gl)}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}},{key:"setProps",value:function(e){return this}},{key:"setElementBuffer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Ot(!t||34963===t.target,as),this.bind((function(){e.gl.bindBuffer(34963,t?t.handle:null)})),this}},{key:"setBuffer",value:function(e,t,r){if(34963===t.target)return this.setElementBuffer(t,r);var n=r.size,i=r.type,o=r.stride,a=r.offset,s=r.normalized,u=r.integer,c=r.divisor,l=this.gl,f=this.gl2;return e=Number(e),this.bind((function(){l.bindBuffer(34962,t.handle),u?(Ot(M(l)),f.vertexAttribIPointer(e,n,i,o,a)):l.vertexAttribPointer(e,n,i,s,o,a),l.enableVertexAttribArray(e),f.vertexAttribDivisor(e,c||0)})),this}},{key:"enable",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!r&&0===e&&!n.isSupported(this.gl,{constantAttributeZero:!0});return i||(e=Number(e),this.bind((function(){return r?t.gl.enableVertexAttribArray(e):t.gl.disableVertexAttribArray(e)}))),this}},{key:"getConstantBuffer",value:function(e,t){var r=this._normalizeConstantArrayValue(t),n=r.byteLength*e,i=r.length*e,o=!this.buffer;if(this.buffer=this.buffer||new Yt(this.gl,n),o=o||this.buffer.reallocate(n),o=o||!this._compareConstantArrayValues(r,this.bufferValue),o){var a=ts(t.constructor,i);rs({target:a,source:r,start:0,count:i}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(e){return Array.isArray(e)?new Float32Array(e):e}},{key:"_compareConstantArrayValues",value:function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}},{key:"_createHandle",value:function(){var e=this.gl;return e.createVertexArray()}},{key:"_deleteHandle",value:function(e){return this.gl2.deleteVertexArray(e),[this.elements]}},{key:"_bindHandle",value:function(e){this.gl2.bindVertexArray(e)}},{key:"_getParameter",value:function(e,t){var r=this,n=t.location;return Ot(Number.isFinite(n)),this.bind((function(){switch(e){case 34373:return r.gl.getVertexAttribOffset(n,e);default:return r.gl.getVertexAttrib(n,e)}}))}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t.constantAttributeZero||(M(e)||"Chrome"===os())}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new n(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return n.MAX_ATTRIBUTES=n.MAX_ATTRIBUTES||e.getParameter(34921),n.MAX_ATTRIBUTES}},{key:"setConstant",value:function(e,t,r){switch(r.constructor){case Float32Array:n._setConstantFloatArray(e,t,r);break;case Int32Array:n._setConstantIntArray(e,t,r);break;case Uint32Array:n._setConstantUintArray(e,t,r);break;default:Ot(!1)}}},{key:"_setConstantFloatArray",value:function(e,t,r){switch(r.length){case 1:e.vertexAttrib1fv(t,r);break;case 2:e.vertexAttrib2fv(t,r);break;case 3:e.vertexAttrib3fv(t,r);break;case 4:e.vertexAttrib4fv(t,r);break;default:Ot(!1)}}},{key:"_setConstantIntArray",value:function(e,t,r){switch(Ot(M(e)),r.length){case 1:e.vertexAttribI1iv(t,r);break;case 2:e.vertexAttribI2iv(t,r);break;case 3:e.vertexAttribI3iv(t,r);break;case 4:e.vertexAttribI4iv(t,r);break;default:Ot(!1)}}},{key:"_setConstantUintArray",value:function(e,t,r){switch(Ot(M(e)),r.length){case 1:e.vertexAttribI1uiv(t,r);break;case 2:e.vertexAttribI2uiv(t,r);break;case 3:e.vertexAttribI3uiv(t,r);break;case 4:e.vertexAttribI4uiv(t,r);break;default:Ot(!1)}}}]),n}(Ct,Symbol.toStringTag),us="VertexArray: attributes must be Buffers or constants (i.e. typed array)",cs=/^(.+)__LOCATION_([0-9]+)$/,ls=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],fs=function(){function e(t){Object(h["a"])(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.id||r.program&&r.program.id;this.id=n,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new ss(t),At(this,"VertexArray","v6.0",ls),this.initialize(r),Object.seal(this)}return Object(p["a"])(e,[{key:"delete",value:function(){this.buffer&&this.buffer["delete"](),this.vertexArrayObject["delete"]()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(e){var t=this;return Object.assign(this.attributes,e),this.vertexArrayObject.bind((function(){for(var r in e){var n=e[r];t._setAttribute(r,n)}t.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}},{key:"setBuffer",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,r);var n=this._resolveLocationAndAccessor(e,t,t.accessor,r),i=n.location,o=n.accessor;return i>=0&&(this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,t,o)),this}},{key:"setConstant",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},r)),i=n.location,o=n.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.vertexArrayObject.setElementBuffer(null),e.buffer=e.buffer||new Yt(e.gl,{accessor:{size:4}});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof Yt&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(34962,e.buffer.handle),e.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var r=e.values[t];r instanceof Yt&&e.setBuffer(t,r)}})),this}},{key:"bindForDraw",value:function(e,t,r){var n,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(e,t),n=r()})),n}},{key:"_resolveLocationAndAccessor",value:function(e,t,r,n){var i=this,o={location:-1,accessor:null},a=this._getAttributeIndex(e),s=a.location,u=a.name;if(!Number.isFinite(s)||s<0)return this.unused[e]=t,P.once(3,(function(){return"unused value ".concat(e," in ").concat(i.id)}))(),o;var c=this._getAttributeInfo(u||s);if(!c)return o;var l=this.accessors[s]||{},f=Wt.resolve(c.accessor,l,r,n),h=f.size,p=f.type;return Ot(Number.isFinite(h)&&Number.isFinite(p)),{location:s,accessor:f}}},{key:"_getAttributeInfo",value:function(e){return this.configuration&&this.configuration.getAttributeInfo(e)}},{key:"_getAttributeIndex",value:function(e){var t=Number(e);if(Number.isFinite(t))return{location:t};var r=cs.exec(e),n=r?r[1]:e,i=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+i,name:n}:{location:-1}}},{key:"_setAttribute",value:function(e,t){if(t instanceof Yt)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof Yt){var r=t[0],n=t[1];this.setBuffer(e,r,n)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){var i=t;this.setConstant(e,i)}else{if(!(t.buffer instanceof Yt))throw new Error(us);var o=t;this.setBuffer(e,o.buffer,o)}}},{key:"_setConstantAttributes",value:function(e,t){var r=Math.max(0|e,0|t),n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)n=this.values[i],ArrayBuffer.isView(n)&&this._setConstantAttribute(i,n)}},{key:"_setConstantAttributeZero",value:function(e,t){if(ss.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var r=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(e,t){ss.setConstant(this.gl,e,t)}},{key:"_updateDrawParams",value:function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}},{key:"_updateDrawParamsForLocation",value:function(e,t){var r=this.values[t],n=this.accessors[t];if(r){var i=n.divisor,o=i>0;if(e.isInstanced=e.isInstanced||o,r instanceof Yt){var a=r;if(o){var s=a.getVertexCount(n);e.instanceCount=Math.min(e.instanceCount,s)}else{var u=a.getVertexCount(n);e.vertexCount=Math.min(e.vertexCount,u)}}}}},{key:"setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}]),e}();function hs(e,t){for(var r=t.maxElts,n=void 0===r?16:r,i=t.size,o=void 0===i?1:i,a="[",s=0;s<e.length&&s<n;++s)s>0&&(a+=",".concat(s%o===0?" ":"")),a+=ps(e[s],t);var u=e.length>n?"...":"]";return"".concat(a).concat(u)}function ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=1e-16,n=t.isInteger,i=void 0!==n&&n;if(Array.isArray(e)||ArrayBuffer.isView(e))return hs(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<r)return i?"0":"0.";if(i)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var o=e.toPrecision(2),a=o.indexOf(".0");return a===o.length-2?o.slice(0,-1):o}function ds(e){var t=e.vertexArray,r=e.header,n=void 0===r?"Attributes":r;if(!t.configuration)return{};var i={};t.elements&&(i.ELEMENT_ARRAY_BUFFER=vs(t,t.elements,null,n));var o=t.values;for(var a in o){var s=t._getAttributeInfo(a);if(s){var u="".concat(a,": ").concat(s.name),c=t.accessors[s.location];c&&(u="".concat(a,": ").concat(ms(s.name,c))),i[u]=vs(t,o[a],c,n)}}return i}function vs(e,t,r,n){var i,o,a=e.gl;if(!t)return o={},Object(T["a"])(o,n,"null"),Object(T["a"])(o,"Format ","N/A"),o;var s,u,c,l="NOT PROVIDED",f=1,h=0,p=0;if(r&&(l=r.type,f=r.size,l=String(l).replace("Array",""),s=-1!==l.indexOf("nt")),t instanceof Yt){var d,v,m=t,y=m.getDebugData(),g=y.data,b=y.changed;if(u=b?"*":"",c=g,p=m.byteLength,h=p/g.BYTES_PER_ELEMENT/f,r){var _=r.divisor>0;v="".concat(_?"I ":"P "," ").concat(h," (x").concat(f,"=").concat(p," bytes ").concat(jt(a,l),")")}else s=!0,v="".concat(p," bytes");return d={},Object(T["a"])(d,n,"".concat(u).concat(ps(c,{size:f,isInteger:s}))),Object(T["a"])(d,"Format ",v),d}return c=t,f=t.length,l=String(t.constructor.name).replace("Array",""),s=-1!==l.indexOf("nt"),i={},Object(T["a"])(i,n,"".concat(ps(c,{size:f,isInteger:s})," (constant)")),Object(T["a"])(i,"Format ","".concat(f,"x").concat(l," (constant)")),i}function ms(e,t){var r=t.type,n=t.size,i=Ha(r,n);return i?"".concat(e," (").concat(i.name,")"):e}function ys(e){var t=e.header,r=void 0===t?"Uniforms":t,n=e.program,i=e.uniforms,o=e.undefinedOnly,a=void 0!==o&&o;Ot(n);var s,u=".*_.*",c=".*Matrix",f=n._uniformSetters,h={},p=Object.keys(f).sort(),d=0,v=Object(l["a"])(p);try{for(v.s();!(s=v.n()).done;){var m=s.value;m.match(u)||m.match(c)||gs({table:h,header:r,uniforms:i,uniformName:m,undefinedOnly:a})&&d++}}catch(k){v.e(k)}finally{v.f()}var y,g=Object(l["a"])(p);try{for(g.s();!(y=g.n()).done;){var b=y.value;b.match(c)&&gs({table:h,header:r,uniforms:i,uniformName:b,undefinedOnly:a})&&d++}}catch(k){g.e(k)}finally{g.f()}var _,w=Object(l["a"])(p);try{for(w.s();!(_=w.n()).done;){var x=_.value;h[x]||gs({table:h,header:r,uniforms:i,uniformName:x,undefinedOnly:a})&&d++}}catch(k){w.e(k)}finally{w.f()}var O=0,E={};if(!a)for(var j in i){var S=i[j];h[j]||(O++,E[j]=Object(T["a"])({Type:"NOT USED: ".concat(S)},r,ps(S)))}return{table:h,count:d,unusedTable:E,unusedCount:O}}function gs(e){var t,r=e.table,n=e.header,i=e.uniforms,o=e.uniformName,a=e.undefinedOnly,s=i[o],u=bs(s);return(!a||!u)&&(r[o]=(t={},Object(T["a"])(t,n,u?ps(s):"N/A"),Object(T["a"])(t,"Uniform Type",u?s:"NOT PROVIDED"),t),!0)}function bs(e){return void 0!==e&&null!==e}function _s(e){var t,r={},n="Accessors for ".concat(e.id),i=Object(l["a"])(e.attributeInfos);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o){var a=ws(o);r["in ".concat(a)]=Object(T["a"])({},n,JSON.stringify(o.accessor))}}}catch(h){i.e(h)}finally{i.f()}var s,u=Object(l["a"])(e.varyingInfos);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c){var f=ws(c);r["out ".concat(f)]=Object(T["a"])({},n,JSON.stringify(c.accessor))}}}catch(h){u.e(h)}finally{u.f()}return r}function ws(e){var t=e.accessor,r=t.type,n=t.size,i=Ha(r,n);return i?"".concat(i.name," ").concat(e.name):e.name}var xs={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function Os(e,t,r){var n={},i=t.indices;for(var o in t.attributes){var a=t.attributes[o],s=Es(o,r);if("indices"===o)i=a;else if(a.constant)n[s]=a.value;else{var u=a.value,c=Object(f["a"])({},a);delete c.value,n[s]=[new Yt(e,u),c],js(o,c)}}if(i){var l=i.value||i;Ot(l instanceof Uint16Array||l instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};n.indices=[new Yt(e,{data:l,target:34963}),h]}return n}function Es(e,t){var r=t||{},n=r.attributeMap,i=void 0===n?xs:n;return i&&i[e]||e}function js(e,t){var r;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors";break;default:}switch(r){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2;break;default:}Ot(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}var Ss=2,ks=1e4,Ts="Model needs drawMode and vertexCount",Ps=function(){},As={},Is=function(){function e(t){Object(h["a"])(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.id,i=void 0===n?kt("model"):n;Ot(R(t)),this.id=i,this.gl=t,this.id=r.id||kt("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(r)}return Object(p["a"])(e,[{key:"initialize",value:function(e){this.props={},this.programManager=e.programManager||Ja.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var t=e.program,r=void 0===t?null:t,n=e.vs,i=e.fs,o=e.modules,a=e.defines,s=e.inject,u=e.varyings,c=e.bufferMode,l=e.transpileToGLSL100;this.programProps={program:r,vs:n,fs:i,modules:o,defines:a,inject:s,varyings:u,bufferMode:c,transpileToGLSL100:l},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},Ot(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),Ts)}},{key:"setProps",value:function(e){this._setModelProps(e)}},{key:"delete",value:function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e]["delete"]();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray["delete"](),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(e){var t=e.program,r=e.vs,n=e.fs,i=e.modules,o=e.defines,a=e.inject,s=e.varyings,u=e.bufferMode,c=e.transpileToGLSL100;this.programProps={program:t,vs:r,fs:n,modules:i,defines:o,inject:a,varyings:s,bufferMode:u,transpileToGLSL100:c},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(e){return this.drawMode=e,this}},{key:"setVertexCount",value:function(e){return Ot(Number.isFinite(e)),this.vertexCount=e,this}},{key:"setInstanceCount",value:function(e){return Ot(Number.isFinite(e)),this.instanceCount=e,this}},{key:"setGeometry",value:function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=Os(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Pt(e))return this;var t={};for(var r in e){var n=e[r];t[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(t),this}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}},{key:"getModuleUniforms",value:function(e){this._checkProgram();var t=this.programManager.getUniforms(this.program);return t?t(e):{}}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)}},{key:"clear",value:function(e){return wr(this.program.gl,e),this}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var t,r=e.moduleSettings,n=void 0===r?null:r,i=e.framebuffer,o=e.uniforms,a=void 0===o?{}:o,s=e.attributes,u=void 0===s?{}:s,c=e.transformFeedback,l=void 0===c?this.transformFeedback:c,f=e.parameters,h=void 0===f?{}:f,p=e.vertexArray,d=void 0===p?this.vertexArray:p;this.setAttributes(u),this.updateModuleSettings(n),this.setUniforms(a),P.priority>=Ss&&(t=this._logDrawCallStart(Ss));var v=this.vertexArray.getDrawParams(),m=this.props,y=m.isIndexed,g=void 0===y?v.isIndexed:y,b=m.indexType,_=void 0===b?v.indexType:b,w=m.indexOffset,x=void 0===w?v.indexOffset:w,O=m.vertexArrayInstanced,E=void 0===O?v.isInstanced:O;E&&!this.isInstanced&&P.warn("Found instanced attributes on non-instanced model",this.id)();var j=this.isInstanced,S=this.instanceCount,k=this.props,T=k.onBeforeRender,A=void 0===T?Ps:T,I=k.onAfterRender,C=void 0===I?Ps:I;A(),this.program.setUniforms(this.uniforms);var R=this.program.draw(Object.assign(As,e,{logPriority:t,uniforms:null,framebuffer:i,parameters:h,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:d,transformFeedback:l,isIndexed:g,indexType:_,isInstanced:j,instanceCount:S,offset:g?x:0}));return C(),P.priority>=Ss&&this._logDrawCallEnd(t,d,i),R}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discard,r=void 0===t||t,n=e.feedbackBuffers,i=e.unbindModels,o=void 0===i?[]:i,a=e.parameters;n&&this._setFeedbackBuffers(n),r&&(a=Object.assign({},a,Object(T["a"])({},35977,r))),o.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:a}))}finally{o.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}},{key:"_setModelProps",value:function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}},{key:"_checkProgram",value:function(){var e=this._programDirty||this.programManager.stateHash!==this._programManagerState;if(e){var t=this.programProps.program;if(t)this._managedProgram=!1;else{var r=this.programProps,n=r.vs,i=r.fs,o=r.modules,a=r.inject,s=r.defines,u=r.varyings,c=r.bufferMode,l=r.transpileToGLSL100;t=this.programManager.get({vs:n,fs:i,modules:o,inject:a,defines:s,varyings:u,bufferMode:c,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Ot(t instanceof Ka,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new fs(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof Yt&&t["delete"]()}}},{key:"_setAnimationProps",value:function(e){this.animated&&Ot(e,"Model.draw(): animated uniforms but no animationProps")}},{key:"_setFeedbackBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Pt(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new Kn(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}},{key:"_logDrawCallStart",value:function(e){var t=e>3?0:ks;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),P.group(Ss,">>> DRAWING MODEL ".concat(this.id),{collapsed:P.level<=2})(),e}},{key:"_logDrawCallEnd",value:function(e,t,r,n){if(void 0!==e){var i=ds({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),o=ys({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),a=o.table,s=o.unusedTable,u=o.unusedCount,c=ys({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0}),l=c.table,f=c.count;f>0&&P.log("MISSING UNIFORMS",Object.keys(l))(),u>0&&P.log("UNUSED UNIFORMS",Object.keys(s))();var h=_s(this.vertexArray.configuration);P.table(e,i)(),P.table(e,a)(),P.table(e+1,h)(),n&&n.log({logLevel:Ss,message:"Rendered to ".concat(n.id)}),P.groupEnd(Ss)()}}}]),e}(),Cs=function(){function e(t){Object(h["a"])(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(r),Object.seal(this)}return Object(p["a"])(e,[{key:"delete",value:function(){var e=this.model,t=this.bufferTransform,r=this.textureTransform;e&&e["delete"](),t&&t["delete"](),r&&r["delete"]()}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRenderTarget,r=void 0===t||t,n=this._updateDrawOptions(e);r&&n.framebuffer&&n.framebuffer.clear({color:!0}),this.model.transform(n)}},{key:"swap",value:function(){var e,t=!1,r=[this.bufferTransform,this.textureTransform].filter(Boolean),n=Object(l["a"])(r);try{for(n.s();!(e=n.n()).done;){var i=e.value;t=t||i.swap()}}catch(o){n.e(o)}finally{n.f()}Ot(t,"Nothing to swap")}},{key:"getBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}},{key:"getData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=[this.bufferTransform,this.textureTransform].filter(Boolean),n=Object(l["a"])(r);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=i.getData(t);if(o)return o}}catch(a){n.e(a)}finally{n.f()}return null}},{key:"getFramebuffer",value:function(){return this.textureTransform&&this.textureTransform.getFramebuffer()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);var t,r=[this.bufferTransform,this.textureTransform].filter(Boolean),n=Object(l["a"])(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.update(e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.gl;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new Is(t,Object.assign({},e,{fs:e.fs||Zn({version:Qn(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}},{key:"_updateModelProps",value:function(e){var t,r=Object.assign({},e),n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=Object(l["a"])(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;r=o.updateModelProps(r)}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"_buildResourceTransforms",value:function(e,t){Rs(t)&&(this.bufferTransform=new Jn(e,t)),Ms(t)&&(this.textureTransform=new Si(e,t)),Ot(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}},{key:"_updateDrawOptions",value:function(e){var t,r=Object.assign({},e),n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=Object(l["a"])(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;r=Object.assign(r,o.getDrawOptions(r))}}catch(a){i.e(a)}finally{i.f()}return r}}],[{key:"isSupported",value:function(e){return M(e)}}]),e}();function Rs(e){return!(Pt(e.feedbackBuffers)&&Pt(e.feedbackMap)&&!(e.varyings&&e.varyings.length>0))}function Ms(e){return!(Pt(e._sourceTextures)&&!e._targetTexture&&!e._targetTextureVarying)}var Ls=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"_inProgress",void 0),Object(c["a"])(this,"_handle",void 0),Object(c["a"])(this,"_timeline",void 0),Object(c["a"])(this,"time",void 0),Object(c["a"])(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=t,this.time=0,this.settings={duration:0}}return Object(p["a"])(e,[{key:"inProgress",get:function(){return this._inProgress}},{key:"start",value:function(e){var t,r;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(r=this.settings).onStart)||void 0===t||t.call(r,this)}},{key:"end",value:function(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}},{key:"cancel",value:function(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}},{key:"update",value:function(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){var r=this._timeline,n=this.settings;this._handle=r.addChannel({delay:r.getTime(),duration:n.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}},{key:"_onUpdate",value:function(){}}]),e}(),Ds=function(){function e(t){var r=t.gl,n=t.attribute,i=t.timeline;Object(h["a"])(this,e),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"type","interpolation"),Object(c["a"])(this,"attributeInTransition",void 0),Object(c["a"])(this,"settings",void 0),Object(c["a"])(this,"attribute",void 0),Object(c["a"])(this,"transition",void 0),Object(c["a"])(this,"currentStartIndices",void 0),Object(c["a"])(this,"currentLength",void 0),Object(c["a"])(this,"transform",void 0),Object(c["a"])(this,"buffers",void 0),this.gl=r,this.transition=new Ls(i),this.attribute=n,this.attributeInTransition=new Fn(r,n.settings),this.currentStartIndices=n.startIndices,this.currentLength=0,this.transform=Fs(r,n);var o={byteLength:0,usage:35050};this.buffers=[new Yt(r,o),new Yt(r,o)]}return Object(p["a"])(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){if(e.duration<=0)this.transition.cancel();else{this.settings=e;var r=this.gl,n=this.buffers,i=this.attribute;Ln(n);var o,a={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},s=Object(l["a"])(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;Nn(Object(f["a"])({buffer:u},a))}}catch(c){s.e(c)}finally{s.f()}this.currentStartIndices=i.startIndices,this.currentLength=Dn(i,t),this.attributeInTransition.setData({buffer:n[1],value:i.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aFrom:n[0],aTo:Rn(r,i)},feedbackBuffers:{vCurrent:n[1]}})}}},{key:"update",value:function(){var e=this.transition.update();if(e){var t=this.settings,r=t.duration,n=t.easing,i=this.transition.time,o=i/r;n&&(o=n(o)),this.transform.run({uniforms:{time:o}})}return e}},{key:"cancel",value:function(){this.transition.cancel(),this.transform["delete"]();var e,t=Object(l["a"])(this.buffers);try{for(t.s();!(e=t.n()).done;){var r=e.value;r["delete"]()}}catch(n){t.e(n)}finally{t.f()}this.buffers.length=0}}]),e}(),Ns="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";function Fs(e,t){var r=Mn(t.size);return new Cs(e,{vs:Ns,defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"]})}var zs=function(){function e(t){var r=t.gl,n=t.attribute,i=t.timeline;Object(h["a"])(this,e),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"type","spring"),Object(c["a"])(this,"attributeInTransition",void 0),Object(c["a"])(this,"settings",void 0),Object(c["a"])(this,"attribute",void 0),Object(c["a"])(this,"transition",void 0),Object(c["a"])(this,"currentStartIndices",void 0),Object(c["a"])(this,"currentLength",void 0),Object(c["a"])(this,"texture",void 0),Object(c["a"])(this,"framebuffer",void 0),Object(c["a"])(this,"transform",void 0),Object(c["a"])(this,"buffers",void 0),this.gl=r,this.type="spring",this.transition=new Ls(i),this.attribute=n,this.attributeInTransition=new Fn(r,Object(f["a"])(Object(f["a"])({},n.settings),{},{normalized:!1})),this.currentStartIndices=n.startIndices,this.currentLength=0,this.texture=Us(r),this.framebuffer=Vs(r,this.texture),this.transform=Bs(r,n,this.framebuffer);var o={byteLength:0,usage:35050};this.buffers=[new Yt(r,o),new Yt(r,o),new Yt(r,o)]}return Object(p["a"])(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){var r,n=this.gl,i=this.buffers,o=this.attribute,a={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},s=Object(l["a"])(i);try{for(s.s();!(r=s.n()).done;){var u=r.value;Nn(Object(f["a"])({buffer:u},a))}}catch(c){s.e(c)}finally{s.f()}this.settings=e,this.currentStartIndices=o.startIndices,this.currentLength=Dn(o,t),this.attributeInTransition.setData({buffer:i[1],value:o.value}),this.transition.start(Object(f["a"])(Object(f["a"])({},e),{},{duration:1/0})),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aTo:Rn(n,o)}})}},{key:"update",value:function(){var e=this.buffers,t=this.transform,r=this.framebuffer,n=this.transition,i=n.update();if(!i)return!1;var o=this.settings;t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:r,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:o.stiffness,damping:o.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),Ln(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value});var a=Cr(r)[0]>0;return a||n.end(),!0}},{key:"cancel",value:function(){this.transition.cancel(),this.transform["delete"]();var e,t=Object(l["a"])(this.buffers);try{for(t.s();!(e=t.n()).done;){var r=e.value;r["delete"]()}}catch(n){t.e(n)}finally{t.f()}this.buffers.length=0,this.texture["delete"](),this.framebuffer["delete"]()}}]),e}();function Bs(e,t,r){var n=Mn(t.size);return new Cs(e,{framebuffer:r,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:n},varyings:["vNext"]})}function Us(e){return new ur(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}function Vs(e,t){return new Fr(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:Object(T["a"])({},36064,t)})}var Gs={interpolation:Ds,spring:zs},qs=function(){function e(t,r){var n=r.id,i=r.timeline;Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"isSupported",void 0),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"timeline",void 0),Object(c["a"])(this,"transitions",void 0),Object(c["a"])(this,"needsRedraw",void 0),Object(c["a"])(this,"numInstances",void 0),this.id=n,this.gl=t,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=Cs.isSupported(t)}return Object(p["a"])(e,[{key:"finalize",value:function(){for(var e in this.transitions)this._removeTransition(e)}},{key:"update",value:function(e){var t=e.attributes,r=e.transitions,n=e.numInstances;for(var i in this.numInstances=n||1,t){var o=t[i],a=o.getTransitionSetting(r);a&&this._updateAttribute(i,o,a)}for(var s in this.transitions){var u=t[s];u&&u.getTransitionSetting(r)||this._removeTransition(s)}}},{key:"hasAttribute",value:function(e){var t=this.transitions[e];return t&&t.inProgress}},{key:"getAttributes",value:function(){var e={};for(var t in this.transitions){var r=this.transitions[t];r.inProgress&&(e[t]=r.attributeInTransition)}return e}},{key:"run",value:function(){if(!this.isSupported||0===this.numInstances)return!1;for(var e in this.transitions){var t=this.transitions[e].update();t&&(this.needsRedraw=!0)}var r=this.needsRedraw;return this.needsRedraw=!1,r}},{key:"_removeTransition",value:function(e){this.transitions[e].cancel(),delete this.transitions[e]}},{key:"_updateAttribute",value:function(e,t,r){var n=this.transitions[e],i=!n||n.type!==r.type;if(i){if(!this.isSupported)return void x.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();n&&this._removeTransition(e);var o=Gs[r.type];o?this.transitions[e]=new o({attribute:t,timeline:this.timeline,gl:this.gl}):(x.error("unsupported transition type '".concat(r.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}]),e}(),Ws="attributeManager.invalidate",Hs="attributeManager.updateStart",Zs="attributeManager.updateEnd",Xs="attribute.updateStart",$s="attribute.allocate",Ys="attribute.updateEnd",Ks=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.id,i=void 0===n?"attribute-manager":n,o=r.stats,a=r.timeline;Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"attributes",void 0),Object(c["a"])(this,"updateTriggers",void 0),Object(c["a"])(this,"needsRedraw",void 0),Object(c["a"])(this,"userData",void 0),Object(c["a"])(this,"stats",void 0),Object(c["a"])(this,"attributeTransitionManager",void 0),this.id=i,this.gl=t,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=o,this.attributeTransitionManager=new qs(t,{id:"".concat(i,"-transitions"),timeline:a}),Object.seal(this)}return Object(p["a"])(e,[{key:"finalize",value:function(){for(var e in this.attributes)this.attributes[e]["delete"]();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}},{key:"setNeedsRedraw",value:function(){this.needsRedraw=!0}},{key:"add",value:function(e){this._add(e)}},{key:"addInstanced",value:function(e){this._add(e,{instanced:1})}},{key:"remove",value:function(e){var t,r=Object(l["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;void 0!==this.attributes[n]&&(this.attributes[n]["delete"](),delete this.attributes[n])}}catch(i){r.e(i)}finally{r.f()}}},{key:"invalidate",value:function(e,t){var r=this._invalidateTrigger(e,t);Un(Ws,this,e,r)}},{key:"invalidateAll",value:function(e){for(var t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);Un(Ws,this,"all")}},{key:"update",value:function(e){var t=e.data,r=e.numInstances,n=e.startIndices,i=void 0===n?null:n,o=e.transitions,a=e.props,s=void 0===a?{}:a,u=e.buffers,c=void 0===u?{}:u,l=e.context,f=void 0===l?{}:l,h=!1;for(var p in Un(Hs,this),this.stats&&this.stats.get("Update Attributes").timeStart(),this.attributes){var d=this.attributes[p],v=d.settings.accessor;d.startIndices=i,d.numInstances=r,s[p]&&x.removed("props.".concat(p),"data.attributes.".concat(p))(),d.setExternalBuffer(c[p])||d.setBinaryValue("string"===typeof v?c[v]:void 0,t.startIndices)||"string"===typeof v&&!c[v]&&d.setConstantValue(s[v])||d.needsUpdate()&&(h=!0,this._updateAttribute({attribute:d,numInstances:r,data:t,props:s,context:f})),this.needsRedraw=this.needsRedraw||d.needsRedraw()}h&&Un(Zs,this,r),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:r,transitions:o})}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManager,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1},t=this.attributes,r=this.attributeTransitionManager,n=Object(f["a"])({},r.getAttributes());for(var i in t){var o=t[i];o.needsRedraw(e)&&!r.hasAttribute(i)&&(n[i]=o)}return n}},{key:"getShaderAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());var r={};for(var n in e)t[n]||Object.assign(r,e[n].getShaderAttributes());return r}},{key:"_add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in e){var n=e[r];this.attributes[r]=this._createAttribute(r,n,t)}this._mapUpdateTriggersToAttributes()}},{key:"_createAttribute",value:function(e,t,r){var n=Object(f["a"])(Object(f["a"])({},t),{},{id:e,size:(t.isIndexed?1:t.size)||1,divisor:r.instanced?1:t.divisor||0});return new Fn(this.gl,n)}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},r=function(r){var n=e.attributes[r];n.getUpdateTriggers().forEach((function(e){t[e]||(t[e]=[]),t[e].push(r)}))};for(var n in this.attributes)r(n);this.updateTriggers=t}},{key:"_invalidateTrigger",value:function(e,t){var r=this.attributes,n=this.updateTriggers,i=n[e];return i&&i.forEach((function(e){var n=r[e];n&&n.setNeedsUpdate(n.id,t)})),i}},{key:"_updateAttribute",value:function(e){var t=e.attribute,r=e.numInstances;if(Un(Xs,t),t.constant)t.setConstantValue(t.value);else{t.allocate(r)&&Un($s,t,r);var n=t.updateBuffer(e);n&&(this.needsRedraw=!0,Un(Ys,t,r))}}}]),e}(),Js=r("a3TU"),Qs=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"value",get:function(){return this._value}},{key:"_onUpdate",value:function(){var e=this.time,t=this.settings,r=t.fromValue,n=t.toValue,i=t.duration,o=t.easing,a=o(e/i);this._value=Object(Js["g"])(r,n,a)}}]),r}(Ls),eu=1e-5;function tu(e,t,r,n,i){var o=t-e,a=r-t,s=a*i,u=-o*n;return s+u+o+t}function ru(e,t,r,n,i){if(Array.isArray(r)){for(var o=[],a=0;a<r.length;a++)o[a]=tu(e[a],t[a],r[a],n,i);return o}return tu(e,t,r,n,i)}function nu(e,t){if(Array.isArray(e)){for(var r=0,n=0;n<e.length;n++){var i=e[n]-t[n];r+=i*i}return Math.sqrt(r)}return Math.abs(e-t)}var iu=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"value",get:function(){return this._currValue}},{key:"_onUpdate",value:function(){var e=this.settings,t=e.fromValue,r=e.toValue,n=e.damping,i=e.stiffness,o=this._prevValue,a=void 0===o?t:o,s=this._currValue,u=void 0===s?t:s,c=ru(a,u,r,n,i),l=nu(c,r),f=nu(c,u);l<eu&&f<eu&&(c=r,this.end()),this._prevValue=u,this._currValue=c}}]),r}(Ls),ou={interpolation:Qs,spring:iu},au=function(){function e(t){Object(h["a"])(this,e),this.transitions=new Map,this.timeline=t}return Object(p["a"])(e,[{key:"active",get:function(){return this.transitions.size>0}},{key:"add",value:function(e,t,r,n){var i=this.transitions;if(i.has(e)){var o=i.get(e),a=o.value,s=void 0===a?o.settings.fromValue:a;t=s,this.remove(e)}if(n=Cn(n),n){var u=ou[n.type];if(u){var c=new u(this.timeline);c.start(Object(f["a"])(Object(f["a"])({},n),{},{fromValue:t,toValue:r})),i.set(e,c)}else x.error("unsupported transition type '".concat(n.type,"'"))()}}},{key:"remove",value:function(e){var t=this.transitions;t.has(e)&&(t.get(e).cancel(),t["delete"](e))}},{key:"update",value:function(){var e,t={},r=Object(l["a"])(this.transitions);try{for(r.s();!(e=r.n()).done;){var n=e.value,i=Object(b["a"])(n,2),o=i[0],a=i[1];a.update(),t[o]=a.value,a.inProgress||this.remove(o)}}catch(s){r.e(s)}finally{r.f()}return t}},{key:"clear",value:function(){var e,t=Object(l["a"])(this.transitions.keys());try{for(t.s();!(e=t.n()).done;){var r=e.value;this.remove(r)}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),su={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},uu=Symbol["for"]("component"),cu=Symbol["for"]("asyncPropDefaults"),lu=Symbol["for"]("asyncPropOriginal"),fu=Symbol["for"]("asyncPropResolved");function hu(e){var t=wu(e);for(var r in t){var n=t[r],i=n.validate;if(i&&!i(e[r],n))throw new Error("Invalid prop ".concat(r,": ").concat(e[r]))}}function pu(e,t){var r=vu({newProps:e,oldProps:t,propTypes:wu(e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),n=yu(e,t),i=!1;return n||(i=gu(e,t)),{dataChanged:n,propsChanged:r,updateTriggersChanged:i,extensionsChanged:bu(e,t),transitionsChanged:du(e,t)}}function du(e,t){if(!e.transitions)return!1;var r={},n=wu(e),i=!1;for(var o in e.transitions){var a=n[o],s=a&&a.type,u="number"===s||"color"===s||"array"===s;u&&mu(e[o],t[o],a)&&(r[o]=!0,i=!0)}return!!i&&r}function vu(e){var t=e.newProps,r=e.oldProps,n=e.ignoreProps,i=void 0===n?{}:n,o=e.propTypes,a=void 0===o?{}:o,s=e.triggerName,u=void 0===s?"props":s;if(r===t)return!1;if("object"!==typeof t||null===t)return"".concat(u," changed shallowly");if("object"!==typeof r||null===r)return"".concat(u," changed shallowly");for(var c=0,l=Object.keys(t);c<l.length;c++){var f=l[c];if(!(f in i)){if(!(f in r))return"".concat(u,".").concat(f," added");var h=mu(t[f],r[f],a[f]);if(h)return"".concat(u,".").concat(f," ").concat(h)}}for(var p=0,d=Object.keys(r);p<d.length;p++){var v=d[p];if(!(v in i)){if(!(v in t))return"".concat(u,".").concat(v," dropped");if(!Object.hasOwnProperty.call(t,v)){var m=mu(t[v],r[v],a[v]);if(m)return"".concat(u,".").concat(v," ").concat(m)}}}return!1}function mu(e,t,r){var n=r&&r.equal;return n&&!n(e,t,r)?"changed deeply":n||(n=e&&t&&e.equals,!n||n.call(e,t))?n||t===e?null:"changed shallowly":"changed deeply"}function yu(e,t){if(null===t)return"oldProps is null, initial diff";var r=!1,n=e.dataComparator,i=e._dataDiff;return n?n(e.data,t.data)||(r="Data comparator detected a change"):e.data!==t.data&&(r="A new data container was supplied"),r&&i&&(r=i(e.data,t.data)||r),r}function gu(e,t){if(null===t)return{all:!0};if("all"in e.updateTriggers){var r=_u(e,t,"all");if(r)return{all:!0}}var n={},i=!1;for(var o in e.updateTriggers)if("all"!==o){var a=_u(e,t,o);a&&(n[o]=!0,i=!0)}return!!i&&n}function bu(e,t){if(null===t)return!0;var r=t.extensions,n=e.extensions;if(n===r)return!1;if(!r||!n)return!0;if(n.length!==r.length)return!0;for(var i=0;i<n.length;i++)if(!n[i].equals(r[i]))return!0;return!1}function _u(e,t,r){var n=e.updateTriggers[r];n=void 0===n||null===n?{}:n;var i=t.updateTriggers[r];i=void 0===i||null===i?{}:i;var o=vu({oldProps:i,newProps:n,triggerName:r});return o}function wu(e){var t=e[uu],r=t&&t.constructor;return r?r._propTypes:{}}var xu="count(): argument not an object",Ou="count(): argument not a container";function Eu(e){if(!Su(e))throw new Error(xu);if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(ju(e))return Object.keys(e).length;throw new Error(Ou)}function ju(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Su(e){return null!==e&&"object"===typeof e}function ku(e,t){if(e===t)return!0;if(Array.isArray(e)){var r=e.length;if(!t||t.length!==r)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}return!1}function Tu(e){var t,r={};return function(n){for(var i in n)if(!ku(n[i],r[i])){t=e(n),r=n;break}return t}}function Pu(e,t){if(!t)return e;var r=Object(f["a"])(Object(f["a"])({},e),t);if("defines"in t&&(r.defines=Object(f["a"])(Object(f["a"])({},e.defines),t.defines)),"modules"in t&&(r.modules=(e.modules||[]).concat(t.modules),t.modules.some((function(e){return"project64"===e.name})))){var n=r.modules.findIndex((function(e){return"project32"===e.name}));n>=0&&r.modules.splice(n,1)}if("inject"in t)if(e.inject){var i=Object(f["a"])({},e.inject);for(var o in t.inject)i[o]=(i[o]||"")+t.inject[o];r.inject=i}else r.inject=t.inject;return r}var Au=r("ZaHm"),Iu=r("bl9R"),Cu=[0,0,0,0],Ru=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Mu=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Lu=[0,0,0],Du=[0,0,0],Nu=Tu(Uu);function Fu(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Du;r.length<3&&(r=[r[0],r[1],0]);var n,i=r,o=!0;switch(n=t===O.LNGLAT_OFFSETS||t===O.METER_OFFSETS?r:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case E.WEB_MERCATOR:t!==O.LNGLAT&&t!==O.CARTESIAN||(n=[0,0,0],o=!1);break;case E.WEB_MERCATOR_AUTO_OFFSET:t===O.LNGLAT?i=n:t===O.CARTESIAN&&(i=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],n=e.unprojectPosition(i),i[0]-=r[0],i[1]-=r[1],i[2]-=r[2]);break;case E.IDENTITY:i=e.position.map(Math.fround),i[2]=i[2]||0;break;case E.GLOBE:o=!1,n=null;break;default:o=!1}return{geospatialOrigin:n,shaderCoordinateOrigin:i,offsetMode:o}}function zu(e,t,r){var n=e.viewMatrixUncentered,i=e.projectionMatrix,o=e.viewMatrix,a=e.viewProjectionMatrix,s=Cu,u=Cu,c=e.cameraPosition,l=Fu(e,t,r),f=l.geospatialOrigin,h=l.shaderCoordinateOrigin,p=l.offsetMode;return p&&(u=e.projectPosition(f||h),c=[c[0]-u[0],c[1]-u[1],c[2]-u[2]],u[3]=1,s=Iu["n"]([],u,a),o=n||o,a=Au["g"]([],i,o),a=Au["g"]([],a,Ru)),{viewMatrix:o,viewProjectionMatrix:a,projectionCenter:s,originCommon:u,cameraPosCommon:c,shaderCoordinateOrigin:h,geospatialOrigin:f}}function Bu(e){var t=e.viewport,r=e.devicePixelRatio,n=void 0===r?1:r,i=e.modelMatrix,o=void 0===i?null:i,a=e.coordinateSystem,s=void 0===a?O.DEFAULT:a,u=e.coordinateOrigin,c=void 0===u?Du:u,l=e.autoWrapLongitude,f=void 0!==l&&l;s===O.DEFAULT&&(s=t.isGeospatial?O.LNGLAT:O.CARTESIAN);var h=Nu({viewport:t,devicePixelRatio:n,coordinateSystem:s,coordinateOrigin:c});return h.project_uWrapLongitude=f,h.project_uModelMatrix=o||Mu,h}function Uu(e){var t=e.viewport,r=e.devicePixelRatio,n=e.coordinateSystem,i=e.coordinateOrigin,o=zu(t,n,i),a=o.projectionCenter,s=o.viewProjectionMatrix,u=o.originCommon,c=o.cameraPosCommon,l=o.shaderCoordinateOrigin,f=o.geospatialOrigin,h=t.getDistanceScales(),p=[t.width*r,t.height*r],d=Iu["n"]([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,v={project_uCoordinateSystem:n,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:l,project_uCommonOrigin:u.slice(0,3),project_uCenter:a,project_uPseudoMeters:Boolean(t._pseudoMeters),project_uViewportSize:p,project_uDevicePixelRatio:r,project_uFocalDistance:d,project_uCommonUnitsPerMeter:h.unitsPerMeter,project_uCommonUnitsPerWorldUnit:h.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:Lu,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:s,project_uModelMatrix:Mu,project_uCameraPosition:c};if(f){var m=t.getDistanceScales(f);switch(n){case O.METER_OFFSETS:v.project_uCommonUnitsPerWorldUnit=m.unitsPerMeter,v.project_uCommonUnitsPerWorldUnit2=m.unitsPerMeter2;break;case O.LNGLAT:case O.LNGLAT_OFFSETS:t._pseudoMeters||(v.project_uCommonUnitsPerMeter=m.unitsPerMeter),v.project_uCommonUnitsPerWorldUnit=m.unitsPerDegree,v.project_uCommonUnitsPerWorldUnit2=m.unitsPerDegree2;break;case O.CARTESIAN:v.project_uCommonUnitsPerWorldUnit=[1,1,m.unitsPerMeter[2]],v.project_uCommonUnitsPerWorldUnit2=[0,0,m.unitsPerMeter2[2]];break;default:break}}return v}var Vu=r("Nw31");function Gu(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function qu(e,t){var r=Object(Iu["n"])([],t,e);return Object(Iu["k"])(r,r,1/r[3]),r}function Wu(e,t){var r=e%t;return r<0?t+r:r}function Hu(e,t,r){return r*t+(1-r)*e}function Zu(e,t,r){return e<t?t:e>r?r:e}function Xu(e){return Math.log(e)*Math.LOG2E}var $u=Math.log2||Xu,Yu=r("ZxFD"),Ku=r("n+fv");function Ju(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}var Qu=Math.PI,ec=Qu/4,tc=Qu/180,rc=180/Qu,nc=512,ic=4003e4,oc=85.051129,ac=1.5;function sc(e){return Math.pow(2,e)}function uc(e){return $u(e)}function cc(e){var t=Object(b["a"])(e,2),r=t[0],n=t[1];Ju(Number.isFinite(r)),Ju(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");var i=r*tc,o=n*tc,a=nc*(i+Qu)/(2*Qu),s=nc*(Qu+Math.log(Math.tan(ec+.5*o)))/(2*Qu);return[a,s]}function lc(e){var t=Object(b["a"])(e,2),r=t[0],n=t[1],i=r/nc*(2*Qu)-Qu,o=2*(Math.atan(Math.exp(n/nc*(2*Qu)-Qu))-ec);return[i*rc,o*rc]}function fc(e){var t=e.latitude;Ju(Number.isFinite(t));var r=Math.cos(t*tc);return uc(ic*r)-9}function hc(e){var t=e.latitude,r=e.longitude,n=e.highPrecision,i=void 0!==n&&n;Ju(Number.isFinite(t)&&Number.isFinite(r));var o=nc,a=Math.cos(t*tc),s=o/360,u=s/a,c=o/ic/a,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[s,u,c],degreesPerUnit:[1/s,1/u,1/c]};if(i){var f=tc*Math.tan(t*tc)/a,h=s*f/2,p=o/ic*f,d=p/u*c;l.unitsPerDegree2=[0,h,p],l.unitsPerMeter2=[d,0,d]}return l}function pc(e,t){var r=Object(b["a"])(e,3),n=r[0],i=r[1],o=r[2],a=Object(b["a"])(t,3),s=a[0],u=a[1],c=a[2],l=hc({longitude:n,latitude:i,highPrecision:!0}),f=l.unitsPerMeter,h=l.unitsPerMeter2,p=cc(e);p[0]+=s*(f[0]+h[0]*u),p[1]+=u*(f[1]+h[1]*u);var d=lc(p),v=(o||0)+(c||0);return Number.isFinite(o)||Number.isFinite(c)?[d[0],d[1],v]:d}function dc(e){var t=e.height,r=e.pitch,n=e.bearing,i=e.altitude,o=e.scale,a=e.center,s=Gu();Au["o"](s,s,[0,0,-i]),Au["k"](s,s,-r*tc),Au["m"](s,s,n*tc);var u=o/t;return Au["n"](s,s,[u,u,u]),a&&Au["o"](s,s,Ku["j"]([],a)),s}function vc(e){var t=e.width,r=e.height,n=e.altitude,i=e.pitch,o=void 0===i?0:i,a=e.offset,s=e.center,u=e.scale,c=e.nearZMultiplier,l=void 0===c?1:c,f=e.farZMultiplier,h=void 0===f?1:f,p=e.fovy,d=void 0===p?yc(ac):p;void 0!==n&&(d=yc(n));var v=d*tc,m=o*tc,y=gc(d),g=y;s&&(g+=s[2]*u/Math.cos(m)/r);var b=v*(.5+(a?a[1]:0)/r),_=Math.sin(b)*g/Math.sin(Zu(Math.PI/2-m-b,.01,Math.PI-.01)),w=Math.sin(m)*_+g,x=10*g,O=Math.min(w*h,x);return{fov:v,aspect:t/r,focalDistance:y,near:l,far:O}}function mc(e){var t=vc(e),r=t.fov,n=t.aspect,i=t.near,o=t.far,a=Au["i"]([],r,n,i,o);return a}function yc(e){return 2*Math.atan(.5/e)*rc}function gc(e){return.5/Math.tan(.5*e*tc)}function bc(e,t){var r=Object(b["a"])(e,3),n=r[0],i=r[1],o=r[2],a=void 0===o?0:o;return Ju(Number.isFinite(n)&&Number.isFinite(i)&&Number.isFinite(a)),qu(t,[n,i,a,1])}function _c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Object(b["a"])(e,3),i=n[0],o=n[1],a=n[2];if(Ju(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=qu(t,[i,o,a,1]);return s}var u=qu(t,[i,o,0,1]),c=qu(t,[i,o,1,1]),l=u[2],f=c[2],h=l===f?0:((r||0)-l)/(f-l);return Yu["c"]([],u,c,h)}function wc(e){var t=e.width,r=e.height,n=e.bounds,i=e.minExtent,o=void 0===i?0:i,a=e.maxZoom,s=void 0===a?24:a,u=e.offset,c=void 0===u?[0,0]:u,l=Object(b["a"])(n,2),f=Object(b["a"])(l[0],2),h=f[0],p=f[1],d=Object(b["a"])(l[1],2),v=d[0],m=d[1],y=xc(e.padding),g=cc([h,Zu(m,-oc,oc)]),_=cc([v,Zu(p,-oc,oc)]),w=[Math.max(Math.abs(_[0]-g[0]),o),Math.max(Math.abs(_[1]-g[1]),o)],x=[t-y.left-y.right-2*Math.abs(c[0]),r-y.top-y.bottom-2*Math.abs(c[1])];Ju(x[0]>0&&x[1]>0);var O=x[0]/w[0],E=x[1]/w[1],j=(y.right-y.left)/2/O,S=(y.top-y.bottom)/2/E,k=[(_[0]+g[0])/2+j,(_[1]+g[1])/2+S],T=lc(k),P=Math.min(s,$u(Math.abs(Math.min(O,E))));return Ju(Number.isFinite(P)),{longitude:T[0],latitude:T[1],zoom:P}}function xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"number"===typeof e?{top:e,bottom:e,left:e,right:e}:(Ju(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e)}var Oc=Math.PI/180;function Ec(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.width,o=e.height,a=e.unproject,s={targetZ:n},u=a([0,o],s),c=a([i,o],s),l=e.fovy?.5*e.fovy*Oc:Math.atan(.5/e.altitude),f=(90-e.pitch)*Oc;return l>f-.01?(t=jc(e,0,n),r=jc(e,i,n)):(t=a([0,0],s),r=a([i,0],s)),[u,c,r,t]}function jc(e,t,r){var n=e.pixelUnprojectionMatrix,i=qu(n,[t,0,1,1]),o=qu(n,[t,e.height,1,1]),a=r*e.distanceScales.unitsPerMeter[2],s=(a-i[2])/(o[2]-i[2]),u=Yu["c"]([],i,o,s),c=lc(u);return c.push(r),c}var Sc=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1};Object(h["a"])(this,e),Object(c["a"])(this,"latitude",void 0),Object(c["a"])(this,"longitude",void 0),Object(c["a"])(this,"zoom",void 0),Object(c["a"])(this,"pitch",void 0),Object(c["a"])(this,"bearing",void 0),Object(c["a"])(this,"altitude",void 0),Object(c["a"])(this,"fovy",void 0),Object(c["a"])(this,"meterOffset",void 0),Object(c["a"])(this,"center",void 0),Object(c["a"])(this,"width",void 0),Object(c["a"])(this,"height",void 0),Object(c["a"])(this,"scale",void 0),Object(c["a"])(this,"distanceScales",void 0),Object(c["a"])(this,"viewMatrix",void 0),Object(c["a"])(this,"projectionMatrix",void 0),Object(c["a"])(this,"viewProjectionMatrix",void 0),Object(c["a"])(this,"pixelProjectionMatrix",void 0),Object(c["a"])(this,"pixelUnprojectionMatrix",void 0),Object(c["a"])(this,"equals",(function(r){return r instanceof e&&(r.width===t.width&&r.height===t.height&&Au["b"](r.projectionMatrix,t.projectionMatrix)&&Au["b"](r.viewMatrix,t.viewMatrix))})),Object(c["a"])(this,"project",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.topLeft,i=void 0===n||n,o=t.projectPosition(e),a=bc(o,t.pixelProjectionMatrix),s=Object(b["a"])(a,2),u=s[0],c=s[1],l=i?c:t.height-c;return 2===e.length?[u,l]:[u,l,a[2]]})),Object(c["a"])(this,"unproject",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.topLeft,i=void 0===n||n,o=r.targetZ,a=void 0===o?void 0:o,s=Object(b["a"])(e,3),u=s[0],c=s[1],l=s[2],f=i?c:t.height-c,h=a&&a*t.distanceScales.unitsPerMeter[2],p=_c([u,f,l],t.pixelUnprojectionMatrix,h),d=t.unprojectPosition(p),v=Object(b["a"])(d,3),m=v[0],y=v[1],g=v[2];return Number.isFinite(l)?[m,y,g]:Number.isFinite(a)?[m,y,a]:[m,y]})),Object(c["a"])(this,"projectPosition",(function(e){var r=cc(e),n=Object(b["a"])(r,2),i=n[0],o=n[1],a=(e[2]||0)*t.distanceScales.unitsPerMeter[2];return[i,o,a]})),Object(c["a"])(this,"unprojectPosition",(function(e){var r=lc(e),n=Object(b["a"])(r,2),i=n[0],o=n[1],a=(e[2]||0)*t.distanceScales.metersPerUnit[2];return[i,o,a]}));var n=r.width,i=r.height,o=r.altitude,a=void 0===o?null:o,s=r.fovy,u=void 0===s?null:s,l=r.latitude,f=void 0===l?0:l,p=r.longitude,d=void 0===p?0:p,v=r.zoom,m=void 0===v?0:v,y=r.pitch,g=void 0===y?0:y,_=r.bearing,w=void 0===_?0:_,x=r.position,O=void 0===x?null:x,E=r.nearZMultiplier,j=void 0===E?.02:E,S=r.farZMultiplier,k=void 0===S?1.01:S;n=n||1,i=i||1,null===u&&null===a?(a=ac,u=yc(a)):null===u?u=yc(a):null===a&&(a=gc(u));var T=sc(m);a=Math.max(.75,a);var P=hc({longitude:d,latitude:f}),A=cc([d,f]);A.push(0),O&&Ku["a"](A,A,Ku["i"]([],O,P.unitsPerMeter)),this.projectionMatrix=mc({width:n,height:i,scale:T,center:A,pitch:g,fovy:u,nearZMultiplier:j,farZMultiplier:k}),this.viewMatrix=dc({height:i,scale:T,center:A,pitch:g,bearing:w,altitude:a}),this.width=n,this.height=i,this.scale=T,this.latitude=f,this.longitude=d,this.zoom=m,this.pitch=g,this.bearing=w,this.altitude=a,this.fovy=u,this.center=A,this.meterOffset=O||[0,0,0],this.distanceScales=P,this._initMatrices(),Object.freeze(this)}return Object(p["a"])(e,[{key:"_initMatrices",value:function(){var e=this.width,t=this.height,r=this.projectionMatrix,n=this.viewMatrix,i=Gu();Au["g"](i,i,r),Au["g"](i,i,n),this.viewProjectionMatrix=i;var o=Gu();Au["n"](o,o,[e/2,-t/2,1]),Au["o"](o,o,[1,-1,0]),Au["g"](o,o,i);var a=Au["e"](Gu(),o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"projectFlat",value:function(e){return cc(e)}},{key:"unprojectFlat",value:function(e){return lc(e)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,r=e.pos,n=_c(r,this.pixelUnprojectionMatrix),i=cc(t),o=Yu["a"]([],i,Yu["d"]([],n)),a=Yu["a"]([],this.center,o);return lc(a)}},{key:"fitBounds",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.width,i=this.height,o=wc(Object.assign({width:n,height:i,bounds:t},r)),a=o.longitude,s=o.latitude,u=o.zoom;return new e({width:n,height:i,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(e){var t=this.getBoundingRegion(e),r=Math.min.apply(Math,Object(Se["a"])(t.map((function(e){return e[0]})))),n=Math.max.apply(Math,Object(Se["a"])(t.map((function(e){return e[0]})))),i=Math.min.apply(Math,Object(Se["a"])(t.map((function(e){return e[1]})))),o=Math.max.apply(Math,Object(Se["a"])(t.map((function(e){return e[1]}))));return[[r,i],[n,o]]}},{key:"getBoundingRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ec(this,e.z||0)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,r=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:r})}}]),e}(),kc=512;function Tc(e){var t=e.width,r=e.height,n=e.pitch,i=void 0===n?0:n,o=e.longitude,a=e.latitude,s=e.zoom,u=e.bearing,c=void 0===u?0:u;(o<-180||o>180)&&(o=Wu(o+180,360)-180),(c<-180||c>180)&&(c=Wu(c+180,360)-180);var l=$u(r/kc);if(s<=l)s=l,a=0;else{var f=r/2/Math.pow(2,s),h=lc([0,f])[1];if(a<h)a=h;else{var p=lc([0,kc-f])[1];a>p&&(a=p)}}return{width:t,height:r,longitude:o,latitude:a,zoom:s,pitch:i,bearing:c}}var Pc=.01,Ac=["longitude","latitude","zoom"],Ic={curve:1.414,speed:1.2};function Cc(e,t,r,n){var i=Mc(e,t,n),o=i.startZoom,a=i.startCenterXY,s=i.uDelta,u=i.w0,c=i.u1,f=i.S,h=i.rho,p=i.rho2,d=i.r0;if(c<Pc){var v,m={},y=Object(l["a"])(Ac);try{for(y.s();!(v=y.n()).done;){var g=v.value,b=e[g],_=t[g];m[g]=Hu(b,_,r)}}catch(T){y.e(T)}finally{y.f()}return m}var w=r*f,x=Math.cosh(d)/Math.cosh(d+h*w),O=u*((Math.cosh(d)*Math.tanh(d+h*w)-Math.sinh(d))/p)/c,E=1/x,j=o+uc(E),S=Yu["e"]([],s,O);Yu["a"](S,S,a);var k=lc(S);return{longitude:k[0],latitude:k[1],zoom:j}}function Rc(e,t,r){var n,i=Object(f["a"])(Object(f["a"])({},Ic),r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,u=Mc(e,t,i),c=u.S,l=u.rho,h=1e3*c;return n=Number.isFinite(o)?h/(o/l):h/a,Number.isFinite(s)&&n>s?0:n}function Mc(e,t,r){r=Object.assign({},Ic,r);var n=r.curve,i=e.zoom,o=[e.longitude,e.latitude],a=sc(i),s=t.zoom,u=[t.longitude,t.latitude],c=sc(s-i),l=cc(o),f=cc(u),h=Yu["f"]([],f,l),p=Math.max(e.width,e.height),d=p/c,v=Yu["b"](h)*a,m=Math.max(v,Pc),y=n*n,g=(d*d-p*p+y*y*m*m)/(2*p*y*m),b=(d*d-p*p-y*y*m*m)/(2*d*y*m),_=Math.log(Math.sqrt(g*g+1)-g),w=Math.log(Math.sqrt(b*b+1)-b),x=(w-_)/n;return{startZoom:i,startCenterXY:l,uDelta:h,w0:p,u1:v,S:x,rho:n,rho2:y,r0:_,r1:w}}var Lc=Math.PI/180,Dc=nn(),Nc=[0,0,0],Fc={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function zc(e){var t=e.width,r=e.height,n=e.orthographic,i=e.fovyRadians,o=e.focalDistance,a=e.padding,s=e.near,u=e.far,c=t/r,l=n?(new Vu["a"]).orthographic({fovy:i,aspect:c,focalDistance:o,near:s,far:u}):(new Vu["a"]).perspective({fovy:i,aspect:c,near:s,far:u});if(a){var f=a.left,h=void 0===f?0:f,p=a.right,d=void 0===p?0:p,v=a.top,m=void 0===v?0:v,y=a.bottom,g=void 0===y?0:y,b=Object(Js["a"])((h+t-d)/2,0,t)-t/2,_=Object(Js["a"])((m+r-g)/2,0,r)-r/2;l[8]-=2*b/t,l[9]+=2*_/r}return l}var Bc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"x",void 0),Object(c["a"])(this,"y",void 0),Object(c["a"])(this,"width",void 0),Object(c["a"])(this,"height",void 0),Object(c["a"])(this,"padding",void 0),Object(c["a"])(this,"isGeospatial",void 0),Object(c["a"])(this,"zoom",void 0),Object(c["a"])(this,"focalDistance",void 0),Object(c["a"])(this,"position",void 0),Object(c["a"])(this,"modelMatrix",void 0),Object(c["a"])(this,"distanceScales",void 0),Object(c["a"])(this,"scale",void 0),Object(c["a"])(this,"center",void 0),Object(c["a"])(this,"cameraPosition",void 0),Object(c["a"])(this,"projectionMatrix",void 0),Object(c["a"])(this,"viewMatrix",void 0),Object(c["a"])(this,"viewMatrixUncentered",void 0),Object(c["a"])(this,"viewMatrixInverse",void 0),Object(c["a"])(this,"viewProjectionMatrix",void 0),Object(c["a"])(this,"pixelProjectionMatrix",void 0),Object(c["a"])(this,"pixelUnprojectionMatrix",void 0),Object(c["a"])(this,"resolution",void 0),Object(c["a"])(this,"_frustumPlanes",{}),this.id=t.id||this.constructor.displayName||"viewport",this.x=t.x||0,this.y=t.y||0,this.width=t.width||1,this.height=t.height||1,this.zoom=t.zoom||0,this.padding=t.padding,this.distanceScales=t.distanceScales||Fc,this.focalDistance=t.focalDistance||1,this.position=t.position||Nc,this.modelMatrix=t.modelMatrix||null;var r=t.longitude,n=t.latitude;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(r),this._initProps(t),this._initMatrices(t),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(p["a"])(e,[{key:"metersPerPixel",get:function(){return this.distanceScales.metersPerUnit[2]/this.scale}},{key:"projectionMode",get:function(){return this.isGeospatial?this.zoom<12?E.WEB_MERCATOR:E.WEB_MERCATOR_AUTO_OFFSET:E.IDENTITY}},{key:"equals",value:function(t){return t instanceof e&&(this===t||t.width===this.width&&t.height===this.height&&t.scale===this.scale&&Object(Js["d"])(t.projectionMatrix,this.projectionMatrix)&&Object(Js["d"])(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=this.projectPosition(e),o=bc(i,this.pixelProjectionMatrix),a=Object(b["a"])(o,2),s=a[0],u=a[1],c=n?u:this.height-u;return 2===e.length?[s,c]:[s,c,o[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=t.targetZ,o=Object(b["a"])(e,3),a=o[0],s=o[1],u=o[2],c=n?s:this.height-s,l=i&&i*this.distanceScales.unitsPerMeter[2],f=_c([a,c,u],this.pixelUnprojectionMatrix,l),h=this.unprojectPosition(f),p=Object(b["a"])(h,3),d=p[0],v=p[1],m=p[2];return Number.isFinite(u)?[d,v,m]:Number.isFinite(i)?[d,v,i]:[d,v]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),r=Object(b["a"])(t,2),n=r[0],i=r[1],o=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[n,i,o]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),r=Object(b["a"])(t,2),n=r[0],i=r[1],o=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[n,i,o]}},{key:"projectFlat",value:function(e){if(this.isGeospatial){var t=cc(e);return t[1]=Object(Js["a"])(t[1],-318,830),t}return e}},{key:"unprojectFlat",value:function(e){return this.isGeospatial?lc(e):e}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetZ:e.z||0},r=this.unproject([0,0],t),n=this.unproject([this.width,0],t),i=this.unproject([0,this.height],t),o=this.unproject([this.width,this.height],t);return[Math.min(r[0],n[0],i[0],o[0]),Math.min(r[1],n[1],i[1],o[1]),Math.max(r[0],n[0],i[0],o[0]),Math.max(r[1],n[1],i[1],o[1])]}},{key:"getDistanceScales",value:function(e){return e?hc({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}},{key:"containsPixel",value:function(e){var t=e.x,r=e.y,n=e.width,i=void 0===n?1:n,o=e.height,a=void 0===o?1:o;return t<this.x+this.width&&this.x<t+i&&r<this.y+this.height&&this.y<r+a}},{key:"getFrustumPlanes",value:function(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,sn(this.viewProjectionMatrix)),this._frustumPlanes}},{key:"panByPosition",value:function(e,t){return null}},{key:"_initProps",value:function(e){var t=e.longitude,r=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=fc({latitude:r})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||hc({latitude:r,longitude:t}));var n=Math.pow(2,this.zoom);this.scale=n;var i=e.position,o=e.modelMatrix,a=Nc;if(i&&(a=o?new Vu["a"](o).transformAsVector(i,[]):i),this.isGeospatial){var s=this.projectPosition([t,r,0]);this.center=new rn["a"](a).scale(this.distanceScales.unitsPerMeter).add(s)}else this.center=this.projectPosition(a)}},{key:"_initMatrices",value:function(e){var t=e.viewMatrix,r=void 0===t?Dc:t,n=e.projectionMatrix,i=void 0===n?null:n,o=e.orthographic,a=void 0!==o&&o,s=e.fovyRadians,u=e.fovy,c=void 0===u?75:u,l=e.near,f=void 0===l?.1:l,h=e.far,p=void 0===h?1e3:h,d=e.padding,v=void 0===d?null:d,m=e.focalDistance,y=void 0===m?1:m;this.viewMatrixUncentered=r,this.viewMatrix=(new Vu["a"]).multiplyRight(r).translate(new rn["a"](this.center).negate()),this.projectionMatrix=i||zc({width:this.width,height:this.height,orthographic:a,fovyRadians:s||c*Lc,focalDistance:y,padding:v,near:f,far:p});var g=nn();Au["g"](g,g,this.projectionMatrix),Au["g"](g,g,this.viewMatrix),this.viewProjectionMatrix=g,this.viewMatrixInverse=Au["e"]([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=an(this.viewMatrixInverse);var b=nn(),_=nn();Au["n"](b,b,[this.width/2,-this.height/2,1]),Au["o"](b,b,[1,-1,0]),Au["g"](_,b,this.viewProjectionMatrix),this.pixelProjectionMatrix=_,this.pixelUnprojectionMatrix=Au["e"](nn(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||x.warn("Pixel project matrix not invertible")()}}]),e}();Object(c["a"])(Bc,"displayName","Viewport");var Uc=512,Vc=4003e4,Gc=Math.PI/180;function qc(e){var t=Math.cos(e*Gc);return Uc/Vc/t}var Wc,Hc=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h["a"])(this,r);var i,o=n.latitude,a=void 0===o?0:o,s=n.longitude,u=void 0===s?0:s,l=n.zoom,p=void 0===l?0:l,d=n.pitch,v=void 0===d?0:d,m=n.bearing,y=void 0===m?0:m,g=n.nearZMultiplier,b=void 0===g?.1:g,w=n.farZMultiplier,x=void 0===w?1.01:w,O=n.orthographic,E=void 0!==O&&O,j=n.projectionMatrix,S=n.repeat,k=void 0!==S&&S,T=n.worldOffset,P=void 0===T?0:T,A=n.legacyMeterSizes,I=void 0!==A&&A,C=n.width,R=n.height,M=n.altitude,L=void 0===M?1.5:M,D=Math.pow(2,p);C=C||1,R=R||1;var N=null;j?(L=j[5]/2,i=yc(L)):(n.fovy?(i=n.fovy,L=gc(i)):i=yc(L),N=vc({width:C,height:R,pitch:v,fovy:i,nearZMultiplier:b,farZMultiplier:x}));var F=dc({height:R,pitch:v,bearing:y,scale:D,altitude:L});if(P){var z=(new Vu["a"]).translate([512*P,0,0]);F=z.multiplyLeft(F)}return e=t.call(this,Object(f["a"])(Object(f["a"])(Object(f["a"])({},n),{},{width:C,height:R,viewMatrix:F,longitude:u,latitude:a,zoom:p},N),{},{fovy:i,focalDistance:L})),Object(c["a"])(Object(_["a"])(e),"longitude",void 0),Object(c["a"])(Object(_["a"])(e),"latitude",void 0),Object(c["a"])(Object(_["a"])(e),"pitch",void 0),Object(c["a"])(Object(_["a"])(e),"bearing",void 0),Object(c["a"])(Object(_["a"])(e),"altitude",void 0),Object(c["a"])(Object(_["a"])(e),"fovy",void 0),Object(c["a"])(Object(_["a"])(e),"orthographic",void 0),Object(c["a"])(Object(_["a"])(e),"_subViewports",void 0),Object(c["a"])(Object(_["a"])(e),"_pseudoMeters",void 0),e.latitude=a,e.longitude=u,e.zoom=p,e.pitch=v,e.bearing=y,e.altitude=L,e.fovy=i,e.orthographic=E,e._subViewports=k?[]:null,e._pseudoMeters=I,Object.freeze(Object(_["a"])(e)),e}return Object(p["a"])(r,[{key:"subViewports",get:function(){if(this._subViewports&&!this._subViewports.length)for(var e=this.getBounds(),t=Math.floor((e[0]+180)/360),n=Math.ceil((e[2]-180)/360),i=t;i<=n;i++){var o=i?new r(Object(f["a"])(Object(f["a"])({},this),{},{worldOffset:i})):this;this._subViewports.push(o)}return this._subViewports}},{key:"projectPosition",value:function(e){if(this._pseudoMeters)return m(Object(d["a"])(r.prototype),"projectPosition",this).call(this,e);var t=this.projectFlat(e),n=Object(b["a"])(t,2),i=n[0],o=n[1],a=(e[2]||0)*qc(e[1]);return[i,o,a]}},{key:"unprojectPosition",value:function(e){if(this._pseudoMeters)return m(Object(d["a"])(r.prototype),"unprojectPosition",this).call(this,e);var t=this.unprojectFlat(e),n=Object(b["a"])(t,2),i=n[0],o=n[1],a=(e[2]||0)/qc(o);return[i,o,a]}},{key:"addMetersToLngLat",value:function(e,t){return pc(e,t)}},{key:"panByPosition",value:function(e,t){var r=_c(t,this.pixelUnprojectionMatrix),n=this.projectFlat(e),i=Yu["a"]([],n,Yu["d"]([],r)),o=Yu["a"]([],this.center,i),a=this.unprojectFlat(o),s=Object(b["a"])(a,2),u=s[0],c=s[1];return{longitude:u,latitude:c}}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ec(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}},{key:"fitBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.width,i=this.height,o=wc(Object(f["a"])({width:n,height:i,bounds:e},t)),a=o.longitude,s=o.latitude,u=o.zoom;return new r({width:n,height:i,longitude:a,latitude:s,zoom:u})}}]),r}(Bc);function Zc(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.projectPosition(e);if(r&&t instanceof Hc){var i=Object(b["a"])(e,3),o=i[0],a=i[1],s=i[2],u=void 0===s?0:s,c=t.getDistanceScales([o,a]);n[2]=u*c.unitsPerMeter[2]}return n}function Xc(e){var t=e.viewport,r=e.modelMatrix,n=e.coordinateOrigin,i=e.coordinateSystem,o=e.fromCoordinateSystem,a=e.fromCoordinateOrigin;return i===O.DEFAULT&&(i=t.isGeospatial?O.LNGLAT:O.CARTESIAN),void 0===o&&(o=i),void 0===a&&(a=n),{viewport:t,coordinateSystem:i,coordinateOrigin:n,modelMatrix:r,fromCoordinateSystem:o,fromCoordinateOrigin:a}}function $c(e,t){var r=t.viewport,n=t.modelMatrix,i=t.coordinateSystem,o=t.coordinateOrigin,a=t.offsetMode,s=Object(b["a"])(e,3),u=s[0],c=s[1],l=s[2],f=void 0===l?0:l;if(n){var h=Iu["n"]([],[u,c,f,1],n),p=Object(b["a"])(h,3);u=p[0],c=p[1],f=p[2]}switch(i){case O.LNGLAT:return Zc([u,c,f],r,a);case O.LNGLAT_OFFSETS:return Zc([u+o[0],c+o[1],f+(o[2]||0)],r,a);case O.METER_OFFSETS:return Zc(pc(o,[u,c,f]),r,a);case O.CARTESIAN:default:return r.isGeospatial?[u+o[0],c+o[1],f+o[2]]:r.projectPosition([u,c,f])}}function Yc(e,t){var r=Xc(t),n=r.viewport,i=r.coordinateSystem,o=r.coordinateOrigin,a=r.modelMatrix,s=r.fromCoordinateSystem,u=r.fromCoordinateOrigin,c=Fu(n,i,o),l=c.geospatialOrigin,f=c.shaderCoordinateOrigin,h=c.offsetMode,p=$c(e,{viewport:n,modelMatrix:a,coordinateSystem:s,coordinateOrigin:u,offsetMode:h});if(h){var d=n.projectPosition(l||f);Ku["o"](p,p,d)}return p}Object(c["a"])(Hc,"displayName","WebMercatorViewport");var Kc=(Wc={},Object(T["a"])(Wc,10241,9987),Object(T["a"])(Wc,10240,9729),Object(T["a"])(Wc,10242,33071),Object(T["a"])(Wc,10243,33071),Wc),Jc={};function Qc(e,t){var r=e.context&&e.context.gl;if(!r||!t)return null;if(t instanceof ur)return t;t.constructor&&"Object"!==t.constructor.name&&(t={data:t});var n=null;t.compressed&&(n=Object(T["a"])({},10241,t.data.length>1?9985:9729));var i=new ur(r,Object(f["a"])(Object(f["a"])({},t),{},{parameters:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Kc),n),e.props.textureParameters)}));return Jc[i.id]=!0,i}function el(e){e&&e instanceof ur&&Jc[e.id]&&(e["delete"](),delete Jc[e.id])}function tl(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var r in e){var n=e[r],i=t[r],o=n===i||Array.isArray(n)&&Array.isArray(i)&&tl(n,i);if(!o)return!1}return!0}var rl={boolean:{validate:function(e,t){return!0},equal:function(e,t,r){return Boolean(e)===Boolean(t)}},number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate:function(e,t){return t.optional&&!e||sl(e)&&(3===e.length||4===e.length)},equal:function(e,t,r){return nl(e,t)}},accessor:{validate:function(e,t){var r=ul(e);return"function"===r||r===ul(t.value)},equal:function(e,t,r){return"function"===typeof t||nl(e,t)}},array:{validate:function(e,t){return t.optional&&!e||sl(e)},equal:function(e,t,r){return r.compare?nl(e,t):e===t}},object:{equal:function(e,t,r){return r.compare?tl(e,t):e===t}},function:{validate:function(e,t){return t.optional&&!e||"function"===typeof e},equal:function(e,t,r){return!r.compare||e===t}},data:{transform:function(e,t,r){var n=r.props.dataTransform;return n&&e?n(e):e}},image:{transform:function(e,t,r){return Qc(r,e)},release:function(e){el(e)}}};function nl(e,t){if(e===t)return!0;if(!sl(e)||!sl(t))return!1;var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function il(e){for(var t={},r={},n={},i=0,o=Object.entries(e);i<o.length;i++){var a=o[i],s=Object(b["a"])(a,2),u=s[0],c=s[1],l=null===c||void 0===c?void 0:c.deprecatedFor;if(l)n[u]=Array.isArray(l)?l:[l];else{var f=ol(u,c);t[u]=f,r[u]=f.value}}return{propTypes:t,defaultProps:r,deprecatedProps:n}}function ol(e,t){switch(ul(t)){case"object":return al(e,t);case"array":return al(e,{type:"array",value:t,compare:!1});case"boolean":return al(e,{type:"boolean",value:t});case"number":return al(e,{type:"number",value:t});case"function":return al(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function al(e,t){return"type"in t?Object(f["a"])(Object(f["a"])({name:e},rl[t.type]),t):"value"in t?Object(f["a"])({name:e,type:ul(t.value)},t):{name:e,type:"object",value:t}}function sl(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function ul(e){return sl(e)?"array":null===e?"null":typeof e}function cl(e,t){var r=ll(e.constructor),n=Object.create(r);n[uu]=e,n[lu]={},n[fu]={};for(var i=0;i<t.length;++i){var o=t[i];for(var a in o)n[a]=o[a]}return Object.freeze(n),n}function ll(e){var t=yl(e,"_mergedDefaultProps");return t||(fl(e),e._mergedDefaultProps)}function fl(e){var t=e.prototype;if(t){var r=Object.getPrototypeOf(e),n=ll(r),i=yl(e,"defaultProps")||{},o=il(i),a=hl(o.defaultProps,n,e),s=Object(f["a"])(Object(f["a"])({},r._propTypes),o.propTypes);dl(a,s);var u=Object(f["a"])(Object(f["a"])({},r._deprecatedProps),o.deprecatedProps);pl(a,u),e._mergedDefaultProps=a,e._propTypes=s,e._deprecatedProps=u}}function hl(e,t,r){var n=Object.create(null);Object.assign(n,t,e);var i=gl(r);return delete e.id,Object.defineProperties(n,{id:{writable:!0,value:i}}),n}function pl(e,t){var r=function(r){Object.defineProperty(e,r,{enumerable:!1,set:function(e){var n,i="".concat(this.id,": ").concat(r),o=Object(l["a"])(t[r]);try{for(o.s();!(n=o.n()).done;){var a=n.value;ml(this,a)||(this[a]=e)}}catch(s){o.e(s)}finally{o.f()}x.deprecated(i,t[r].join("/"))()}})};for(var n in t)r(n)}function dl(e,t){var r={},n={};for(var i in t){var o=t[i],a=o.name,s=o.value;o.async&&(r[a]=s,n[a]=vl(a))}e[cu]=r,e[lu]={},Object.defineProperties(e,n)}function vl(e){return{enumerable:!0,set:function(t){"string"===typeof t||t instanceof Promise||wn(t)?this[lu][e]=t:this[fu][e]=t},get:function(){if(this[fu]){if(e in this[fu]){var t=this[fu][e];return t||this[cu][e]}if(e in this[lu]){var r=this[uu]&&this[uu].internalState;if(r&&r.hasAsyncProp(e))return r.getAsyncProp(e)||this[cu][e]}}return this[cu][e]}}}function ml(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yl(e,t){return ml(e,t)&&e[t]}function gl(e){var t=yl(e,"layerName")||yl(e,"componentName");return t||x.once(0,"".concat(e.name,".componentName not specified"))(),t||e.name}var bl=0,_l=function(){function e(){Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"props",void 0),Object(c["a"])(this,"count",void 0);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this.props=cl(this,r),this.id=this.props.id,this.count=bl++}return Object(p["a"])(e,[{key:"clone",value:function(e){var t=this.props,r={};for(var n in t[cu])n in t[fu]?r[n]=t[fu][n]:n in t[lu]&&(r[n]=t[lu][n]);return new this.constructor(Object(f["a"])(Object(f["a"])(Object(f["a"])({},t),r),e))}}]),e}();function wl(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new xl(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function xl(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return xl=function(e){this.s=e,this.n=e.next},xl.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s["return"];return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s["return"];return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new xl(e)}Object(c["a"])(_l,"componentName","Component"),Object(c["a"])(_l,"defaultProps",{});var Ol=Object.freeze({}),El=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"component",void 0),Object(c["a"])(this,"onAsyncPropUpdated",void 0),Object(c["a"])(this,"asyncProps",void 0),Object(c["a"])(this,"oldProps",void 0),Object(c["a"])(this,"oldAsyncProps",void 0),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=null,this.oldAsyncProps=null}return Object(p["a"])(e,[{key:"finalize",value:function(){for(var e in this.asyncProps){var t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}},{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps||Ol}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"hasAsyncProp",value:function(e){return e in this.asyncProps}},{key:"getAsyncProp",value:function(e){var t=this.asyncProps[e];return t&&t.resolvedValue}},{key:"isAsyncPropLoading",value:function(e){if(e){var t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(var r in this.asyncProps)if(this.isAsyncPropLoading(r))return!0;return!1}},{key:"reloadAsyncProp",value:function(e,t){this._watchPromise(e,Promise.resolve(t))}},{key:"setAsyncProps",value:function(e){var t=e[fu]||{},r=e[lu]||e,n=e[cu]||{};for(var i in t){var o=t[i];this._createAsyncPropData(i,n[i]),this._updateAsyncProp(i,o),t[i]=this.getAsyncProp(i)}for(var a in r){var s=r[a];this._createAsyncPropData(a,n[a]),this._updateAsyncProp(a,s)}}},{key:"_fetch",value:function(e,t){return null}},{key:"_onResolve",value:function(e,t){}},{key:"_onError",value:function(e,t){}},{key:"_updateAsyncProp",value:function(e,t){this._didAsyncInputValueChange(e,t)&&("string"===typeof t&&(t=this._fetch(e,t)),t instanceof Promise?this._watchPromise(e,t):wn(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t))}},{key:"_freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps&&this.oldProps)for(var e in this.oldAsyncProps=Object.create(this.oldProps),this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}},{key:"_didAsyncInputValueChange",value:function(e,t){var r=this.asyncProps[e];return t!==r.resolvedValue&&t!==r.lastValue&&(r.lastValue=t,!0)}},{key:"_setPropValue",value:function(e,t){this._freezeAsyncOldProps();var r=this.asyncProps[e];r&&(t=this._postProcessValue(r,t),r.resolvedValue=t,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount)}},{key:"_setAsyncPropValue",value:function(e,t,r){var n=this.asyncProps[e];n&&r>=n.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),n.resolvedValue=t,n.resolvedLoadCount=r,this.onAsyncPropUpdated(e,t))}},{key:"_watchPromise",value:function(e,t){var r=this,n=this.asyncProps[e];if(n){n.pendingLoadCount++;var i=n.pendingLoadCount;t.then((function(t){t=r._postProcessValue(n,t),r._setAsyncPropValue(e,t,i),r._onResolve(e,t)}))["catch"]((function(t){r._onError(e,t)}))}}},{key:"_resolveAsyncIterable",value:function(){var e=Sr(Object(Er["a"])().mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,p;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("data"===t){e.next=3;break}return this._setPropValue(t,r),e.abrupt("return");case 3:if(n=this.asyncProps[t],n){e.next=6;break}return e.abrupt("return");case 6:n.pendingLoadCount++,i=n.pendingLoadCount,o=[],a=0,s=!1,u=!1,e.prev=12,l=wl(r);case 14:return e.next=16,l.next();case 16:if(!(s=!(f=e.sent).done)){e.next=26;break}h=f.value,p=this.component.props.dataTransform,o=p?p(h,o):o.concat(h),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:a,endRow:o.length}]}),a=o.length,this._setAsyncPropValue(t,o,i);case 23:s=!1,e.next=14;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](12),u=!0,c=e.t0;case 32:if(e.prev=32,e.prev=33,!s||null==l["return"]){e.next=37;break}return e.next=37,l["return"]();case 37:if(e.prev=37,!u){e.next=40;break}throw c;case 40:return e.finish(37);case 41:return e.finish(32);case 42:this._onResolve(t,o);case 43:case"end":return e.stop()}}),e,this,[[12,28,32,42],[33,,37,41]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_postProcessValue",value:function(e,t){var r=e.type;return r&&(r.release&&r.release(e.resolvedValue,r,this.component),r.transform)?r.transform(t,r,this.component):t}},{key:"_createAsyncPropData",value:function(e,t){var r=this.asyncProps[e];if(!r){var n=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}]),e}(),jl=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){var n,i=e.attributeManager,o=e.layer;return Object(h["a"])(this,r),n=t.call(this,o),Object(c["a"])(Object(_["a"])(n),"attributeManager",void 0),Object(c["a"])(Object(_["a"])(n),"needsRedraw",void 0),Object(c["a"])(Object(_["a"])(n),"needsUpdate",void 0),Object(c["a"])(Object(_["a"])(n),"subLayers",void 0),Object(c["a"])(Object(_["a"])(n),"usesPickingColorCache",void 0),Object(c["a"])(Object(_["a"])(n),"changeFlags",void 0),Object(c["a"])(Object(_["a"])(n),"viewport",void 0),Object(c["a"])(Object(_["a"])(n),"uniformTransitions",void 0),Object(c["a"])(Object(_["a"])(n),"propsInTransition",void 0),n.attributeManager=i,n.needsRedraw=!0,n.needsUpdate=!0,n.subLayers=null,n.usesPickingColorCache=!1,n}return Object(p["a"])(r,[{key:"layer",get:function(){return this.component},set:function(e){this.component=e}},{key:"_fetch",value:function(e,t){var n=this.component.props.fetch;return n?n(t,{propName:e,layer:this.layer}):m(Object(d["a"])(r.prototype),"_fetch",this).call(this,e,t)}},{key:"_onResolve",value:function(e,t){var r=this.component.props.onDataLoad;"data"===e&&r&&r(t,{propName:e,layer:this.layer})}},{key:"_onError",value:function(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}]),r}(El),Sl=function(e){return"boolean"===typeof e},kl=function(e){return"function"===typeof e},Tl=function(e){return null!==e&&"object"===typeof e},Pl=function(e){return Tl(e)&&e.constructor==={}.constructor},Al=function(e){return e&&"function"===typeof e[Symbol.iterator]},Il=function(e){return e&&"function"===typeof e[Symbol.asyncIterator]},Cl=function(e){return"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},Rl=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},Ml=function(e){return e&&"object"===typeof e&&e.isBuffer},Ll=function(e){return"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||Tl(e)&&kl(e.tee)&&kl(e.cancel)&&kl(e.getReader)},Dl=function(e){return Tl(e)&&kl(e.read)&&kl(e.pipe)&&Sl(e.readable)},Nl=function(e){return Ll(e)||Dl(e)};function Fl(e,t){if(!e)throw new Error(t||"loader assertion failed.")}function zl(e){var t;if(!e)return!1;Array.isArray(e)&&(e=e[0]);var r=Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions);return r}function Bl(e){var t,r,n;return Fl(e,"null loader"),Fl(zl(e),"invalid loader"),Array.isArray(e)&&(n=e[1],e=e[0],e=Object(f["a"])(Object(f["a"])({},e),{},{options:Object(f["a"])(Object(f["a"])({},e.options),n)})),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(r=e)&&void 0!==r&&r.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}var Ul="",Vl={};function Gl(e){for(var t in Vl)if(e.startsWith(t)){var r=Vl[t];e=e.replace(t,r)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(Ul).concat(e)),e}var ql=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Wl=/^([-\w.]+\/[-\w.+]+)/;function Hl(e){var t=Wl.exec(e);return t?t[1]:e}function Zl(e){var t=ql.exec(e);return t?t[1]:""}var Xl=/\?.*/;function $l(e){if(Cl(e)){var t=Kl(e.url||""),r=e.headers.get("content-type")||"";return{url:t,type:Hl(r)||Zl(t)}}return Rl(e)?{url:Kl(e.name||""),type:e.type||""}:"string"===typeof e?{url:Kl(e),type:Zl(e)}:{url:"",type:""}}function Yl(e){return Cl(e)?e.headers["content-length"]||-1:Rl(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function Kl(e){return e.replace(Xl,"")}function Jl(e){return Ql.apply(this,arguments)}function Ql(){return Ql=Sr(Object(Er["a"])().mark((function e(t){var r,n,i,o,a,s,u;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Cl(t)){e.next=2;break}return e.abrupt("return",t);case 2:return r={},n=Yl(t),n>=0&&(r["content-length"]=String(n)),i=$l(t),o=i.url,a=i.type,a&&(r["content-type"]=a),e.next=9,of(t);case 9:return s=e.sent,s&&(r["x-first-bytes"]=s),"string"===typeof t&&(t=(new TextEncoder).encode(t)),u=new Response(t,{headers:r}),Object.defineProperty(u,"url",{value:o}),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=Sr(Object(Er["a"])().mark((function e(t){var r;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,rf(t);case 3:throw r=e.sent,new Error(r);case 5:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function rf(e){return nf.apply(this,arguments)}function nf(){return nf=Sr(Object(Er["a"])().mark((function e(t){var r,n,i;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,n=t.headers.get("Content-Type"),i=t.statusText,!n.includes("application/json")){e.next=11;break}return e.t0=i,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,i=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:r+=i,r=r.length>60?"".concat(r.slice(0,60),"..."):r,e.next=17;break;case 15:e.prev=15,e.t3=e["catch"](1);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),nf.apply(this,arguments)}function of(e){return af.apply(this,arguments)}function af(){return af=Sr(Object(Er["a"])().mark((function e(t){var r,n,i,o;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=5,"string"!==typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,r)));case 3:if(!(t instanceof Blob)){e.next=8;break}return n=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){var r;return e(null===t||void 0===t||null===(r=t.target)||void 0===r?void 0:r.result)},t.readAsDataURL(n)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,r),o=sf(i),e.abrupt("return","data:base64,".concat(o));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function sf(e){for(var t="",r=new Uint8Array(e),n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}function uf(e,t){return cf.apply(this,arguments)}function cf(){return cf=Sr(Object(Er["a"])().mark((function e(t,r){var n;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=7;break}return t=Gl(t),n=r,null!==r&&void 0!==r&&r.fetch&&"function"!==typeof(null===r||void 0===r?void 0:r.fetch)&&(n=r.fetch),e.next=6,fetch(t,n);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,Jl(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}var lf=new w["a"]({id:"loaders.gl"}),ff=function(){function e(){Object(h["a"])(this,e)}return Object(p["a"])(e,[{key:"log",value:function(){return function(){}}},{key:"info",value:function(){return function(){}}},{key:"warn",value:function(){return function(){}}},{key:"error",value:function(){return function(){}}}]),e}(),hf=function(){function e(){Object(h["a"])(this,e),Object(c["a"])(this,"console",void 0),this.console=console}return Object(p["a"])(e,[{key:"log",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:"info",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}(),pf=r("ItzM"),df={fetch:null,mimeType:void 0,nothrow:!1,log:new hf,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:pf["a"],_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},vf={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function mf(){globalThis.loaders=globalThis.loaders||{};var e=globalThis.loaders;return e._state=e._state||{},e._state}var yf=function(){var e=mf();return e.globalOptions=e.globalOptions||Object(f["a"])({},df),e.globalOptions};function gf(e,t,r,n){return r=r||[],r=Array.isArray(r)?r:[r],_f(e,r),Of(t,e,n)}function bf(e,t){var r=yf(),n=e||r;return"function"===typeof n.fetch?n.fetch:Tl(n.fetch)?function(e){return uf(e,n)}:null!==t&&void 0!==t&&t.fetch?null===t||void 0===t?void 0:t.fetch:uf}function _f(e,t){wf(e,null,df,vf,t);var r,n=Object(l["a"])(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=e&&e[i.id]||{},a=i.options&&i.options[i.id]||{},s=i.deprecatedOptions&&i.deprecatedOptions[i.id]||{};wf(o,i.id,a,s,t)}}catch(u){n.e(u)}finally{n.f()}}function wf(e,t,r,n,i){var o=t||"Top level",a=t?"".concat(t,"."):"";for(var s in e){var u=!t&&Tl(e[s]),c="baseUri"===s&&!t,l="workerUrl"===s&&t;if(!(s in r)&&!c&&!l)if(s in n)lf.warn("".concat(o," loader option '").concat(a).concat(s,"' no longer supported, use '").concat(n[s],"'"))();else if(!u){var f=xf(s,i);lf.warn("".concat(o," loader option '").concat(a).concat(s,"' not recognized. ").concat(f))()}}}function xf(e,t){var r,n=e.toLowerCase(),i="",o=Object(l["a"])(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;for(var s in a.options){if(e===s)return"Did you mean '".concat(a.id,".").concat(s,"'?");var u=s.toLowerCase(),c=n.startsWith(u)||u.startsWith(n);c&&(i=i||"Did you mean '".concat(a.id,".").concat(s,"'?"))}}}catch(f){o.e(f)}finally{o.f()}return i}function Of(e,t,r){var n=e.options||{},i=Object(f["a"])({},n);return jf(i,r),null===i.log&&(i.log=new ff),Ef(i,yf()),Ef(i,t),i}function Ef(e,t){for(var r in t)if(r in t){var n=t[r];Pl(n)&&Pl(e[r])?e[r]=Object(f["a"])(Object(f["a"])({},e[r]),t[r]):e[r]=t[r]}}function jf(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}function Sf(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}var kf="3.2.12";function Tf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kf;Sf(e,"no worker provided");var r=e.version;return!(!t||!r)}var Pf=r("9fRD"),Af=Object(p["a"])((function e(){Object(h["a"])(this,e)})),If=new Map;function Cf(e){Sf(e.source&&!e.url||!e.source&&e.url);var t=If.get(e.source||e.url);return t||(e.url&&(t=Rf(e.url),If.set(e.url,t)),e.source&&(t=Mf(e.source),If.set(e.source,t))),Sf(t),t}function Rf(e){if(!e.startsWith("http"))return e;var t=Lf(e);return Mf(t)}function Mf(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function Lf(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}function Df(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=r||new Set;if(e){if(Nf(e))n.add(e);else if(Nf(e.buffer))n.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(var i in e)Df(e[i],t,n)}else;return void 0===r?Array.from(n):[]}function Nf(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var Ff=function(){},zf=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"name",void 0),Object(c["a"])(this,"source",void 0),Object(c["a"])(this,"url",void 0),Object(c["a"])(this,"terminated",!1),Object(c["a"])(this,"worker",void 0),Object(c["a"])(this,"onMessage",void 0),Object(c["a"])(this,"onError",void 0),Object(c["a"])(this,"_loadableURL","");var r=t.name,n=t.source,i=t.url;Sf(n||i),this.name=r,this.source=n,this.url=i,this.onMessage=Ff,this.onError=function(e){return console.log(e)},this.worker=Pf["a"]?this._createBrowserWorker():this._createNodeWorker()}return Object(p["a"])(e,[{key:"destroy",value:function(){this.onMessage=Ff,this.onError=Ff,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||Df(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=Cf({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}},{key:"_createNodeWorker",value:function(){var e,t=this;if(this.url){var r=this.url.includes(":/")||this.url.startsWith("/"),n=r?this.url:"./".concat(this.url);e=new Af(n,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new Af(this.source,{eval:!0})}return e.on("message",(function(e){t.onMessage(e)})),e.on("error",(function(e){t.onError(e)})),e.on("exit",(function(e){})),e}}],[{key:"isSupported",value:function(){return"undefined"!==typeof Worker&&Pf["a"]||"undefined"!==typeof Af&&!Pf["a"]}}]),e}(),Bf=function(){function e(t,r){var n=this;Object(h["a"])(this,e),Object(c["a"])(this,"name",void 0),Object(c["a"])(this,"workerThread",void 0),Object(c["a"])(this,"isRunning",!0),Object(c["a"])(this,"result",void 0),Object(c["a"])(this,"_resolve",(function(){})),Object(c["a"])(this,"_reject",(function(){})),this.name=t,this.workerThread=r,this.result=new Promise((function(e,t){n._resolve=e,n._reject=t}))}return Object(p["a"])(e,[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){Sf(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){Sf(this.isRunning),this.isRunning=!1,this._reject(e)}}]),e}(),Uf=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"name","unnamed"),Object(c["a"])(this,"source",void 0),Object(c["a"])(this,"url",void 0),Object(c["a"])(this,"maxConcurrency",1),Object(c["a"])(this,"maxMobileConcurrency",1),Object(c["a"])(this,"onDebug",(function(){})),Object(c["a"])(this,"reuseWorkers",!0),Object(c["a"])(this,"props",{}),Object(c["a"])(this,"jobQueue",[]),Object(c["a"])(this,"idleQueue",[]),Object(c["a"])(this,"count",0),Object(c["a"])(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}return Object(p["a"])(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=Object(f["a"])(Object(f["a"])({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:function(){var e=Sr(Object(Er["a"])().mark((function e(t){var r,n,i,o=this,a=arguments;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:function(e,t,r){return e.done(r)},n=a.length>2&&void 0!==a[2]?a[2]:function(e,t){return e.error(t)},i=new Promise((function(e){return o.jobQueue.push({name:t,onMessage:r,onError:n,onStart:e}),o})),this._startQueuedJob(),e.next=6,i;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_startQueuedJob",value:function(){var e=Sr(Object(Er["a"])().mark((function e(){var t,r,n;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker(),t){e.next=5;break}return e.abrupt("return");case 5:if(r=this.jobQueue.shift(),!r){e.next=18;break}return this.onDebug({message:"Starting job",name:r.name,workerThread:t,backlog:this.jobQueue.length}),n=new Bf(r.name,t),t.onMessage=function(e){return r.onMessage(n,e.type,e.payload)},t.onError=function(e){return r.onError(n,e)},r.onStart(n),e.prev=12,e.next=15,n.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"returnWorkerToQueue",value:function(e){var t=this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency();t?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new zf({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return Pf["b"]?this.maxMobileConcurrency:this.maxConcurrency}}],[{key:"isSupported",value:function(){return zf.isSupported()}}]),e}(),Vf={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:function(){}},Gf=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"props",void 0),Object(c["a"])(this,"workerPools",new Map),this.props=Object(f["a"])({},Vf),this.setProps(t),this.workerPools=new Map}return Object(p["a"])(e,[{key:"destroy",value:function(){var e,t=Object(l["a"])(this.workerPools.values());try{for(t.s();!(e=t.n()).done;){var r=e.value;r.destroy()}}catch(n){t.e(n)}finally{t.f()}this.workerPools=new Map}},{key:"setProps",value:function(e){this.props=Object(f["a"])(Object(f["a"])({},this.props),e);var t,r=Object(l["a"])(this.workerPools.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.setProps(this._getWorkerPoolProps())}}catch(i){r.e(i)}finally{r.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,r=e.source,n=e.url,i=this.workerPools.get(t);return i||(i=new Uf({name:t,source:r,url:n}),i.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,i)),i}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}],[{key:"isSupported",value:function(){return zf.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}]),e}();Object(c["a"])(Gf,"_workerFarm",void 0);var qf="latest";function Wf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t[e.id]||{},n="".concat(e.id,"-worker.js"),i=r.workerUrl;if(i||"compression"!==e.id||(i=t.workerUrl),"test"===t._workerType&&(i="modules/".concat(e.module,"/dist/").concat(n)),!i){var o=e.version;"latest"===o&&(o=qf);var a=o?"@".concat(o):"";i="https://unpkg.com/@loaders.gl/".concat(e.module).concat(a,"/dist/").concat(n)}return Sf(i),i}function Hf(e,t){return!!Gf.isSupported()&&(!!(Pf["a"]||null!==t&&void 0!==t&&t._nodeWorkers)&&(e.worker&&(null===t||void 0===t?void 0:t.worker)))}function Zf(e,t,r,n,i){return Xf.apply(this,arguments)}function Xf(){return Xf=Sr(Object(Er["a"])().mark((function e(t,r,n,i,o){var a,s,u,c,l,f;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,s=Wf(t,n),u=Gf.getWorkerFarm(n),c=u.getWorkerPool({name:a,url:s}),n=JSON.parse(JSON.stringify(n)),i=JSON.parse(JSON.stringify(i||{})),e.next=8,c.startJob("process-on-worker",$f.bind(null,o));case 8:return l=e.sent,l.postMessage("process",{input:r,options:n,context:i}),e.next=12,l.result;case 12:return f=e.sent,e.next=15,f.result;case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function $f(e,t,r,n){return Yf.apply(this,arguments)}function Yf(){return Yf=Sr(Object(Er["a"])().mark((function e(t,r,n,i){var o,a,s,u,c;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return r.done(i),e.abrupt("break",21);case 5:return r.error(new Error(i.error)),e.abrupt("break",21);case 7:return o=i.id,a=i.input,s=i.options,e.prev=8,e.next=11,t(a,s);case 11:u=e.sent,r.postMessage("done",{id:o,result:u}),e.next=19;break;case 15:e.prev=15,e.t1=e["catch"](8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:o,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(n));case 21:case"end":return e.stop()}}),e,null,[[8,15]])}))),Yf.apply(this,arguments)}r(2);function Kf(e){return e&&"object"===typeof e&&e.isBuffer}function Jf(e){if(Kf(e)){var t=new Uint8Array(e.buffer,e.byteOffset,e.length);return t.slice().buffer}return e}function Qf(e){if(Kf(e))return Jf(e);if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"===typeof e){var t=e,r=(new TextEncoder).encode(t);return r.buffer}if(e&&"object"===typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function eh(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),i=new Uint8Array(t),o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}function th(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),o=i.reduce((function(e,t){return e+t.byteLength}),0),a=new Uint8Array(o),s=0,u=Object(l["a"])(i);try{for(u.s();!(n=u.n()).done;){var c=n.value;a.set(c,s),s+=c.byteLength}}catch(f){u.e(f)}finally{u.f()}return a.buffer}function rh(e){return nh.apply(this,arguments)}function nh(){return nh=Sr(Object(Er["a"])().mark((function e(t){var r,n,i,o,a,s,u;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=[],n=!1,i=!1,e.prev=3,a=wl(t);case 5:return e.next=7,a.next();case 7:if(!(n=!(s=e.sent).done)){e.next=13;break}u=s.value,r.push(u);case 10:n=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](3),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!n||null==a["return"]){e.next=24;break}return e.next=24,a["return"]();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",th.apply(void 0,r));case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])}))),nh.apply(this,arguments)}var ih=Object(Er["a"])().mark(ah),oh=262144;function ah(e,t){var r,n,i,o,a;return Object(Er["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:r=(null===t||void 0===t?void 0:t.chunkSize)||oh,n=0,i=new TextEncoder;case 3:if(!(n<e.length)){s.next=11;break}return o=Math.min(e.length-n,r),a=e.slice(n,n+o),n+=o,s.next=9,i.encode(a);case 9:s.next=3;break;case 11:case"end":return s.stop()}}),ih)}var sh=Object(Er["a"])().mark(ch),uh=262144;function ch(e){var t,r,n,i,o,a,s,u,c=arguments;return Object(Er["a"])().wrap((function(l){while(1)switch(l.prev=l.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=t.chunkSize,n=void 0===r?uh:r,i=0;case 3:if(!(i<e.byteLength)){l.next=14;break}return o=Math.min(e.byteLength-i,n),a=new ArrayBuffer(o),s=new Uint8Array(e,i,o),u=new Uint8Array(a),u.set(s),i+=o,l.next=12,a;case 12:l.next=3;break;case 14:case"end":return l.stop()}}),sh)}function lh(e){this.wrapped=e}function fh(e){return new lh(e)}function hh(e){var t,r;function n(e,n){return new Promise((function(o,a){var s={key:e,arg:n,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,i(e,n))}))}function i(t,r){try{var n=e[t](r),a=n.value,s=a instanceof lh;Promise.resolve(s?a.wrapped:a).then((function(e){s?i("return"===t?"return":"next",e):o(n.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(u){o("throw",u)}}function o(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1});break}t=t.next,t?i(t.key,t.arg):r=null}this._invoke=n,"function"!==typeof e["return"]&&(this["return"]=void 0)}function ph(e){return function(){return new hh(e.apply(this,arguments))}}hh.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},hh.prototype.next=function(e){return this._invoke("next",e)},hh.prototype["throw"]=function(e){return this._invoke("throw",e)},hh.prototype["return"]=function(e){return this._invoke("return",e)};var dh=1048576;function vh(e,t){return mh.apply(this,arguments)}function mh(){return mh=ph(Object(Er["a"])().mark((function e(t,r){var n,i,o,a;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(null===r||void 0===r?void 0:r.chunkSize)||dh,i=0;case 2:if(!(i<t.size)){e.next=12;break}return o=i+n,e.next=6,fh(t.slice(i,o).arrayBuffer());case 6:return a=e.sent,i=o,e.next=10,a;case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function yh(e,t){return pf["a"]?gh(e,t):_h(e,t)}function gh(e,t){return bh.apply(this,arguments)}function bh(){return bh=ph(Object(Er["a"])().mark((function e(t,r){var n,i,o,a,s,u;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.getReader(),e.prev=1;case 2:return o=i||n.read(),null!==r&&void 0!==r&&r._streamReadAhead&&(i=n.read()),e.next=7,fh(o);case 7:if(a=e.sent,s=a.done,u=a.value,!s){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,Qf(u);case 14:e.next=2;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](1),n.releaseLock();case 21:case"end":return e.stop()}}),e,null,[[1,18]])}))),bh.apply(this,arguments)}function _h(e,t){return wh.apply(this,arguments)}function wh(){return wh=ph(Object(Er["a"])().mark((function e(t,r){var n,i,o,a,s,u;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,a=wl(t);case 4:return e.next=6,fh(a.next());case 6:if(!(n=!(s=e.sent).done)){e.next=13;break}return u=s.value,e.next=10,Qf(u);case 10:n=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!n||null==a["return"]){e.next=24;break}return e.next=24,fh(a["return"]());case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])}))),wh.apply(this,arguments)}function xh(e,t){if("string"===typeof e)return ah(e,t);if(e instanceof ArrayBuffer)return ch(e,t);if(Rl(e))return vh(e,t);if(Nl(e))return yh(e,t);if(Cl(e)){var r=e;return yh(r.body,t)}throw new Error("makeIterator")}var Oh="Cannot convert supplied data type";function Eh(e,t,r){if(t.text&&"string"===typeof e)return e;if(Ml(e)&&(e=e.buffer),e instanceof ArrayBuffer){var n=e;if(t.text&&!t.binary){var i=new TextDecoder("utf8");return i.decode(n)}return n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary){var o=new TextDecoder("utf8");return o.decode(e)}var a=e.buffer,s=e.byteLength||e.length;return 0===e.byteOffset&&s===a.byteLength||(a=a.slice(e.byteOffset,e.byteOffset+s)),a}throw new Error(Oh)}function jh(e,t,r){return Sh.apply(this,arguments)}function Sh(){return Sh=Sr(Object(Er["a"])().mark((function e(t,r,n){var i,o;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!==typeof t&&!i){e.next=3;break}return e.abrupt("return",Eh(t,r,n));case 3:if(!Rl(t)){e.next=7;break}return e.next=6,Jl(t);case 6:t=e.sent;case 7:if(!Cl(t)){e.next=21;break}return o=t,e.next=11,ef(o);case 11:if(!r.binary){e.next=17;break}return e.next=14,o.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,o.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if(Nl(t)&&(t=xh(t,n)),!Al(t)&&!Il(t)){e.next=24;break}return e.abrupt("return",rh(t));case 24:throw new Error(Oh);case 25:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function kh(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r)return r;var n=Object(f["a"])({fetch:bf(t,e)},e);return Array.isArray(n.loaders)||(n.loaders=null),n}function Th(e,t){if(!t&&e&&!Array.isArray(e))return e;var r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat(Object(Se["a"])(r),Object(Se["a"])(n)):n}return r&&r.length?r:null}function Ph(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(t+1):""}function Ah(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}function Ih(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="/";return t=t.map((function(e,r){return r&&(e=e.replace(new RegExp("^".concat(n)),"")),r!==t.length-1&&(e=e.replace(new RegExp("".concat(n,"$")),"")),e})),t.join(n)}r(0),r(3);var Ch=new w["a"]({id:"loaders.gl"}),Rh=function(){var e=mf();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function Mh(e){var t=Rh();e=Array.isArray(e)?e:[e];var r,n=Object(l["a"])(e);try{var i=function(){var e=r.value,n=Bl(e);t.find((function(e){return n===e}))||t.unshift(n)};for(n.s();!(r=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}}function Lh(){return Rh()}var Dh=/\.([^.]+)$/;function Nh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=Sr(Object(Er["a"])().mark((function e(t){var r,n,i,o,a=arguments;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:[],n=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,Uh(t)){e.next=5;break}return e.abrupt("return",null);case 5:if(o=zh(t,r,Object(f["a"])(Object(f["a"])({},n),{},{nothrow:!0}),i),!o){e.next=8;break}return e.abrupt("return",o);case 8:if(!Rl(t)){e.next=13;break}return e.next=11,t.slice(0,10).arrayBuffer();case 11:t=e.sent,o=zh(t,r,n,i);case 13:if(o||null!==n&&void 0!==n&&n.nothrow){e.next=15;break}throw new Error(Vh(t));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function zh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!Uh(e))return null;if(t&&!Array.isArray(t))return Bl(t);var i,o=[];(t&&(o=o.concat(t)),null!==r&&void 0!==r&&r.ignoreRegisteredLoaders)||(i=o).push.apply(i,Object(Se["a"])(Lh()));Gh(o);var a=Bh(e,o,r,n);if(!a&&(null===r||void 0===r||!r.nothrow))throw new Error(Vh(e));return a}function Bh(e,t,r,n){var i,o=$l(e),a=o.url,s=o.type,u=a||(null===n||void 0===n?void 0:n.url),c=null,l="";(null!==r&&void 0!==r&&r.mimeType&&(c=Hh(t,null===r||void 0===r?void 0:r.mimeType),l="match forced by supplied MIME type ".concat(null===r||void 0===r?void 0:r.mimeType)),c=c||qh(t,u),l=l||(c?"matched url ".concat(u):""),c=c||Hh(t,s),l=l||(c?"matched MIME type ".concat(s):""),c=c||Zh(t,e),l=l||(c?"matched initial data ".concat(Kh(e)):""),c=c||Hh(t,null===r||void 0===r?void 0:r.fallbackMimeType),l=l||(c?"matched fallback MIME type ".concat(s):""),l)&&Ch.log(1,"selectLoader selected ".concat(null===(i=c)||void 0===i?void 0:i.name,": ").concat(l,"."));return c}function Uh(e){return!(e instanceof Response&&204===e.status)}function Vh(e){var t=$l(e),r=t.url,i=t.type,o="No valid loader found (";o+=r?"".concat(n.filename(r),", "):"no url provided, ",o+="MIME type: ".concat(i?'"'.concat(i,'"'):"not provided",", ");var a=e?Kh(e):"";return o+=a?' first bytes: "'.concat(a,'"'):"first bytes: not available",o+=")",o}function Gh(e){var t,r=Object(l["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;Bl(n)}}catch(i){r.e(i)}finally{r.f()}}function qh(e,t){var r=t&&Dh.exec(t),n=r&&r[1];return n?Wh(e,n):null}function Wh(e,t){t=t.toLowerCase();var r,n=Object(l["a"])(e);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,a=Object(l["a"])(o.extensions);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.toLowerCase()===t)return o}}catch(u){a.e(u)}finally{a.f()}}}catch(u){n.e(u)}finally{n.f()}return null}function Hh(e,t){var r,n=Object(l["a"])(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(o){n.e(o)}finally{n.f()}return null}function Zh(e,t){if(!t)return null;var r,n=Object(l["a"])(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("string"===typeof t){if(Xh(t,i))return i}else if(ArrayBuffer.isView(t)){if($h(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){var o=0;if($h(t,o,i))return i}}}catch(a){n.e(a)}finally{n.f()}return null}function Xh(e,t){if(t.testText)return t.testText(e);var r=Array.isArray(t.tests)?t.tests:[t.tests];return r.some((function(t){return e.startsWith(t)}))}function $h(e,t,r){var n=Array.isArray(r.tests)?r.tests:[r.tests];return n.some((function(n){return Yh(e,t,r,n)}))}function Yh(e,t,r,n){if(n instanceof ArrayBuffer)return eh(n,e,n.byteLength);switch(typeof n){case"function":return n(e,r);case"string":var i=Jh(e,t,n.length);return n===i;default:return!1}}function Kh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Jh(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return Jh(e,r,t)}return""}function Jh(e,t,r){if(e.byteLength<t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}function Qh(e,t,r,n){return ep.apply(this,arguments)}function ep(){return ep=Sr(Object(Er["a"])().mark((function e(t,r,n,i){var o,a,s,u,c;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Sf(!i||"object"===typeof i),!r||Array.isArray(r)||zl(r)||(i=void 0,n=r,r=void 0),e.next=4,t;case 4:return t=e.sent,n=n||{},o=$l(t),a=o.url,s=r,u=Th(s,i),e.next=11,Nh(t,u,n);case 11:if(c=e.sent,c){e.next=14;break}return e.abrupt("return",null);case 14:return n=gf(n,c,u,a),i=kh({url:a,parse:Qh,loaders:u},n,i),e.next=18,tp(c,t,n,i);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(e,t,r,n){return rp.apply(this,arguments)}function rp(){return rp=Sr(Object(Er["a"])().mark((function e(t,r,n,i){var o,a,s,u,c,l,f,h;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Tf(t),Cl(r)&&(o=r,a=o.ok,s=o.redirected,u=o.status,c=o.statusText,l=o.type,f=o.url,h=Object.fromEntries(o.headers.entries()),i.response={headers:h,ok:a,redirected:s,status:u,statusText:c,type:l,url:f}),e.next=4,jh(r,t,n);case 4:if(r=e.sent,!t.parseTextSync||"string"!==typeof r){e.next=8;break}return n.dataType="text",e.abrupt("return",t.parseTextSync(r,n,i,t));case 8:if(!Hf(t,n)){e.next=12;break}return e.next=11,Zf(t,r,n,i,Qh);case 11:return e.abrupt("return",e.sent);case 12:if(!t.parseText||"string"!==typeof r){e.next=16;break}return e.next=15,t.parseText(r,n,i,t);case 15:return e.abrupt("return",e.sent);case 16:if(!t.parse){e.next=20;break}return e.next=19,t.parse(r,n,i,t);case 19:return e.abrupt("return",e.sent);case 20:throw Sf(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"));case 22:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function np(e,t,r,n){return ip.apply(this,arguments)}function ip(){return ip=Sr(Object(Er["a"])().mark((function e(t,r,n,i){var o,a;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Array.isArray(r)||zl(r)||(void 0,n=r,r=void 0),o=bf(n),a=t,"string"!==typeof t){e.next=7;break}return e.next=6,o(t);case 6:a=e.sent;case 7:if(!Rl(t)){e.next=11;break}return e.next=10,o(t);case 10:a=e.sent;case 11:return e.next=13,Qh(a,r,n);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}var op="layer.changeFlag",ap="layer.initialize",sp="layer.update",up="layer.finalize",cp="layer.matched",lp=Math.pow(2,24)-1,fp=Object.freeze([]),hp=Tu((function(e){var t=e.oldViewport,r=e.viewport;return t.equals(r)})),pp=new Uint8ClampedArray(0),dp={data:{type:"data",value:fp,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:function(e){return e&&e.__diff},compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:function(e,t){var r,n=t.propName,i=t.layer,o=t.loaders,a=t.loadOptions,s=t.signal,u=i.context.resourceManager;(a=a||i.getLoadOptions(),o=o||i.props.loaders,s)&&(a=Object(f["a"])(Object(f["a"])({},a),{},{fetch:Object(f["a"])(Object(f["a"])({},null===(r=a)||void 0===r?void 0:r.fetch),{},{signal:s})}));var c=u.contains(e);return c||a||(u.add({resourceId:e,data:np(e,o),persistent:!1}),c=!0),c?u.subscribe({resourceId:e,onChange:function(e){var t;return null===(t=i.internalState)||void 0===t?void 0:t.reloadAsyncProp(n,e)},consumerId:i.id,requestId:n}):np(e,o,a)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:k.DRAW,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:O.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:function(e){var t=e.layerIndex;return[0,100*-t]},compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}},vp=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"internalState",null),Object(c["a"])(Object(_["a"])(e),"lifecycle",su.NO_STATE),Object(c["a"])(Object(_["a"])(e),"context",void 0),Object(c["a"])(Object(_["a"])(e),"state",void 0),Object(c["a"])(Object(_["a"])(e),"parent",null),e}return Object(p["a"])(r,[{key:"root",get:function(){var e=this;while(e.parent)e=e.parent;return e}},{key:"toString",value:function(){var e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}},{key:"project",value:function(e){yn(this.internalState);var t=this.internalState.viewport||this.context.viewport,r=$c(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),n=bc(r,t.pixelProjectionMatrix),i=Object(b["a"])(n,3),o=i[0],a=i[1],s=i[2];return 2===e.length?[o,a]:[o,a,s]}},{key:"unproject",value:function(e){yn(this.internalState);var t=this.internalState.viewport||this.context.viewport;return t.unproject(e)}},{key:"projectPosition",value:function(e,t){yn(this.internalState);var r=this.internalState.viewport||this.context.viewport;return Yc(e,Object(f["a"])({viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem},t))}},{key:"isComposite",get:function(){return!1}},{key:"setState",value:function(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){this.internalState&&(this.internalState.needsRedraw=!0)}},{key:"setNeedsUpdate",value:function(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}},{key:"isLoaded",get:function(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}},{key:"wrapLongitude",get:function(){return this.props.wrapLongitude}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}},{key:"setModuleParameters",value:function(e){var t,r=Object(l["a"])(this.getModels());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.updateModuleSettings(e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getLoadOptions",value:function(){return this.props.loadOptions}},{key:"use64bitPositions",value:function(){var e=this.props.coordinateSystem;return e===O.DEFAULT||e===O.LNGLAT||e===O.CARTESIAN}},{key:"onHover",value:function(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}},{key:"onClick",value:function(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}},{key:"decodePickingColor",value:function(e){yn(e instanceof Uint8Array);var t=Object(b["a"])(e,3),r=t[0],n=t[1],i=t[2],o=r+256*n+65536*i-1;return o}},{key:"getNumInstances",value:function(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:Eu(this.props.data)}},{key:"getStartIndices",value:function(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}},{key:"getBounds",value:function(){var e,t=this.getAttributeManager();if(!t)return null;var r=t.attributes,n=r.positions,i=r.instancePositions;return null===(e=n||i)||void 0===e?void 0:e.getBounds()}},{key:"getShaders",value:function(e){var t,r=Object(l["a"])(this.props.extensions);try{for(r.s();!(t=r.n()).done;){var n=t.value;e=Pu(e,n.getShaders.call(this,n))}}catch(i){r.e(i)}finally{r.f()}return e}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){var t=this.getAttributeManager(),r=e.changeFlags.dataChanged;if(r&&t)if(Array.isArray(r)){var n,i=Object(l["a"])(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.invalidateAll(o)}}catch(v){i.e(v)}finally{i.f()}}else t.invalidateAll();var a=e.props,s=e.oldProps,u=Number.isInteger(s.highlightedObjectIndex)||s.pickable,c=Number.isInteger(a.highlightedObjectIndex)||a.pickable;if(u!==c&&t){var f=t.attributes,h=f.pickingColors,p=f.instancePickingColors,d=h||p;d&&(c&&d.constant&&(d.constant=!1,t.invalidate(d.id)),d.value||c||(d.constant=!0,d.value=[0,0,0]))}}},{key:"finalizeState",value:function(e){var t,r=Object(l["a"])(this.getModels());try{for(r.s();!(t=r.n()).done;){var n=t.value;n["delete"]()}}catch(o){r.e(o)}finally{r.f()}var i=this.getAttributeManager();i&&i.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}},{key:"draw",value:function(e){var t,r=Object(l["a"])(this.getModels());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.draw(e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"getPickingInfo",value:function(e){var t=e.info,r=(e.mode,e.sourceLayer,t.index);return r>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[r]),t}},{key:"raiseError",value:function(e,t){var r,n,i,o;(t&&(e.message="".concat(t,": ").concat(e.message)),null!==(r=(n=this.props).onError)&&void 0!==r&&r.call(n,e))||(null===(i=this.context)||void 0===i||null===(o=i.onError)||void 0===o||o.call(i,e,this))}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}},{key:"needsUpdate",value:function(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}},{key:"hasUniformTransition",value:function(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}},{key:"activateViewport",value:function(e){if(this.internalState){var t=this.internalState.viewport;this.internalState.viewport=e,t&&hp({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}},{key:"updateAttributes",value:function(e){var t,r=Object(l["a"])(this.getModels());try{for(r.s();!(t=r.n()).done;){var n=t.value;this._setModelAttributes(n,e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"_updateAttributes",value:function(){var e=this.getAttributeManager();if(e){var t=this.props,r=this.getNumInstances(),n=this.getStartIndices();e.update({data:t.data,numInstances:r,startIndices:n,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});var i=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}}},{key:"_updateAttributeTransition",value:function(){var e=this.getAttributeManager();e&&e.updateTransition()}},{key:"_updateUniformTransition",value:function(){var e=this.internalState.uniformTransitions;if(e.active){var t=e.update(),r=Object.create(this.props);for(var n in t)Object.defineProperty(r,n,{value:t[n]});return r}return this.props}},{key:"calculateInstancePickingColors",value:function(e,t){var r=t.numInstances;if(!e.constant){var n=Math.floor(pp.length/3);if(this.internalState.usesPickingColorCache=!0,n<r){r>lp&&x.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),pp=tn.allocate(pp,r,{size:3,copy:!0,maxCount:Math.max(r,lp)});for(var i=Math.floor(pp.length/3),o=[],a=n;a<i;a++)this.encodePickingColor(a,o),pp[3*a+0]=o[0],pp[3*a+1]=o[1],pp[3*a+2]=o[2]}e.value=pp.subarray(0,3*r)}}},{key:"_setModelAttributes",value:function(e,t){var r=this.getAttributeManager(),n=e.userData.excludeAttributes||{},i=r.getShaderAttributes(t,n);e.setAttributes(i)}},{key:"disablePickingIndex",value:function(e){this._disablePickingIndex(e)}},{key:"_disablePickingIndex",value:function(e){var t=this.getAttributeManager().attributes,r=t.pickingColors,n=t.instancePickingColors,i=r||n;if(i){var o=i.getVertexOffset(e),a=i.getVertexOffset(e+1);i.buffer.subData({data:new Uint8Array(a-o),offset:o})}}},{key:"restorePickingColors",value:function(){var e=this.getAttributeManager().attributes,t=e.pickingColors,r=e.instancePickingColors,n=t||r;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==pp.buffer&&(n.value=pp.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}},{key:"_initialize",value:function(){yn(!this.internalState),yn(Number.isFinite(this.props.coordinateSystem)),Un(ap,this);var e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new jl({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:function(){return x.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e}}),this.internalState.layer=this,this.internalState.uniformTransitions=new au(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);var t,r=Object(l["a"])(this.props.extensions);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.initializeState.call(this,this.context,n)}}catch(i){r.e(i)}finally{r.f()}this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}},{key:"_transferState",value:function(e){Un(cp,this,this===e);var t=e.state,r=e.internalState;this!==e&&(this.internalState=r,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}},{key:"_update",value:function(){var e=this.needsUpdate();if(Un(sp,this,e),e){var t=this.props,r=this.context,n=this.internalState,i=r.viewport,o=this._updateUniformTransition();n.propsInTransition=o,r.viewport=n.viewport||i,this.props=o;try{var a=this._getUpdateParams(),s=this.getModels();if(r.gl)this.updateState(a);else try{this.updateState(a)}catch(p){}var u,c=Object(l["a"])(this.props.extensions);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.updateState.call(this,a,f)}}catch(d){c.e(d)}finally{c.f()}var h=this.getModels()[0]!==s[0];this._postUpdate(a,h)}finally{r.viewport=i,this.props=t,this._clearChangeFlags(),n.needsUpdate=!1,n.resetOldProps()}}}},{key:"_finalize",value:function(){Un(up,this),this.finalizeState(this.context);var e,t=Object(l["a"])(this.props.extensions);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.finalizeState.call(this,r)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_drawLayer",value:function(e){var t=this,r=e.moduleParameters,n=void 0===r?null:r,i=e.uniforms,o=void 0===i?{}:i,a=e.parameters,s=void 0===a?{}:a;this._updateAttributeTransition();var u=this.props,c=this.context;this.props=this.internalState.propsInTransition||u;var f=this.props.opacity;o.opacity=Math.pow(f,1/2.2);try{n&&this.setModuleParameters(n);var h=this.props.getPolygonOffset,p=h&&h(o)||[0,0];$e(c.gl,{polygonOffset:p}),Je(c.gl,s,(function(){var e,r={moduleParameters:n,uniforms:o,parameters:s,context:c},i=Object(l["a"])(t.props.extensions);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.draw.call(t,r,a)}}catch(u){i.e(u)}finally{i.f()}t.draw(r)}))}finally{this.props=u}}},{key:"getChangeFlags",value:function(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}},{key:"setChangeFlags",value:function(e){if(this.internalState){var t=this.internalState.changeFlags;for(var r in e)if(e[r]){var n=!1;switch(r){case"dataChanged":var i=e[r],o=t[r];i&&Array.isArray(o)&&(t.dataChanged=Array.isArray(i)?o.concat(i):i,n=!0);default:t[r]||(t[r]=e[r],n=!0)}n&&Un(op,this,r,e)}var a=Boolean(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=a,t.somethingChanged=a||t.viewportChanged||t.stateChanged}}},{key:"_clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"_diffProps",value:function(e,t){var r=pu(e,t);if(r.updateTriggersChanged)for(var n in r.updateTriggersChanged)r.updateTriggersChanged[n]&&this.invalidateAttribute(n);if(r.transitionsChanged)for(var i in r.transitionsChanged){var o;this.internalState.uniformTransitions.add(i,t[i],e[i],null===(o=e.transitions)||void 0===o?void 0:o[i])}return this.setChangeFlags(r)}},{key:"validateProps",value:function(){hu(this.props)}},{key:"updateAutoHighlight",value:function(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}},{key:"_updateAutoHighlight",value:function(e){var t={pickingSelectedColor:e.picked?e.color:null},r=this.props.highlightColor;e.picked&&"function"===typeof r&&(t.pickingHighlightColor=r(e)),this.setModuleParameters(t),this.setNeedsRedraw()}},{key:"_getAttributeManager",value:function(){var e=this.context;return new Ks(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}},{key:"_postUpdate",value:function(e,t){var r=e.props,n=e.oldProps;this.setNeedsRedraw(),this._updateAttributes();var i=this.state.model;null===i||void 0===i||i.setInstanceCount(this.getNumInstances());var o=r.autoHighlight,a=r.highlightedObjectIndex,s=r.highlightColor;if(t||n.autoHighlight!==o||n.highlightedObjectIndex!==a||n.highlightColor!==s){var u={};o||(u.pickingSelectedColor=null),Array.isArray(s)&&(u.pickingHighlightColor=s),Number.isInteger(a)&&(u.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(u)}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.internalState)return!1;var t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;var r=this.getAttributeManager(),n=!!r&&r.getNeedsRedraw(e);return t=t||n,t}},{key:"_onAsyncPropUpdated",value:function(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}]),r}(_l);Object(c["a"])(vp,"defaultProps",dp),Object(c["a"])(vp,"layerName","Layer");var mp="compositeLayer.renderLayers",yp=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"isComposite",get:function(){return!0}},{key:"isLoaded",get:function(){return m(Object(d["a"])(r.prototype),"isLoaded",this)&&this.getSubLayers().every((function(e){return e.isLoaded}))}},{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(e){}},{key:"setState",value:function(e){m(Object(d["a"])(r.prototype),"setState",this).call(this,e),this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(e){var t=e.info,r=t.object,n=r&&r.__source&&r.__source.parent&&r.__source.parent.id===this.id;return n?(t.object=r.__source.object,t.index=r.__source.index,t):t}},{key:"filterSubLayer",value:function(e){return!0}},{key:"shouldRenderSubLayer",value:function(e,t){return t&&t.length}},{key:"getSubLayerClass",value:function(e,t){var r=this.props._subLayerProps;return r&&r[e]&&r[e].type||t}},{key:"getSubLayerRow",value:function(e,t,r){return e.__source={parent:this,object:t,index:r},e}},{key:"getSubLayerAccessor",value:function(e){if("function"===typeof e){var t={index:-1,data:this.props.data,target:[]};return function(r,n){return r&&r.__source?(t.index=r.__source.index,e(r.__source.object,t)):e(r,n)}}return e}},{key:"getSubLayerProps",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.props,n=r.opacity,i=r.pickable,o=r.visible,a=r.parameters,s=r.getPolygonOffset,u=r.highlightedObjectIndex,c=r.autoHighlight,h=r.highlightColor,p=r.coordinateSystem,d=r.coordinateOrigin,v=r.wrapLongitude,m=r.positionFormat,y=r.modelMatrix,g=r.extensions,b=r.fetch,_=r.operation,w=r._subLayerProps,x={id:"",updateTriggers:{},opacity:n,pickable:i,visible:o,parameters:a,getPolygonOffset:s,highlightedObjectIndex:u,autoHighlight:c,highlightColor:h,coordinateSystem:p,coordinateOrigin:d,wrapLongitude:v,positionFormat:m,modelMatrix:y,extensions:g,fetch:b,operation:_},O=w&&t.id&&w[t.id],E=O&&O.updateTriggers,j=t.id||"sublayer";if(O){var S=this.constructor._propTypes,k=t.type?t.type._propTypes:{};for(var T in O){var P=k[T]||S[T];P&&"accessor"===P.type&&(O[T]=this.getSubLayerAccessor(O[T]))}}Object.assign(x,t,O),x.id="".concat(this.props.id,"-").concat(j),x.updateTriggers=Object(f["a"])(Object(f["a"])({all:null===(e=this.props.updateTriggers)||void 0===e?void 0:e.all},t.updateTriggers),E);var A,I=Object(l["a"])(g);try{for(I.s();!(A=I.n()).done;){var C=A.value,R=C.getSubLayerProps.call(this,C);R&&Object.assign(x,R,{updateTriggers:Object.assign(x.updateTriggers,R.updateTriggers)})}}catch(M){I.e(M)}finally{I.f()}return x}},{key:"_updateAutoHighlight",value:function(e){var t,r=Object(l["a"])(this.getSubLayers());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.updateAutoHighlight(e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"_getAttributeManager",value:function(){return null}},{key:"_postUpdate",value:function(e,t){var r=this.internalState.subLayers,n=!r||this.needsUpdate();if(n){var i=this.renderLayers();r=On(i,Boolean),this.internalState.subLayers=r}Un(mp,this,n,r);var o,a=Object(l["a"])(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.parent=this}}catch(u){a.e(u)}finally{a.f()}}}]),r}(vp);Object(c["a"])(yp,"layerName","CompositeLayer");var gp="#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",bp={name:"fp32",vs:gp,fs:null},_p="#define SMOOTH_EDGE_RADIUS 0.5",wp="\n".concat(_p,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),xp="\n".concat(_p,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n"),Op={name:"geometry",vs:wp,fs:xp},Ep=Object.keys(O).map((function(e){return"const int COORDINATE_SYSTEM_".concat(e," = ").concat(O[e],";")})).join(""),jp=Object.keys(E).map((function(e){return"const int PROJECTION_MODE_".concat(e," = ").concat(E[e],";")})).join(""),Sp=Object.keys(j).map((function(e){return"const int UNIT_".concat(e.toUpperCase()," = ").concat(j[e],";")})).join(""),kp="".concat(Ep,"\n").concat(jp,"\n").concat(Sp,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\n\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n'),Tp={};function Pp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tp;return"viewport"in e?Bu(e):{}}var Ap={name:"project",dependencies:[bp,Op],vs:kp,getUniforms:Pp},Ip="\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n",Cp={name:"project32",dependencies:[Ap],vs:Ip},Rp=new Uint8Array([0,255,255,255]),Mp={pickingSelectedColor:null,pickingHighlightColor:Rp,pickingActive:!1,pickingAttribute:!1};function Lp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mp,t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){var r=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=r}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){var n=Array.from(e.pickingHighlightColor,(function(e){return e/255}));Number.isFinite(n[3])||(n[3]=1),t.picking_uHighlightColor=n}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}var Dp="uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",Np="uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",Fp={name:"picking",vs:Dp,fs:Np,getUniforms:Lp},zp=Object(f["a"])({inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}}},Fp),Bp={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Up=function(){function e(){Object(h["a"])(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=void 0===r?kt("geometry"):r,i=t.drawMode,o=void 0===i?Bp.TRIANGLES:i,a=t.attributes,s=void 0===a?{}:a,u=t.indices,c=void 0===u?null:u,l=t.vertexCount,f=void 0===l?null:l;this.id=n,this.drawMode=0|o,this.attributes={},this.userData={},this._setAttributes(s,c),this.vertexCount=f||this._calculateVertexCount(this.attributes,this.indices)}return Object(p["a"])(e,[{key:"mode",get:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?Object(f["a"])({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}},{key:"_setAttributes",value:function(e,t){for(var r in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var n=e[r];n=ArrayBuffer.isView(n)?{value:n}:n,Ot(ArrayBuffer.isView(n.value),"".concat(this._print(r),": must be typed array or object with value as typed array")),"POSITION"!==r&&"positions"!==r||n.size||(n.size=3),"indices"===r?(Ot(!this.indices),this.indices=n):this.attributes[r]=n}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(e,t){if(t)return t.value.length;var r=1/0;for(var n in e){var i=e[n],o=i.value,a=i.size,s=i.constant;!s&&o&&a>=1&&(r=Math.min(r,o.length/a))}return Ot(Number.isFinite(r)),r}}],[{key:"DRAW_MODE",get:function(){return Bp}}]),e}(),Vp="#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // Expand geometry to accomodate edge smoothing\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",Gp="#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",qp=[0,0,0,255],Wp={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:qp},getLineColor:{type:"accessor",value:qp},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},Hp=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"getShaders",value:function(){return m(Object(d["a"])(r.prototype),"getShaders",this).call(this,{vs:Vp,fs:Gp,modules:[Cp,zp]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if(m(Object(d["a"])(r.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,n=this.context.gl;null===(t=this.state.model)||void 0===t||t["delete"](),this.state.model=this._getModel(n),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.radiusUnits,i=r.radiusScale,o=r.radiusMinPixels,a=r.radiusMaxPixels,s=r.stroked,u=r.filled,c=r.billboard,l=r.antialiasing,f=r.lineWidthUnits,h=r.lineWidthScale,p=r.lineWidthMinPixels,d=r.lineWidthMaxPixels;this.state.model.setUniforms(t).setUniforms({stroked:s?1:0,filled:u,billboard:c,antialiasing:l,radiusUnits:j[n],radiusScale:i,radiusMinPixels:o,radiusMaxPixels:a,lineWidthUnits:j[f],lineWidthScale:h,lineWidthMinPixels:p,lineWidthMaxPixels:d}).draw()}},{key:"_getModel",value:function(e){var t=[-1,-1,0,1,-1,0,1,1,0,-1,1,0];return new Is(e,Object(f["a"])(Object(f["a"])({},this.getShaders()),{},{id:this.props.id,geometry:new Up({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array(t)}}}),isInstanced:!0}))}}]),r}(vp);Object(c["a"])(Hp,"defaultProps",Wp),Object(c["a"])(Hp,"layerName","ScatterplotLayer");var Zp=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"opts",void 0),Object(c["a"])(this,"typedArrayManager",void 0),Object(c["a"])(this,"indexStarts",[0]),Object(c["a"])(this,"vertexStarts",[0]),Object(c["a"])(this,"vertexCount",0),Object(c["a"])(this,"instanceCount",0),Object(c["a"])(this,"attributes",void 0),Object(c["a"])(this,"_attributeDefs",void 0),Object(c["a"])(this,"data",void 0),Object(c["a"])(this,"getGeometry",void 0),Object(c["a"])(this,"geometryBuffer",void 0),Object(c["a"])(this,"buffers",void 0),Object(c["a"])(this,"positionSize",void 0),Object(c["a"])(this,"normalize",void 0);var r=t.attributes,n=void 0===r?{}:r;this.typedArrayManager=tn,this.attributes={},this._attributeDefs=n,this.opts=t,this.updateGeometry(t)}return Object(p["a"])(e,[{key:"updateGeometry",value:function(e){Object.assign(this.opts,e);var t=this.opts,r=t.data,n=t.buffers,i=void 0===n?{}:n,o=t.getGeometry,a=t.geometryBuffer,s=t.positionFormat,u=t.dataChanged,c=t.normalize,f=void 0===c||c;if(this.data=r,this.getGeometry=o,this.positionSize=a&&a.size||("XY"===s?2:3),this.buffers=i,this.normalize=f,a&&(yn(r.startIndices),this.getGeometry=this.getGeometryFromBuffer(a),f||(i.positions=a)),this.geometryBuffer=i.positions,Array.isArray(u)){var h,p=Object(l["a"])(u);try{for(p.s();!(h=p.n()).done;){var d=h.value;this._rebuildGeometry(d)}}catch(v){p.e(v)}finally{p.f()}}else this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(e){var t=e.startRow,r=e.endRow;this._rebuildGeometry({startRow:t,endRow:r})}},{key:"getGeometryFromBuffer",value:function(e){var t=e.value||e;return ArrayBuffer.isView(t)?xn(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}},{key:"_allocate",value:function(e,t){var r=this.attributes,n=this.buffers,i=this._attributeDefs,o=this.typedArrayManager;for(var a in i)if(a in n)o.release(r[a]),r[a]=null;else{var s=i[a];s.copy=t,r[a]=o.allocate(r[a],e,s)}}},{key:"_forEachGeometry",value:function(e,t,r){var n,i=this.data,o=this.getGeometry,a=_n(i,t,r),s=a.iterable,u=a.objectInfo,c=Object(l["a"])(s);try{for(c.s();!(n=c.n()).done;){var f=n.value;u.index++;var h=o?o(f,u):null;e(h,u.index)}}catch(p){c.e(p)}finally{c.f()}}},{key:"_rebuildGeometry",value:function(e){var t=this;if(this.data){var r=this.indexStarts,n=this.vertexStarts,i=this.instanceCount,o=this.data,a=this.geometryBuffer,s=e||{},u=s.startRow,c=void 0===u?0:u,l=s.endRow,f=void 0===l?1/0:l,h={};if(e||(r=[0],n=[0]),this.normalize||!a)this._forEachGeometry((function(e,r){var i=e&&t.normalizeGeometry(e);h[r]=i,n[r+1]=n[r]+(i?t.getGeometrySize(i):0)}),c,f),i=n[n.length-1];else if(n=o.startIndices,i=n[o.length]||0,ArrayBuffer.isView(a))i=i||a.length/this.positionSize;else if(a instanceof Yt){var p=a.accessor.stride||4*this.positionSize;i=i||a.byteLength/p}else if(a.buffer){var d=a.stride||4*this.positionSize;i=i||a.buffer.byteLength/d}else if(a.value){var v=a.value,m=a.stride/v.BYTES_PER_ELEMENT||this.positionSize;i=i||v.length/m}this._allocate(i,Boolean(e)),this.indexStarts=r,this.vertexStarts=n,this.instanceCount=i;var y={};this._forEachGeometry((function(e,o){var a=h[o]||e;y.vertexStart=n[o],y.indexStart=r[o];var s=o<n.length-1?n[o+1]:i;y.geometrySize=s-n[o],y.geometryIndex=o,t.updateGeometryAttributes(a,y)}),c,f),this.vertexCount=r[r.length-1]}}}]),e}(),Xp={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function $p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Yp(e,r);return n!==t&&(Jp(e,r),!0)}function Yp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(Kp(e,t))}function Kp(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.start,n=void 0===r?0:r,i=t.end,o=void 0===i?e.length:i,a=t.size||2,s=0,u=n,c=o-a;u<o;u+=a)s+=(e[u]-e[c])*(e[u+1]+e[c+1]),c=u;return s/2}function Jp(e,t){for(var r=t.start,n=void 0===r?0:r,i=t.end,o=void 0===i?e.length:i,a=t.size,s=void 0===a?2:a,u=(o-n)/s,c=Math.floor(u/2),l=0;l<c;++l)for(var f=n+l*s,h=n+(u-1-l)*s,p=0;p<s;++p){var d=e[f+p];e[f+p]=e[h+p],e[h+p]=d}}function Qp(e,t){var r=t.length,n=e.length;if(n>0){for(var i=!0,o=0;o<r;o++)if(e[n-r+o]!==t[o]){i=!1;break}if(i)return!1}for(var a=0;a<r;a++)e[n+a]=t[a];return!0}function ed(e,t){for(var r=t.length,n=0;n<r;n++)e[n]=t[n]}function td(e,t,r,n){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=n+t*r,a=0;a<r;a++)i[a]=e[o+a];return i}function rd(e,t,r,n){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&r)i=(n[3]-e[1])/(t[1]-e[1]),o=3;else if(4&r)i=(n[1]-e[1])/(t[1]-e[1]),o=1;else if(2&r)i=(n[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&r))return null;i=(n[0]-e[0])/(t[0]-e[0]),o=0}for(var s=0;s<e.length;s++)a[s]=(1&o)===s?n[o]:i*(t[s]-e[s])+e[s];return a}function nd(e,t){var r=0;return e[0]<t[0]?r|=1:e[0]>t[2]&&(r|=2),e[1]<t[1]?r|=4:e[1]>t[3]&&(r|=8),r}function id(e,t){var r,n,i=t||{},o=i.size,a=void 0===o?2:o,s=i.broken,u=void 0!==s&&s,c=i.gridResolution,l=void 0===c?10:c,f=i.gridOffset,h=void 0===f?[0,0]:f,p=i.startIndex,d=void 0===p?0:p,v=i.endIndex,m=void 0===v?e.length:v,y=(m-d)/a,g=[],b=[g],_=td(e,0,a,d),w=ld(_,l,h,[]),x=[];Qp(g,_);for(var O=1;O<y;O++){r=td(e,O,a,d,r),n=nd(r,w);while(n){rd(_,r,n,w,x);var E=nd(x,w);E&&(rd(_,x,E,w,x),n=E),Qp(g,x),ed(_,x),fd(w,l,n),u&&g.length>a&&(g=[],b.push(g),Qp(g,_)),n=nd(r,w)}Qp(g,r),ed(_,r)}return u?b:b[0]}var od=0,ad=1;function sd(e,t){for(var r=0;r<t.length;r++)e.push(t[r]);return e}function ud(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e.length)return[];var n=r||{},i=n.size,o=void 0===i?2:i,a=n.gridResolution,s=void 0===a?10:a,u=n.gridOffset,c=void 0===u?[0,0]:u,l=n.edgeTypes,f=void 0!==l&&l,h=[],p=[{pos:e,types:f?new Array(e.length/o).fill(ad):null,holes:t||[]}],d=[[],[]],v=[];while(p.length){var m=p.shift(),y=m.pos,g=m.types,b=m.holes;hd(y,o,b[0]||y.length,d),v=ld(d[0],s,c,v);var _=nd(d[1],v);if(_){var w=cd(y,g,o,0,b[0]||y.length,v,_),x={pos:w[0].pos,types:w[0].types,holes:[]},O={pos:w[1].pos,types:w[1].types,holes:[]};p.push(x,O);for(var E=0;E<b.length;E++)w=cd(y,g,o,b[E],b[E+1]||y.length,v,_),w[0]&&(x.holes.push(x.pos.length),x.pos=sd(x.pos,w[0].pos),f&&(x.types=sd(x.types,w[0].types))),w[1]&&(O.holes.push(O.pos.length),O.pos=sd(O.pos,w[1].pos),f&&(O.types=sd(O.types,w[1].types)))}else{var j={positions:y};f&&(j.edgeTypes=g),b.length&&(j.holeIndices=b),h.push(j)}}return h}function cd(e,t,r,n,i,o,a){for(var s,u,c,l=(i-n)/r,f=[],h=[],p=[],d=[],v=[],m=td(e,l-1,r,n),y=Math.sign(8&a?m[1]-o[3]:m[0]-o[2]),g=t&&t[l-1],b=0,_=0,w=0;w<l;w++)s=td(e,w,r,n,s),u=Math.sign(8&a?s[1]-o[3]:s[0]-o[2]),c=t&&t[n/r+w],u&&y&&y!==u&&(rd(m,s,a,o,v),Qp(f,v)&&p.push(g),Qp(h,v)&&d.push(g)),u<=0?(Qp(f,s)&&p.push(c),b-=u):p.length&&(p[p.length-1]=od),u>=0?(Qp(h,s)&&d.push(c),_+=u):d.length&&(d[d.length-1]=od),ed(m,s),y=u,g=c;return[b?{pos:f,types:t&&p}:null,_?{pos:h,types:t&&d}:null]}function ld(e,t,r,n){var i=Math.floor((e[0]-r[0])/t)*t+r[0],o=Math.floor((e[1]-r[1])/t)*t+r[1];return n[0]=i,n[1]=o,n[2]=i+t,n[3]=o+t,n}function fd(e,t,r){8&r?(e[1]+=t,e[3]+=t):4&r?(e[1]-=t,e[3]-=t):2&r?(e[0]+=t,e[2]+=t):1&r&&(e[0]-=t,e[2]-=t)}function hd(e,t,r,n){for(var i=1/0,o=-1/0,a=1/0,s=-1/0,u=0;u<r;u+=t){var c=e[u],l=e[u+1];i=c<i?c:i,o=c>o?c:o,a=l<a?l:a,s=l>s?l:s}return n[0][0]=i,n[0][1]=a,n[1][0]=o,n[1][1]=s,n}var pd=85.051129;function dd(e,t){var r=t||{},n=r.size,i=void 0===n?2:n,o=r.startIndex,a=void 0===o?0:o,s=r.endIndex,u=void 0===s?e.length:s,c=r.normalize,f=void 0===c||c,h=e.slice(a,u);gd(h,i,0,u-a);var p=id(h,{size:i,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(f){var d,v=Object(l["a"])(p);try{for(v.s();!(d=v.n()).done;){var m=d.value;bd(m,i)}}catch(y){v.e(y)}finally{v.f()}}return p}function vd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n=r||{},i=n.size,o=void 0===i?2:i,a=n.normalize,s=void 0===a||a,u=n.edgeTypes,c=void 0!==u&&u;t=t||[];for(var f=[],h=[],p=0,d=0,v=0;v<=t.length;v++){for(var m=t[v]||e.length,y=d,g=md(e,o,p,m),b=g;b<m;b++)f[d++]=e[b];for(var _=p;_<g;_++)f[d++]=e[_];gd(f,o,y,d),yd(f,o,y,d,null===r||void 0===r?void 0:r.maxLatitude),p=m,h[v]=d}h.pop();var w=ud(f,h,{size:o,gridResolution:360,gridOffset:[-180,-180],edgeTypes:c});if(s){var x,O=Object(l["a"])(w);try{for(O.s();!(x=O.n()).done;){var E=x.value;bd(E.positions,o)}}catch(j){O.e(j)}finally{O.f()}}return w}function md(e,t,r,n){for(var i=-1,o=-1,a=r+1;a<n;a+=t){var s=Math.abs(e[a]);s>i&&(i=s,o=a-1)}return o}function yd(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pd,o=e[r],a=e[n-t];if(Math.abs(o-a)>180){var s=td(e,0,t,r);s[0]+=360*Math.round((a-o)/360),Qp(e,s),s[1]=Math.sign(s[1])*i,Qp(e,s),s[0]=o,Qp(e,s)}}function gd(e,t,r,n){for(var i,o=e[0],a=r;a<n;a+=t){i=e[a];var s=i-o;(s>180||s<-180)&&(i-=360*Math.round(s/360)),e[a]=o=i}}function bd(e,t){for(var r,n=e.length/t,i=0;i<n;i++)if(r=e[i*t],(r+180)%360!==0)break;var o=360*-Math.round(r/360);if(0!==o)for(var a=0;a<n;a++)e[a*t]+=o}function _d(e,t,r,n){var i;if(Array.isArray(e[0])){var o=e.length*t;i=new Array(o);for(var a=0;a<e.length;a++)for(var s=0;s<t;s++)i[a*t+s]=e[a][s]||0}else i=e;return r?id(i,{size:t,gridResolution:r}):n?dd(i,{size:t}):i}var wd=1,xd=2,Od=4,Ed=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){return Object(h["a"])(this,r),t.call(this,Object(f["a"])(Object(f["a"])({},e),{},{attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}}))}return Object(p["a"])(r,[{key:"get",value:function(e){return this.attributes[e]}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize?m(Object(d["a"])(r.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"normalizeGeometry",value:function(e){return this.normalize?_d(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}},{key:"getGeometrySize",value:function(e){if(jd(e)){var t,r=0,n=Object(l["a"])(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r+=this.getGeometrySize(i)}}catch(a){n.e(a)}finally{n.f()}return r}var o=this.getPathLength(e);return o<2?0:this.isClosed(e)?o<3?0:o+2:o}},{key:"updateGeometryAttributes",value:function(e,t){if(0!==t.geometrySize)if(e&&jd(e)){var r,n=Object(l["a"])(e);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o}}catch(a){n.e(a)}finally{n.f()}}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}},{key:"_updateSegmentTypes",value:function(e,t){var r=this.attributes.segmentTypes,n=!!e&&this.isClosed(e),i=t.vertexStart,o=t.geometrySize;r.fill(0,i,i+o),n?(r[i]=Od,r[i+o-2]=Od):(r[i]+=wd,r[i+o-2]+=xd),r[i+o-1]=Od}},{key:"_updatePositions",value:function(e,t){var r=this.attributes.positions;if(r&&e)for(var n=t.vertexStart,i=t.geometrySize,o=new Array(3),a=n,s=0;s<i;a++,s++)this.getPointOnPath(e,s,o),r[3*a]=o[0],r[3*a+1]=o[1],r[3*a+2]=o[2]}},{key:"getPathLength",value:function(e){return e.length/this.positionSize}},{key:"getPointOnPath",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this.positionSize;t*n>=e.length&&(t+=1-e.length/n);var i=t*n;return r[0]=e[i],r[1]=e[i+1],r[2]=3===n&&e[i+2]||0,r}},{key:"isClosed",value:function(e){if(!this.normalize)return Boolean(this.opts.loop);var t=this.positionSize,r=e.length-t;return e[0]===e[r]&&e[1]===e[r+1]&&(2===t||e[2]===e[r+2])}}]),r}(Zp);function jd(e){return Array.isArray(e[0])}var Sd="#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",kd="#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",Td=[0,0,0,255],Pd={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:function(e){return e.path}},getColor:{type:"accessor",value:Td},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},Ad={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},Id=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"state",void 0),e}return Object(p["a"])(r,[{key:"getShaders",value:function(){return m(Object(d["a"])(r.prototype),"getShaders",this).call(this,{vs:Sd,fs:kd,modules:[Cp,zp]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e=this,t=!0,r=this.getAttributeManager();r.addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:Ad,accessor:"getPath",update:this.calculatePositions,noAlloc:t,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:t},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Ad,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:Ad,defaultValue:Td},instancePickingColors:{size:3,type:5121,accessor:function(t,r){var n=r.index,i=r.target;return e.encodePickingColor(t&&t.__source?t.__source.index:n,i)}}}),this.setState({pathTesselator:new Ed({fp64:this.use64bitPositions()})})}},{key:"updateState",value:function(e){m(Object(d["a"])(r.prototype),"updateState",this).call(this,e);var t=e.props,n=e.changeFlags,i=this.getAttributeManager(),o=n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath);if(o){var a=this.state.pathTesselator,s=t.data.attributes||{};a.updateGeometry({data:t.data,geometryBuffer:s.getPath,buffers:s,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:a.instanceCount,startIndices:a.vertexStarts}),n.dataChanged||i.invalidateAll()}if(n.extensionsChanged){var u,c=this.context.gl;null===(u=this.state.model)||void 0===u||u["delete"](),this.state.model=this._getModel(c),i.invalidateAll()}}},{key:"getPickingInfo",value:function(e){var t=m(Object(d["a"])(r.prototype),"getPickingInfo",this).call(this,e),n=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===n}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var r=0;r<t.length;r++)t[r].__source.index===e&&this._disablePickingIndex(r);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.jointRounded,i=r.capRounded,o=r.billboard,a=r.miterLimit,s=r.widthUnits,u=r.widthScale,c=r.widthMinPixels,l=r.widthMaxPixels;this.state.model.setUniforms(t).setUniforms({jointType:Number(n),capType:Number(i),billboard:o,widthUnits:j[s],widthScale:u,miterLimit:a,widthMinPixels:c,widthMaxPixels:l}).draw()}},{key:"_getModel",value:function(e){var t=[0,1,2,1,4,2,1,3,4,3,5,4],r=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new Is(e,Object(f["a"])(Object(f["a"])({},this.getShaders()),{},{id:this.props.id,geometry:new Up({drawMode:4,attributes:{indices:new Uint16Array(t),positions:{value:new Float32Array(r),size:2}}}),isInstanced:!0}))}},{key:"calculatePositions",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateSegmentTypes",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}]),r}(vp);Object(c["a"])(Id,"defaultProps",Pd),Object(c["a"])(Id,"layerName","PathLayer");var Cd="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",Rd={lightSources:{}};function Md(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,r=void 0===t?[0,0,0]:t,n=e.intensity,i=void 0===n?1:n;return r.map((function(e){return e*i/255}))}function Ld(e){var t=e.ambientLight,r=e.pointLights,n=void 0===r?[]:r,i=e.directionalLights,o=void 0===i?[]:i,a={};return a["lighting_uAmbientLight.color"]=t?Md(t):[0,0,0],n.forEach((function(e,t){a["lighting_uPointLight[".concat(t,"].color")]=Md(e),a["lighting_uPointLight[".concat(t,"].position")]=e.position,a["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),a.lighting_uPointLightCount=n.length,o.forEach((function(e,t){a["lighting_uDirectionalLight[".concat(t,"].color")]=Md(e),a["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),a.lighting_uDirectionalLightCount=o.length,a}function Dd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rd;if("lightSources"in e){var t=e.lightSources||{},r=t.ambientLight,n=t.pointLights,i=t.directionalLights,o=r||n&&n.length>0||i&&i.length>0;return o?Object.assign({},Ld({ambientLight:r,pointLights:n,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in e){var a,s={pointLights:[],directionalLights:[]},u=Object(l["a"])(e.lights||[]);try{for(u.s();!(a=u.n()).done;){var c=a.value;switch(c.type){case"ambient":s.ambientLight=c;break;case"directional":s.directionalLights.push(c);break;case"point":s.pointLights.push(c);break;default:}}}catch(f){u.e(f)}finally{u.f()}return Dd({lightSources:s})}return{}}var Nd={name:"lights",vs:Cd,fs:Cd,getUniforms:Dd,defines:{MAX_LIGHTS:3}},Fd="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",zd={};function Bd(e){var t=e.ambient,r=void 0===t?.35:t,n=e.diffuse,i=void 0===n?.6:n,o=e.shininess,a=void 0===o?32:o,s=e.specularColor,u=void 0===s?[30,30,30]:s;return{lighting_uAmbient:r,lighting_uDiffuse:i,lighting_uShininess:a,lighting_uSpecularColor:u.map((function(e){return e/255}))}}function Ud(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zd;if(!("material"in e))return{};var t=e.material;return t?Bd(t):{lighting_uEnabled:!1}}var Vd={name:"gouraud-lighting",dependencies:[Nd],vs:Fd,defines:{LIGHTING_VERTEX:1},getUniforms:Ud},Gd={name:"phong-lighting",dependencies:[Nd],fs:Fd,defines:{LIGHTING_FRAGMENT:1},getUniforms:Ud},qd=r("VmRL"),Wd=r.n(qd),Hd=Xp.CLOCKWISE,Zd=Xp.COUNTER_CLOCKWISE,Xd={isClosed:!0};function $d(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}function Yd(e){return"positions"in e?e.positions:e}function Kd(e){return"holeIndices"in e?e.holeIndices:null}function Jd(e){return Array.isArray(e[0])}function Qd(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}function ev(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function tv(e,t,r,n){for(var i=0;i<t;i++)if(e[r+i]!==e[n-t+i])return!1;return!0}function rv(e,t,r,n,i){for(var o=t,a=r.length,s=0;s<a;s++)for(var u=0;u<n;u++)e[o++]=r[s][u]||0;if(!ev(r))for(var c=0;c<n;c++)e[o++]=r[0][c]||0;return Xd.start=t,Xd.end=o,Xd.size=n,$p(e,i,Xd),o}function nv(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;o=o||r.length;var s=o-i;if(s<=0)return t;for(var u=t,c=0;c<s;c++)e[u++]=r[i+c];if(!tv(r,n,i,o))for(var l=0;l<n;l++)e[u++]=r[i+l];return Xd.start=t,Xd.end=u,Xd.size=n,$p(e,a,Xd),u}function iv(e,t){$d(e);var r=[],n=[];if("positions"in e){var i=e,o=i.positions,a=i.holeIndices;if(a){for(var s=0,u=0;u<=a.length;u++)s=nv(r,s,o,t,a[u-1],a[u],0===u?Hd:Zd),n.push(s);return n.pop(),{positions:r,holeIndices:n}}e=o}if(!Jd(e))return nv(r,0,e,t,0,r.length,Hd),r;if(!Qd(e)){var c,f=0,h=Object(l["a"])(e.entries());try{for(h.s();!(c=h.n()).done;){var p=c.value,d=Object(b["a"])(p,2),v=d[0],m=d[1];f=rv(r,f,m,t,0===v?Hd:Zd),n.push(f)}}catch(y){h.e(y)}finally{h.f()}return n.pop(),{positions:r,holeIndices:n}}return rv(r,0,e,t,Hd),r}function ov(e,t,r){var n=Kd(e);n&&(n=n.map((function(e){return e/t})));var i=Yd(e);if(r){var o=i.length;i=i.slice();for(var a=[],s=0;s<o;s+=t){a[0]=i[s],a[1]=i[s+1];var u=r(a);i[s]=u[0],i[s+1]=u[1]}}return Wd()(i,n,t)}var av=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){Object(h["a"])(this,r);var n=e.fp64,i=e.IndexType,o=void 0===i?Uint32Array:i;return t.call(this,Object(f["a"])(Object(f["a"])({},e),{},{attributes:{positions:{size:3,type:n?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:o,size:1}}}))}return Object(p["a"])(r,[{key:"get",value:function(e){var t=this.attributes;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}},{key:"updateGeometry",value:function(e){m(Object(d["a"])(r.prototype),"updateGeometry",this).call(this,e);var t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}},{key:"normalizeGeometry",value:function(e){if(this.normalize){var t=iv(e,this.positionSize);return this.opts.resolution?ud(Yd(t),Kd(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?vd(Yd(t),Kd(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}},{key:"getGeometrySize",value:function(e){if(sv(e)){var t,r=0,n=Object(l["a"])(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r+=this.getGeometrySize(i)}}catch(o){n.e(o)}finally{n.f()}return r}return Yd(e).length/this.positionSize}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize||!this.buffers.indices?m(Object(d["a"])(r.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"updateGeometryAttributes",value:function(e,t){if(e&&sv(e)){var r,n=Object(l["a"])(e);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o,t.indexStart=this.indexStarts[t.geometryIndex+1]}}catch(a){n.e(a)}finally{n.f()}}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}},{key:"_updateIndices",value:function(e,t){var r=t.geometryIndex,n=t.vertexStart,i=t.indexStart,o=this.attributes,a=this.indexStarts,s=this.typedArrayManager,u=o.indices;if(u&&e){var c=i,l=ov(e,this.positionSize,this.opts.preproject);u=s.allocate(u,i+l.length,{copy:!0});for(var f=0;f<l.length;f++)u[c++]=l[f]+n;a[r+1]=i+l.length,o.indices=u}}},{key:"_updatePositions",value:function(e,t){var r=t.vertexStart,n=t.geometrySize,i=this.attributes.positions,o=this.positionSize;if(i&&e)for(var a=Yd(e),s=r,u=0;u<n;s++,u++){var c=a[u*o],l=a[u*o+1],f=o>2?a[u*o+2]:0;i[3*s]=c,i[3*s+1]=l,i[3*s+2]=f}}},{key:"_updateVertexValid",value:function(e,t){var r=t.vertexStart,n=t.geometrySize,i=this.positionSize,o=this.attributes.vertexValid,a=e&&Kd(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,r):o.fill(1,r,r+n),a)for(var s=0;s<a.length;s++)o[r+a[s]/i-1]=0;o[r+n-1]=0}}]),r}(Zp);function sv(e){return Array.isArray(e)&&e.length>0&&!Number.isFinite(e[0])}var uv="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",cv="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(uv,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),lv="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(uv,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n"),fv="#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",hv=[0,0,0,255],pv={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:function(e){return e.polygon}},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:hv},getLineColor:{type:"accessor",value:hv},material:!0},dv={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},vv=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"state",void 0),e}return Object(p["a"])(r,[{key:"getShaders",value:function(e){return m(Object(d["a"])(r.prototype),"getShaders",this).call(this,{vs:"top"===e?cv:lv,fs:fv,defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[Cp,Vd,zp]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e=this,t=this.context,r=t.gl,n=t.viewport,i=this.props.coordinateSystem;n.isGeospatial&&i===O.DEFAULT&&(i=O.LNGLAT),this.setState({numInstances:0,polygonTesselator:new av({preproject:i===O.LNGLAT&&n.projectFlat.bind(n),fp64:this.use64bitPositions(),IndexType:!r||Xr(r,Gr.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});var o=this.getAttributeManager(),a=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:a},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:dv,accessor:"getPolygon",update:this.calculatePositions,noAlloc:a,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:a},elevations:{size:1,transition:dv,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:dv,accessor:"getFillColor",defaultValue:hv,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:dv,accessor:"getLineColor",defaultValue:hv,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:function(t,r){var n=r.index,i=r.target;return e.encodePickingColor(t&&t.__source?t.__source.index:n,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}},{key:"getPickingInfo",value:function(e){var t=m(Object(d["a"])(r.prototype),"getPickingInfo",this).call(this,e),n=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===n}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var r=0;r<t.length;r++)t[r].__source.index===e&&this._disablePickingIndex(r);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.extruded,i=r.filled,o=r.wireframe,a=r.elevationScale,s=this.state,u=s.topModel,c=s.sideModel,l=s.polygonTesselator,h=Object(f["a"])(Object(f["a"])({},t),{},{extruded:Boolean(n),elevationScale:a});c&&(c.setInstanceCount(l.instanceCount-1),c.setUniforms(h),o&&(c.setDrawMode(3),c.setUniforms({isWireframe:!0}).draw()),i&&(c.setDrawMode(6),c.setUniforms({isWireframe:!1}).draw())),u&&(u.setVertexCount(l.vertexCount),u.setUniforms(h).draw())}},{key:"updateState",value:function(e){m(Object(d["a"])(r.prototype),"updateState",this).call(this,e),this.updateGeometry(e);var t,n=e.props,i=e.oldProps,o=e.changeFlags,a=this.getAttributeManager(),s=o.extensionsChanged||n.filled!==i.filled||n.extruded!==i.extruded;s&&(null===(t=this.state.models)||void 0===t||t.forEach((function(e){return e["delete"]()})),this.setState(this._getModels(this.context.gl)),a.invalidateAll())}},{key:"updateGeometry",value:function(e){var t=e.props,r=(e.oldProps,e.changeFlags),n=r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPolygon);if(n){var i=this.state.polygonTesselator,o=t.data.attributes||{};i.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:o.getPolygon,buffers:o,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:r.dataChanged}),this.setState({numInstances:i.instanceCount,startIndices:i.vertexStarts}),r.dataChanged||this.getAttributeManager().invalidateAll()}}},{key:"_getModels",value:function(e){var t,r,n=this.props,i=n.id,o=n.filled,a=n.extruded;if(o){var s=this.getShaders("top");s.defines.NON_INSTANCED_MODEL=1,t=new Is(e,Object(f["a"])(Object(f["a"])({},s),{},{id:"".concat(i,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0}))}return a&&(r=new Is(e,Object(f["a"])(Object(f["a"])({},this.getShaders("side")),{},{id:"".concat(i,"-side"),geometry:new Up({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1})),r.userData.excludeAttributes={indices:!0}),{models:[r,t].filter(Boolean),topModel:t,sideModel:r}}},{key:"calculateIndices",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.indexStarts,e.value=t.get("indices")}},{key:"calculatePositions",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateVertexValid",value:function(e){e.value=this.state.polygonTesselator.get("vertexValid")}}]),r}(vp);function mv(e){for(var t=e.data,r=e.getIndex,n=e.dataRange,i=e.replace,o=n.startRow,a=void 0===o?0:o,s=n.endRow,u=void 0===s?1/0:s,c=t.length,l=c,f=c,h=0;h<c;h++){var p=r(t[h]);if(l>h&&p>=a&&(l=h),p>=u){f=h;break}}for(var d=l,v=f-l!==i.length,m=v?t.slice(f):void 0,y=0;y<i.length;y++)t[d++]=i[y];if(m){for(var g=0;g<m.length;g++)t[d++]=m[g];t.length=d}return{startRow:l,endRow:l+i.length}}Object(c["a"])(vv,"defaultProps",pv),Object(c["a"])(vv,"layerName","SolidPolygonLayer");var yv=[0,0,0,255],gv=[0,0,0,255],bv={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:function(e){return e.polygon}},getFillColor:{type:"accessor",value:gv},getLineColor:{type:"accessor",value:yv},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0},_v=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"initializeState",value:function(){this.state={paths:[]},this.props.getLineDashArray&&x.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=this,r=e.changeFlags,n=r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPolygon);if(n&&Array.isArray(r.dataChanged)){var i=this.state.paths.slice(),o=r.dataChanged.map((function(e){return mv({data:i,getIndex:function(e){return e.__source.index},dataRange:e,replace:t._getPaths(e)})}));this.setState({paths:i,pathsDiff:o})}else n&&this.setState({paths:this._getPaths(),pathsDiff:null})}},{key:"_getPaths",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.props,n=r.data,i=r.getPolygon,o=r.positionFormat,a=r._normalize,s=[],u="XY"===o?2:3,c=t.startRow,f=t.endRow,h=_n(n,c,f),p=h.iterable,d=h.objectInfo,v=Object(l["a"])(p);try{for(v.s();!(e=v.n()).done;){var m=e.value;d.index++;var y=i(m,d);a&&(y=iv(y,u));var g=y,b=g.holeIndices,_=y.positions||y;if(b)for(var w=0;w<=b.length;w++){var x=_.slice(b[w-1]||0,b[w]||_.length);s.push(this.getSubLayerRow({path:x},m,d.index))}else s.push(this.getSubLayerRow({path:_},m,d.index))}}catch(O){v.e(O)}finally{v.f()}return s}},{key:"renderLayers",value:function(){var e=this.props,t=e.data,r=e._dataDiff,n=e.stroked,i=e.filled,o=e.extruded,a=e.wireframe,s=e._normalize,u=e._windingOrder,c=e.elevationScale,l=e.transitions,f=e.positionFormat,h=this.props,p=h.lineWidthUnits,d=h.lineWidthScale,v=h.lineWidthMinPixels,m=h.lineWidthMaxPixels,y=h.lineJointRounded,g=h.lineMiterLimit,b=h.lineDashJustified,_=this.props,w=_.getFillColor,x=_.getLineColor,O=_.getLineWidth,E=_.getLineDashArray,j=_.getElevation,S=_.getPolygon,k=_.updateTriggers,T=_.material,P=this.state,A=P.paths,I=P.pathsDiff,C=this.getSubLayerClass("fill",vv),R=this.getSubLayerClass("stroke",Id),M=this.shouldRenderSubLayer("fill",A)&&new C({_dataDiff:r,extruded:o,elevationScale:c,filled:i,wireframe:a,_normalize:s,_windingOrder:u,getElevation:j,getFillColor:w,getLineColor:o&&a?x:yv,material:T,transitions:l},this.getSubLayerProps({id:"fill",updateTriggers:k&&{getPolygon:k.getPolygon,getElevation:k.getElevation,getFillColor:k.getFillColor,lineColors:o&&a,getLineColor:k.getLineColor}}),{data:t,positionFormat:f,getPolygon:S}),L=!o&&n&&this.shouldRenderSubLayer("stroke",A)&&new R({_dataDiff:I&&function(){return I},widthUnits:p,widthScale:d,widthMinPixels:v,widthMaxPixels:m,jointRounded:y,miterLimit:g,dashJustified:b,_pathType:"loop",transitions:l&&{getWidth:l.getLineWidth,getColor:l.getLineColor,getPath:l.getPolygon},getColor:this.getSubLayerAccessor(x),getWidth:this.getSubLayerAccessor(O),getDashArray:this.getSubLayerAccessor(E)},this.getSubLayerProps({id:"stroke",updateTriggers:k&&{getWidth:k.getLineWidth,getColor:k.getLineColor,getDashArray:k.getLineDashArray}}),{data:A,positionFormat:f,getPath:function(e){return e.path}});return[!o&&M,L,o&&M]}}]),r}(yp);Object(c["a"])(_v,"layerName","PolygonLayer"),Object(c["a"])(_v,"defaultProps",bv);var wv='#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',xv="#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",Ov="3.2.12",Ev=globalThis._parseImageNode,jv="undefined"!==typeof Image,Sv="undefined"!==typeof ImageBitmap,kv=Boolean(Ev),Tv=!!pf["a"]||kv;function Pv(e){switch(e){case"auto":return Sv||jv||Tv;case"imagebitmap":return Sv;case"image":return jv;case"data":return Tv;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}function Av(){if(Sv)return"imagebitmap";if(jv)return"image";if(Tv)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function Iv(e){var t=Mv(e);if(!t)throw new Error("Not an image");return t}function Cv(e){return Rv(e)}function Rv(e){switch(Iv(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function Mv(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===typeof e&&e.data&&e.width&&e.height?"data":null}var Lv=/^data:image\/svg\+xml/,Dv=/\.svg((\?|#).*)?$/;function Nv(e){return e&&(Lv.test(e)||Dv.test(e))}function Fv(e,t){if(Nv(t)){var r=new TextDecoder,n=r.decode(e);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(n=unescape(encodeURIComponent(n)))}catch(o){throw new Error(o.message)}var i="data:image/svg+xml;base64,".concat(btoa(n));return i}return zv(e,t)}function zv(e,t){if(Nv(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function Bv(e,t,r){return Uv.apply(this,arguments)}function Uv(){return Uv=Sr(Object(Er["a"])().mark((function e(t,r,n){var i,o,a;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Fv(t,n),o=self.URL||self.webkitURL,a="string"!==typeof i&&o.createObjectURL(i),e.prev=3,e.next=6,Vv(a||i,r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,a&&o.revokeObjectURL(a),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])}))),Uv.apply(this,arguments)}function Vv(e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=Sr(Object(Er["a"])().mark((function e(t,r){var n;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new Image,n.src=t,!(r.image&&r.image.decode&&n.decode)){e.next=6;break}return e.next=5,n.decode();case 5:return e.abrupt("return",n);case 6:return e.next=8,new Promise((function(e,r){try{n.onload=function(){return e(n)},n.onerror=function(e){return r(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(i){r(i)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}var qv={},Wv=!0;function Hv(e,t,r){return Zv.apply(this,arguments)}function Zv(){return Zv=Sr(Object(Er["a"])().mark((function e(t,r,n){var i,o,a;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Nv(n)){e.next=7;break}return e.next=3,Bv(t,r,n);case 3:o=e.sent,i=o,e.next=8;break;case 7:i=zv(t,n);case 8:return a=r&&r.imagebitmap,e.next=11,Xv(i,a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function Xv(e){return $v.apply(this,arguments)}function $v(){return $v=Sr(Object(Er["a"])().mark((function e(t){var r,n=arguments;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:null,!Yv(r)&&Wv||(r=null),!r){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e["catch"](3),console.warn(e.t0),Wv=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),$v.apply(this,arguments)}function Yv(e){for(var t in e||qv)return!1;return!0}var Kv=!1,Jv=!0;function Qv(e){var t=om(e);return em(t)||nm(t)||tm(t)||rm(t)}function em(e){var t=om(e),r=t.byteLength>=24&&2303741511===t.getUint32(0,Kv);return r?{mimeType:"image/png",width:t.getUint32(16,Kv),height:t.getUint32(20,Kv)}:null}function tm(e){var t=om(e),r=t.byteLength>=10&&1195984440===t.getUint32(0,Kv);return r?{mimeType:"image/gif",width:t.getUint16(6,Jv),height:t.getUint16(8,Jv)}:null}function rm(e){var t=om(e),r=t.byteLength>=14&&16973===t.getUint16(0,Kv)&&t.getUint32(2,Jv)===t.byteLength;return r?{mimeType:"image/bmp",width:t.getUint32(18,Jv),height:t.getUint32(22,Jv)}:null}function nm(e){var t=om(e),r=t.byteLength>=3&&65496===t.getUint16(0,Kv)&&255===t.getUint8(2);if(!r)return null;var n=im(),i=n.tableMarkers,o=n.sofMarkers,a=2;while(a+9<t.byteLength){var s=t.getUint16(a,Kv);if(o.has(s))return{mimeType:"image/jpeg",height:t.getUint16(a+5,Kv),width:t.getUint16(a+7,Kv)};if(!i.has(s))return null;a+=2,a+=t.getUint16(a,Kv)}return null}function im(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}function om(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function am(e,t){return sm.apply(this,arguments)}function sm(){return sm=Sr(Object(Er["a"])().mark((function e(t,r){var n,i,o;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Qv(t)||{},i=n.mimeType,o=globalThis._parseImageNode,Fl(o),e.next=5,o(t,i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function um(e,t,r){return cm.apply(this,arguments)}function cm(){return cm=Sr(Object(Er["a"])().mark((function e(t,r,n){var i,o,a,s,u,c;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=r||{},i=r.image||{},o=i.type||"auto",a=n||{},s=a.url,u=lm(o),e.t0=u,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,Hv(t,r,s);case 10:return c=e.sent,e.abrupt("break",21);case 12:return e.next=14,Bv(t,r,s);case 14:return c=e.sent,e.abrupt("break",21);case 16:return e.next=18,am(t,r);case 18:return c=e.sent,e.abrupt("break",21);case 20:Fl(!1);case 21:return"data"===o&&(c=Rv(c)),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function lm(e){switch(e){case"auto":case"data":return Av();default:return Pv(e),e}}var fm,hm=["png","jpg","jpeg","gif","webp","bmp","ico","svg"],pm=["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],dm={image:{type:"auto",decode:!0}},vm={id:"image",module:"images",name:"Images",version:Ov,mimeTypes:pm,extensions:hm,parse:um,tests:[function(e){return Boolean(Qv(new DataView(e)))}],options:dm},mm=1024,ym=4,gm=function(){},bm=(fm={},Object(T["a"])(fm,10241,9987),Object(T["a"])(fm,10240,9729),Object(T["a"])(fm,10242,33071),Object(T["a"])(fm,10243,33071),fm);function _m(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function wm(e,t,r,n){return r===t.width&&n===t.height?t:(e.canvas.height=n,e.canvas.width=r,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0,t.width,t.height,0,0,r,n),e.canvas)}function xm(e){return e&&(e.id||e.url)}function Om(e,t,r,n){var i=e.width,o=e.height,a=new ur(e.gl,{width:t,height:r,parameters:n});return Mr(e,a,{targetY:0,width:i,height:o}),e["delete"](),a}function Em(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.icon,a=i.xOffset,s=xm(o);e[s]=Object(f["a"])(Object(f["a"])({},o),{},{x:a,y:r})}}function jm(e){for(var t=e.icons,r=e.buffer,n=e.mapping,i=void 0===n?{}:n,o=e.xOffset,a=void 0===o?0:o,s=e.yOffset,u=void 0===s?0:s,c=e.rowHeight,l=void 0===c?0:c,f=e.canvasWidth,h=[],p=0;p<t.length;p++){var d=t[p],v=xm(d);if(!i[v]){var m=d.height,y=d.width;a+y+r>f&&(Em(i,h,u),a=0,u=l+u+r,l=0,h=[]),h.push({icon:d,xOffset:a}),a=a+y+r,l=Math.max(l,m)}}return h.length>0&&Em(i,h,u),{mapping:i,rowHeight:l,xOffset:a,yOffset:u,canvasWidth:f,canvasHeight:_m(l+u+r)}}function Sm(e,t,r){if(!e||!t)return null;r=r||{};var n,i={},o=_n(e),a=o.iterable,s=o.objectInfo,u=Object(l["a"])(a);try{for(u.s();!(n=u.n()).done;){var c=n.value;s.index++;var h=t(c,s),p=xm(h);if(!h)throw new Error("Icon is missing.");if(!h.url)throw new Error("Icon url is missing.");i[p]||r[p]&&h.url===r[p].url||(i[p]=Object(f["a"])(Object(f["a"])({},h),{},{source:c,sourceIndex:s.index}))}}catch(d){u.e(d)}finally{u.f()}return i}var km=function(){function e(t,r){var n=r.onUpdate,i=void 0===n?gm:n,o=r.onError,a=void 0===o?gm:o;Object(h["a"])(this,e),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"onUpdate",void 0),Object(c["a"])(this,"onError",void 0),Object(c["a"])(this,"_loadOptions",null),Object(c["a"])(this,"_texture",null),Object(c["a"])(this,"_externalTexture",null),Object(c["a"])(this,"_mapping",{}),Object(c["a"])(this,"_textureParameters",null),Object(c["a"])(this,"_pendingCount",0),Object(c["a"])(this,"_autoPacking",!1),Object(c["a"])(this,"_xOffset",0),Object(c["a"])(this,"_yOffset",0),Object(c["a"])(this,"_rowHeight",0),Object(c["a"])(this,"_buffer",ym),Object(c["a"])(this,"_canvasWidth",mm),Object(c["a"])(this,"_canvasHeight",0),Object(c["a"])(this,"_canvas",null),this.gl=t,this.onUpdate=i,this.onError=a}return Object(p["a"])(e,[{key:"finalize",value:function(){var e;null===(e=this._texture)||void 0===e||e["delete"]()}},{key:"getTexture",value:function(){return this._texture||this._externalTexture}},{key:"getIconMapping",value:function(e){var t=this._autoPacking?xm(e):e;return this._mapping[t]||{}}},{key:"setProps",value:function(e){var t,r=e.loadOptions,n=e.autoPacking,i=e.iconAtlas,o=e.iconMapping,a=e.textureParameters;(r&&(this._loadOptions=r),void 0!==n&&(this._autoPacking=n),o&&(this._mapping=o),i)&&(null===(t=this._texture)||void 0===t||t["delete"](),this._texture=null,this._externalTexture=i);a&&(this._textureParameters=a)}},{key:"isLoaded",get:function(){return 0===this._pendingCount}},{key:"packIcons",value:function(e,t){if(this._autoPacking&&"undefined"!==typeof document){var r=Object.values(Sm(e,t,this._mapping)||{});if(r.length>0){var n=jm({icons:r,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset}),i=n.mapping,o=n.xOffset,a=n.yOffset,s=n.rowHeight,u=n.canvasHeight;this._rowHeight=s,this._mapping=i,this._xOffset=o,this._yOffset=a,this._canvasHeight=u,this._texture||(this._texture=new ur(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||bm})),this._texture.height!==this._canvasHeight&&(this._texture=Om(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||bm)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(r)}}}},{key:"_loadIcons",value:function(e){var t,r=this,n=this._canvas.getContext("2d"),i=Object(l["a"])(e);try{var o=function(){var e=t.value;r._pendingCount++,np(e.url,vm,r._loadOptions).then((function(t){var i=xm(e),o=r._mapping[i],a=o.x,s=o.y,u=o.width,c=o.height,l=wm(n,t,u,c);r._texture.setSubImageData({data:l,x:a,y:s,width:u,height:c}),r._texture.generateMipmap(),r.onUpdate()}))["catch"]((function(t){r.onError({url:e.url,source:e.source,sourceIndex:e.sourceIndex,loadOptions:r._loadOptions,error:t})}))["finally"]((function(){r._pendingCount--}))};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}}]),e}(),Tm=[0,0,0,255],Pm={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:function(e){return e.position}},getIcon:{type:"accessor",value:function(e){return e.icon}},getColor:{type:"accessor",value:Tm},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}},Am=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"state",void 0),e}return Object(p["a"])(r,[{key:"getShaders",value:function(){return m(Object(d["a"])(r.prototype),"getShaders",this).call(this,{vs:wv,fs:xv,modules:[Cp,zp]})}},{key:"initializeState",value:function(){this.state={iconManager:new km(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})};var e=this.getAttributeManager();e.addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:Tm},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"updateState",value:function(e){m(Object(d["a"])(r.prototype),"updateState",this).call(this,e);var t=e.props,n=e.oldProps,i=e.changeFlags,o=this.getAttributeManager(),a=t.iconAtlas,s=t.iconMapping,u=t.data,c=t.getIcon,l=t.textureParameters,f=this.state.iconManager,h=a||this.internalState.isAsyncPropLoading("iconAtlas");if(f.setProps({loadOptions:t.loadOptions,autoPacking:!h,iconAtlas:a,iconMapping:h?s:null,textureParameters:l}),h?n.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&f.packIcons(u,c),i.extensionsChanged){var p,v=this.context.gl;null===(p=this.state.model)||void 0===p||p["delete"](),this.state.model=this._getModel(v),o.invalidateAll()}}},{key:"isLoaded",get:function(){return m(Object(d["a"])(r.prototype),"isLoaded",this)&&this.state.iconManager.isLoaded}},{key:"finalizeState",value:function(e){m(Object(d["a"])(r.prototype),"finalizeState",this).call(this,e),this.state.iconManager.finalize()}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.sizeScale,i=r.sizeMinPixels,o=r.sizeMaxPixels,a=r.sizeUnits,s=r.billboard,u=r.alphaCutoff,c=this.state.iconManager,l=c.getTexture();l&&this.state.model.setUniforms(t).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:j[a],sizeScale:n,sizeMinPixels:i,sizeMaxPixels:o,billboard:s,alphaCutoff:u}).draw()}},{key:"_getModel",value:function(e){var t=[-1,-1,-1,1,1,1,1,-1];return new Is(e,Object(f["a"])(Object(f["a"])({},this.getShaders()),{},{id:this.props.id,geometry:new Up({drawMode:6,attributes:{positions:{size:2,value:new Float32Array(t)}}}),isInstanced:!0}))}},{key:"_onUpdate",value:function(){this.setNeedsRedraw()}},{key:"_onError",value:function(e){var t,r=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;r?r(e):x.error(e.error.message)()}},{key:"getInstanceOffset",value:function(e){var t=this.state.iconManager.getIconMapping(e),r=t.width,n=t.height,i=t.anchorX,o=void 0===i?r/2:i,a=t.anchorY,s=void 0===a?n/2:a;return[r/2-o,n/2-s]}},{key:"getInstanceColorMode",value:function(e){var t=this.state.iconManager.getIconMapping(e);return t.mask?1:0}},{key:"getInstanceIconFrame",value:function(e){var t=this.state.iconManager.getIconMapping(e),r=t.x,n=t.y,i=t.width,o=t.height;return[r,n,i,o]}}]),r}(vp);Object(c["a"])(Am,"defaultProps",Pm),Object(c["a"])(Am,"layerName","IconLayer");var Im="#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",Cm=.75,Rm=[],Mm={getIconOffsets:{type:"accessor",value:function(e){return e.offsets}},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}},Lm=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"state",void 0),e}return Object(p["a"])(r,[{key:"getShaders",value:function(){return Object(f["a"])(Object(f["a"])({},m(Object(d["a"])(r.prototype),"getShaders",this).call(this)),{},{fs:Im})}},{key:"initializeState",value:function(){var e=this;m(Object(d["a"])(r.prototype),"initializeState",this).call(this);var t=this.getAttributeManager();t.addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:function(t,r){var n=r.index,i=r.target;return e.encodePickingColor(n,i)}}})}},{key:"updateState",value:function(e){m(Object(d["a"])(r.prototype),"updateState",this).call(this,e);var t=e.props,n=e.oldProps,i=t.outlineColor;i!==n.outlineColor&&(i=i.map((function(e){return e/255})),i[3]=Number.isFinite(i[3])?i[3]:1,this.setState({outlineColor:i})),!t.sdf&&t.outlineWidth&&x.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}},{key:"draw",value:function(e){var t=this.props,n=t.sdf,i=t.smoothing,o=t.outlineWidth,a=this.state.outlineColor;e.uniforms=Object(f["a"])(Object(f["a"])({},e.uniforms),{},{buffer:Cm,outlineBuffer:o?Math.max(i,Cm*(1-o)):-1,gamma:i,sdf:Boolean(n),outlineColor:a}),m(Object(d["a"])(r.prototype),"draw",this).call(this,e)}},{key:"getInstanceOffset",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return m(Object(d["a"])(r.prototype),"getInstanceOffset",t).call(t,e)})):Rm}},{key:"getInstanceColorMode",value:function(e){return 1}},{key:"getInstanceIconFrame",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return m(Object(d["a"])(r.prototype),"getInstanceIconFrame",t).call(t,e)})):Rm}}]),r}(Am);Object(c["a"])(Lm,"defaultProps",Mm),Object(c["a"])(Lm,"layerName","MultiIconLayer");var Dm=r("rxlC"),Nm=r.n(Dm),Fm=32,zm=[];function Bm(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function Um(e){var t,r=e.characterSet,n=e.getFontWidth,i=e.fontHeight,o=e.buffer,a=e.maxCanvasWidth,s=e.mapping,u=void 0===s?{}:s,c=e.xOffset,f=void 0===c?0:c,h=e.yOffset,p=void 0===h?0:h,d=0,v=f,m=Object(l["a"])(r);try{for(m.s();!(t=m.n()).done;){var y=t.value;if(!u[y]){var g=n(y);v+g+2*o>a&&(v=0,d++),u[y]={x:v+o,y:p+d*(i+2*o)+o,width:g,height:i},v+=g+2*o}}}catch(_){m.e(_)}finally{m.f()}var b=i+2*o;return{mapping:u,xOffset:v,yOffset:p+d*b,canvasHeight:Bm(p+(d+1)*b)}}function Vm(e,t,r,n){for(var i=0,o=t;o<r;o++){var a,s=e[o];i+=(null===(a=n[s])||void 0===a?void 0:a.width)||0}return i}function Gm(e,t,r,n,i,o){for(var a=t,s=0,u=t;u<r;u++){var c=Vm(e,u,u+1,i);s+c>n&&(a<u&&o.push(u),a=u,s=0),s+=c}return s}function qm(e,t,r,n,i,o){for(var a=t,s=t,u=t,c=0,l=t;l<r;l++)if(" "===e[l]?u=l+1:" "!==e[l+1]&&l+1!==r||(u=l+1),u>s){var f=Vm(e,s,u,i);c+f>n&&(a<s&&(o.push(s),a=s,c=0),f>n&&(f=Gm(e,s,u,n,i,o),a=o[o.length-1])),s=u,c+=f}return c}function Wm(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;void 0===o&&(o=e.length);var a=[];return"break-all"===t?Gm(e,i,o,r,n,a):qm(e,i,o,r,n,a),a}function Hm(e,t,r,n,i,o){for(var a=0,s=0,u=t;u<r;u++){var c=e[u],l=n[c];l?(s||(s=l.height),i[u]=a+l.width/2,a+=l.width):(x.warn("Missing character: ".concat(c," (").concat(c.codePointAt(0),")"))(),i[u]=a,a+=Fm)}o[0]=a,o[1]=s}function Zm(e,t,r,n,i){for(var o=Array.from(e),a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=("break-word"===r||"break-all"===r)&&isFinite(n)&&n>0,f=[0,0],h=[0,0],p=0,d=0,v=0,m=0;m<=a;m++){var y=o[m];if("\n"!==y&&m!==a||(v=m),v>d){for(var g=l?Wm(o,r,n,i,d,v):zm,b=0;b<=g.length;b++){var _=0===b?d:g[b-1],w=b<g.length?g[b]:v;Hm(o,_,w,i,s,h);for(var x=_;x<w;x++)u[x]=p+h[1]/2,c[x]=h[0];p+=h[1]*t,f[0]=Math.max(f[0],h[0])}d=v}"\n"===y&&(s[d]=0,u[d]=0,c[d]=0,d++)}return f[1]=p,{x:s,y:u,rowWidth:c,size:f}}function Xm(e){var t=e.value,r=e.length,n=e.stride,i=e.offset,o=e.startIndices,a=e.characterSet,s=t.BYTES_PER_ELEMENT,u=n?n/s:1,c=i?i/s:0,f=o[r]||Math.ceil((t.length-c)/u),h=a&&new Set,p=new Array(r),d=t;if(u>1||c>0){var v=t.constructor;d=new v(f);for(var m=0;m<f;m++)d[m]=t[m*u+c]}for(var y=0;y<r;y++){var g=o[y],b=o[y+1]||f,_=d.subarray(g,b);p[y]=String.fromCodePoint.apply(null,_),h&&_.forEach(h.add,h)}if(h){var w,x=Object(l["a"])(h);try{for(x.s();!(w=x.n()).done;){var O=w.value;a.add(String.fromCodePoint(O))}}catch(E){x.e(E)}finally{x.f()}}return{texts:p,characterCount:f}}var $m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;Object(h["a"])(this,e),Object(c["a"])(this,"limit",void 0),Object(c["a"])(this,"_cache",{}),Object(c["a"])(this,"_order",[]),this.limit=t}return Object(p["a"])(e,[{key:"get",value:function(e){var t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}},{key:"set",value:function(e,t){this._cache[e]?(this["delete"](e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this["delete"](this._order[0]),this._cache[e]=t,this._appendOrder(e))}},{key:"delete",value:function(e){var t=this._cache[e];t&&(delete this._cache[e],this._deleteOrder(e))}},{key:"_deleteOrder",value:function(e){var t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}},{key:"_appendOrder",value:function(e){this._order.push(e)}}]),e}();function Ym(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}var Km={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:Ym(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1},Jm=1024,Qm=.9,ey=1.2,ty=3,ry=new $m(ty);function ny(e,t){var r;r="string"===typeof t?new Set(Array.from(t)):new Set(t);var n=ry.get(e);if(!n)return r;for(var i in n.mapping)r.has(i)&&r["delete"](i);return r}function iy(e,t){for(var r=0;r<e.length;r++)t.data[4*r+3]=e[r]}function oy(e,t,r,n){e.font="".concat(n," ").concat(r,"px ").concat(t),e.fillStyle="#000",e.textBaseline="alphabetic",e.textAlign="left"}function ay(e){x.assert(Number.isFinite(e)&&e>=ty,"Invalid cache limit"),ry=new $m(e)}var sy=function(){function e(){Object(h["a"])(this,e),Object(c["a"])(this,"props",Object(f["a"])({},Km)),Object(c["a"])(this,"_key",void 0),Object(c["a"])(this,"_atlas",void 0)}return Object(p["a"])(e,[{key:"texture",get:function(){return this._atlas}},{key:"mapping",get:function(){return this._atlas&&this._atlas.mapping}},{key:"scale",get:function(){return ey}},{key:"setProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.props,e);var t=this._key;this._key=this._getKey();var r=ny(this._key,this.props.characterSet),n=ry.get(this._key);if(n&&0===r.size)this._key!==t&&(this._atlas=n);else{var i=this._generateFontAtlas(this._key,r,n);this._atlas=i,ry.set(this._key,i)}}},{key:"_generateFontAtlas",value:function(e,t,r){var n=this.props,i=n.fontFamily,o=n.fontWeight,a=n.fontSize,s=n.buffer,u=n.sdf,c=n.radius,h=n.cutoff,p=r&&r.data;p||(p=document.createElement("canvas"),p.width=Jm);var d=p.getContext("2d");oy(d,i,a,o);var v=Um(Object(f["a"])({getFontWidth:function(e){return d.measureText(e).width},fontHeight:a*ey,buffer:s,characterSet:t,maxCanvasWidth:Jm},r&&{mapping:r.mapping,xOffset:r.xOffset,yOffset:r.yOffset})),m=v.mapping,y=v.canvasHeight,g=v.xOffset,b=v.yOffset;if(p.height!==y){var _=d.getImageData(0,0,p.width,p.height);p.height=y,d.putImageData(_,0,0)}if(oy(d,i,a,o),u){var w,x=new Nm.a(a,s,c,h,i,o),O=d.getImageData(0,0,x.size,x.size),E=Object(l["a"])(t);try{for(E.s();!(w=E.n()).done;){var j=w.value;iy(x.draw(j),O),d.putImageData(O,m[j].x-s,m[j].y+s)}}catch(P){E.e(P)}finally{E.f()}}else{var S,k=Object(l["a"])(t);try{for(k.s();!(S=k.n()).done;){var T=S.value;d.fillText(T,m[T].x,m[T].y+a*Qm)}}catch(P){k.e(P)}finally{k.f()}}return{xOffset:g,yOffset:b,mapping:m,data:p,width:p.width,height:p.height}}},{key:"_getKey",value:function(){var e=this.props,t=e.fontFamily,r=e.fontWeight,n=e.fontSize,i=e.buffer,o=e.sdf,a=e.radius,s=e.cutoff;return o?"".concat(t," ").concat(r," ").concat(n," ").concat(i," ").concat(a," ").concat(s):"".concat(t," ").concat(r," ").concat(n," ").concat(i)}}]),e}(),uy="#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",cy="#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",ly={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:function(e){return e.position}},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}},fy=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"state",void 0),e}return Object(p["a"])(r,[{key:"getShaders",value:function(){return m(Object(d["a"])(r.prototype),"getShaders",this).call(this,{vs:uy,fs:cy,modules:[Cp,zp]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){m(Object(d["a"])(r.prototype),"updateState",this).call(this,e);var t=e.changeFlags;if(t.extensionsChanged){var n,i=this.context.gl;null===(n=this.state.model)||void 0===n||n["delete"](),this.state.model=this._getModel(i),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.billboard,i=r.sizeScale,o=r.sizeUnits,a=r.sizeMinPixels,s=r.sizeMaxPixels,u=r.getLineWidth,c=this.props.padding;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(t).setUniforms({billboard:n,stroked:Boolean(u),padding:c,sizeUnits:j[o],sizeScale:i,sizeMinPixels:a,sizeMaxPixels:s}).draw()}},{key:"_getModel",value:function(e){var t=[0,0,1,0,1,1,0,1];return new Is(e,Object(f["a"])(Object(f["a"])({},this.getShaders()),{},{id:this.props.id,geometry:new Up({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array(t)}}}),isInstanced:!0}))}}]),r}(vp);Object(c["a"])(fy,"defaultProps",ly),Object(c["a"])(fy,"layerName","TextBackgroundLayer");var hy={start:1,middle:0,end:-1},py={top:1,center:0,bottom:-1},dy=[0,0,0,255],vy=1,my={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:dy},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:Km.characterSet},fontFamily:Km.fontFamily,fontWeight:Km.fontWeight,lineHeight:vy,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:dy},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:function(e){return e.text}},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:dy},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}},yy=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"state",void 0),Object(c["a"])(Object(_["a"])(e),"getBoundingRect",(function(t,r){var n=e.state.fontAtlasManager.mapping,i=e.state.getText,o=e.props,a=o.wordBreak,s=o.maxWidth,u=o.lineHeight,c=o.getTextAnchor,l=o.getAlignmentBaseline,f=i(t,r)||"",h=Zm(f,u,a,s,n),p=Object(b["a"])(h.size,2),d=p[0],v=p[1],m=hy["function"===typeof c?c(t,r):c],y=py["function"===typeof l?l(t,r):l];return[(m-1)*d/2,(y-1)*v/2,d,v]})),Object(c["a"])(Object(_["a"])(e),"getIconOffsets",(function(t,r){for(var n=e.state.fontAtlasManager.mapping,i=e.state.getText,o=e.props,a=o.wordBreak,s=o.maxWidth,u=o.lineHeight,c=o.getTextAnchor,l=o.getAlignmentBaseline,f=i(t,r)||"",h=Zm(f,u,a,s,n),p=h.x,d=h.y,v=h.rowWidth,m=Object(b["a"])(h.size,2),y=m[0],g=m[1],_=hy["function"===typeof c?c(t,r):c],w=py["function"===typeof l?l(t,r):l],x=p.length,O=new Array(2*x),E=0,j=0;j<x;j++){var S=(1-_)*(y-v[j])/2;O[E++]=(_-1)*y/2+S+p[j],O[E++]=(w-1)*g/2+d[j]}return O})),e}return Object(p["a"])(r,[{key:"initializeState",value:function(){this.state={styleVersion:0,fontAtlasManager:new sy}}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,n=e.changeFlags,i=n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getText);i&&this._updateText();var o=this._updateFontAtlas(),a=o||t.lineHeight!==r.lineHeight||t.wordBreak!==r.wordBreak||t.maxWidth!==r.maxWidth;a&&this.setState({styleVersion:this.state.styleVersion+1})}},{key:"getPickingInfo",value:function(e){var t=e.info;return t.object=t.index>=0?this.props.data[t.index]:null,t}},{key:"_updateFontAtlas",value:function(){var e=this.props,t=e.fontSettings,r=e.fontFamily,n=e.fontWeight,i=this.state,o=i.fontAtlasManager,a=i.characterSet,s=Object(f["a"])(Object(f["a"])({},t),{},{characterSet:a,fontFamily:r,fontWeight:n});if(!o.mapping)return o.setProps(s),!0;for(var u in s)if(s[u]!==o.props[u])return o.setProps(s),!0;return!1}},{key:"_updateText",value:function(){var e,t,r=this.props,n=r.data,i=r.characterSet,o=null===(e=n.attributes)||void 0===e?void 0:e.getText,a=this.props.getText,s=n.startIndices,u="auto"===i&&new Set;if(o&&s){var c=Xm(Object(f["a"])(Object(f["a"])({},ArrayBuffer.isView(o)?{value:o}:o),{},{length:n.length,startIndices:s,characterSet:u})),h=c.texts,p=c.characterCount;t=p,a=function(e,t){var r=t.index;return h[r]}}else{var d=_n(n),v=d.iterable,m=d.objectInfo;s=[0],t=0;var y,g=Object(l["a"])(v);try{for(g.s();!(y=g.n()).done;){var b=y.value;m.index++;var _=Array.from(a(b,m)||"");u&&_.forEach(u.add,u),t+=_.length,s.push(t)}}catch(w){g.e(w)}finally{g.f()}}this.setState({getText:a,startIndices:s,numInstances:t,characterSet:u||i})}},{key:"renderLayers",value:function(){var e=this.state,t=e.startIndices,r=e.numInstances,n=e.getText,i=e.fontAtlasManager,o=i.scale,a=i.texture,s=i.mapping,u=e.styleVersion,c=this.props,l=c.data,f=c._dataDiff,h=c.getPosition,p=c.getColor,d=c.getSize,v=c.getAngle,m=c.getPixelOffset,y=c.getBackgroundColor,g=c.getBorderColor,b=c.getBorderWidth,_=c.backgroundPadding,w=c.background,x=c.billboard,O=c.fontSettings,E=c.outlineWidth,j=c.outlineColor,S=c.sizeScale,k=c.sizeUnits,T=c.sizeMinPixels,P=c.sizeMaxPixels,A=c.transitions,I=c.updateTriggers,C=this.getSubLayerClass("characters",Lm),R=this.getSubLayerClass("background",fy);return[w&&new R({getFillColor:y,getLineColor:g,getLineWidth:b,padding:_,getPosition:h,getSize:d,getAngle:v,getPixelOffset:m,billboard:x,sizeScale:S/this.state.fontAtlasManager.props.fontSize,sizeUnits:k,sizeMinPixels:T,sizeMaxPixels:P,transitions:A&&{getPosition:A.getPosition,getAngle:A.getAngle,getSize:A.getSize,getFillColor:A.getBackgroundColor,getLineColor:A.getBorderColor,getLineWidth:A.getBorderWidth,getPixelOffset:A.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:I.getPosition,getAngle:I.getAngle,getSize:I.getSize,getFillColor:I.getBackgroundColor,getLineColor:I.getBorderColor,getLineWidth:I.getBorderWidth,getPixelOffset:I.getPixelOffset,getBoundingRect:{getText:I.getText,getTextAnchor:I.getTextAnchor,getAlignmentBaseline:I.getAlignmentBaseline,styleVersion:u}}}),{data:l.attributes&&l.attributes.background?{length:l.length,attributes:l.attributes.background}:l,_dataDiff:f,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new C({sdf:O.sdf,smoothing:Number.isFinite(O.smoothing)?O.smoothing:Km.smoothing,outlineWidth:E,outlineColor:j,iconAtlas:a,iconMapping:s,getPosition:h,getColor:p,getSize:d,getAngle:v,getPixelOffset:m,billboard:x,sizeScale:S*o,sizeUnits:k,sizeMinPixels:T*o,sizeMaxPixels:P*o,transitions:A&&{getPosition:A.getPosition,getAngle:A.getAngle,getColor:A.getColor,getSize:A.getSize,getPixelOffset:A.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:I.getText,getPosition:I.getPosition,getAngle:I.getAngle,getColor:I.getColor,getSize:I.getSize,getPixelOffset:I.getPixelOffset,getIconOffsets:{getText:I.getText,getTextAnchor:I.getTextAnchor,getAlignmentBaseline:I.getAlignmentBaseline,styleVersion:u}}}),{data:l,_dataDiff:f,startIndices:t,numInstances:r,getIconOffsets:this.getIconOffsets,getIcon:n})]}}],[{key:"fontAtlasCacheLimit",set:function(e){ay(e)}}]),r}(yp);Object(c["a"])(yy,"defaultProps",my),Object(c["a"])(yy,"layerName","TextLayer");var gy=r("ReuC"),by="#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  // Find the center of the point and add the current vertex\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply lighting\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",_y="#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",wy=[0,0,0,255],xy=[0,0,1],Oy={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:function(e){return e.position}},getNormal:{type:"accessor",value:xy},getColor:{type:"accessor",value:wy},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};function Ey(e){var t=e.header,r=e.attributes;t&&r&&(e.length=t.vertexCount,r.POSITION&&(r.instancePositions=r.POSITION),r.NORMAL&&(r.instanceNormals=r.NORMAL),r.COLOR_0&&(r.instanceColors=r.COLOR_0))}var jy=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"getShaders",value:function(){return m(Object(d["a"])(r.prototype),"getShaders",this).call(this,{vs:by,fs:_y,modules:[Cp,Vd,zp]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:xy},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:wy}})}},{key:"updateState",value:function(e){var t=e.changeFlags,n=e.props;if(m(Object(d["a"])(r.prototype),"updateState",this).call(this,e),t.extensionsChanged){var i,o=this.context.gl;null===(i=this.state.model)||void 0===i||i["delete"](),this.state.model=this._getModel(o),this.getAttributeManager().invalidateAll()}t.dataChanged&&Ey(n.data)}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.pointSize,i=r.sizeUnits;this.state.model.setUniforms(t).setUniforms({sizeUnits:j[i],radiusPixels:n}).draw()}},{key:"_getModel",value:function(e){for(var t=[],r=0;r<3;r++){var n=r/3*Math.PI*2;t.push(2*Math.cos(n),2*Math.sin(n),0)}return new Is(e,Object(f["a"])(Object(f["a"])({},this.getShaders()),{},{id:this.props.id,geometry:new Up({drawMode:4,attributes:{positions:new Float32Array(t)}}),isInstanced:!0}))}}]),r}(vp);Object(c["a"])(jy,"layerName","PointCloudLayer"),Object(c["a"])(jy,"defaultProps",Oy);var Sy="#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform float colorMode;\nuniform vec2 colorDomain;\nuniform mat4 vehicleDistanceTransform;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nconst float COLOR_MODE_INLINE = 0.0;\nconst float COLOR_MODE_Z = 1.0;\nconst float COLOR_MODE_DISTANCE = 2.0;\nconst float ONE_THIRD = 1.0 / 3.0;\nconst float TWO_THIRD = 2.0 / 3.0;\nconst float ONE_SIXTH = 1.0 / 6.0;\n\n// http://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n// s = 1.0, l = 0.5\nfloat hue(float t) {\n  t = t + step(t, 0.0) - step(1.0, t);\n  if (t < ONE_SIXTH) return 6.0 * t;\n  if (t < 0.5) return 1.0;\n  if (t < TWO_THIRD) return 4.0 - t * 6.0;\n  return 0.0;\n}\n\nvec3 distToRgb(float dist) {\n  float h = (dist - colorDomain.x) / (colorDomain.y - colorDomain.x);\n  h = clamp(h, 0.0, 1.0);\n  h = mix(0.5, 0.0, h);\n\n  return vec3(\n    hue(h + ONE_THIRD),\n    hue(h),\n    hue(h - ONE_THIRD)\n  );\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  // Find the center of the point and add the current vertex\n  vec3 offset = vec3(positions.xy * radiusPixels, 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy) * project_uFocalDistance;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vec4 colorPosition;\n  if (colorMode == COLOR_MODE_DISTANCE) {\n    colorPosition = vehicleDistanceTransform * vec4(instancePositions, 1.0);\n    vColor = vec4(distToRgb(length(colorPosition.xyz)), opacity);\n  } else if (colorMode == COLOR_MODE_Z) {\n    colorPosition = project_uModelMatrix * vec4(instancePositions, 1.0);\n    vColor = vec4(distToRgb(colorPosition.z), opacity);\n  } else {\n    vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  }\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n";function ky(e){var t=Ty();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Ty(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Py={default:0,elevation:1,distance_to_vehicle:2,DEFAULT:0,ELEVATION:1,DISTANCE_TO_VEHICLE:2},Ay={default:[0,0],elevation:[0,3],distance_to_vehicle:[0,60],DEFAULT:[0,0],ELEVATION:[0,3],DISTANCE_TO_VEHICLE:[0,60]},Iy={colorMode:"default",colorDomain:null},Cy=function(e){Object(a["a"])(r,e);var t=ky(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"getShaders",value:function(){var e=Object(gy["a"])(Object(u["a"])(r.prototype),"getShaders",this).call(this);return e.vs=Sy,e}},{key:"updateState",value:function(e){Object(gy["a"])(Object(u["a"])(r.prototype),"updateState",this).call(this,e);var t=e.props,n=e.oldProps;if(t.modelMatrix!==n.modelMatrix||t.vehicleRelativeTransform!==n.vehicleRelativeTransform){var i=t.vehicleRelativeTransform.clone().invert();t.modelMatrix&&i.multiplyRight(t.modelMatrix),this.setState({vehicleDistanceTransform:i})}if(t.instanceColors!==n.instanceColors){var o=this.getAttributeManager().getAttributes(),a=o.instanceColors,s=t.instanceColors?t.instanceColors.length/t.numInstances:4;a.size=s}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,i=n.colorMode,o=n.colorDomain,a=this.state.vehicleDistanceTransform;Object(gy["a"])(Object(u["a"])(r.prototype),"draw",this).call(this,{uniforms:Object.assign({},t,{colorMode:Py[i]||Py["default"],colorDomain:o||Ay[i]||Ay["default"],vehicleDistanceTransform:a})})}}]),r}(jy);Cy.layerName="PointCloudLayer",Cy.defaultProps=Iy;var Ry,My,Ly=r("/dIn"),Dy=r("2oH+"),Ny=r.n(Dy);function Fy(e){var t=zy();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function zy(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function By(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?By(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):By(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vy={SCATTERPLOT:"scatterplot",PATH:"path",POINTCLOUD:"pointcloud",STADIUM:"stadium",POLYGON:"polygon",TEXT:"text"},Gy={points2d:Vy.SCATTERPLOT,points3d:Vy.POINTCLOUD,point2d:Vy.SCATTERPLOT,circle2d:Vy.SCATTERPLOT,line2d:Vy.PATH,path2d:Vy.PATH,polygon2d:Vy.POLYGON,point:Vy.POINTCLOUD,circle:Vy.SCATTERPLOT,polyline:Vy.PATH,polygon:Vy.POLYGON,text:Vy.TEXT,stadium:Vy.STADIUM},qy=(Ry={},Object(c["a"])(Ry,Vy.SCATTERPLOT,{opacity:"opacity",radius_min_pixels:"radiusMinPixels",radius_max_pixels:"radiusMaxPixels",radius:"getRadius",stroked:"stroked",filled:"filled",stroke_width_min_pixels:"lineWidthMinPixels",stroke_width_max_pixels:"lineWidthMaxPixels",stroke_width:"getLineWidth",stroke_color:"getLineColor",fill_color:"getFillColor"}),Object(c["a"])(Ry,Vy.POINTCLOUD,{opacity:"opacity",radius_pixels:"pointSize",fill_color:"getColor",point_color_mode:"colorMode",point_color_domain:"colorDomain"}),Object(c["a"])(Ry,Vy.PATH,{opacity:"opacity",stroke_width_min_pixels:"widthMinPixels",stroke_width_max_pixels:"widthMaxPixels",stroke_color:"getColor",stroke_width:"getWidth"}),Object(c["a"])(Ry,Vy.STADIUM,{opacity:"opacity",radius_min_pixels:"widthMinPixels",radius_max_pixels:"widthMaxPixels",fill_color:"getColor",radius:"getWidth"}),Object(c["a"])(Ry,Vy.POLYGON,{opacity:"opacity",stroked:"stroked",filled:"filled",extruded:"extruded",stroke_color:"getLineColor",stroke_width:"getLineWidth",stroke_width_min_pixels:"lineWidthMinPixels",stroke_width_max_pixels:"lineWidthMaxPixels",fill_color:"getFillColor",height:"getElevation"}),Object(c["a"])(Ry,Vy.TEXT,{opacity:"opacity",fill_color:"getColor",font_family:"fontFamily",font_weight:"fontWeight",text_size:"getSize",text_rotation:"getAngle",text_anchor:"getTextAnchor",text_baseline:"getAlignmentBaseline"}),Ry),Wy=(My={},Object(c["a"])(My,Vy.SCATTERPLOT,{layerType:Vy.SCATTERPLOT,layerClass:Hp,preprocessData:function(e){var t=e.data;if(t[0].vertices&&Array.isArray(t[0].vertices[0])){var r=t.reduce((function(e,t){return t.vertices.forEach((function(r){e.push(Uy(Uy({},t),{},{vertices:r}))})),e}),[]);return r}return t},getLayerTypeProps:function(e){var t=e.xvizLayerProps,r=e.layerProps,n=r.updateTriggers;return{getPosition:function(e){return e.vertices||e.center},updateTriggers:Ny()(n,{getFillColor:{useSemanticColor:t.useSemanticColor}})}}}),Object(c["a"])(My,Vy.STADIUM,{layerType:Vy.STADIUM,layerClass:Id,getLayerTypeProps:function(e){var t=e.xvizLayerProps,r=e.layerProps,n=r.updateTriggers;return{getPath:function(e){return[e.start,e.end]},rounded:!0,updateTriggers:Ny()(n,{getColor:{useSemanticColor:t.useSemanticColor}})}}}),Object(c["a"])(My,Vy.POINTCLOUD,{layerType:Vy.POINTCLOUD,layerClass:Cy,getLayerTypeProps:function(e){var t=e.xvizLayerProps,r=e.state,n=r.data,i=n[0].points.length/3,o=n[0].colors&&n[0].colors.length/3===i?"RGB":"RGBA";return{colorFormat:o,data:{length:i,attributes:{getPosition:n[0].points,getColor:n[0].colors}},vehicleRelativeTransform:t.vehicleRelativeTransform,getPosition:function(e){return e}}}}),Object(c["a"])(My,Vy.PATH,{layerType:Vy.PATH,layerClass:Id,getLayerTypeProps:function(e){var t=e.xvizLayerProps,r=e.layerProps,n=r.updateTriggers;return{getPath:function(e){return e.vertices},updateTriggers:Ny()(n,{getColor:{useSemanticColor:t.useSemanticColor}})}}}),Object(c["a"])(My,Vy.POLYGON,{layerType:Vy.POLYGON,layerClass:_v,getLayerTypeProps:function(e){var t=e.xvizLayerProps,r=e.layerProps,n=r.updateTriggers,i=t.lightSettings,o=t.useSemanticColor,a=t.opacity,s=r.stroked;return{opacity:a||1,lightSettings:i,wireframe:s,getPolygon:function(e){return e.vertices},updateTriggers:Ny()(n,{getLineColor:{useSemanticColor:o},getFillColor:{useSemanticColor:o}})}}}),Object(c["a"])(My,Vy.TEXT,{layerType:Vy.TEXT,layerClass:yy,getLayerTypeProps:function(e){var t=e.xvizLayerProps,r=e.layerProps,n=r.updateTriggers,i=t.useSemanticColor;return{getText:function(e){return e.text},updateTriggers:Ny()(n,{getColor:{useSemanticColor:i}})}}}),My),Hy={},Zy=function(e,t,r){var n=r[t];return void 0===n?null:n},Xy=function(e,t,r){return e.style.getProperty(t,r)};function $y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hy,n=r;if(e.useSemanticColor)switch(t){case"stroke_color":case"fill_color":n=Ly["c"].get(r.id)||r;break;default:}var i=null;switch(t){case"stroke_color":case"fill_color":i="color";break;case"stroke_width":i="thickness";break;case"radius":if(r.radius)return r.radius;break;default:break}var o=Xy(e,t,n);return null===o&&i&&(o=Xy(e,i,n)),null!==o||e.disableInlineStyling||(o=Zy(e,t,n),null===o&&i&&(o=Zy(e,i,n))),null===o&&(o=e.style.getPropertyDefault(t)),"text_anchor"!==t&&"text_baseline"!==t||(o=o.toLowerCase()),o}var Yy=function(e){Object(a["a"])(r,e);var t=Fy(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"_getProperty",value:function(e){return $y(this.props,e)}},{key:"_getPropertyAccessor",value:function(e){var t=this;return function(r){return $y(t.props,e,r)}}},{key:"_getDefaultLayerProps",value:function(e,t){var r={updateTriggers:{}};for(var n in t){var i=t[n],o=i.startsWith("get");o?r.updateTriggers[i]={style:n,dependencies:e.getPropertyDependencies(n)}:r[i]=this._getProperty(n)}return r}},{key:"_getLayerProps",value:function(){var e=this,t=this.props.objectStates,r=this.state.layerProps,n=r.updateTriggers,i=function(i){var o=n[i];r[i]=e._getPropertyAccessor(o.style),n[i]=Uy({},o),o.dependencies.forEach((function(e){n[i][e]=t[e]}))};for(var o in n)i(o);return r}},{key:"_getLayerType",value:function(e){return e.length>0?e[0].type:null}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,n=e.changeFlags,i=this.state.type;if(n.dataChanged){var o=t.data,a=this._getLayerType(o);i=Gy[a];var s=Wy[i];s&&s.preprocessData&&(o=s.preprocessData(t)),this.setState({data:o})}if(i!==this.state.type||t.style!==r.style){var u=qy[i],c=this._getDefaultLayerProps(t.style,u);this.setState({type:i,layerProps:c})}}},{key:"renderLayers",value:function(){var e=this.state,t=e.type,r=e.data;if(!t)return null;var n=this.props,i=n.linkTitle,o=n.streamName,a=n.streamMetadata,s=n.objectType,u=this._getLayerProps(),c={linkTitle:i,streamName:o,objectType:s},l=this.props.customXVIZLayers.find((function(e){var t=e.streamMatch;return t(o,a)}));if(l){var f={},h=Gy[l.primitive],p=Wy[h];p&&(f=p.getLayerTypeProps({xvizLayerProps:this.props,layerProps:u,state:this.state}));var d=l.layerClass||(null===p||void 0===p?void 0:p.layerClass);return new d(c,u,this.getSubLayerProps(Uy(Uy({id:"".concat(h||"","-").concat(l.id),data:r},f),l.getSubProps({xvizLayerProps:this.props,primitiveLayerProps:f,state:this.state}))))}if(!Wy[t])return null;var v=Wy[t],m=v.layerClass,y=v.getLayerTypeProps;return new m(c,u,this.getSubLayerProps(Uy({id:t,data:r},y({xvizLayerProps:this.props,layerProps:u,state:this.state}))))}}]),r}(yp);Yy.layerName="XVIZLayer";var Ky=r("wx14"),Jy=r("Ff2n"),Qy=r("JX7q"),eg=r("q1tI"),tg=r.n(eg),rg=r("17x9"),ng=r.n(rg),ig=r("c9N0"),og=function(){function e(){var t=this;Object(i["a"])(this,e),Object(c["a"])(this,"_update",(function(){t._updateTimer=null,t.listeners.forEach((function(e){return e(t._version)}))})),Object(c["a"])(this,"_getDataVersion",(function(){return t.get("dataVersion")})),this.listeners=[],this.state={},this._updates=0,this._version=0,this._updateTimer=null}return Object(o["a"])(e,[{key:"subscribe",value:function(e){this.listeners.push(e)}},{key:"unsubscribe",value:function(e){var t=this.listeners.findIndex((function(t){return t===e}));t>=0&&this.listeners.splice(t,1)}},{key:"get",value:function(e){return this.state[e]}},{key:"set",value:function(e,t){this.state[e]!==t&&(this.state[e]=t,this._version++,this._updateTimer||(this._updateTimer=requestAnimationFrame(this._update)))}},{key:"_bumpDataVersion",value:function(){this._updates++,this.set("dataVersion",this._updates)}}]),e}();function ag(e){var t=sg();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function sg(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ug=function(e){Object(a["a"])(r,e);var t=ag(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"getCurrentTime",(function(){return e.get("timestamp")})),Object(c["a"])(Object(Qy["a"])(e),"getLookAhead",(function(){return e.get("lookAhead")})),e}return Object(o["a"])(r,[{key:"seek",value:function(e){throw new Error("Not implemented")}},{key:"isOpen",value:function(){return!1}},{key:"connect",value:function(){throw new Error("not implemented")}},{key:"close",value:function(){throw new Error("Not implemented")}},{key:"setLookAhead",value:function(e){this.set("lookAhead",e)}},{key:"getLogStartTime",value:function(){throw new Error("Not implemented")}},{key:"getLogEndTime",value:function(){throw new Error("Not implemented")}},{key:"getBufferedTimeRanges",value:function(){throw new Error("Not implemented")}}]),r}(og),cg=r("peh1");function lg(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=cg["createSelector"].apply(void 0,r);return function(){return i(e._version)}}var fg=new gt["a"]({id:"streetscape.gl"});function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hg(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dg(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=vg(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function vg(e,t){if(e){if("string"===typeof e)return mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mg(e,t):void 0}}function mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yg(e){var t=gg();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function gg(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var bg=function(e){Object(a["a"])(r,e);var t=yg(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,r),e=t.call(this),Object(c["a"])(Object(Qy["a"])(e),"onXVIZMessage",(function(t){switch(t.type){case Ly["a"].METADATA:e._onXVIZMetadata(t),e.emit("ready",t);break;case Ly["a"].TIMESLICE:e._onXVIZTimeslice(t),e.emit("update",t);break;case Ly["a"].DONE:e.emit("finish",t);break;default:e.emit("error",t)}})),Object(c["a"])(Object(Qy["a"])(e),"onError",(function(t){e.emit("error",t)})),Object(c["a"])(Object(Qy["a"])(e),"getMetadata",(function(){return e.get("metadata")})),Object(c["a"])(Object(Qy["a"])(e),"getStreamSettings",(function(){return e.get("streamSettings")})),Object(c["a"])(Object(Qy["a"])(e),"_getStreamsMetadata",(function(){return e.get("streamsMetadata")})),Object(c["a"])(Object(Qy["a"])(e),"_getStreams",lg(Object(Qy["a"])(e),e._getDataVersion,(function(){return e._getDataByStream()}))),Object(c["a"])(Object(Qy["a"])(e),"getBufferedTimeRanges",lg(Object(Qy["a"])(e),e._getDataVersion,(function(){return e._getBufferedTimeRanges()}))),Object(c["a"])(Object(Qy["a"])(e),"getStreams",lg(Object(Qy["a"])(e),[e.getStreamSettings,e._getStreams,e._getDataVersion],(function(e,t){if(!e||!t)return t;var r={};for(var n in t)e[n]&&(r[n]=t[n]);return r}))),Object(c["a"])(Object(Qy["a"])(e),"getStreamsMetadata",Object(Ly["f"])().DYNAMIC_STREAM_METADATA?lg(Object(Qy["a"])(e),[e.getMetadata,e._getStreamsMetadata],(function(e,t){return Object.assign({},t,e&&e.streams)})):lg(Object(Qy["a"])(e),e.getMetadata,(function(e){return e&&e.streams||{}}))),Object(c["a"])(Object(Qy["a"])(e),"getBufferStartTime",lg(Object(Qy["a"])(e),e.getCurrentTime,(function(){return e._getBufferStartTime()}))),Object(c["a"])(Object(Qy["a"])(e),"getBufferEndTime",lg(Object(Qy["a"])(e),e.getCurrentTime,(function(){return e._getBufferEndTime()}))),Object(c["a"])(Object(Qy["a"])(e),"getLogStartTime",lg(Object(Qy["a"])(e),e.getMetadata,(function(t){return e._getLogStartTime(t)}))),Object(c["a"])(Object(Qy["a"])(e),"getLogEndTime",lg(Object(Qy["a"])(e),e.getMetadata,(function(t){return e._getLogEndTime(t)}))),Object(c["a"])(Object(Qy["a"])(e),"getCurrentFrame",lg(Object(Qy["a"])(e),[e.getStreamSettings,e.getCurrentTime,e.getLookAhead,e._getDataVersion],(function(t,r,n){var i=Object(Qy["a"])(e),o=i.logSynchronizer;return o&&Number.isFinite(r)?(o.setTime(r),o.setLookAheadTimeOffset(n),o.getCurrentFrame(t)):null}))),e.options=n,e._debug=n.debug||function(){},e.callbacks={},e}return Object(o["a"])(r,[{key:"on",value:function(e,t){return this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t),this}},{key:"off",value:function(e,t){var r=this.callbacks[e];if(r){var n=r.indexOf(t);n>=0&&r.splice(n,1)}return this}},{key:"emit",value:function(e,t){var r=this.callbacks[e];if(r){var n,i=dg(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o(e,t)}}catch(a){i.e(a)}finally{i.f()}}fg.get("loader-".concat(e)).incrementCount()}},{key:"seek",value:function(e){var t=this.getMetadata();if(t){var r=this.getLogStartTime(),n=this.getLogEndTime();Number.isFinite(r)&&Number.isFinite(n)&&(e=Object(ig["e"])(e,r,n))}this.set("timestamp",e),this.streamBuffer.setCurrentTime(e)}},{key:"updateStreamSettings",value:function(e){var t=this.get("streamSettings");this.set("streamSettings",pg(pg({},t),e))}},{key:"_onXVIZMetadata",value:function(e){if(this.set("metadata",e),e.streams&&Object.keys(e.streams).length>0&&this.set("streamSettings",e.streams),!this.streamBuffer)throw new Error("streamBuffer is missing");this.logSynchronizer=this.logSynchronizer||new Ly["b"](this.streamBuffer);var t=this.get("timestamp"),r=Number.isFinite(t)?t:e.start_time;Number.isFinite(r)&&this.seek(r)}},{key:"_onXVIZTimeslice",value:function(e){var t=this.streamBuffer.streamCount,r=this.streamBuffer.insert(e);if(r&&this._bumpDataVersion(),Object(Ly["f"])().DYNAMIC_STREAM_METADATA&&this.streamBuffer.streamCount>t){var n={},i=this.get("streamSettings");for(var o in e.streams)n[o]=e.streams[o].__metadata,o in i||(i[o]=!0);this.set("streamsMetadata",n)}return r}},{key:"_getDataByStream",value:function(){return this.streamBuffer.streams}},{key:"_getBufferedTimeRanges",value:function(){var e=this.streamBuffer.getLoadedTimeRange();return e?[[e.start,e.end]]:[]}},{key:"_getLogStartTime",value:function(e){return e&&e.start_time&&e.start_time+Object(Ly["f"])().TIME_WINDOW}},{key:"_getLogEndTime",value:function(e){return e&&e.end_time}},{key:"_getBufferStartTime",value:function(){return this.getLogStartTime()}},{key:"_getBufferEndTime",value:function(){return this.getLogEndTime()}}]),r}(ug),_g=["log"];function wg(e){var t=xg();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function xg(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Og(e){var t=e.getLogState,r=e.Component,n=function(e){Object(a["a"])(s,e);var n=wg(s);function s(){var e;Object(i["a"])(this,s);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),Object(c["a"])(Object(Qy["a"])(e),"state",{logVersion:-1}),Object(c["a"])(Object(Qy["a"])(e),"_update",(function(t){e.setState({logVersion:t})})),e}return Object(o["a"])(s,[{key:"componentDidMount",value:function(){var e=this.props.log;e&&e.subscribe(this._update)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.log,r=e.log;t!==r&&(t&&t.unsubscribe(this._update),r&&r.subscribe(this._update))}},{key:"componentWillUnmount",value:function(){var e=this.props.log;e&&e.unsubscribe(this._update)}},{key:"render",value:function(){var e=this.props,n=e.log,i=Object(Jy["a"])(e,_g),o=n&&t(n,i);return tg.a.createElement(r,Object(Ky["a"])({},i,o,{log:n}))}}]),s}(eg["PureComponent"]);return Object(c["a"])(n,"propTypes",{log:ng.a.instanceOf(bg)}),n}function Eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eg(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sg(e,t){var r=t.stateName,n=t.id,i=t.value,o=jg({},e[r]),a=Ly["c"].get(n);return a&&a._setState(r,i),i?o[n]=i:delete o[n],jg(jg({},e),{},Object(c["a"])({},r,o))}function kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kg(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pg(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Ag(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(a)throw i}}}}function Ag(e,t){if(e){if("string"===typeof e)return Ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ig(e,t):void 0}}function Ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cg=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Rg(e){if(!e)return null;if("string"===typeof e)return e;e.toJS&&(e=e.toJS());var t,r={},n=Pg(e.layers);try{for(n.s();!(t=n.n()).done;){var i=t.value;r[i.id]=i}}catch(a){n.e(a)}finally{n.f()}var o=e.layers.map((function(e){var t=r[e.ref],n=null;if("interactive"in e&&(n=Tg({},e),delete n.interactive),t){n=n||Tg({},e),delete n.ref;var i,o=Pg(Cg);try{for(o.s();!(i=o.n()).done;){var s=i.value;s in t&&(n[s]=t[s])}}catch(a){o.e(a)}finally{o.f()}}return n||e}));return Tg(Tg({},e),{},{layers:o})}var Mg=r("jYz7"),Lg=r("6pOq"),Dg=r("4ZJM"),Ng=r.n(Dg),Fg=r("ODXe"),zg=1e-7;function Bg(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Ug(e,t){if(e===t)return!0;if(Bg(e)&&Bg(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!Ug(e[r],t[r]))return!1;return!0}return Math.abs(e-t)<=zg}function Vg(e,t,r){return Math.max(t,Math.min(r,e))}function Gg(e,t,r){return Bg(e)?e.map((function(e,n){return Gg(e,t[n],r)})):r*t+(1-r)*e}function qg(e,t){if(!e)throw new Error(t||"react-map-gl: assertion failed.")}function Wg(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Hg(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(a)throw i}}}}function Hg(e,t){if(e){if("string"===typeof e)return Zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zg(e,t):void 0}}function Zg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xg=function(){function e(){Object(i["a"])(this,e),Object(c["a"])(this,"propNames",[])}return Object(o["a"])(e,[{key:"arePropsEqual",value:function(e,t){var r,n=Wg(this.propNames||[]);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!Ug(e[i],t[i]))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,r){qg(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(e,t){return t.transitionDuration}}]),e}(),$g={longitude:1,bearing:1};function Yg(e){return Number.isFinite(e)||Array.isArray(e)}function Kg(e){return e in $g}function Jg(e,t,r){return Kg(e)&&Math.abs(r-t)>180&&(r=r<0?r+360:r-360),r}function Qg(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=eb(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(a)throw i}}}}function eb(e,t){if(e){if("string"===typeof e)return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tb(e,t):void 0}}function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rb(e){var t=nb();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function nb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ib=["longitude","latitude","zoom","bearing","pitch"],ob=["latitude","longitude","zoom","width","height"],ab=["bearing","pitch"],sb={speed:1.2,curve:1.414};(function(e){Object(a["a"])(r,e);var t=rb(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,r),e=t.call(this),Object(c["a"])(Object(Qy["a"])(e),"speed",void 0),Object(c["a"])(Object(Qy["a"])(e),"propNames",ib),Object(c["a"])(Object(Qy["a"])(e),"props",void 0),e.props=Object.assign({},sb,n),e}Object(o["a"])(r,[{key:"initializeProps",value:function(e,t){var r,n={},i={},o=Qg(ob);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=e[a],u=t[a];qg(Yg(s)&&Yg(u),"".concat(a," must be supplied for transition")),n[a]=s,i[a]=Jg(a,s,u)}}catch(d){o.e(d)}finally{o.f()}var c,l=Qg(ab);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=e[f]||0,p=t[f]||0;n[f]=h,i[f]=Jg(f,h,p)}}catch(d){l.e(d)}finally{l.f()}return{start:n,end:i}}},{key:"interpolateProps",value:function(e,t,r){var n,i=Cc(e,t,r,this.props),o=Qg(ab);try{for(o.s();!(n=o.n()).done;){var a=n.value;i[a]=Gg(e[a],t[a],r)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(e,t){var r=t.transitionDuration;return"auto"===r&&(r=Rc(e,t,this.props)),r}}])})(Xg);function ub(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=cb(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(a)throw i}}}}function cb(e,t){if(e){if("string"===typeof e)return lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lb(e,t):void 0}}function lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fb(e){var t=hb();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function hb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var pb=["longitude","latitude","zoom","bearing","pitch"],db=function(e){Object(a["a"])(r,e);var t=fb(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,r),e=t.call(this),Object(c["a"])(Object(Qy["a"])(e),"around",void 0),Array.isArray(n)&&(n={transitionProps:n}),e.propNames=n.transitionProps||pb,n.around&&(e.around=n.around),e}return Object(o["a"])(r,[{key:"initializeProps",value:function(e,t){var r={},n={};if(this.around){r.around=this.around;var i=new Sc(e).unproject(this.around);Object.assign(n,t,{around:new Sc(t).project(i),aroundLngLat:i})}var o,a=ub(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=e[s],c=t[s];qg(Yg(u)&&Yg(c),"".concat(s," must be supplied for transition")),r[s]=u,n[s]=Jg(s,u,c)}}catch(l){a.e(l)}finally{a.f()}return{start:r,end:n}}},{key:"interpolateProps",value:function(e,t,r){var n,i={},o=ub(this.propNames);try{for(o.s();!(n=o.n()).done;){var a=n.value;i[a]=Gg(e[a],t[a],r)}}catch(f){o.e(f)}finally{o.f()}if(t.around){var s=new Sc(Object.assign({},t,i)).getMapCenterByLngLatPosition({lngLat:t.aroundLngLat,pos:Gg(e.around,t.around,r)}),u=Object(Fg["a"])(s,2),c=u[0],l=u[1];i.longitude=c,i.latitude=l}return i}}]),r}(Xg),vb={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},mb={pitch:0,bearing:0,altitude:1.5},yb=function(){function e(t){var r=t.width,n=t.height,o=t.latitude,a=t.longitude,s=t.zoom,u=t.bearing,l=void 0===u?mb.bearing:u,f=t.pitch,h=void 0===f?mb.pitch:f,p=t.altitude,d=void 0===p?mb.altitude:p,v=t.maxZoom,m=void 0===v?vb.maxZoom:v,y=t.minZoom,g=void 0===y?vb.minZoom:y,b=t.maxPitch,_=void 0===b?vb.maxPitch:b,w=t.minPitch,x=void 0===w?vb.minPitch:w,O=t.transitionDuration,E=t.transitionEasing,j=t.transitionInterpolator,S=t.transitionInterruption,k=t.startPanLngLat,T=t.startZoomLngLat,P=t.startBearing,A=t.startPitch,I=t.startZoom;Object(i["a"])(this,e),Object(c["a"])(this,"_viewportProps",void 0),Object(c["a"])(this,"_interactiveState",void 0),qg(Number.isFinite(r),"`width` must be supplied"),qg(Number.isFinite(n),"`height` must be supplied"),qg(Number.isFinite(a),"`longitude` must be supplied"),qg(Number.isFinite(o),"`latitude` must be supplied"),qg(Number.isFinite(s),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:r,height:n,latitude:o,longitude:a,zoom:s,bearing:l,pitch:h,altitude:d,maxZoom:m,minZoom:g,maxPitch:_,minPitch:x,transitionDuration:O,transitionEasing:E,transitionInterpolator:j,transitionInterruption:S}),this._interactiveState={startPanLngLat:k,startZoomLngLat:T,startBearing:P,startPitch:A,startZoom:I}}return Object(o["a"])(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,r=e.startPos,n=this._interactiveState.startPanLngLat||this._unproject(r);if(!n)return this;var i=this._calculateNewLngLat({startPanLngLat:n,pos:t}),o=Object(Fg["a"])(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,r=void 0===t?0:t,n=e.deltaScaleY,i=void 0===n?0:n,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:r,deltaScaleY:i,startBearing:a||0,startPitch:s||0}),c=u.pitch,l=u.bearing;return this._getUpdatedMapState({bearing:l,pitch:c})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,r=e.startPos,n=e.scale;qg(n>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(r)||this._unproject(t)),qg(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:n,startZoom:o||0}),u=new Sc(Object.assign({},this._viewportProps,{zoom:s})),c=u.getMapCenterByLngLatPosition({lngLat:a,pos:t}),l=Object(Fg["a"])(c,2),f=l[0],h=l[1];return this._getUpdatedMapState({zoom:s,longitude:f,latitude:h})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,r=e.minZoom,n=e.zoom;e.zoom=Vg(n,r,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=Vg(a,o,i),Object.assign(e,Tc(e)),e}},{key:"_unproject",value:function(e){var t=new Sc(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,r=e.pos,n=new Sc(this._viewportProps);return n.getMapCenterByLngLatPosition({lngLat:t,pos:r})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,r=e.startZoom,n=this._viewportProps,i=n.maxZoom,o=n.minZoom,a=r+Math.log2(t);return Vg(a,o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,r=e.deltaScaleY,n=e.startBearing,i=e.startPitch;r=Vg(r,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=n+180*t,c=i;return r>0?c=i+r*(s-i):r<0&&(c=i-r*(a-i)),{pitch:c,bearing:u}}}]),e}();function gb(e){return e[0].toLowerCase()+e.slice(1)}function bb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vb;for(var r in t){var n=r.slice(0,3),i=gb(r.slice(3));if("min"===n&&e[i]<t[r])return!1;if("max"===n&&e[i]>t[r])return!1}return!0}var _b=Object(eg["createContext"])({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wb(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ob(e){var t=Eb();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Eb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var jb="https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens",Sb="A valid API access token is required to use Mapbox data";function kb(){}var Tb=401,Pb={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},Ab=Object.assign({},Lg["a"].propTypes,{width:ng.a.oneOfType([ng.a.number,ng.a.string]),height:ng.a.oneOfType([ng.a.number,ng.a.string]),onResize:ng.a.func,preventStyleDiffing:ng.a.bool,disableTokenWarning:ng.a.bool,visible:ng.a.bool,className:ng.a.string,style:ng.a.object,visibilityConstraints:ng.a.object}),Ib=Object.assign({},Lg["a"].defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:kb,className:"",style:null,visibilityConstraints:vb});function Cb(e){e.target.scrollTo(0,0)}var Rb=function(e){Object(a["a"])(r,e);var t=Ob(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"state",{accessTokenInvalid:!1}),Object(c["a"])(Object(Qy["a"])(e),"_mapbox",null),Object(c["a"])(Object(Qy["a"])(e),"_map",null),Object(c["a"])(Object(Qy["a"])(e),"_mapboxMapRef",Object(eg["createRef"])()),Object(c["a"])(Object(Qy["a"])(e),"_mapContainerRef",Object(eg["createRef"])()),Object(c["a"])(Object(Qy["a"])(e),"_queryParams",{}),Object(c["a"])(Object(Qy["a"])(e),"_width",0),Object(c["a"])(Object(Qy["a"])(e),"_height",0),Object(c["a"])(Object(Qy["a"])(e),"getMap",(function(){return e._map})),Object(c["a"])(Object(Qy["a"])(e),"queryRenderedFeatures",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e._map.queryRenderedFeatures(t,r)})),Object(c["a"])(Object(Qy["a"])(e),"_mapboxMapError",(function(t){var r=t.error&&t.error.status||t.status;r!==Tb||e.state.accessTokenInvalid||(console.error(Sb),e.setState({accessTokenInvalid:!0})),e.props.onError(t)})),e}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){if(r.supported()){var e=this.props.mapStyle;this._mapbox=new Lg["a"](Object.assign({},this.props,{mapboxgl:Ng.a,width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:Rg(e)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(e){this._mapbox&&(this._updateMapStyle(e,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(e,t){this._width===e&&this._height===t||(this._width=e,this._height=t,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(e,t){var r=t.mapStyle,n=e.mapStyle;r!==n&&r&&this._map.setStyle(Rg(r),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(e){this._mapbox&&this._mapbox.setProps(Object.assign({},e,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){var e={position:"absolute",left:0,top:0};return eg["createElement"]("div",{key:"warning",id:"no-token-warning",style:e},eg["createElement"]("h3",{key:"header"},Sb),eg["createElement"]("div",{key:"text"},"For information on setting up your basemap, read"),eg["createElement"]("a",{key:"link",href:jb},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(e){var t=this,r=e.width,n=e.height;return this._updateMapSize(r,n),eg["createElement"](_b.Consumer,null,(function(e){var i=xb(xb({},e),{},{viewport:new Sc(xb(xb(xb({},t.props),t.props.viewState),{},{width:r,height:n})),map:t._map,mapContainer:e.mapContainer||t._mapContainerRef.current});return eg["createElement"](_b.Provider,{value:i},eg["createElement"]("div",{key:"map-overlays",className:"overlays",style:Pb,onScroll:Cb},t.props.children))}))}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.width,n=e.height,i=e.style,o=e.visibilityConstraints,a=Object.assign({position:"relative"},i,{width:r,height:n}),s=this.props.visible&&bb(this.props.viewState||this.props,o),u=Object.assign({},Pb,{visibility:s?"inherit":"hidden"});return eg["createElement"]("div",{key:"map-container",style:a,ref:this._mapContainerRef},eg["createElement"]("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:u,className:t}),eg["createElement"](Mg["a"],{key:"autosizer",onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return Ng.a&&Ng.a.supported()}}]),r}(eg["PureComponent"]);Object(c["a"])(Rb,"propTypes",Ab),Object(c["a"])(Rb,"defaultProps",Ib);var Mb=function(){};function Lb(e,t){var r=e(t);return function(n){return 1/(1-r)*(e(n*(1-t)+t)-r)}}var Db={BREAK:1,SNAP_TO_END:2,IGNORE:3,UPDATE:4},Nb={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new db,transitionInterruption:Db.BREAK,onTransitionStart:Mb,onTransitionInterrupt:Mb,onTransitionEnd:Mb,onViewportChange:Mb,onStateChange:Mb},Fb=function(){function e(t,r){var n=this;Object(i["a"])(this,e),Object(c["a"])(this,"props",void 0),Object(c["a"])(this,"state",void 0),Object(c["a"])(this,"time",void 0),Object(c["a"])(this,"_animationFrame",null),Object(c["a"])(this,"_onTransitionFrame",(function(){n._animationFrame=requestAnimationFrame(n._onTransitionFrame),n._updateViewport()})),t&&(this.props=t),this.time=r||Date.now}return Object(o["a"])(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(e){var t=this.props;if(this.props=e,this._shouldIgnoreViewportChange(t,e))return!1;if(this._isTransitionEnabled(e)){var r=Object.assign({},t),n=Object.assign({},e);if(this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this.state.interruption===Db.SNAP_TO_END?Object.assign(r,this.state.endProps):Object.assign(r,this.state.propsInTransition),this.state.interruption===Db.UPDATE)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;n.transitionDuration=this.state.duration-(i-this.state.startTime),n.transitionEasing=Lb(this.state.easing,o),n.transitionInterpolator=r.transitionInterpolator}return n.onTransitionStart(),this._triggerTransition(r,n),!0}return this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,r=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(r)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return!e||(this._isTransitionInProgress()?this.state.interruption===Db.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t))}},{key:"_triggerTransition",value:function(e,t){qg(this._isTransitionEnabled(t)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var r=t.transitionInterpolator,n=r.getDuration?r.getDuration(e,t):t.transitionDuration;if(0!==n){var i=t.transitionInterpolator.initializeProps(e,t),o={inTransition:!0,isZooming:e.zoom!==t.zoom,isPanning:e.longitude!==t.longitude||e.latitude!==t.latitude,isRotating:e.bearing!==t.bearing||e.pitch!==t.pitch};this.state={duration:n,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:o},this._onTransitionFrame(),this.props.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var e=this.time(),t=this.state,r=t.startTime,n=t.duration,i=t.easing,o=t.interpolator,a=t.startProps,s=t.endProps,u=!1,c=(e-r)/n;c>=1&&(c=1,u=!0),c=i(c);var l=o.interpolateProps(a,s,c),f=new yb(Object.assign({},this.props,l));this.state.propsInTransition=f.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();Object(c["a"])(Fb,"defaultProps",Nb);var zb=r("yLV6"),Bb=1,Ub=2,Vb=4,Gb={mousedown:Bb,mousemove:Ub,mouseup:Vb};function qb(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return!0;return!1}function Wb(e){var t=e.prototype.handler;e.prototype.handler=function(e){var r=this.store;e.button>0&&"pointerdown"===e.type&&(qb(r,(function(t){return t.pointerId===e.pointerId}))||r.push(e)),t.call(this,e)}}function Hb(e){e.prototype.handler=function(e){var t=Gb[e.type];t&Bb&&e.button>=0&&(this.pressed=!0),t&Ub&&0===e.which&&(t=Vb),this.pressed&&(t&Vb&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}}Wb(zb["PointerEventInput"]),Hb(zb["MouseInput"]);var Zb=zb["Manager"],Xb=zb,$b=Object(p["a"])((function e(t,r,n){Object(h["a"])(this,e),this.element=t,this.callback=r,this.options=Object(f["a"])({enable:!0},n)})),Yb=Xb?[[Xb.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Xb.Rotate,{enable:!1}],[Xb.Pinch,{enable:!1}],[Xb.Swipe,{enable:!1}],[Xb.Pan,{threshold:0,enable:!1}],[Xb.Press,{enable:!1}],[Xb.Tap,{event:"doubletap",taps:2,enable:!1}],[Xb.Tap,{event:"anytap",enable:!1}],[Xb.Tap,{enable:!1}]]:null,Kb={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Jb={doubletap:["tap"]},Qb={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},e_={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},t_={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},r_={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},n_=r("Vame"),i_=-1!==n_["b"].indexOf("firefox"),o_=e_.WHEEL_EVENTS,a_="wheel",s_=4.000244140625,u_=40,c_=.25,l_=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e,n,i){var o;return Object(h["a"])(this,r),o=t.call(this,e,n,i),o.handleEvent=function(e){if(o.options.enable){var t=e.deltaY;n_["c"].WheelEvent&&(i_&&e.deltaMode===n_["c"].WheelEvent.DOM_DELTA_PIXEL&&(t/=n_["c"].devicePixelRatio),e.deltaMode===n_["c"].WheelEvent.DOM_DELTA_LINE&&(t*=u_)),0!==t&&t%s_===0&&(t=Math.floor(t/s_)),e.shiftKey&&t&&(t*=c_),o.callback({type:a_,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})}},o.events=(o.options.events||[]).concat(o_),o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent,!!n_["a"]&&{passive:!1})})),o}return Object(p["a"])(r,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===a_&&(this.options.enable=t)}}]),r}($b),f_=e_.MOUSE_EVENTS,h_="pointermove",p_="pointerover",d_="pointerout",v_="pointerenter",m_="pointerleave",y_=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e,n,i){var o;Object(h["a"])(this,r),o=t.call(this,e,n,i),o.handleEvent=function(e){o.handleOverEvent(e),o.handleOutEvent(e),o.handleEnterEvent(e),o.handleLeaveEvent(e),o.handleMoveEvent(e)},o.pressed=!1;var a=o.options.enable;return o.enableMoveEvent=a,o.enableLeaveEvent=a,o.enableEnterEvent=a,o.enableOutEvent=a,o.enableOverEvent=a,o.events=(o.options.events||[]).concat(f_),o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent)})),o}return Object(p["a"])(r,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===h_&&(this.enableMoveEvent=t),e===p_&&(this.enableOverEvent=t),e===d_&&(this.enableOutEvent=t),e===v_&&(this.enableEnterEvent=t),e===m_&&(this.enableLeaveEvent=t)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(p_,e)}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(d_,e)}},{key:"handleEnterEvent",value:function(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(v_,e)}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(m_,e)}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(h_,e);break;case"mouseup":this.pressed=!1;break;default:}}},{key:"_emit",value:function(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),r}($b),g_=e_.KEY_EVENTS,b_="keydown",__="keyup",w_=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e,n,i){var o;return Object(h["a"])(this,r),o=t.call(this,e,n,i),o.handleEvent=function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(o.enableDownEvent&&"keydown"===e.type&&o.callback({type:b_,srcEvent:e,key:e.key,target:e.target}),o.enableUpEvent&&"keyup"===e.type&&o.callback({type:__,srcEvent:e,key:e.key,target:e.target}))},o.enableDownEvent=o.options.enable,o.enableUpEvent=o.options.enable,o.events=(o.options.events||[]).concat(g_),e.tabIndex=o.options.tabIndex||0,e.style.outline="none",o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent)})),o}return Object(p["a"])(r,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===b_&&(this.enableDownEvent=t),e===__&&(this.enableUpEvent=t)}}]),r}($b),x_="contextmenu",O_=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e,n,i){var o;return Object(h["a"])(this,r),o=t.call(this,e,n,i),o.handleEvent=function(e){o.options.enable&&o.callback({type:x_,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",o.handleEvent),o}return Object(p["a"])(r,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){e===x_&&(this.options.enable=t)}}]),r}($b),E_=1,j_=2,S_=4,k_={pointerdown:E_,pointermove:j_,pointerup:S_,mousedown:E_,mousemove:j_,mouseup:S_},T_=1,P_=2,A_=3,I_=0,C_=1,R_=2,M_=1,L_=2,D_=4;function N_(e){var t=k_[e.srcEvent.type];if(!t)return null;var r=e.srcEvent,n=r.buttons,i=r.button,o=r.which,a=!1,s=!1,u=!1;return t===S_||t===j_&&!Number.isFinite(n)?(a=o===T_,s=o===P_,u=o===A_):t===j_?(a=Boolean(n&M_),s=Boolean(n&D_),u=Boolean(n&L_)):t===E_&&(a=i===I_,s=i===C_,u=i===R_),{leftButton:a,middleButton:s,rightButton:u}}function F_(e,t){var r=e.center;if(!r)return null;var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth||1,o=n.height/t.offsetHeight||1,a={x:(r.x-n.left-t.clientLeft)/i,y:(r.y-n.top-t.clientTop)/o};return{center:r,offsetCenter:a}}var z_={srcElement:"root",priority:0},B_=function(){function e(t){var r=this;Object(h["a"])(this,e),this.handleEvent=function(e){if(!r.isEmpty()){var t=r._normalizeEvent(e),n=e.srcEvent.target;while(n&&n!==t.rootElement){if(r._emit(t,n),t.handled)return;n=n.parentNode}r._emit(t,"root")}},this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this._active=!1}return Object(p["a"])(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement,s=z_;"string"===typeof r||r&&r.addEventListener?s=Object(f["a"])(Object(f["a"])({},z_),{},{srcElement:r}):r&&(s=Object(f["a"])(Object(f["a"])({},z_),r));var u=a.get(s.srcElement);u||(u=[],a.set(s.srcElement,u));var c={type:e,handler:t,srcElement:s.srcElement,priority:s.priority};n&&(c.once=!0),i&&(c.passive=!0),o.push(c),this._active=this._active||!c.passive;var l=u.length-1;while(l>=0){if(u[l].priority>=c.priority)break;l--}u.splice(l+1,0,c)}},{key:"remove",value:function(e,t){for(var r=this.handlers,n=this.handlersByElement,i=r.length-1;i>=0;i--){var o=r[i];if(o.type===e&&o.handler===t){r.splice(i,1);var a=n.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&n["delete"](o.srcElement)}}this._active=r.some((function(e){return!e.passive}))}},{key:"_emit",value:function(e,t){var r=this.handlersByElement.get(t);if(r){for(var n=!1,i=function(){e.handled=!0},o=function(){e.handled=!0,n=!0},a=[],s=0;s<r.length;s++){var u=r[s],c=u.type,l=u.handler,h=u.once;if(l(Object(f["a"])(Object(f["a"])({},e),{},{type:c,stopPropagation:i,stopImmediatePropagation:o})),h&&a.push(r[s]),n)break}for(var p=0;p<a.length;p++){var d=a[p],v=d.type,m=d.handler;this.remove(v,m)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.getElement();return Object(f["a"])(Object(f["a"])(Object(f["a"])(Object(f["a"])({},e),N_(e)),F_(e,t)),{},{preventDefault:function(){e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t})}}]),e}(),U_={events:null,recognizers:null,recognizerOptions:{},Manager:Zb,touchAction:"none",tabIndex:0},V_=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;Object(h["a"])(this,e),this._onBasicInput=function(e){var r=e.srcEvent,n=Qb[r.type];n&&t.manager.emit(n,e)},this._onOtherEvent=function(e){t.manager.emit(e.type,e)},this.options=Object(f["a"])(Object(f["a"])({},U_),n),this.events=new Map,this.setElement(r);var i=this.options.events;i&&this.on(i)}return Object(p["a"])(e,[{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var r=this.options,n=r.Manager;for(var i in this.manager=new n(e,{touchAction:r.touchAction,recognizers:r.recognizers||Yb}).on("hammer.input",this._onBasicInput),r.recognizers||Object.keys(Kb).forEach((function(e){var r=t.manager.get(e);r&&Kb[e].forEach((function(e){r.recognizeWith(e)}))})),r.recognizerOptions){var o=this.manager.get(i);if(o){var a=r.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new l_(e,this._onOtherEvent,{enable:!1}),this.moveInput=new y_(e,this._onOtherEvent,{enable:!1}),this.keyInput=new w_(e,this._onOtherEvent,{enable:!1,tabIndex:r.tabIndex}),this.contextmenuInput=new O_(e,this._onOtherEvent,{enable:!1});var s,u=Object(l["a"])(this.events);try{for(u.s();!(s=u.n()).done;){var c=s.value,f=Object(b["a"])(c,2),h=f[0],p=f[1];p.isEmpty()||(this._toggleRecognizer(p.recognizerName,!0),this.manager.on(h,p.handleEvent))}}catch(d){u.e(d)}finally{u.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,r){this._addEventHandler(e,t,r,!1)}},{key:"once",value:function(e,t,r){this._addEventHandler(e,t,r,!0)}},{key:"watch",value:function(e,t,r){this._addEventHandler(e,t,r,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var r=this.manager;if(r){var n=r.get(e);if(n&&n.options.enable!==t){n.set({enable:t});var i=Jb[e];i&&!this.options.recognizers&&i.forEach((function(i){var o=r.get(i);t?(o.requireFailure(e),n.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,r,n,i){if("string"===typeof e){var o=this.manager,a=this.events,s=r_[e]||e,u=a.get(s);u||(u=new B_(this),a.set(s,u),u.recognizerName=t_[s]||s,o&&o.on(s,u.handleEvent)),u.add(e,t,r,n,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var c in r=t,e)this._addEventHandler(c,e[c],r,n,i)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var r=this.events,n=r_[e]||e,i=r.get(n);if(i&&(i.remove(e,t),i.isEmpty())){var o,a=i.recognizerName,s=!1,u=Object(l["a"])(r.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.recognizerName===a&&!c.isEmpty()){s=!0;break}}}catch(h){u.e(h)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var f in e)this._removeEventHandler(f,e[f])}}]),e}();function G_(e,t){var r,n,i,o=function(){return i=null,e.apply(r,n)};return function(){r=this,n=arguments,i&&clearTimeout(i),i=setTimeout(o,t)}}var q_={transitionDuration:0},W_={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new db,transitionInterruption:Db.BREAK},H_=5,Z_=1.2,X_=.01,$_={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend","pinchcancel"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},Y_=function(){function e(){var t=this;Object(i["a"])(this,e),Object(c["a"])(this,"events",[]),Object(c["a"])(this,"mapState",void 0),Object(c["a"])(this,"onViewportChange",void 0),Object(c["a"])(this,"onStateChange",void 0),Object(c["a"])(this,"mapStateProps",void 0),Object(c["a"])(this,"eventManager",void 0),Object(c["a"])(this,"scrollZoom",!0),Object(c["a"])(this,"dragPan",!0),Object(c["a"])(this,"dragRotate",!0),Object(c["a"])(this,"doubleClickZoom",!0),Object(c["a"])(this,"touchZoom",!0),Object(c["a"])(this,"touchRotate",!1),Object(c["a"])(this,"keyboard",!0),Object(c["a"])(this,"_state",{isDragging:!1}),Object(c["a"])(this,"_events",{}),Object(c["a"])(this,"_transitionManager",new Fb),Object(c["a"])(this,"setState",(function(e){Object.assign(t._state,e),t.onStateChange&&t.onStateChange(t._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=G_(this._onWheelEnd,100)}return Object(o["a"])(e,[{key:"handleEvent",value:function(e){switch(this.mapState=this.getMapState(),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchcancel":case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter,r=t.x,n=t.y;return[r,n]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},e.getViewportProps(),t),o=Object.keys(i).some((function(e){return n[e]!==i[e]}));o&&this.onViewportChange(i,r,n),this.setState(Object.assign({},e.getInteractiveState(),r))}},{key:"getMapState",value:function(e){return new yb(Object.assign({},this.mapStateProps,this._state,e))}},{key:"setOptions",value:function(e){var t=e.onViewportChange,r=e.onStateChange,n=e.eventManager,i=void 0===n?this.eventManager:n,o=e.isInteractive,a=void 0===o||o,s=e.scrollZoom,u=void 0===s?this.scrollZoom:s,c=e.dragPan,l=void 0===c?this.dragPan:c,f=e.dragRotate,h=void 0===f?this.dragRotate:f,p=e.doubleClickZoom,d=void 0===p?this.doubleClickZoom:p,v=e.touchZoom,m=void 0===v?this.touchZoom:v,y=e.touchRotate,g=void 0===y?this.touchRotate:y,b=e.keyboard,_=void 0===b?this.keyboard:b;this.onViewportChange=t,this.onStateChange=r;var w=!this.mapStateProps||this.mapStateProps.height!==e.height;this.mapStateProps=e,w&&this.updateViewport(new yb(e)),this._transitionManager.processViewportChange(Object.assign({},e,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents($_.WHEEL,a&&u),this.toggleEvents($_.PAN,a&&(l||h)),this.toggleEvents($_.PINCH,a&&(m||g)),this.toggleEvents($_.DOUBLE_TAP,a&&d),this.toggleEvents($_.KEYBOARD,a&&_),this.scrollZoom=u,this.dragPan=l,this.dragRotate=h,this.doubleClickZoom=d,this.touchZoom=m,this.touchRotate=g,this.keyboard=_}},{key:"toggleEvents",value:function(e,t){var r=this;this.eventManager&&e.forEach((function(e){r._events[e]!==t&&(r._events[e]=t,t?r.eventManager.on(e,r.handleEvent):r.eventManager.off(e,r.handleEvent))}))}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e),r=this.mapState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(r,q_,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)||e.rightButton?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanEnd",value:function(e){var t=this.mapState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),r=this.mapState.pan({pos:t});return this.updateViewport(r,q_,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,r=e.deltaY,n=this.getCenter(e),i=Object(Fg["a"])(n,2),o=i[1],a=o-r,s=this.mapState.getViewportProps(),u=s.width,c=s.height,l=t/u,f=0;r>0?Math.abs(c-a)>H_&&(f=r/(a-c)*Z_):r<0&&a>H_&&(f=1-o/a),f=Math.min(1,Math.max(-1,f));var h=this.mapState.rotate({deltaScaleX:l,deltaScaleY:f});return this.updateViewport(h,q_,{isRotating:!0}),!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e),r=e.delta,n=2/(1+Math.exp(-Math.abs(r*X_)));r<0&&0!==n&&(n=1/n);var i=this.mapState.zoom({pos:t,scale:n});return this.updateViewport(i,q_,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),r=this.mapState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(r,q_,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.mapState;if(this.touchZoom){var r=e.scale,n=this.getCenter(e);t=t.zoom({pos:n,scale:r})}if(this.touchRotate){var i=e.rotation,o=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(t,q_,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(e){var t=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),r=this.isFunctionKeyPressed(e),n=this.mapState.zoom({pos:t,scale:r?.5:2});return this.updateViewport(n,Object.assign({},W_,{transitionInterpolator:new db({around:t})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,r=this.isFunctionKeyPressed(e),n=this.mapStateProps;switch(e.srcEvent.keyCode){case 189:t=r?this.getMapState({zoom:n.zoom-2}):this.getMapState({zoom:n.zoom-1});break;case 187:t=r?this.getMapState({zoom:n.zoom+2}):this.getMapState({zoom:n.zoom+1});break;case 37:t=r?this.getMapState({bearing:n.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:t=r?this.getMapState({bearing:n.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:t=r?this.getMapState({pitch:n.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:t=r?this.getMapState({pitch:n.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(t,W_)}}]),e}(),K_=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function J_(e){return"react-map-gl: `".concat(e,"` is removed.")}function Q_(e){return"Use `".concat(e,"` instead.")}function ew(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};K_.forEach((function(t){if(e.hasOwnProperty(t.old)){var r=J_(t.old);t["new"]&&(r="".concat(r," ").concat(Q_(t["new"]))),console.warn(r)}}))}function tw(e){var t=rw();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function rw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var nw=Object.assign({},Rb.propTypes,{maxZoom:ng.a.number,minZoom:ng.a.number,maxPitch:ng.a.number,minPitch:ng.a.number,onViewStateChange:ng.a.func,onViewportChange:ng.a.func,onInteractionStateChange:ng.a.func,transitionDuration:ng.a.oneOfType([ng.a.number,ng.a.string]),transitionInterpolator:ng.a.object,transitionInterruption:ng.a.number,transitionEasing:ng.a.func,onTransitionStart:ng.a.func,onTransitionInterrupt:ng.a.func,onTransitionEnd:ng.a.func,scrollZoom:ng.a.bool,dragPan:ng.a.bool,dragRotate:ng.a.bool,doubleClickZoom:ng.a.bool,touchZoom:ng.a.bool,touchRotate:ng.a.bool,keyboard:ng.a.bool,onHover:ng.a.func,onClick:ng.a.func,onDblClick:ng.a.func,onContextMenu:ng.a.func,onMouseDown:ng.a.func,onMouseMove:ng.a.func,onMouseUp:ng.a.func,onTouchStart:ng.a.func,onTouchMove:ng.a.func,onTouchEnd:ng.a.func,onMouseEnter:ng.a.func,onMouseLeave:ng.a.func,onMouseOut:ng.a.func,onWheel:ng.a.func,touchAction:ng.a.string,clickRadius:ng.a.number,interactiveLayerIds:ng.a.array,getCursor:ng.a.func,controller:ng.a.instanceOf(Y_)}),iw=function(e){var t=e.isDragging,r=e.isHovering;return t?"grabbing":r?"pointer":"grab"},ow=Object.assign({},Rb.defaultProps,vb,Fb.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(e){return e.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:iw}),aw=function(e){Object(a["a"])(r,e);var t=tw(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),Object(c["a"])(Object(Qy["a"])(n),"_controller",void 0),Object(c["a"])(Object(Qy["a"])(n),"_eventManager",void 0),Object(c["a"])(Object(Qy["a"])(n),"_interactiveContext",void 0),Object(c["a"])(Object(Qy["a"])(n),"_width",0),Object(c["a"])(Object(Qy["a"])(n),"_height",0),Object(c["a"])(Object(Qy["a"])(n),"_eventCanvasRef",Object(eg["createRef"])()),Object(c["a"])(Object(Qy["a"])(n),"_staticMapRef",Object(eg["createRef"])()),Object(c["a"])(Object(Qy["a"])(n),"getMap",(function(){return n._staticMapRef.current?n._staticMapRef.current.getMap():null})),Object(c["a"])(Object(Qy["a"])(n),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.getMap();return r&&r.queryRenderedFeatures(e,t)})),Object(c["a"])(Object(Qy["a"])(n),"_onInteractionStateChange",(function(e){var t=e.isDragging,r=void 0!==t&&t;r!==n.state.isDragging&&(n._updateInteractiveContext({isDragging:r}),n.setState({isDragging:r}));var i=n.props.onInteractionStateChange;i&&i(e)})),Object(c["a"])(Object(Qy["a"])(n),"_onResize",(function(e){var t=e.width,r=e.height;n._width=t,n._height=r,n._setControllerProps(n.props),n.props.onResize({width:t,height:r})})),Object(c["a"])(Object(Qy["a"])(n),"_onViewportChange",(function(e,t,r){var i=n.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:e,interactionState:t,oldViewState:r}),a&&a(e,t,r)})),Object(c["a"])(Object(Qy["a"])(n),"_onLoad",(function(e){n.setState({isLoaded:!0}),n.props.onLoad(e)})),Object(c["a"])(Object(Qy["a"])(n),"_onEvent",(function(e,t){var r=n.props[e];r&&r(n._normalizeEvent(t))})),Object(c["a"])(Object(Qy["a"])(n),"_onPointerDown",(function(e){switch(e.pointerType){case"touch":n._onEvent("onTouchStart",e);break;default:n._onEvent("onMouseDown",e)}})),Object(c["a"])(Object(Qy["a"])(n),"_onPointerUp",(function(e){switch(e.pointerType){case"touch":n._onEvent("onTouchEnd",e);break;default:n._onEvent("onMouseUp",e)}})),Object(c["a"])(Object(Qy["a"])(n),"_onPointerMove",(function(e){switch(e.pointerType){case"touch":n._onEvent("onTouchMove",e);break;default:n._onEvent("onMouseMove",e)}if(!n.state.isDragging){var t,r=n.props,i=r.onHover,o=r.interactiveLayerIds;e=n._normalizeEvent(e),n.state.isLoaded&&(o||i)&&(t=n._getFeatures({pos:e.point,radius:n.props.clickRadius})),i&&(e.features=t,i(e));var a=Boolean(o&&t&&t.length>0),s=a&&!n.state.isHovering,u=!a&&n.state.isHovering;s&&n._onEvent("onMouseEnter",e),u&&n._onEvent("onMouseLeave",e),(s||u)&&n.setState({isHovering:a})}})),Object(c["a"])(Object(Qy["a"])(n),"_onClick",(function(e){var t=n.props,r=t.onClick,i=t.onNativeClick,o=t.onDblClick,a=t.doubleClickZoom,s=[],u=o||a;switch(e.type){case"anyclick":s.push(i),u||s.push(r);break;case"click":u&&s.push(r);break;default:}s=s.filter(Boolean),s.length&&(e=n._normalizeEvent(e),e.features=n._getFeatures({pos:e.point,radius:n.props.clickRadius}),s.forEach((function(t){return t(e)})))})),ew(e),n._controller=e.controller||new Y_,n._eventManager=new V_(null,{touchAction:e.touchAction}),n._updateInteractiveContext({isDragging:!1,eventManager:n._eventManager}),n}return Object(o["a"])(r,null,[{key:"supported",value:function(){return Rb.supported()}}]),Object(o["a"])(r,[{key:"componentDidMount",value:function(){var e=this._eventManager,t=this._eventCanvasRef.current;e.setElement(t),e.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:t})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(e){e=Object.assign({},e,e.viewState,{isInteractive:Boolean(e.onViewStateChange||e.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(e);var t=this._interactiveContext;t.onViewportChange=e.onViewportChange,t.onViewStateChange=e.onViewStateChange}},{key:"_getFeatures",value:function(e){var t,r=e.pos,n=e.radius,i={},o=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),n){var a=n,s=[[r[0]-a,r[1]+a],[r[0]+a,r[1]-a]];t=o&&o.queryRenderedFeatures(s,i)}else t=o&&o.queryRenderedFeatures(r,i);return t}},{key:"_updateInteractiveContext",value:function(e){this._interactiveContext=Object.assign({},this._interactiveContext,e)}},{key:"_normalizeEvent",value:function(e){if(e.lngLat)return e;var t=e.offsetCenter,r=t.x,n=t.y,i=[r,n],o=new Sc(Object.assign({},this.props,{width:this._width,height:this._height}));return e.point=i,e.lngLat=o.unproject(i),e}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,n=e.style,i=e.getCursor,o=Object.assign({position:"relative"},n,{width:t,height:r,cursor:i(this.state)});return eg["createElement"](_b.Provider,{value:this._interactiveContext},eg["createElement"]("div",{key:"event-canvas",ref:this._eventCanvasRef,style:o},eg["createElement"](Rb,Object(Ky["a"])({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),r}(eg["PureComponent"]);Object(c["a"])(aw,"propTypes",nw),Object(c["a"])(aw,"defaultProps",ow);var sw=r("U8pU");function uw(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!uw(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===Object(sw["a"])(e)&&"object"===Object(sw["a"])(t)){var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(!t.hasOwnProperty(s))return!1;if(!uw(e[s],t[s]))return!1}return!0}return!1}function cw(e){var t=lw();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function lw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var fw={type:ng.a.string.isRequired,id:ng.a.string},hw=0,pw=function(e){Object(a["a"])(r,e);var t=cw(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"id",void 0),Object(c["a"])(Object(Qy["a"])(n),"type",void 0),Object(c["a"])(Object(Qy["a"])(n),"_map",null),Object(c["a"])(Object(Qy["a"])(n),"_sourceOptions",{}),Object(c["a"])(Object(Qy["a"])(n),"_updateSource",(function(){var e=Object(Qy["a"])(n),t=e.type,r=e._map;if(r){var i=Object(Qy["a"])(n),o=i._sourceOptions,a=i.props;qg(!a.id||a.id===n.id,"source id changed"),qg(a.type===t,"source type changed");var s="",u=0;for(var c in a)"children"===c||"id"===c||uw(o[c],a[c])||(o[c]=a[c],s=c,u++);var l=n.getSource();if(l){if(u)if("geojson"===t)l.setData(o.data);else if("image"===t)l.updateImage({url:o.url,coordinates:o.coordinates});else if("canvas"!==t&&"video"!==t||1!==u||"coordinates"!==s)if("vector"===t&&l.setUrl)switch(s){case"url":l.setUrl(o.url);break;case"tiles":l.setTiles(o.tiles);break;default:}else console.warn("Unable to update <Source> prop: ".concat(s));else l.setCoordinates(o.coordinates)}else n._createSource(o)}})),n.id=e.id||"jsx-source-".concat(hw++),n.type=e.type,n}return Object(o["a"])(r,[{key:"componentWillUnmount",value:function(){var e=this,t=this._map;t&&(t.off("styledata",this._updateSource),requestAnimationFrame((function(){t.style&&t.style._loaded&&t.removeSource(e.id)})))}},{key:"getSource",value:function(){var e=this._map;return e&&e.style&&e.getSource(this.id)}},{key:"_createSource",value:function(e){var t=this._map;t.style&&t.style._loaded&&t.addSource(this.id,e)}},{key:"_render",value:function(e){var t=this;return!this._map&&e.map&&(this._map=e.map,this._map.on("styledata",this._updateSource)),this._updateSource(),eg["Children"].map(this.props.children,(function(e){return e&&Object(eg["cloneElement"])(e,{source:t.id})}))}},{key:"render",value:function(){return eg["createElement"](_b.Consumer,null,this._render.bind(this))}}]),r}(eg["PureComponent"]);function dw(e){var t=vw();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function vw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(pw,"propTypes",fw);var mw={fill:"fill",line:"line",symbol:"symbol",circle:"circle","fill-extrusion":"fill-extrusion",raster:"raster",background:"background",heatmap:"heatmap",hillshade:"hillshade"},yw={type:ng.a.oneOf(Object.keys(mw)).isRequired,id:ng.a.string,source:ng.a.string,beforeId:ng.a.string};function gw(e,t,r,n){var i=r.layout,o=void 0===i?{}:i,a=r.paint,s=void 0===a?{}:a,u=r.filter,c=r.minzoom,l=r.maxzoom,f=r.beforeId,h=Object(Jy["a"])(r,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(f!==n.beforeId&&e.moveLayer(t,f),o!==n.layout){var p=n.layout||{};for(var d in o)uw(o[d],p[d])||e.setLayoutProperty(t,d,o[d]);for(var v in p)o.hasOwnProperty(v)||e.setLayoutProperty(t,v,void 0)}if(s!==n.paint){var m=n.paint||{};for(var y in s)uw(s[y],m[y])||e.setPaintProperty(t,y,s[y]);for(var g in m)s.hasOwnProperty(g)||e.setPaintProperty(t,g,void 0)}for(var b in uw(u,n.filter)||e.setFilter(t,u),c===n.minzoom&&l===n.maxzoom||e.setLayerZoomRange(t,c,l),h)uw(h[b],n[b])||e.setLayerProperty(t,b,h[b])}var bw=0,_w=function(e){Object(a["a"])(r,e);var t=dw(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"id",void 0),Object(c["a"])(Object(Qy["a"])(n),"type",void 0),Object(c["a"])(Object(Qy["a"])(n),"_map",null),Object(c["a"])(Object(Qy["a"])(n),"_layerOptions",{}),Object(c["a"])(Object(Qy["a"])(n),"_updateLayer",(function(){var e=n._map;if(e){var t=Object(Qy["a"])(n),r=t.props,i=t._layerOptions;if(qg(!r.id||r.id===n.id,"layer id changed"),qg(r.type===n.type,"layer type changed"),n.getLayer())try{gw(e,n.id,r,i),Object.assign(i,r)}catch(o){console.warn(o)}else n._createLayer()}})),n.id=e.id||"jsx-layer-".concat(bw++),n.type=e.type,n}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var e=this._map;e&&(e.off("styledata",this._updateLayer),e.style&&e.style._loaded&&e.removeLayer(this.id))}},{key:"getLayer",value:function(){var e=this._map;return e&&e.style&&e.getLayer(this.id)}},{key:"_createLayer",value:function(){var e=this._map;if(e.style&&e.style._loaded){var t=Object.assign({},this.props);t.id=this.id,delete t.beforeId,e.addLayer(t,this.props.beforeId),this._layerOptions=t}}},{key:"_render",value:function(e){return!this._map&&e.map&&(this._map=e.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return eg["createElement"](_b.Consumer,null,this._render.bind(this))}}]),r}(eg["PureComponent"]);function ww(e){var t=xw();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function xw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(_w,"propTypes",yw);var Ow={captureScroll:ng.a.bool,captureDrag:ng.a.bool,captureClick:ng.a.bool,captureDoubleClick:ng.a.bool,capturePointerMove:ng.a.bool},Ew={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},jw=function(e){Object(a["a"])(r,e);var t=ww(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_context",{}),Object(c["a"])(Object(Qy["a"])(e),"_events",null),Object(c["a"])(Object(Qy["a"])(e),"_containerRef",Object(eg["createRef"])()),Object(c["a"])(Object(Qy["a"])(e),"_onScroll",(function(t){e.props.captureScroll&&t.stopPropagation()})),Object(c["a"])(Object(Qy["a"])(e),"_onDragStart",(function(t){e.props.captureDrag&&t.stopPropagation()})),Object(c["a"])(Object(Qy["a"])(e),"_onDblClick",(function(t){e.props.captureDoubleClick&&t.stopPropagation()})),Object(c["a"])(Object(Qy["a"])(e),"_onClick",(function(t){e.props.captureClick&&t.stopPropagation()})),Object(c["a"])(Object(Qy["a"])(e),"_onPointerMove",(function(t){e.props.capturePointerMove&&t.stopPropagation()})),e}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;if(e){var t=this._context.eventManager;t&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick,pointermove:this._onPointerMove},t.watch(this._events,e))}}},{key:"componentWillUnmount",value:function(){var e=this._context.eventManager;e&&this._events&&e.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var e=this;return eg["createElement"](_b.Consumer,null,(function(t){return e._context=t,e._render()}))}}]),r}(eg["PureComponent"]);function Sw(e){var t=kw();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function kw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(jw,"propTypes",Ow),Object(c["a"])(jw,"defaultProps",Ew);var Tw=Object.assign({},jw.propTypes,{draggable:ng.a.bool,onDrag:ng.a.func,onDragEnd:ng.a.func,onDragStart:ng.a.func,offsetLeft:ng.a.number,offsetTop:ng.a.number}),Pw=Object.assign({},jw.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),Aw=function(e){Object(a["a"])(r,e);var t=Sw(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"state",{dragPos:null,dragOffset:null}),Object(c["a"])(Object(Qy["a"])(e),"_dragEvents",null),Object(c["a"])(Object(Qy["a"])(e),"_onDragStart",(function(t){var r=e.props,n=r.draggable,i=r.captureDrag;if((n||i)&&t.stopPropagation(),n){var o=e._getDragEventPosition(t),a=e._getDragEventOffset(t);e.setState({dragPos:o,dragOffset:a}),e._setupDragEvents();var s=e.props.onDragStart;if(s&&a){var u=Object.assign({},t);u.lngLat=e._getDragLngLat(o,a),s(u)}}})),Object(c["a"])(Object(Qy["a"])(e),"_onDrag",(function(t){t.stopPropagation();var r=e._getDragEventPosition(t);e.setState({dragPos:r});var n=e.props.onDrag,i=e.state.dragOffset;if(n&&i){var o=Object.assign({},t);o.lngLat=e._getDragLngLat(r,i),n(o)}})),Object(c["a"])(Object(Qy["a"])(e),"_onDragEnd",(function(t){var r=e.state,n=r.dragPos,i=r.dragOffset;t.stopPropagation(),e.setState({dragPos:null,dragOffset:null}),e._removeDragEvents();var o=e.props.onDragEnd;if(o&&n&&i){var a=Object.assign({},t);a.lngLat=e._getDragLngLat(n,i),o(a)}})),Object(c["a"])(Object(Qy["a"])(e),"_onDragCancel",(function(t){t.stopPropagation(),e.setState({dragPos:null,dragOffset:null}),e._removeDragEvents()})),e}return Object(o["a"])(r,[{key:"componentWillUnmount",value:function(){Object(gy["a"])(Object(u["a"])(r.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var e=this._context.eventManager;e&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},e.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var e=this._context.eventManager;e&&this._dragEvents&&(e.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(e){var t=e.offsetCenter,r=t.x,n=t.y;return[r,n]}},{key:"_getDragEventOffset",value:function(e){var t=e.center,r=t.x,n=t.y,i=this._containerRef.current;if(i){var o=i.getBoundingClientRect();return[o.left-r,o.top-n]}return null}},{key:"_getDraggedPosition",value:function(e,t){return[e[0]+t[0],e[1]+t[1]]}},{key:"_getDragLngLat",value:function(e,t){var r=this.props,n=r.offsetLeft,i=r.offsetTop,o=this._getDraggedPosition(e,t),a=Object(Fg["a"])(o,2),s=a[0],u=a[1];return this._context.viewport.unproject([s-n,u-i])}}]),r}(jw);Object(c["a"])(Aw,"propTypes",Tw),Object(c["a"])(Aw,"defaultProps",Pw);var Iw="undefined"!==typeof window&&window.devicePixelRatio||1,Cw=function(e){return Math.round(e*Iw)/Iw},Rw=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===e)return t;var n="x"===r?e.offsetWidth:e.offsetHeight;return Cw(t/100*n)/n*100};function Mw(e){var t=Lw();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Lw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Dw=Object.assign({},Aw.propTypes,{className:ng.a.string,longitude:ng.a.number.isRequired,latitude:ng.a.number.isRequired}),Nw=Object.assign({},Aw.defaultProps,{className:""}),Fw=function(e){Object(a["a"])(r,e);var t=Mw(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_control",null),e}return Object(o["a"])(r,[{key:"_getPosition",value:function(){var e=this.props,t=e.longitude,r=e.latitude,n=e.offsetLeft,i=e.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var u=this._context.viewport.project([t,r]),c=Object(Fg["a"])(u,2),l=c[0],f=c[1];return l+=n,f+=i,[l,f]}},{key:"_render",value:function(){var e=this._getPosition(),t=Object(Fg["a"])(e,2),r=t[0],n=t[1],i="translate(".concat(Cw(r),"px, ").concat(Cw(n),"px)"),o=this._containerRef.current;if(this._control&&o)o.style.transform=i;else{var a=this.props,s=a.className,u=a.draggable,c=this.state.dragPos,l={position:"absolute",left:0,top:0,transform:i,cursor:u?c?"grabbing":"grab":"auto"};this._control=eg["createElement"]("div",{className:"mapboxgl-marker ".concat(s),ref:this._containerRef,style:l},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,Object(gy["a"])(Object(u["a"])(r.prototype),"render",this).call(this)}}]),r}(Aw);Object(c["a"])(Fw,"propTypes",Dw),Object(c["a"])(Fw,"defaultProps",Nw);var zw={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Bw=Object.keys(zw);function Uw(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=e.selfWidth,a=e.selfHeight,s=e.anchor,u=e.padding,c=void 0===u?0:u,l=zw[s],f=l.x,h=l.y,p=r-h*a,d=p+a,v=Math.max(0,c-p)+Math.max(0,d-i+c);if(v>0){var m=h,y=v;for(h=0;h<=1;h+=.5)p=r-h*a,d=p+a,v=Math.max(0,c-p)+Math.max(0,d-i+c),v<y&&(y=v,m=h);h=m}var g=.5;.5===h&&(f=Math.floor(f),g=1);var b=t-f*o,_=b+o,w=Math.max(0,c-b)+Math.max(0,_-n+c);if(w>0){var x=f,O=w;for(f=0;f<=1;f+=g)b=t-f*o,_=b+o,w=Math.max(0,c-b)+Math.max(0,_-n+c),w<O&&(O=w,x=f);f=x}return Bw.find((function(e){var t=zw[e];return t.x===f&&t.y===h}))||s}function Vw(e){var t=Gw();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Gw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var qw=Object.assign({},jw.propTypes,{className:ng.a.string,longitude:ng.a.number.isRequired,latitude:ng.a.number.isRequired,altitude:ng.a.number,offsetLeft:ng.a.number,offsetTop:ng.a.number,tipSize:ng.a.number,closeButton:ng.a.bool,closeOnClick:ng.a.bool,anchor:ng.a.oneOf(Object.keys(zw)),dynamicPosition:ng.a.bool,sortByDepth:ng.a.bool,onClose:ng.a.func}),Ww=Object.assign({},jw.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Hw=function(e){Object(a["a"])(r,e);var t=Vw(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_closeOnClick",!1),Object(c["a"])(Object(Qy["a"])(e),"_contentRef",Object(eg["createRef"])()),Object(c["a"])(Object(Qy["a"])(e),"_onClick",(function(t){if(e.props.captureClick&&t.stopPropagation(),e.props.closeOnClick||"mapboxgl-popup-close-button"===t.target.className){e.props.onClose();var r=e._context.eventManager;r&&r.once("click",(function(e){return e.stopPropagation()}),t.target)}})),e}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){Object(gy["a"])(Object(u["a"])(r.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(e,t){var r=this._context.viewport,n=this.props,i=n.anchor,o=n.dynamicPosition,a=n.tipSize,s=this._contentRef.current;return s&&o?Uw({x:e,y:t,anchor:i,padding:a,width:r.width,height:r.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(e,t,r,n){var i=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,u=o.sortByDepth,c=zw[n],l=e+a,f=t+s,h=this._containerRef.current,p=Rw(h,100*-c.x),d=Rw(h,100*-c.y,"y"),v={position:"absolute",transform:"\n        translate(".concat(p,"%, ").concat(d,"%)\n        translate(").concat(Cw(l),"px, ").concat(Cw(f),"px)\n      "),display:void 0,zIndex:void 0};return u?(r>1||r<-1||e<0||e>i.width||t<0||t>i.height?v.display="none":v.zIndex=Math.floor((1-r)/2*1e5),v):v}},{key:"_renderTip",value:function(e){var t=this.props.tipSize;return eg["createElement"]("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function(){var e=this.props,t=e.closeButton,r=e.children,n=this._context.eventManager?null:this._onClick;return eg["createElement"]("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:n},t&&eg["createElement"]("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xd7"),r)}},{key:"_render",value:function(){var e=this.props,t=e.className,r=e.longitude,n=e.latitude,i=e.altitude,o=this._context.viewport.project([r,n,i]),a=Object(Fg["a"])(o,3),s=a[0],u=a[1],c=a[2],l=this._getPosition(s,u),f=this._getContainerStyle(s,u,c,l);return eg["createElement"]("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(l," ").concat(t),style:f,ref:this._containerRef},this._renderTip(l),this._renderContent())}}]),r}(jw);Object(c["a"])(Hw,"propTypes",qw),Object(c["a"])(Hw,"defaultProps",Ww);var Zw=r("2lZV");function Xw(e){var t=$w();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function $w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Yw,Kw=Object.assign({},jw.propTypes,{className:ng.a.string,container:ng.a.object,label:ng.a.string}),Jw=Object.assign({},jw.defaultProps,{className:"",container:null,label:"Toggle fullscreen"}),Qw=function(e){Object(a["a"])(r,e);var t=Xw(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"state",{isFullscreen:!1,showButton:!1}),Object(c["a"])(Object(Qy["a"])(e),"_mapboxFullscreenControl",null),Object(c["a"])(Object(Qy["a"])(e),"_onFullscreenChange",(function(){var t=!e._mapboxFullscreenControl._fullscreen;e._mapboxFullscreenControl._fullscreen=t,e.setState({isFullscreen:t})})),Object(c["a"])(Object(Qy["a"])(e),"_onClickFullscreen",(function(){e._mapboxFullscreenControl._onClickFullscreen()})),e}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){var e=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new Ng.a.FullscreenControl({container:e}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),Zw["a"].addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){Zw["a"].removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(e,t,r){return eg["createElement"]("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:r},eg["createElement"]("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var e=this.props,t=e.className,r=e.label,n=this.state.isFullscreen,i=n?"shrink":"fullscreen";return eg["createElement"]("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},this._renderButton(i,r,this._onClickFullscreen))}}]),r}(jw);function ex(){return void 0!==Yw?Promise.resolve(Yw):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(e){return Yw="denied"!==e.state,Yw})):(Yw=Boolean(window.navigator.geolocation),Promise.resolve(Yw))}function tx(e){var t=rx();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function rx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(Qw,"propTypes",Kw),Object(c["a"])(Qw,"defaultProps",Jw);var nx=Object.assign({},Fb.defaultProps,{transitionDuration:500}),ix=function(){},ox=Object.assign({},jw.propTypes,{className:ng.a.string,style:ng.a.object,label:ng.a.string,auto:ng.a.bool,positionOptions:ng.a.object,fitBoundsOptions:ng.a.object,trackUserLocation:ng.a.bool,showUserLocation:ng.a.bool,onViewStateChange:ng.a.func,onViewportChange:ng.a.func,onGeolocate:ng.a.func}),ax=Object.assign({},jw.defaultProps,{className:"",style:{},label:"Geolocate",auto:!1,positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),sx=function(e){Object(a["a"])(r,e);var t=tx(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"state",{supportsGeolocation:!1,markerPosition:null}),Object(c["a"])(Object(Qy["a"])(e),"_mapboxGeolocateControl",null),Object(c["a"])(Object(Qy["a"])(e),"_geolocateButtonRef",Object(eg["createRef"])()),Object(c["a"])(Object(Qy["a"])(e),"_setupMapboxGeolocateControl",(function(t){if(t){var r={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(t){t in e.props&&null!==e.props[t]&&(r[t]=e.props[t])}));var n=new Ng.a.GeolocateControl(r);e._mapboxGeolocateControl=n,n._watchState="OFF",n._geolocateButton=e._geolocateButtonRef.current,n.options.trackUserLocation&&n._geolocateButton&&n._geolocateButton.setAttribute("aria-pressed","false"),n._updateMarker=e._updateMarker,n._updateCamera=e._updateCamera,n._setup=!0;var i=e._context.eventManager;n.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===n._watchState&&(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),n.on("geolocate",e.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),Object(c["a"])(Object(Qy["a"])(e),"_triggerGeolocate",(function(){var t=e._mapboxGeolocateControl;return t._map=e._context.map,e.props.showUserLocation&&(t.on("geolocate",e._updateMarker),t.on("trackuserlocationend",e._updateMarker)),e._mapboxGeolocateControl.trigger()})),Object(c["a"])(Object(Qy["a"])(e),"_updateMarker",(function(t){t&&e.setState({markerPosition:t.coords})})),Object(c["a"])(Object(Qy["a"])(e),"_getBounds",(function(e){var t=new Ng.a.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,n=t.toBounds(r);return[[n._ne.lng,n._ne.lat],[n._sw.lng,n._sw.lat]]})),Object(c["a"])(Object(Qy["a"])(e),"_updateCamera",(function(t){var r=e._context.viewport,n=e._getBounds(t),i=new Sc(r).fitBounds(n),o=i.longitude,a=i.latitude,s=i.zoom,u=Object.assign({},r,{longitude:o,latitude:a,zoom:s}),c=new yb(u),l=Object.assign({},c.getViewportProps(),nx),f=e.props.onViewportChange||e._context.onViewportChange||ix,h=e.props.onViewStateChange||e._context.onViewStateChange||ix;h({viewState:l}),f(l)})),Object(c["a"])(Object(Qy["a"])(e),"_renderButton",(function(t,r,n){return eg["createElement"]("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),ref:e._geolocateButtonRef,type:"button",title:r,onClick:n},eg["createElement"]("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),Object(c["a"])(Object(Qy["a"])(e),"_renderMarker",(function(){var t=e.state.markerPosition,r=e.props.showUserLocation;return t&&r?eg["createElement"](Fw,{key:"location-maker",longitude:t.longitude,latitude:t.latitude,captureDrag:!1,captureDoubleClick:!1},eg["createElement"]("div",{className:"mapboxgl-user-location-dot",style:{transform:"translate(-50%, -50%)"}})):null})),e}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){var e=this;ex().then((function(t){e.setState({supportsGeolocation:t}),e._setupMapboxGeolocateControl(t),t&&e.props.auto&&e._triggerGeolocate()}))}},{key:"componentDidUpdate",value:function(e){this.state.supportsGeolocation&&!e.auto&&this.props.auto&&this._triggerGeolocate()}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var e=this._mapboxGeolocateControl._geolocationWatchID;void 0!==e&&(window.navigator.geolocation.clearWatch(e),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var e=this.props,t=e.className,r=e.style,n=e.label;return eg["createElement"]("div",null,this._renderMarker(),eg["createElement"]("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef,style:r},this._renderButton("geolocate",n,this._triggerGeolocate)))}}]),r}(jw);function ux(e,t){for(var r=(e||"").split(".").map(Number),n=(t||"").split(".").map(Number),i=0;i<3;i++){var o=r[i]||0,a=n[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}function cx(e){var t=lx();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function lx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(sx,"propTypes",ox),Object(c["a"])(sx,"defaultProps",ax);var fx=function(){},hx=Object.assign({},jw.propTypes,{className:ng.a.string,onViewStateChange:ng.a.func,onViewportChange:ng.a.func,showCompass:ng.a.bool,showZoom:ng.a.bool,zoomInLabel:ng.a.string,zoomOutLabel:ng.a.string,compassLabel:ng.a.string}),px=Object.assign({},jw.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"}),dx=1,vx=2;function mx(e){return ux(e,"1.6.0")>=0?vx:dx}var yx=function(e){Object(a["a"])(r,e);var t=cx(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"_uiVersion",void 0),Object(c["a"])(Object(Qy["a"])(n),"_onZoomIn",(function(){n._updateViewport({zoom:n._context.viewport.zoom+1})})),Object(c["a"])(Object(Qy["a"])(n),"_onZoomOut",(function(){n._updateViewport({zoom:n._context.viewport.zoom-1})})),Object(c["a"])(Object(Qy["a"])(n),"_onResetNorth",(function(){n._updateViewport({bearing:0,pitch:0})})),ew(e),n}return Object(o["a"])(r,[{key:"_updateViewport",value:function(e){var t=this._context.viewport,r=new yb(Object.assign({},t,e)),n=Object.assign({},r.getViewportProps(),W_),i=this.props.onViewportChange||this._context.onViewportChange||fx,o=this.props.onViewStateChange||this._context.onViewStateChange||fx;o({viewState:n}),i(n)}},{key:"_renderCompass",value:function(){var e=this._context.viewport.bearing,t={transform:"rotate(".concat(-e,"deg)")};return this._uiVersion===vx?eg["createElement"]("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:t}):eg["createElement"]("span",{className:"mapboxgl-ctrl-compass-arrow",style:t})}},{key:"_renderButton",value:function(e,t,r,n){return eg["createElement"]("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:r},n||eg["createElement"]("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var e=this.props,t=e.className,r=e.showCompass,n=e.showZoom,i=e.zoomInLabel,o=e.zoomOutLabel,a=e.compassLabel;if(!this._uiVersion){var s=this._context.map;this._uiVersion=s?mx(s.version):vx}return eg["createElement"]("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},n&&this._renderButton("zoom-in",i,this._onZoomIn),n&&this._renderButton("zoom-out",o,this._onZoomOut),r&&this._renderButton("compass",a,this._onResetNorth,this._renderCompass()))}}]),r}(jw);function gx(e){var t=bx();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function bx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(yx,"propTypes",hx),Object(c["a"])(yx,"defaultProps",px);var _x=Object.assign({},jw.propTypes,{maxWidth:ng.a.number,unit:ng.a.oneOf(["imperial","metric","nautical"])}),wx=Object.assign({},jw.defaultProps,{maxWidth:100,unit:"metric"}),xx=function(e){Object(a["a"])(r,e);var t=gx(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_control",null),Object(c["a"])(Object(Qy["a"])(e),"_mapboxScaleControl",null),e}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){var e=new Ng.a.ScaleControl;e._map=this._context.map,e._container=this._containerRef.current,this._mapboxScaleControl=e,this._update()}},{key:"_update",value:function(){var e=this._mapboxScaleControl;e&&(e.options=this.props,e._onMove())}},{key:"_render",value:function(){return this._control=this._control||eg["createElement"]("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),r}(jw);function Ox(e){var t=Ex();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Ex(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(xx,"propTypes",_x),Object(c["a"])(xx,"defaultProps",wx);var jx=Object.assign({},jw.propTypes,{redraw:ng.a.func.isRequired}),Sx={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1},kx=function(e){Object(a["a"])(r,e);var t=Ox(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_canvas",void 0),Object(c["a"])(Object(Qy["a"])(e),"_ctx",void 0),Object(c["a"])(Object(Qy["a"])(e),"_redraw",(function(){var t=e._ctx;if(t){var r=Zw["b"].devicePixelRatio||1;t.save(),t.scale(r,r);var n=e._context,i=n.viewport,o=n.isDragging;e.props.redraw({width:i.width,height:i.height,ctx:t,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),t.restore()}})),e}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;e&&(this._canvas=e,this._ctx=e.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var e=Zw["b"].devicePixelRatio||1,t=this._context.viewport,r=t.width,n=t.height;return this._redraw(),eg["createElement"]("canvas",{ref:this._containerRef,width:r*e,height:n*e,style:{width:"".concat(r,"px"),height:"".concat(n,"px"),position:"absolute",left:0,top:0}})}}]),r}(jw);function Tx(e){var t=Px();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Px(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(kx,"propTypes",jx),Object(c["a"])(kx,"defaultProps",Sx);var Ax=Object.assign({},jw.propTypes,{redraw:ng.a.func.isRequired,style:ng.a.object}),Ix={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1},Cx=function(e){Object(a["a"])(r,e);var t=Tx(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"_render",value:function(){var e=this._context,t=e.viewport,r=e.isDragging,n=Object.assign({position:"absolute",left:0,top:0,width:t.width,height:t.height},this.props.style);return eg["createElement"]("div",{ref:this._containerRef,style:n},this.props.redraw({width:t.width,height:t.height,isDragging:r,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),r}(jw);function Rx(e){var t=Mx();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Mx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(Cx,"propTypes",Ax),Object(c["a"])(Cx,"defaultProps",Ix);var Lx=Object.assign({},jw.propTypes,{redraw:ng.a.func.isRequired,style:ng.a.object}),Dx={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1},Nx=function(e){Object(a["a"])(r,e);var t=Rx(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"_render",value:function(){var e=this._context,t=e.viewport,r=e.isDragging,n=Object.assign({position:"absolute",left:0,top:0},this.props.style);return eg["createElement"]("svg",{width:t.width,height:t.height,ref:this._containerRef,style:n},this.props.redraw({width:t.width,height:t.height,isDragging:r,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),r}(jw);Object(c["a"])(Nx,"propTypes",Lx),Object(c["a"])(Nx,"defaultProps",Dx);Ng.a&&Ng.a.setRTLTextPlugin;var Fx=1,zx=1,Bx=function(){function e(){Object(h["a"])(this,e),this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}return Object(p["a"])(e,[{key:"addChannel",value:function(e){var t=e.delay,r=void 0===t?0:t,n=e.duration,i=void 0===n?Number.POSITIVE_INFINITY:n,o=e.rate,a=void 0===o?1:o,s=e.repeat,u=void 0===s?1:s,c=Fx++,l={time:0,delay:r,duration:i,rate:a,repeat:u};return this._setChannelTime(l,this.time),this.channels.set(c,l),c}},{key:"removeChannel",value:function(e){this.channels["delete"](e);var t,r=Object(l["a"])(this.animations);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=Object(b["a"])(n,2),o=i[0],a=i[1];a.channel===e&&this.detachAnimation(o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"isFinished",value:function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}},{key:"getTime",value:function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time}},{key:"setTime",value:function(e){this.time=Math.max(0,e);var t,r=this.channels.values(),n=Object(l["a"])(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setChannelTime(i,this.time)}}catch(h){n.e(h)}finally{n.f()}var o,a=this.animations.values(),s=Object(l["a"])(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=u.animation,f=u.channel;c.setTime(this.getTime(f))}}catch(h){s.e(h)}finally{s.f()}}},{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){this.playing=!1,this.lastEngineTime=-1}},{key:"reset",value:function(){this.setTime(0)}},{key:"attachAnimation",value:function(e,t){var r=zx++;return this.animations.set(r,{animation:e,channel:t}),e.setTime(this.getTime(t)),r}},{key:"detachAnimation",value:function(e){this.animations["delete"](e)}},{key:"update",value:function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}},{key:"_setChannelTime",value:function(e,t){var r=t-e.delay,n=e.duration*e.repeat;r>=n?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}]),e}(),Ux=function(){function e(t,r,n){Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"context",void 0),Object(c["a"])(this,"isLoaded",void 0),Object(c["a"])(this,"persistent",void 0),Object(c["a"])(this,"_loadCount",0),Object(c["a"])(this,"_subscribers",new Set),Object(c["a"])(this,"_data",void 0),Object(c["a"])(this,"_loader",void 0),Object(c["a"])(this,"_error",void 0),Object(c["a"])(this,"_content",void 0),this.id=t,this.context=n,this.setData(r)}return Object(p["a"])(e,[{key:"subscribe",value:function(e){this._subscribers.add(e)}},{key:"unsubscribe",value:function(e){this._subscribers["delete"](e)}},{key:"inUse",value:function(){return this._subscribers.size>0}},{key:"delete",value:function(){}},{key:"getData",value:function(){var e=this;return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((function(){return e.getData()}))}},{key:"setData",value:function(e,t){var r=this;if(e!==this._data||t){this._data=e;var n=++this._loadCount,i=e;"string"===typeof e&&(i=np(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then((function(e){r._loadCount===n&&(r.isLoaded=!0,r._error=void 0,r._content=e)}))["catch"]((function(e){r._loadCount===n&&(r.isLoaded=!0,r._error=e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=e);var o,a=Object(l["a"])(this._subscribers);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.onChange(this.getData())}}catch(u){a.e(u)}finally{a.f()}}}}]),e}(),Vx=function(){function e(t){var r=t.gl,n=t.protocol;Object(h["a"])(this,e),Object(c["a"])(this,"protocol",void 0),Object(c["a"])(this,"_context",void 0),Object(c["a"])(this,"_resources",void 0),Object(c["a"])(this,"_consumers",void 0),Object(c["a"])(this,"_pruneRequest",void 0),this.protocol=n||"resource://",this._context={gl:r,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}return Object(p["a"])(e,[{key:"contains",value:function(e){return!!e.startsWith(this.protocol)||e in this._resources}},{key:"add",value:function(e){var t=e.resourceId,r=e.data,n=e.forceUpdate,i=void 0!==n&&n,o=e.persistent,a=void 0===o||o,s=this._resources[t];s?s.setData(r,i):(s=new Ux(t,r,this._context),this._resources[t]=s),s.persistent=a}},{key:"remove",value:function(e){var t=this._resources[e];t&&(t["delete"](),delete this._resources[e])}},{key:"unsubscribe",value:function(e){var t=e.consumerId,r=this._consumers[t];if(r){for(var n in r){var i=r[n],o=this._resources[i.resourceId];o&&o.unsubscribe(i)}delete this._consumers[t],this.prune()}}},{key:"subscribe",value:function(e){var t=e.resourceId,r=e.onChange,n=e.consumerId,i=e.requestId,o=void 0===i?"default":i,a=this._resources,s=this.protocol;t.startsWith(s)&&(t=t.replace(s,""),a[t]||this.add({resourceId:t,data:null,persistent:!1}));var u=a[t];if(this._track(n,o,u,r),u)return u.getData()}},{key:"prune",value:function(){var e=this;this._pruneRequest||(this._pruneRequest=setTimeout((function(){return e._prune()}),0))}},{key:"finalize",value:function(){for(var e in this._resources)this._resources[e]["delete"]()}},{key:"_track",value:function(e,t,r,n){var i=this._consumers,o=i[e]=i[e]||{},a=o[t]||{},s=a.resourceId&&this._resources[a.resourceId];s&&(s.unsubscribe(a),this.prune()),r&&(o[t]=a,a.onChange=n,a.resourceId=r.id,r.subscribe(a))}},{key:"_prune",value:function(){this._pruneRequest=null;for(var e=0,t=Object.keys(this._resources);e<t.length;e++){var r=t[e],n=this._resources[r];n.persistent||n.inUse()||(n["delete"](),delete this._resources[r])}}}]),e}(),Gx=[Ap],qx=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function Wx(e){var t,r=Ja.getDefaultProgramManager(e),n=Object(l["a"])(Gx);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.addDefaultModule(i)}}catch(u){n.e(u)}finally{n.f()}var o,a=Object(l["a"])(qx);try{for(a.s();!(o=a.n()).done;){var s=o.value;r.addShaderHook(s)}}catch(u){a.e(u)}finally{a.f()}return r}var Hx="layerManager.setLayers",Zx="layerManager.activateViewport",Xx=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.deck,o=n.stats,a=n.viewport,s=n.timeline;Object(h["a"])(this,e),Object(c["a"])(this,"layers",void 0),Object(c["a"])(this,"context",void 0),Object(c["a"])(this,"resourceManager",void 0),Object(c["a"])(this,"_lastRenderedLayers",[]),Object(c["a"])(this,"_needsRedraw",!1),Object(c["a"])(this,"_needsUpdate",!1),Object(c["a"])(this,"_nextLayers",null),Object(c["a"])(this,"_debug",!1),Object(c["a"])(this,"activateViewport",(function(e){Un(Zx,r,e),e&&(r.context.viewport=e)})),this.layers=[],this.resourceManager=new Vx({gl:t,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:t,deck:i,programManager:t&&Wx(t),stats:o||new gt["a"]({id:"deck.gl"}),viewport:a||new Bc({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new Bx,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}return Object(p["a"])(e,[{key:"finalize",value:function(){this.resourceManager.finalize();var e,t=Object(l["a"])(this.layers);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._finalizeLayer(r)}}catch(n){t.e(n)}finally{t.f()}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var r,n=Object(l["a"])(this.layers);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i.getNeedsRedraw(e);t=t||o}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"needsUpdate",value:function(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e}},{key:"getLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerIds;return t?this.layers.filter((function(e){return t.find((function(t){return 0===e.id.indexOf(t)}))})):this.layers}},{key:"setProps",value:function(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}},{key:"setLayers",value:function(e,t){Un(Hx,this,t,e),this._lastRenderedLayers=e;var r,n=On(e,Boolean),i=Object(l["a"])(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.context=this.context}}catch(a){i.e(a)}finally{i.f()}this._updateLayers(this.layers,n)}},{key:"updateLayers",value:function(){var e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}},{key:"_handleError",value:function(e,t,r){r.raiseError(t,"".concat(e," of ").concat(r))}},{key:"_updateLayers",value:function(e,t){var r,n={},i=Object(l["a"])(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;n[o.id]?x.warn("Multiple old layers with same id ".concat(o.id))():n[o.id]=o}}catch(h){i.e(h)}finally{i.f()}var a=[];this._updateSublayersRecursively(t,n,a),this._finalizeOldLayers(n);for(var s=!1,u=0,c=a;u<c.length;u++){var f=c[u];if(f.hasUniformTransition()){s="Uniform transition in ".concat(f);break}}this._needsUpdate=s,this.layers=a}},{key:"_updateSublayersRecursively",value:function(e,t,r){var n,i=Object(l["a"])(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.context=this.context;var a=t[o.id];null===a&&x.warn("Multiple new layers with same id ".concat(o.id))(),t[o.id]=null;var s=null;try{this._debug&&a!==o&&o.validateProps(),a?(this._transferLayerState(a,o),this._updateLayer(o)):this._initializeLayer(o),r.push(o),s=o.isComposite?o.getSubLayers():null}catch(u){this._handleError("matching",u,o)}s&&this._updateSublayersRecursively(s,t,r)}}catch(u){i.e(u)}finally{i.f()}}},{key:"_finalizeOldLayers",value:function(e){for(var t in e){var r=e[t];r&&this._finalizeLayer(r)}}},{key:"_initializeLayer",value:function(e){try{e._initialize(),e.lifecycle=su.INITIALIZED}catch(t){this._handleError("initialization",t,e)}}},{key:"_transferLayerState",value:function(e,t){t._transferState(e),t.lifecycle=su.MATCHED,t!==e&&(e.lifecycle=su.AWAITING_GC)}},{key:"_updateLayer",value:function(e){try{e._update()}catch(t){this._handleError("update",t,e)}}},{key:"_finalizeLayer",value:function(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=su.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=su.FINALIZED}catch(t){this._handleError("finalization",t,e)}}}]),e}(),$x=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"width",void 0),Object(c["a"])(this,"height",void 0),Object(c["a"])(this,"views",void 0),Object(c["a"])(this,"viewState",void 0),Object(c["a"])(this,"controllers",void 0),Object(c["a"])(this,"timeline",void 0),Object(c["a"])(this,"_viewports",void 0),Object(c["a"])(this,"_viewportMap",void 0),Object(c["a"])(this,"_isUpdating",void 0),Object(c["a"])(this,"_needsRedraw",void 0),Object(c["a"])(this,"_needsUpdate",void 0),Object(c["a"])(this,"_eventManager",void 0),Object(c["a"])(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=t.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractionStateChange:t.onInteractionStateChange},Object.seal(this),this.setProps(t)}return Object(p["a"])(e,[{key:"finalize",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.finalize()}this.controllers={}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}},{key:"updateViewStates",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.updateTransition()}}},{key:"getViewports",value:function(e){return e?this._viewports.filter((function(t){return t.containsPixel(e)})):this._viewports}},{key:"getViews",value:function(){var e={};return this.views.forEach((function(t){e[t.id]=t})),e}},{key:"getView",value:function(e){return this.views.find((function(t){return t.id===e}))}},{key:"getViewState",value:function(e){var t="string"===typeof e?this.getView(e):e,r=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(r):r}},{key:"getViewport",value:function(e){return this._viewportMap[e]}},{key:"unproject",value:function(e,t){for(var r=this.getViewports(),n={x:e[0],y:e[1]},i=r.length-1;i>=0;--i){var o=r[i];if(o.containsPixel(n)){var a=e.slice();return a[0]-=o.x,a[1]-=o.y,o.unproject(a,t)}}return null}},{key:"setProps",value:function(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}},{key:"_update",value:function(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}},{key:"_setSize",value:function(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}},{key:"_setViews",value:function(e){e=On(e,Boolean);var t=this._diffViews(e,this.views);t&&this.setNeedsUpdate("views changed"),this.views=e}},{key:"_setViewState",value:function(e){if(e){var t=!tl(e,this.viewState);t&&this.setNeedsUpdate("viewState changed"),this.viewState=e}else x.warn("missing `viewState` or `initialViewState`")()}},{key:"_onViewStateChange",value:function(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange(Object(f["a"])(Object(f["a"])({},t),{},{viewId:e}))}},{key:"_createController",value:function(e,t){var r=this,n=t.type,i=new n({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:function(t){var n;return null===(n=r.getView(e.id))||void 0===n?void 0:n.makeViewport({viewState:t,width:r.width,height:r.height})}});return i}},{key:"_updateController",value:function(e,t,r,n){var i=e.controller;if(i){var o=Object(f["a"])(Object(f["a"])(Object(f["a"])({},t),i),{},{id:e.id,x:r.x,y:r.y,width:r.width,height:r.height});return n||(n=this._createController(e,o)),n&&n.setProps(o),n}return null}},{key:"_rebuildViewports",value:function(){var e=this.views,t=this.controllers;this._viewports=[],this.controllers={};for(var r=!1,n=e.length;n--;){var i=e[n],o=this.getViewState(i),a=i.makeViewport({viewState:o,width:this.width,height:this.height}),s=t[i.id],u=Boolean(i.controller);u&&!s&&(r=!0),!r&&u||!s||(s.finalize(),s=null),this.controllers[i.id]=this._updateController(i,o,a,s),this._viewports.unshift(a)}for(var c in t){var l=t[c];l&&!this.controllers[c]&&l.finalize()}this._buildViewportMap()}},{key:"_buildViewportMap",value:function(){var e=this;this._viewportMap={},this._viewports.forEach((function(t){t.id&&(e._viewportMap[t.id]=e._viewportMap[t.id]||t)}))}},{key:"_diffViews",value:function(e,t){return e.length!==t.length||e.some((function(r,n){return!e[n].equals(t[n])}))}}]),e}(),Yx=/([0-9]+\.?[0-9]*)(%|px)/;function Kx(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":var t=Yx.exec(e);if(t&&t.length>=3){var r="%"===t[2],n=parseFloat(t[1]);return{position:r?n/100:n,relative:r}}default:throw new Error("Could not parse position string ".concat(e))}}function Jx(e,t){return e.relative?Math.round(e.position*t):e.position}var Qx=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"viewportInstance",void 0),Object(c["a"])(this,"_x",void 0),Object(c["a"])(this,"_y",void 0),Object(c["a"])(this,"_width",void 0),Object(c["a"])(this,"_height",void 0),Object(c["a"])(this,"_padding",void 0),Object(c["a"])(this,"props",void 0);var r=t||{},n=r.id,i=r.x,o=void 0===i?0:i,a=r.y,s=void 0===a?0:a,u=r.width,l=void 0===u?"100%":u,p=r.height,d=void 0===p?"100%":p,v=r.padding,m=void 0===v?null:v,y=r.viewportInstance;yn(!y||y instanceof Bc),this.viewportInstance=y,this.id=n||this.constructor.displayName||"view",this.props=Object(f["a"])(Object(f["a"])({},t),{},{id:this.id}),this._x=Kx(o),this._y=Kx(s),this._width=Kx(l),this._height=Kx(d),this._padding=m&&{left:Kx(m.left||0),right:Kx(m.right||0),top:Kx(m.top||0),bottom:Kx(m.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}return Object(p["a"])(e,[{key:"equals",value:function(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&tl(this.props,e.props))}},{key:"makeViewport",value:function(e){var t=e.width,r=e.height,n=e.viewState;if(this.viewportInstance)return this.viewportInstance;n=this.filterViewState(n);var i=this.getDimensions({width:t,height:r});return new this.ViewportType(Object(f["a"])(Object(f["a"])(Object(f["a"])({},n),this.props),i))}},{key:"getViewStateId",value:function(){var e=this.props.viewState;return"string"===typeof e?e:(null===e||void 0===e?void 0:e.id)||this.id}},{key:"filterViewState",value:function(e){if(this.props.viewState&&"object"===typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;var t=Object(f["a"])({},e);for(var r in this.props.viewState)"id"!==r&&(t[r]=this.props.viewState[r]);return t}return e}},{key:"getDimensions",value:function(e){var t=e.width,r=e.height,n={x:Jx(this._x,t),y:Jx(this._y,r),width:Jx(this._width,t),height:Jx(this._height,r)};return this._padding&&(n.padding={left:Jx(this._padding.left,t),top:Jx(this._padding.top,r),right:Jx(this._padding.right,t),bottom:Jx(this._padding.bottom,r)}),n}},{key:"controller",get:function(){var e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"===typeof e?{type:e}:Object(f["a"])({type:this.ControllerType},e):null}}]),e}(),eO=function(){},tO={BREAK:1,SNAP_TO_END:2,IGNORE:3},rO=function(e){return e},nO=tO.BREAK,iO=function(){function e(t){var r=this;Object(h["a"])(this,e),Object(c["a"])(this,"getControllerState",void 0),Object(c["a"])(this,"props",void 0),Object(c["a"])(this,"propsInTransition",void 0),Object(c["a"])(this,"transition",void 0),Object(c["a"])(this,"onViewStateChange",void 0),Object(c["a"])(this,"onStateChange",void 0),Object(c["a"])(this,"_onTransitionUpdate",(function(e){var t=e.time,n=e.settings,i=n.interpolator,o=n.startProps,a=n.endProps,s=n.duration,u=n.easing,c=u(t/s),l=i.interpolateProps(o,a,c);r.propsInTransition=r.getControllerState(Object(f["a"])(Object(f["a"])({},r.props),l)).getViewportProps(),r.onViewStateChange({viewState:r.propsInTransition,oldViewState:r.props})})),this.getControllerState=t.getControllerState,this.propsInTransition=null,this.transition=new Ls(t.timeline),this.onViewStateChange=t.onViewStateChange||eO,this.onStateChange=t.onStateChange||eO}return Object(p["a"])(e,[{key:"finalize",value:function(){this.transition.cancel()}},{key:"getViewportInTransition",value:function(){return this.propsInTransition}},{key:"processViewStateChange",value:function(e){var t=!1,r=this.props;if(this.props=e,!r||this._shouldIgnoreViewportChange(r,e))return!1;if(this._isTransitionEnabled(e)){var n=r;if(this.transition.inProgress){var i=this.transition.settings,o=i.interruption,a=i.endProps;n=Object(f["a"])(Object(f["a"])({},r),o===tO.SNAP_TO_END?a:this.propsInTransition||r)}this._triggerTransition(n,e),t=!0}else this.transition.cancel();return t}},{key:"updateTransition",value:function(){this.transition.update()}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,r=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(r)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this.transition.inProgress?this.transition.settings.interruption===tO.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){var r=this.getControllerState(e),n=this.getControllerState(t).shortestPathFrom(r),i=t.transitionInterpolator,o=i.getDuration?i.getDuration(e,t):t.transitionDuration;if(0!==o){var a=i.initializeProps(e,n);this.propsInTransition={};var s={duration:o,easing:t.transitionEasing||rO,interpolator:i,interruption:t.transitionInterruption||nO,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(s),this.onStateChange({inTransition:!0}),this.updateTransition()}}},{key:"_onTransitionEnd",value:function(e){var t=this;return function(r){t.propsInTransition=null,t.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null===e||void 0===e||e(r)}}}]),e}(),oO=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"_propsToCompare",void 0),Object(c["a"])(this,"_propsToExtract",void 0),Object(c["a"])(this,"_requiredProps",void 0);var r=t.compare,n=t.extract,i=t.required;this._propsToCompare=r,this._propsToExtract=n||r,this._requiredProps=i}return Object(p["a"])(e,[{key:"arePropsEqual",value:function(e,t){var r,n=Object(l["a"])(this._propsToCompare);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!(i in e)||!(i in t)||!Object(Js["d"])(e[i],t[i]))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}},{key:"initializeProps",value:function(e,t){var r,n={},i={},o=Object(l["a"])(this._propsToExtract);try{for(o.s();!(r=o.n()).done;){var a=r.value;(a in e||a in t)&&(n[a]=e[a],i[a]=t[a])}}catch(s){o.e(s)}finally{o.f()}return this._checkRequiredProps(n),this._checkRequiredProps(i),{start:n,end:i}}},{key:"getDuration",value:function(e,t){return t.transitionDuration}},{key:"_checkRequiredProps",value:function(e){this._requiredProps&&this._requiredProps.forEach((function(t){var r=e[t];yn(Number.isFinite(r)||Array.isArray(r),"".concat(t," is required for transition"))}))}}]),e}(),aO=["longitude","latitude","zoom","bearing","pitch"],sO=["longitude","latitude","zoom"],uO=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h["a"])(this,r);var i=Array.isArray(n)?n:n.transitionProps,o=Array.isArray(n)?{}:n;return o.transitionProps=Array.isArray(i)?{compare:i,required:i}:i||{compare:aO,required:sO},e=t.call(this,o.transitionProps),Object(c["a"])(Object(_["a"])(e),"opts",void 0),e.opts=o,e}return Object(p["a"])(r,[{key:"initializeProps",value:function(e,t){var n=m(Object(d["a"])(r.prototype),"initializeProps",this).call(this,e,t),i=this.opts,o=i.makeViewport,a=i.around;if(o&&a){var s=o(e),u=o(t),c=s.unproject(a);n.start.around=a,Object.assign(n.end,{around:u.project(c),aroundPosition:c,width:t.width,height:t.height})}return n}},{key:"interpolateProps",value:function(e,t,r){var n,i={},o=Object(l["a"])(this._propsToExtract);try{for(o.s();!(n=o.n()).done;){var a=n.value;i[a]=Object(Js["g"])(e[a]||0,t[a]||0,r)}}catch(u){o.e(u)}finally{o.f()}if(t.aroundPosition&&this.opts.makeViewport){var s=this.opts.makeViewport(Object(f["a"])(Object(f["a"])({},t),i));Object.assign(i,s.panByPosition(t.aroundPosition,Object(Js["g"])(e.around,t.around,r)))}return i}}]),r}(oO),cO={transitionDuration:0},lO=300,fO=function(e){return 1-(1-e)*(1-e)},hO={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},pO={},dO=function(){function e(t){var r=this;Object(h["a"])(this,e),Object(c["a"])(this,"props",void 0),Object(c["a"])(this,"state",{}),Object(c["a"])(this,"transitionManager",void 0),Object(c["a"])(this,"eventManager",void 0),Object(c["a"])(this,"onViewStateChange",void 0),Object(c["a"])(this,"onStateChange",void 0),Object(c["a"])(this,"makeViewport",void 0),Object(c["a"])(this,"_controllerState",void 0),Object(c["a"])(this,"_events",{}),Object(c["a"])(this,"_interactionState",{isDragging:!1}),Object(c["a"])(this,"_customEvents",[]),Object(c["a"])(this,"_eventStartBlocked",null),Object(c["a"])(this,"_panMove",!1),Object(c["a"])(this,"invertPan",!1),Object(c["a"])(this,"dragMode","rotate"),Object(c["a"])(this,"inertia",0),Object(c["a"])(this,"scrollZoom",!0),Object(c["a"])(this,"dragPan",!0),Object(c["a"])(this,"dragRotate",!0),Object(c["a"])(this,"doubleClickZoom",!0),Object(c["a"])(this,"touchZoom",!0),Object(c["a"])(this,"touchRotate",!1),Object(c["a"])(this,"keyboard",!0),this.transitionManager=new iO(Object(f["a"])(Object(f["a"])({},t),{},{getControllerState:function(e){return new r.ControllerState(e)},onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)})),this.handleEvent=this.handleEvent.bind(this),this.eventManager=t.eventManager,this.onViewStateChange=t.onViewStateChange||function(){},this.onStateChange=t.onStateChange||function(){},this.makeViewport=t.makeViewport}return Object(p["a"])(e,[{key:"events",set:function(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}},{key:"finalize",value:function(){for(var e in this._events){var t;if(this._events[e])null===(t=this.eventManager)||void 0===t||t.off(e,this.handleEvent)}this.transitionManager.finalize()}},{key:"handleEvent",value:function(e){this._controllerState=void 0;var t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"controllerState",get:function(){return this._controllerState=this._controllerState||new this.ControllerState(Object(f["a"])(Object(f["a"])({makeViewport:this.makeViewport},this.props),this.state)),this._controllerState}},{key:"getCenter",value:function(e){var t=this.props,r=t.x,n=t.y,i=e.offsetCenter;return[i.x-r,i.y-n]}},{key:"isPointInBounds",value:function(e,t){var r=this.props,n=r.width,i=r.height;if(t&&t.handled)return!1;var o=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=i;return o&&t&&t.stopPropagation(),o}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._interactionState.isDragging||!1}},{key:"blockEvents",value:function(e){var t=this,r=setTimeout((function(){t._eventStartBlocked===r&&(t._eventStartBlocked=null)}),e);this._eventStartBlocked=r}},{key:"setProps",value:function(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);var t=e.inertia;this.inertia=Number.isFinite(t)?t:!0===t?lO:0;var r=e.scrollZoom,n=void 0===r||r,i=e.dragPan,o=void 0===i||i,a=e.dragRotate,s=void 0===a||a,u=e.doubleClickZoom,c=void 0===u||u,l=e.touchZoom,f=void 0===l||l,h=e.touchRotate,p=void 0!==h&&h,d=e.keyboard,v=void 0===d||d,m=Boolean(this.onViewStateChange);this.toggleEvents(hO.WHEEL,m&&n),this.toggleEvents(hO.PAN,m&&(o||s)),this.toggleEvents(hO.PINCH,m&&(f||p)),this.toggleEvents(hO.TRIPLE_PAN,m&&p),this.toggleEvents(hO.DOUBLE_TAP,m&&c),this.toggleEvents(hO.KEYBOARD,m&&v),this.scrollZoom=n,this.dragPan=o,this.dragRotate=s,this.doubleClickZoom=c,this.touchZoom=f,this.touchRotate=p,this.keyboard=v}},{key:"updateTransition",value:function(){this.transitionManager.updateTransition()}},{key:"toggleEvents",value:function(e,t){var r=this;this.eventManager&&e.forEach((function(e){r._events[e]!==t&&(r._events[e]=t,t?r.eventManager.on(e,r.handleEvent):r.eventManager.off(e,r.handleEvent))}))}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object(f["a"])(Object(f["a"])({},e.getViewportProps()),t),i=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(r),i){var o=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:n,interactionState:this._interactionState,oldViewState:o})}}},{key:"_onTransition",value:function(e){this.onViewStateChange(Object(f["a"])(Object(f["a"])({},e),{},{interactionState:this._interactionState}))}},{key:"_setInteractionState",value:function(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(r=!r);var n=this.controllerState[r?"panStart":"rotateStart"]({pos:t});return this._panMove=r,this.updateViewport(n,cO,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}},{key:"_onPanEnd",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),r=this.controllerState.pan({pos:t});return this.updateViewport(r,cO,{isDragging:!0,isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(e){var t=this.inertia;if(this.dragPan&&t&&e.velocity){var r=this.getCenter(e),n=[r[0]+e.velocityX*t/2,r[1]+e.velocityY*t/2],i=this.controllerState.pan({pos:n}).panEnd();this.updateViewport(i,Object(f["a"])(Object(f["a"])({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:fO}),{isDragging:!1,isPanning:!0})}else{var o=this.controllerState.panEnd();this.updateViewport(o,null,{isDragging:!1,isPanning:!1})}return!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=this.getCenter(e),r=this.controllerState.rotate({pos:t});return this.updateViewport(r,cO,{isDragging:!0,isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(e){var t=this.inertia;if(this.dragRotate&&t&&e.velocity){var r=this.getCenter(e),n=[r[0]+e.velocityX*t/2,r[1]+e.velocityY*t/2],i=this.controllerState.rotate({pos:n}).rotateEnd();this.updateViewport(i,Object(f["a"])(Object(f["a"])({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:fO}),{isDragging:!1,isRotating:!0})}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=!0===this.scrollZoom?{}:this.scrollZoom,n=r.speed,i=void 0===n?.01:n,o=r.smooth,a=void 0!==o&&o,s=e.delta,u=2/(1+Math.exp(-Math.abs(s*i)));s<0&&0!==u&&(u=1/u);var c=this.controllerState.zoom({pos:t,scale:u});return this.updateViewport(c,Object(f["a"])(Object(f["a"])({},this._getTransitionProps({around:t})),{},{transitionDuration:a?250:1}),{isZooming:!0,isPanning:!0}),!0}},{key:"_onTriplePanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=this.controllerState.rotateStart({pos:t});return this.updateViewport(r,cO,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.getCenter(e);t[0]-=e.deltaX;var r=this.controllerState.rotate({pos:t});return this.updateViewport(r,cO,{isDragging:!0,isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia;if(this.touchRotate&&t&&e.velocityY){var r=this.getCenter(e),n=[r[0],r[1]+=e.velocityY*t/2],i=this.controllerState.rotate({pos:n});this.updateViewport(i,Object(f["a"])(Object(f["a"])({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:fO}),{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return pO._startPinchRotation=e.rotation,pO._lastPinchEvent=e,this.updateViewport(r,cO,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.controllerState;if(this.touchZoom){var r=e.scale,n=this.getCenter(e);t=t.zoom({pos:n,scale:r})}if(this.touchRotate){var i=e.rotation;t=t.rotate({deltaAngleX:pO._startPinchRotation-i})}return this.updateViewport(t,cO,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),pO._lastPinchEvent=e,!0}},{key:"_onPinchEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia,r=pO._lastPinchEvent;if(this.touchZoom&&t&&r&&e.scale!==r.scale){var n=this.getCenter(e),i=this.controllerState.rotateEnd(),o=Math.log2(e.scale),a=(o-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),s=Math.pow(2,o+a*t/2);i=i.zoom({pos:n,scale:s}).zoomEnd(),this.updateViewport(i,Object(f["a"])(Object(f["a"])({},this._getTransitionProps({around:n})),{},{transitionDuration:t,transitionEasing:fO}),{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{var u=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(u,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return pO._startPinchRotation=null,pO._lastPinchEvent=null,!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=this.isFunctionKeyPressed(e),n=this.controllerState.zoom({pos:t,scale:r?.5:2});return this.updateViewport(n,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,r=this.isFunctionKeyPressed(e),n=!0===this.keyboard?{}:this.keyboard,i=n.zoomSpeed,o=n.moveSpeed,a=n.rotateSpeedX,s=n.rotateSpeedY,u=this.controllerState,c={};switch(e.srcEvent.code){case"Minus":t=r?u.zoomOut(i).zoomOut(i):u.zoomOut(i),c.isZooming=!0;break;case"Equal":t=r?u.zoomIn(i).zoomIn(i):u.zoomIn(i),c.isZooming=!0;break;case"ArrowLeft":r?(t=u.rotateLeft(a),c.isRotating=!0):(t=u.moveLeft(o),c.isPanning=!0);break;case"ArrowRight":r?(t=u.rotateRight(a),c.isRotating=!0):(t=u.moveRight(o),c.isPanning=!0);break;case"ArrowUp":r?(t=u.rotateUp(s),c.isRotating=!0):(t=u.moveUp(o),c.isPanning=!0);break;case"ArrowDown":r?(t=u.rotateDown(s),c.isRotating=!0):(t=u.moveDown(o),c.isPanning=!0);break;default:return!1}return this.updateViewport(t,this._getTransitionProps(),c),!0}},{key:"_getTransitionProps",value:function(e){var t=this.transition;return t&&t.transitionInterpolator?e?Object(f["a"])(Object(f["a"])({},t),{},{transitionInterpolator:new uO(Object(f["a"])(Object(f["a"])(Object(f["a"])({},e),t.transitionInterpolator.opts),{},{makeViewport:this.controllerState.makeViewport}))}):t:cO}}]),e}(),vO=function(){function e(t,r){Object(h["a"])(this,e),Object(c["a"])(this,"_viewportProps",void 0),Object(c["a"])(this,"_state",void 0),this._viewportProps=this.applyConstraints(t),this._state=r}return Object(p["a"])(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}}]),e}(),mO=5,yO=1.2,gO=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){var n;Object(h["a"])(this,r);var i=e.width,o=e.height,a=e.latitude,s=e.longitude,u=e.zoom,l=e.bearing,f=void 0===l?0:l,p=e.pitch,d=void 0===p?0:p,v=e.altitude,m=void 0===v?1.5:v,y=e.position,g=void 0===y?[0,0,0]:y,b=e.maxZoom,w=void 0===b?20:b,x=e.minZoom,O=void 0===x?0:x,E=e.maxPitch,j=void 0===E?60:E,S=e.minPitch,k=void 0===S?0:S,T=e.startPanLngLat,P=e.startZoomLngLat,A=e.startRotatePos,I=e.startBearing,C=e.startPitch,R=e.startZoom,M=e.normalize,L=void 0===M||M;return yn(Number.isFinite(s)),yn(Number.isFinite(a)),yn(Number.isFinite(u)),n=t.call(this,{width:i,height:o,latitude:a,longitude:s,zoom:u,bearing:f,pitch:d,altitude:m,maxZoom:w,minZoom:O,maxPitch:j,minPitch:k,normalize:L,position:g},{startPanLngLat:T,startZoomLngLat:P,startRotatePos:A,startBearing:I,startPitch:C,startZoom:R}),Object(c["a"])(Object(_["a"])(n),"makeViewport",void 0),n.makeViewport=e.makeViewport,n}return Object(p["a"])(r,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,r=e.startPos,n=this.getState().startPanLngLat||this._unproject(r);if(!n)return this;var i=this.makeViewport(this.getViewportProps()),o=i.panByPosition(n,t);return this._getUpdatedState(o)}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}},{key:"rotate",value:function(e){var t,r=e.pos,n=e.deltaAngleX,i=void 0===n?0:n,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,c=s.startBearing,l=s.startPitch;return u&&void 0!==c&&void 0!==l?(t=r?this._getNewRotation(r,u,l,c):{bearing:c+i,pitch:l+a},this._getUpdatedState(t)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this.getViewportProps().zoom})}},{key:"zoom",value:function(e){var t=e.pos,r=e.startPos,n=e.scale,i=this.getState(),o=i.startZoom,a=i.startZoomLngLat;if(a||(o=this.getViewportProps().zoom,a=this._unproject(r)||this._unproject(t)),!a)return this;var s=this.getViewportProps(),u=s.maxZoom,c=s.minZoom,l=o+Math.log2(n);l=Object(Js["a"])(l,c,u);var h=this.makeViewport(Object(f["a"])(Object(f["a"])({},this.getViewportProps()),{},{zoom:l}));return this._getUpdatedState(Object(f["a"])({zoom:l},h.panByPosition(a,t)))}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),r=Object(f["a"])({},this.getViewportProps()),n=r.bearing,i=r.longitude;return Math.abs(n-t.bearing)>180&&(r.bearing=n<0?n+360:n-360),Math.abs(i-t.longitude)>180&&(r.longitude=i<0?i+360:i-360),r}},{key:"applyConstraints",value:function(e){var t=e.maxZoom,r=e.minZoom,n=e.zoom;e.zoom=Object(Js["a"])(n,r,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;e.pitch=Object(Js["a"])(a,o,i);var s=e.normalize,u=void 0===s||s;return u&&Object.assign(e,Tc(e)),e}},{key:"_zoomFromCenter",value:function(e){var t=this.getViewportProps(),r=t.width,n=t.height;return this.zoom({pos:[r/2,n/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this.getViewportProps(),r=t.width,n=t.height;return this.pan({startPos:[r/2,n/2],pos:[r/2+e[0],n/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor(Object(f["a"])(Object(f["a"])(Object(f["a"])({makeViewport:this.makeViewport},this.getViewportProps()),this.getState()),e))}},{key:"_unproject",value:function(e){var t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}},{key:"_getNewRotation",value:function(e,t,r,n){var i=e[0]-t[0],o=e[1]-t[1],a=e[1],s=t[1],u=this.getViewportProps(),c=u.width,l=u.height,f=i/c,h=0;o>0?Math.abs(l-s)>mO&&(h=o/(s-l)*yO):o<0&&s>mO&&(h=1-a/s),h=Object(Js["a"])(h,-1,1);var p=this.getViewportProps(),d=p.minPitch,v=p.maxPitch,m=n+180*f,y=r;return h>0?y=r+h*(v-r):h<0&&(y=r-h*(d-r)),{pitch:y,bearing:m}}}]),r}(vO),bO=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"ControllerState",gO),Object(c["a"])(Object(_["a"])(e),"transition",{transitionDuration:300,transitionInterpolator:new uO({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),Object(c["a"])(Object(_["a"])(e),"dragMode","pan"),e}return Object(p["a"])(r,[{key:"setProps",value:function(e){e.position=e.position||[0,0,0];var t=this.props;m(Object(d["a"])(r.prototype),"setProps",this).call(this,e);var n=!t||t.height!==e.height;n&&this.updateViewport(new this.ControllerState(Object(f["a"])(Object(f["a"])({makeViewport:this.makeViewport},e),this.state)))}}]),r}(dO),_O=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"ViewportType",get:function(){return Hc}},{key:"ControllerType",get:function(){return bO}}]),r}(Qx);Object(c["a"])(_O,"displayName","MapView");var wO=[255,255,255],xO=1,OO=0,EO=Object(p["a"])((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"color",void 0),Object(c["a"])(this,"intensity",void 0),Object(c["a"])(this,"type","ambient");var r=t.color,n=void 0===r?wO:r,i=t.intensity,o=void 0===i?xO:i;this.id=t.id||"ambient-".concat(OO++),this.color=n,this.intensity=o})),jO=[255,255,255],SO=1,kO=[0,0,-1],TO=0,PO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"color",void 0),Object(c["a"])(this,"intensity",void 0),Object(c["a"])(this,"type","directional"),Object(c["a"])(this,"direction",void 0),Object(c["a"])(this,"shadow",void 0);var r=t.color,n=void 0===r?jO:r,i=t.intensity,o=void 0===i?SO:i,a=t.direction,s=void 0===a?kO:a,u=t._shadow,l=void 0!==u&&u;this.id=t.id||"directional-".concat(TO++),this.color=n,this.intensity=o,this.type="directional",this.direction=new rn["a"](s).normalize().toArray(),this.shadow=l}return Object(p["a"])(e,[{key:"getProjectedLight",value:function(e){return this}}]),e}(),AO=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"pass"};Object(h["a"])(this,e),Object(c["a"])(this,"id",void 0),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"props",void 0);var n=r.id;this.id=n,this.gl=t,this.props=Object(f["a"])({},r)}return Object(p["a"])(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"render",value:function(e){}},{key:"cleanup",value:function(){}}]),e}(),IO=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"_lastRenderIndex",-1),e}return Object(p["a"])(r,[{key:"render",value:function(e){var t=this.gl;return $e(t,{framebuffer:e.target}),this._drawLayers(e)}},{key:"_drawLayers",value:function(e){var t=e.target,r=e.moduleParameters,n=e.viewports,i=e.views,o=e.onViewportActive,a=e.clearStack,s=void 0===a||a,u=e.clearCanvas,c=void 0===u||u;e.pass=e.pass||"unknown";var f=this.gl;c&&MO(f),s&&(this._lastRenderIndex=-1);var h,p=[],d=Object(l["a"])(n);try{for(d.s();!(h=d.n()).done;){var v=h.value,m=i&&i[v.id];o(v);var y,g=this._getDrawLayerParams(v,e),b=v.subViewports||[v],_=Object(l["a"])(b);try{for(_.s();!(y=_.n()).done;){var w=y.value,x=this._drawLayersInViewport(f,{target:t,moduleParameters:r,viewport:w,view:m,pass:e.pass,layers:e.layers},g);p.push(x)}}catch(O){_.e(O)}finally{_.f()}}}catch(O){d.e(O)}finally{d.f()}return p}},{key:"_getDrawLayerParams",value:function(e,t){for(var r=t.layers,n=t.pass,i=t.layerFilter,o=t.cullRect,a=t.effects,s=t.moduleParameters,u=[],c=CO(this._lastRenderIndex+1),l={layer:r[0],viewport:e,isPicking:n.startsWith("picking"),renderPass:n,cullRect:o},f={},h=0;h<r.length;h++){var p=r[h],d=this._shouldDrawLayer(p,l,i,f),v={shouldDrawLayer:d};d&&(v.layerRenderIndex=c(p,d),v.moduleParameters=this._getModuleParameters(p,a,n,s),v.layerParameters=this.getLayerParameters(p,h,e)),u[h]=v}return u}},{key:"_drawLayersInViewport",value:function(e,t,r){var n=t.layers,i=t.moduleParameters,o=t.pass,a=t.target,s=t.viewport,u=t.view,c=RO(e,{moduleParameters:i,target:a,viewport:s});if(u&&u.props.clear){var l=!0===u.props.clear?{color:!0,depth:!0}:u.props.clear;Je(e,{scissorTest:!0,scissor:c},(function(){return wr(e,l)}))}var f={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};$e(e,{viewport:c});for(var h=0;h<n.length;h++){var p=n[h],d=r[h],v=d.shouldDrawLayer,m=d.layerRenderIndex,y=d.moduleParameters,g=d.layerParameters;if(v&&p.props.pickable&&f.pickableCount++,p.isComposite)f.compositeCount++;else if(v){f.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,m),y.viewport=s;try{p._drawLayer({moduleParameters:y,uniforms:{layerIndex:m},parameters:g})}catch(b){p.raiseError(b,"drawing ".concat(p," to ").concat(o))}}}return f}},{key:"shouldDrawLayer",value:function(e){return!0}},{key:"getModuleParameters",value:function(e,t){return null}},{key:"getLayerParameters",value:function(e,t,r){return e.props.parameters}},{key:"_shouldDrawLayer",value:function(e,t,r,n){var i=e.props.visible&&this.shouldDrawLayer(e);if(!i)return!1;t.layer=e;var o=e.parent;while(o){if(!o.props.visible||!o.filterSubLayer(t))return!1;t.layer=o,o=o.parent}if(r){var a=t.layer.id;if(a in n||(n[a]=r(t)),!n[a])return!1}return e.activateViewport(t.viewport),!0}},{key:"_getModuleParameters",value:function(e,t,r,n){var i,o=Object.assign(Object.create((null===(i=e.internalState)||void 0===i?void 0:i.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:et(this.gl)});if(t){var a,s=Object(l["a"])(t);try{for(s.s();!(a=s.n()).done;){var u,c=a.value;Object.assign(o,null===(u=c.getModuleParameters)||void 0===u?void 0:u.call(c,e))}}catch(f){s.e(f)}finally{s.f()}}return Object.assign(o,this.getModuleParameters(e,t),n)}}]),r}(AO);function CO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=function n(i,o){var a,s=i.props._offset,u=i.id,c=i.parent&&i.parent.id;if(c&&!(c in t)&&n(i.parent,!1),c in r){var l=r[c]=r[c]||CO(t[c],t);a=l(i,o),r[u]=l}else Number.isFinite(s)?(a=s+(t[c]||0),r[u]=null):a=e;return o&&a>=e&&(e=a+1),t[u]=a,a};return n}function RO(e,t){var r=t.moduleParameters,n=t.target,i=t.viewport,o=n&&"default-framebuffer"!==n.id,a=r&&r.devicePixelRatio||et(e),s=o?n.height:e.drawingBufferHeight,u=i;return[u.x*a,s-(u.y+u.height)*a,u.width*a,u.height*a]}function MO(e){var t=e.drawingBufferWidth,r=e.drawingBufferHeight;$e(e,{viewport:[0,0,t,r]}),e.clear(16640)}var LO=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e,n){var i,o,a;return Object(h["a"])(this,r),a=t.call(this,e,n),Object(c["a"])(Object(_["a"])(a),"shadowMap",void 0),Object(c["a"])(Object(_["a"])(a),"depthBuffer",void 0),Object(c["a"])(Object(_["a"])(a),"fbo",void 0),a.shadowMap=new ur(e,{width:1,height:1,parameters:(i={},Object(T["a"])(i,10241,9729),Object(T["a"])(i,10240,9729),Object(T["a"])(i,10242,33071),Object(T["a"])(i,10243,33071),i)}),a.depthBuffer=new hr(e,{format:33189,width:1,height:1}),a.fbo=new Fr(e,{id:"shadowmap",width:1,height:1,attachments:(o={},Object(T["a"])(o,36064,a.shadowMap),Object(T["a"])(o,36096,a.depthBuffer),o)}),a}return Object(p["a"])(r,[{key:"render",value:function(e){var t=this,n=this.fbo;Je(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(function(){var i=e.viewports[0],o=et(t.gl),a=i.width*o,s=i.height*o;a===n.width&&s===n.height||n.resize({width:a,height:s}),m(Object(d["a"])(r.prototype),"render",t).call(t,Object(f["a"])(Object(f["a"])({},e),{},{target:n,pass:"shadow"}))}))}},{key:"shouldDrawLayer",value:function(e){return!1!==e.props.shadowEnabled}},{key:"getModuleParameters",value:function(){return{drawToShadowMap:!0}}},{key:"delete",value:function(){this.fbo&&(this.fbo["delete"](),this.fbo=null),this.shadowMap&&(this.shadowMap["delete"](),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer["delete"](),this.depthBuffer=null)}}]),r}(IO),DO="\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",NO="\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",FO=Tu(GO),zO=Tu(qO),BO=[0,0,0,1],UO=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function VO(e,t){var r=Object(b["a"])(e,3),n=r[0],i=r[1],o=r[2],a=_c([n,i,o],t);return Number.isFinite(o)?a:[a[0],a[1],0]}function GO(e){var t=e.viewport,r=e.center;return new Vu["a"](t.viewProjectionMatrix).invert().transform(r)}function qO(e){var t,r=e.viewport,n=e.shadowMatrices,i=[],o=r.pixelUnprojectionMatrix,a=r.isGeospatial?void 0:1,s=[[0,0,a],[r.width,0,a],[0,r.height,a],[r.width,r.height,a],[0,0,-1],[r.width,0,-1],[0,r.height,-1],[r.width,r.height,-1]].map((function(e){return VO(e,o)})),u=Object(l["a"])(n);try{var c=function(){var e=t.value,n=e.clone().translate(new rn["a"](r.center).negate()),o=s.map((function(e){return n.transform(e)})),a=(new Vu["a"]).ortho({left:Math.min.apply(Math,Object(Se["a"])(o.map((function(e){return e[0]})))),right:Math.max.apply(Math,Object(Se["a"])(o.map((function(e){return e[0]})))),bottom:Math.min.apply(Math,Object(Se["a"])(o.map((function(e){return e[1]})))),top:Math.max.apply(Math,Object(Se["a"])(o.map((function(e){return e[1]})))),near:Math.min.apply(Math,Object(Se["a"])(o.map((function(e){return-e[2]})))),far:Math.max.apply(Math,Object(Se["a"])(o.map((function(e){return-e[2]}))))});i.push(a.multiplyRight(e))};for(u.s();!(t=u.n()).done;)c()}catch(f){u.e(f)}finally{u.f()}return i}function WO(e,t){var r=e.shadowEnabled,n=void 0===r||r;if(!n||!e.shadowMatrices||!e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};for(var i={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||BO,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},o=FO({viewport:e.viewport,center:t.project_uCenter}),a=[],s=zO({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice(),u=0;u<e.shadowMatrices.length;u++){var c=s[u],l=c.clone().translate(new rn["a"](e.viewport.center).negate());t.project_uCoordinateSystem===O.LNGLAT&&t.project_uProjectionMode===E.WEB_MERCATOR?(s[u]=l,a[u]=o):(s[u]=c.clone().multiplyRight(UO),a[u]=l.transform(o))}for(var f=0;f<s.length;f++)i["shadow_uViewProjectionMatrices[".concat(f,"]")]=s[f],i["shadow_uProjectCenters[".concat(f,"]")]=a[f],e.shadowMaps&&e.shadowMaps.length>0?i["shadow_uShadowMap".concat(f)]=e.shadowMaps[f]:i["shadow_uShadowMap".concat(f)]=e.dummyShadowMap;return i}var HO={name:"shadow",dependencies:[Ap],vs:DO,fs:NO,inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"viewport"in e&&(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0)?WO(e,t):{}}},ZO={color:[255,255,255],intensity:1},XO=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],$O=[0,0,0,200/255],YO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in Object(h["a"])(this,e),Object(c["a"])(this,"id","lighting-effect"),Object(c["a"])(this,"props",null),Object(c["a"])(this,"shadowColor",$O),Object(c["a"])(this,"shadow",void 0),Object(c["a"])(this,"ambientLight",null),Object(c["a"])(this,"directionalLights",[]),Object(c["a"])(this,"pointLights",[]),Object(c["a"])(this,"shadowPasses",[]),Object(c["a"])(this,"shadowMaps",[]),Object(c["a"])(this,"dummyShadowMap",null),Object(c["a"])(this,"programManager",void 0),Object(c["a"])(this,"shadowMatrices",void 0),t){var n=t[r];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n);break;default:}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((function(e){return e.shadow}))}return Object(p["a"])(e,[{key:"preRender",value:function(e,t){var r=t.layers,n=t.layerFilter,i=t.viewports,o=t.onViewportActive,a=t.views;if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=Ja.getDefaultProgramManager(e),HO&&this.programManager.addDefaultModule(HO)),this.dummyShadowMap||(this.dummyShadowMap=new ur(e,{width:1,height:1}));for(var s=0;s<this.shadowPasses.length;s++){var u=this.shadowPasses[s];u.render({layers:r,layerFilter:n,viewports:i,onViewportActive:o,views:a,moduleParameters:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}},{key:"getModuleParameters",value:function(e){var t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((function(t){return t.getProjectedLight({layer:e})})),pointLights:this.pointLights.map((function(t){return t.getProjectedLight({layer:e})}))},t}},{key:"cleanup",value:function(){var e,t=Object(l["a"])(this.shadowPasses);try{for(t.s();!(e=t.n()).done;){var r=e.value;r["delete"]()}}catch(n){t.e(n)}finally{t.f()}this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap["delete"](),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(HO),this.programManager=null)}},{key:"_calculateMatrices",value:function(){var e,t=[],r=Object(l["a"])(this.directionalLights);try{for(r.s();!(e=r.n()).done;){var n=e.value,i=(new Vu["a"]).lookAt({eye:new rn["a"](n.direction).negate()});t.push(i)}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"_createShadowPasses",value:function(e){for(var t=0;t<this.directionalLights.length;t++){var r=new LO(e);this.shadowPasses[t]=r,this.shadowMaps[t]=r.shadowMap}}},{key:"_applyDefaultLights",value:function(){var e=this.ambientLight,t=this.pointLights,r=this.directionalLights;e||0!==t.length||0!==r.length||(this.ambientLight=new EO(ZO),this.directionalLights.push(new PO(XO[0]),new PO(XO[1])))}}]),e}(),KO=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e,n){var i,o;Object(h["a"])(this,r),o=t.call(this,e,n),Object(c["a"])(Object(_["a"])(o),"maskMap",void 0),Object(c["a"])(Object(_["a"])(o),"fbo",void 0);var a=n.mapSize,s=void 0===a?2048:a;return o.maskMap=new ur(e,{width:s,height:s,parameters:(i={},Object(T["a"])(i,10241,9729),Object(T["a"])(i,10240,9729),Object(T["a"])(i,10242,33071),Object(T["a"])(i,10243,33071),i)}),o.fbo=new Fr(e,{id:"maskmap",width:s,height:s,attachments:Object(T["a"])({},36064,o.maskMap)}),o}return Object(p["a"])(r,[{key:"render",value:function(e){var t=this,n=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,Je(n,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},(function(){return m(Object(d["a"])(r.prototype),"render",t).call(t,Object(f["a"])(Object(f["a"])({},e),{},{target:t.fbo,pass:"mask"}))}))}},{key:"shouldDrawLayer",value:function(e){return e.props.operation===k.MASK}},{key:"delete",value:function(){this.fbo["delete"](),this.maskMap["delete"]()}}]),r}(IO),JO=(new Vu["a"]).lookAt({eye:[0,0,1]});function QO(e){var t=e.width,r=e.height,n=e.near,i=e.far,o=e.padding,a=-t/2,s=t/2,u=-r/2,c=r/2;if(o){var l=o.left,f=void 0===l?0:l,h=o.right,p=void 0===h?0:h,d=o.top,v=void 0===d?0:d,m=o.bottom,y=void 0===m?0:m,g=Object(Js["a"])((f+t-p)/2,0,t)-t/2,b=Object(Js["a"])((v+r-y)/2,0,r)-r/2;a-=g,s-=g,u+=b,c+=b}return(new Vu["a"]).ortho({left:a,right:s,bottom:u,top:c,near:n,far:i})}var eE=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){Object(h["a"])(this,r);var n,i=e.width,o=e.height,a=e.near,s=void 0===a?.1:a,u=e.far,c=void 0===u?1e3:u,l=e.zoom,p=void 0===l?0:l,d=e.target,v=void 0===d?[0,0,0]:d,m=e.padding,y=void 0===m?null:m,g=e.flipY,b=void 0===g||g,_=Array.isArray(p)?p[0]:p,w=Array.isArray(p)?p[1]:p,x=Math.min(_,w),O=Math.pow(2,x);if(_!==w){var E=Math.pow(2,_),j=Math.pow(2,w);n={unitsPerMeter:[E/O,j/O,1],metersPerUnit:[O/E,O/j,1]}}return t.call(this,Object(f["a"])(Object(f["a"])({},e),{},{longitude:void 0,position:v,viewMatrix:JO.clone().scale([O,O*(b?-1:1),O]),projectionMatrix:QO({width:i||1,height:o||1,padding:y,near:s,far:c}),zoom:x,distanceScales:n}))}return Object(p["a"])(r,[{key:"projectFlat",value:function(e){var t=Object(b["a"])(e,2),r=t[0],n=t[1],i=this.distanceScales.unitsPerMeter;return[r*i[0],n*i[1]]}},{key:"unprojectFlat",value:function(e){var t=Object(b["a"])(e,2),r=t[0],n=t[1],i=this.distanceScales.metersPerUnit;return[r*i[0],n*i[1]]}},{key:"panByPosition",value:function(e,t){var r=_c(t,this.pixelUnprojectionMatrix),n=this.projectFlat(e),i=Yu["a"]([],n,Yu["d"]([],r)),o=Yu["a"]([],this.center,i);return{target:this.unprojectFlat(o)}}}]),r}(Bc),tE=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){var n;Object(h["a"])(this,r);var i=e.width,o=e.height,a=e.rotationX,s=void 0===a?0:a,u=e.rotationOrbit,l=void 0===u?0:u,f=e.target,p=void 0===f?[0,0,0]:f,d=e.zoom,v=void 0===d?0:d,m=e.minRotationX,y=void 0===m?-90:m,g=e.maxRotationX,b=void 0===g?90:g,w=e.minZoom,x=void 0===w?-1/0:w,O=e.maxZoom,E=void 0===O?1/0:O,j=e.startPanPosition,S=e.startRotatePos,k=e.startRotationX,T=e.startRotationOrbit,P=e.startZoomPosition,A=e.startZoom;return n=t.call(this,{width:i,height:o,rotationX:s,rotationOrbit:l,target:p,zoom:v,minRotationX:y,maxRotationX:b,minZoom:x,maxZoom:E},{startPanPosition:j,startRotatePos:S,startRotationX:k,startRotationOrbit:T,startZoomPosition:P,startZoom:A}),Object(c["a"])(Object(_["a"])(n),"makeViewport",void 0),n.makeViewport=e.makeViewport,n}return Object(p["a"])(r,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanPosition:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,r=e.startPosition,n=this.getState().startPanPosition||r;if(!n)return this;var i=this.makeViewport(this.getViewportProps()),o=i.panByPosition(n,t);return this._getUpdatedState(o)}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanPosition:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}},{key:"rotate",value:function(e){var t,r=e.pos,n=e.deltaAngleX,i=void 0===n?0:n,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,c=s.startRotationX,l=s.startRotationOrbit,f=this.getViewportProps(),h=f.width,p=f.height;if(!u||void 0===c||void 0===l)return this;if(r){var d=(r[0]-u[0])/h,v=(r[1]-u[1])/p;(c<-90||c>90)&&(d*=-1),t={rotationX:c+180*v,rotationOrbit:l+180*d}}else t={rotationX:c+a,rotationOrbit:l+i};return this._getUpdatedState(t)}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),r=Object(f["a"])({},this.getViewportProps()),n=r.rotationOrbit;return Math.abs(n-t.rotationOrbit)>180&&(r.rotationOrbit=n<0?n+360:n-360),r}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomPosition:this._unproject(t),startZoom:this.getViewportProps().zoom})}},{key:"zoom",value:function(e){var t=e.pos,r=e.startPos,n=e.scale,i=this.getState(),o=i.startZoom,a=i.startZoomPosition;if(a||(o=this.getViewportProps().zoom,a=this._unproject(r)||this._unproject(t)),!a)return this;var s=this._calculateNewZoom({scale:n,startZoom:o}),u=this.makeViewport(Object(f["a"])(Object(f["a"])({},this.getViewportProps()),{},{zoom:s}));return this._getUpdatedState(Object(f["a"])({zoom:s},u.panByPosition(a,t)))}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([-e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,-e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}},{key:"_unproject",value:function(e){var t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,r=e.startZoom,n=this.getViewportProps(),i=n.maxZoom,o=n.minZoom;void 0===r&&(r=this.getViewportProps().zoom);var a=r+Math.log2(t);return Object(Js["a"])(a,o,i)}},{key:"_panFromCenter",value:function(e){var t=this.getViewportProps(),r=t.width,n=t.height,i=t.target;return this.pan({startPosition:i,pos:[r/2+e[0],n/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor(Object(f["a"])(Object(f["a"])(Object(f["a"])({makeViewport:this.makeViewport},this.getViewportProps()),this.getState()),e))}},{key:"applyConstraints",value:function(e){var t=e.maxZoom,r=e.minZoom,n=e.zoom,i=e.maxRotationX,o=e.minRotationX,a=e.rotationOrbit;return e.zoom=Array.isArray(n)?[Object(Js["a"])(n[0],r,t),Object(Js["a"])(n[1],r,t)]:Object(Js["a"])(n,r,t),e.rotationX=Object(Js["a"])(e.rotationX,o,i),(a<-180||a>180)&&(e.rotationOrbit=on(a+180,360)-180),e}}]),r}(vO),rE=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){var n;return Object(h["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(_["a"])(n),"zoomAxis",void 0),n.zoomAxis=e.zoomAxis||"all",n}return Object(p["a"])(r,[{key:"_calculateNewZoom",value:function(e){var t=e.scale,r=e.startZoom,n=this.getViewportProps(),i=n.maxZoom,o=n.minZoom;void 0===r&&(r=this.getViewportProps().zoom);var a=Math.log2(t);if(Array.isArray(r)){var s=r,u=Object(b["a"])(s,2),c=u[0],l=u[1];switch(this.zoomAxis){case"X":c=Object(Js["a"])(c+a,o,i);break;case"Y":l=Object(Js["a"])(l+a,o,i);break;default:var f=Math.min(c+a,l+a);f<o&&(a+=o-f),f=Math.max(c+a,l+a),f>i&&(a+=i-f),c+=a,l+=a}return[c,l]}return Object(Js["a"])(r+a,o,i)}}]),r}(tE),nE=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"ControllerState",rE),Object(c["a"])(Object(_["a"])(e),"transition",{transitionDuration:300,transitionInterpolator:new uO(["target","zoom"])}),Object(c["a"])(Object(_["a"])(e),"dragMode","pan"),e}return Object(p["a"])(r,[{key:"_onPanRotate",value:function(){return!1}}]),r}(dO),iE=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"ViewportType",get:function(){return eE}},{key:"ControllerType",get:function(){return nE}}]),r}(Qx);function oE(e){var t,r=e.layers,n=e.viewport,i=null,o=Object(l["a"])(r);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.getBounds();s&&(i?(i[0]=Math.min(i[0],s[0][0]),i[1]=Math.min(i[1],s[0][1]),i[2]=Math.max(i[2],s[1][0]),i[3]=Math.max(i[3],s[1][1])):i=[s[0][0],s[0][1],s[1][0],s[1][1]])}}catch(f){o.e(f)}finally{o.f()}var u=n.getBounds();if(!i)return u;var c=sE(u);return i[2]-i[0]<c[2]-c[0]||i[3]-i[1]<c[3]-c[1]||(i[0]=Math.max(i[0],c[0]),i[1]=Math.max(i[1],c[1]),i[2]=Math.min(i[2],c[2]),i[3]=Math.min(i[3],c[3])),i}function aE(e){var t=e.bounds,r=e.viewport,n=e.width,i=e.height;if(t[2]<=t[0]||t[3]<=t[1])return null;var o=1;if(n-=2*o,i-=2*o,r instanceof Hc){var a=wc({width:n,height:i,bounds:[[t[0],t[1]],[t[2],t[3]]],maxZoom:20}),s=a.longitude,u=a.latitude,c=a.zoom;return new Hc({longitude:s,latitude:u,zoom:c,x:o,y:o,width:n,height:i})}var l=[(t[0]+t[2])/2,(t[1]+t[3])/2,0],f=Math.min(20,n/(t[2]-t[0]),i/(t[3]-t[1]));return new iE({x:o,y:o}).makeViewport({width:n,height:i,viewState:{target:l,zoom:Math.log2(f)}})}function sE(e){var t={x:e[2]-e[0],y:e[3]-e[1]},r={x:e[0]+.5*t.x,y:e[1]+.5*t.y};return[r.x-t.x,r.y-t.y,r.x+t.x,r.y+t.y]}Object(c["a"])(iE,"displayName","OrthographicView");var uE=function(){function e(){Object(h["a"])(this,e),Object(c["a"])(this,"id","mask-effect"),Object(c["a"])(this,"props",null),Object(c["a"])(this,"useInPicking",!0),Object(c["a"])(this,"dummyMaskMap",void 0),Object(c["a"])(this,"channels",[]),Object(c["a"])(this,"masks",null),Object(c["a"])(this,"maskPass",void 0),Object(c["a"])(this,"maskMap",void 0),Object(c["a"])(this,"lastViewport",void 0)}return Object(p["a"])(e,[{key:"preRender",value:function(e,t){var r=t.layers,n=t.layerFilter,i=t.viewports,o=t.onViewportActive,a=t.views;this.dummyMaskMap||(this.dummyMaskMap=new ur(e,{width:1,height:1}));var s=r.filter((function(e){return e.props.visible&&e.props.operation===k.MASK}));if(0===s.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new KO(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);var u=this._sortMaskChannels(s),c=i[0],l=!this.lastViewport||!this.lastViewport.equals(c);for(var f in u)this._renderChannel(u[f],{layerFilter:n,onViewportActive:o,views:a,viewport:c,viewportChanged:l})}},{key:"_renderChannel",value:function(e,t){var r=t.layerFilter,n=t.onViewportActive,i=t.views,o=t.viewport,a=t.viewportChanged,s=this.channels[e.index];if(s){var u=e===s||s.layers.length!==e.layers.length||e.layerBounds.some((function(e,t){return e!==s.layerBounds[t]}));if(e.bounds=s.bounds,e.maskBounds=s.maskBounds,this.channels[e.index]=e,(u||a)&&(this.lastViewport=o,e.bounds=oE({layers:e.layers,viewport:o}),u||!Object(Js["d"])(e.bounds,s.bounds))){var c=this.maskPass,l=this.maskMap,f=aE({bounds:e.bounds,viewport:o,width:l.width,height:l.height});e.maskBounds=f?f.getBounds():[0,0,1,1],c.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:r,viewports:f?[f]:[],onViewportActive:n,views:i,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}}},{key:"_sortMaskChannels",value:function(e){var t,r=this,n={},i=0,o=Object(l["a"])(e);try{var a=function(){var e=t.value,o=e.root.id,a=n[o];if(!a){if(++i>4)return x.warn("Too many mask layers. The max supported is 4")(),"continue";a={id:o,index:r.channels.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===o})),layers:[],layerBounds:[],coordinateOrigin:e.root.props.coordinateOrigin,coordinateSystem:e.root.props.coordinateSystem},n[o]=a}a.layers.push(e),a.layerBounds.push(e.getBounds())};for(o.s();!(t=o.n()).done;)a()}catch(h){o.e(h)}finally{o.f()}for(var s=0;s<4;s++){var u=this.channels[s];u&&u.id in n||(this.channels[s]=null)}for(var c in n){var f=n[c];f.index<0&&(f.index=this.channels.findIndex((function(e){return!e})),this.channels[f.index]=f)}return n}},{key:"getModuleParameters",value:function(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}},{key:"cleanup",value:function(){this.dummyMaskMap&&(this.dummyMaskMap["delete"](),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass["delete"](),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}]),e}(),cE=new YO,lE=function(){function e(){Object(h["a"])(this,e),Object(c["a"])(this,"effects",void 0),Object(c["a"])(this,"_internalEffects",void 0),Object(c["a"])(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}return Object(p["a"])(e,[{key:"setProps",value:function(e){"effects"in e&&(e.effects.length===this.effects.length&&tl(e.effects,this.effects)||(this.setEffects(e.effects),this._needsRedraw="effects changed"))}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"getEffects",value:function(){return this._internalEffects}},{key:"finalize",value:function(){this.cleanup()}},{key:"setEffects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new uE),e.some((function(e){return e instanceof YO}))||this._internalEffects.push(cE)}},{key:"cleanup",value:function(){var e,t=Object(l["a"])(this.effects);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.cleanup()}}catch(a){t.e(a)}finally{t.f()}var n,i=Object(l["a"])(this._internalEffects);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.cleanup()}}catch(a){i.e(a)}finally{i.f()}this.effects.length=0,this._internalEffects.length=0}}]),e}(),fE=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"shouldDrawLayer",value:function(e){return e.props.operation===k.DRAW}}]),r}(IO),hE={blendFunc:[1,0,32771,0],blendEquation:32774},pE=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"pickZ",void 0),Object(c["a"])(Object(_["a"])(e),"_colors",null),e}return Object(p["a"])(r,[{key:"render",value:function(e){return e.pickingFBO?this._drawPickingBuffer(e):m(Object(d["a"])(r.prototype),"render",this).call(this,e)}},{key:"_drawPickingBuffer",value:function(e){var t=this,n=e.layers,i=e.layerFilter,o=e.views,a=e.viewports,s=e.onViewportActive,u=e.pickingFBO,c=e.deviceRect,l=c.x,h=c.y,p=c.width,v=c.height,y=e.cullRect,g=e.effects,b=e.pass,_=void 0===b?"picking":b,w=e.pickZ,x=this.gl;this.pickZ=w;var O=w?null:{byLayer:new Map,byAlpha:[]};this._colors=O;var E=Je(x,Object(f["a"])(Object(f["a"])({scissorTest:!0,scissor:[l,h,p,v],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0]},hE),{},{blend:!w}),(function(){return m(Object(d["a"])(r.prototype),"render",t).call(t,{target:u,layers:n,layerFilter:i,views:o,viewports:a,onViewportActive:s,cullRect:y,effects:null===g||void 0===g?void 0:g.filter((function(e){return e.useInPicking})),pass:_})}));this._colors=null;var j=O&&vE.bind(null,O);return{decodePickingColor:j,stats:E}}},{key:"shouldDrawLayer",value:function(e){return e.props.pickable&&e.props.operation===k.DRAW}},{key:"getModuleParameters",value:function(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}},{key:"getLayerParameters",value:function(e,t,r){var n=Object(f["a"])({},e.props.parameters);return this._colors?(Object.assign(n,hE),n.blend=!0,n.blendColor=dE(this._colors,e,r)):n.blend=!1,n}}]),r}(IO);function dE(e,t,r){var n,i=e.byLayer,o=e.byAlpha,a=i.get(t);return a?(a.viewports.push(r),n=a.a):(n=i.size+1,n<=255?(a={a:n,layer:t,viewports:[r]},i.set(t,a),o[n]=a):(x.warn("Too many pickable layers, only picking the first 255")(),n=0)),[0,0,0,n/255]}function vE(e,t){var r=e.byAlpha[t[3]];return r&&{pickedLayer:r.layer,pickedViewports:r.viewports,pickedObjectIndex:r.layer.decodePickingColor(t)}}var mE="deckRenderer.renderLayers",yE=function(){function e(t){Object(h["a"])(this,e),this.gl=t,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new fE(t),this.pickLayersPass=new pE(t),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}return Object(p["a"])(e,[{key:"setProps",value:function(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}},{key:"renderLayers",value:function(e){var t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||Fr.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);var r=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,n=t.render(Object(f["a"])(Object(f["a"])({},e),{},{target:r}));this._postRender(e.effects,e),this.renderCount++,Un(mE,this,n,e)}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"finalize",value:function(){var e,t=this.renderBuffers,r=Object(l["a"])(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;n["delete"]()}}catch(i){r.e(i)}finally{r.f()}t.length=0}},{key:"_preRender",value:function(e,t){var r,n=null,i=Object(l["a"])(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.preRender(this.gl,t),o.postRender&&(n=o)}}catch(a){i.e(a)}finally{i.f()}n&&this._resizeRenderBuffers(),this.lastPostProcessEffect=n}},{key:"_resizeRenderBuffers",value:function(){var e=this.renderBuffers;0===e.length&&e.push(new Fr(this.gl),new Fr(this.gl));var t,r=Object(l["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.resize()}}catch(i){r.e(i)}finally{r.f()}}},{key:"_postRender",value:function(e,t){var r,n=this.renderBuffers,i={inputBuffer:n[0],swapBuffer:n[1],target:null},o=Object(l["a"])(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.postRender){if(a===this.lastPostProcessEffect){i.target=t.target,a.postRender(this.gl,i);break}var s=a.postRender(this.gl,i);i.inputBuffer=s,i.swapBuffer=s===n[0]?n[1]:n[0]}}}catch(u){o.e(u)}finally{o.f()}}}]),e}(),gE={pickedColor:null,pickedObjectIndex:-1};function bE(e){for(var t=e.pickedColors,r=e.decodePickingColor,n=e.deviceX,i=e.deviceY,o=e.deviceRadius,a=e.deviceRect,s=a.x,u=a.y,c=a.width,l=a.height,h=o*o,p=-1,d=0,v=0;v<l;v++){var m=v+u-i,y=m*m;if(y>h)d+=4*c;else for(var g=0;g<c;g++){var b=t[d+3]-1;if(b>=0){var _=g+s-n,w=_*_+y;w<=h&&(h=w,p=d)}d+=4}}if(p>=0){var O=t.slice(p,p+4),E=r(O);if(E){var j=Math.floor(p/4/c),S=p/4-j*c;return Object(f["a"])(Object(f["a"])({},E),{},{pickedColor:O,pickedX:s+S,pickedY:u+j})}x.error("Picked non-existent layer. Is picking buffer corrupt?")()}return gE}function _E(e){var t=e.pickedColors,r=e.decodePickingColor,n=new Map;if(t)for(var i=0;i<t.length;i+=4){var o=t[i+3]-1;if(o>=0){var a=t.slice(i,i+4),s=a.join(",");if(!n.has(s)){var u=r(a);u?n.set(s,Object(f["a"])(Object(f["a"])({},u),{},{color:a})):x.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(n.values())}function wE(e){var t,r=e.pickInfo,n=e.viewports,i=e.pixelRatio,o=e.x,a=e.y,s=e.z,u=n[0];if(n.length>1&&(u=EE((null===r||void 0===r?void 0:r.pickedViewports)||n,{x:o,y:a})),u){var c=[o-u.x,a-u.y];void 0!==s&&(c[2]=s),t=u.unproject(c)}return{color:null,layer:null,viewport:u,index:-1,picked:!1,x:o,y:a,pixel:[o,a],coordinate:t,devicePixel:r&&"pickedX"in r?[r.pickedX,r.pickedY]:void 0,pixelRatio:i}}function xE(e){var t=e.pickInfo,r=e.lastPickedInfo,n=e.mode,i=e.layers,o=t.pickedColor,a=t.pickedLayer,s=t.pickedObjectIndex,u=a?[a]:[];if("hover"===n){var c=r.index,l=r.layerId,h=a?a.props.id:null;if(h!==l||s!==c){if(h!==l){var p=i.find((function(e){return e.props.id===l}));p&&u.unshift(p)}r.layerId=h,r.index=s,r.info=null}}var d=wE(e),v=new Map;return v.set(null,d),u.forEach((function(e){var t=Object(f["a"])({},d);e===a&&(t.color=o,t.index=s,t.picked=!0),t=OE({layer:e,info:t,mode:n});var i=t.layer;e===a&&"hover"===n&&(r.info=t),v.set(i.id,t),"hover"===n&&i.updateAutoHighlight(t)})),v}function OE(e){var t=e.layer,r=e.info,n=e.mode;while(t&&r){var i=r.layer||null;r.sourceLayer=i,r.layer=t,r=t.getPickingInfo({info:r,mode:n,sourceLayer:i}),t=t.parent}return r}function EE(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.containsPixel(t))return n}return e[0]}var jE=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"gl",void 0),Object(c["a"])(this,"pickingFBO",void 0),Object(c["a"])(this,"depthFBO",void 0),Object(c["a"])(this,"pickLayersPass",void 0),Object(c["a"])(this,"layerFilter",void 0),Object(c["a"])(this,"lastPickedInfo",void 0),Object(c["a"])(this,"_pickable",!0),this.gl=t,this.pickLayersPass=new pE(t),this.lastPickedInfo={index:-1,layerId:null,info:null}}return Object(p["a"])(e,[{key:"setProps",value:function(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}},{key:"finalize",value:function(){this.pickingFBO&&this.pickingFBO["delete"](),this.depthFBO&&(this.depthFBO.color["delete"](),this.depthFBO["delete"]())}},{key:"pickObject",value:function(e){return this._pickClosestObject(e)}},{key:"pickObjects",value:function(e){return this._pickVisibleObjects(e)}},{key:"getLastPickedObject",value:function(e){var t=e.x,r=e.y,n=e.layers,i=e.viewports,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info,a=o&&o.layer&&o.layer.id,s=o&&o.viewport&&o.viewport.id,u=a?n.find((function(e){return e.id===a})):null,c=s&&i.find((function(e){return e.id===s}))||i[0],l=c&&c.unproject([t-c.x,r-c.y]),h={x:t,y:r,viewport:c,coordinate:l,layer:u};return Object(f["a"])(Object(f["a"])({},o),h)}},{key:"_resizeBuffer",value:function(){var e,t,r=this.gl;if(!this.pickingFBO&&(this.pickingFBO=new Fr(r),Fr.isSupported(r,{colorBufferFloat:!0}))){var n=new Fr(r);n.attach(Object(T["a"])({},36064,new ur(r,{format:M(r)?34836:6408,type:5126}))),this.depthFBO=n}null===(e=this.pickingFBO)||void 0===e||e.resize({width:r.canvas.width,height:r.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:r.canvas.width,height:r.canvas.height})}},{key:"_getPickable",value:function(e){if(!1===this._pickable)return null;var t=e.filter((function(e){return e.isPickable()&&!e.isComposite}));return t.length?t:null}},{key:"_pickClosestObject",value:function(e){var t=e.layers,r=e.views,n=e.viewports,i=e.x,o=e.y,a=e.radius,s=void 0===a?0:a,u=e.depth,c=void 0===u?1:u,h=e.mode,p=void 0===h?"query":h,d=e.unproject3D,v=e.onViewportActive,m=e.effects,y=this._getPickable(t),g=et(this.gl);if(!y)return{result:[],emptyInfo:wE({viewports:n,x:i,y:o,pixelRatio:g})};this._resizeBuffer();for(var b,_=tt(this.gl,[i,o],!0),w=[_.x+Math.floor(_.width/2),_.y+Math.floor(_.height/2)],x=Math.round(s*g),O=this.pickingFBO,E=O.width,j=O.height,S=this._getPickingRect({deviceX:w[0],deviceY:w[1],deviceRadius:x,deviceWidth:E,deviceHeight:j}),k={x:i-s,y:o-s,width:2*s+1,height:2*s+1},T=[],P=new Set,A=0;A<c;A++){var I=void 0;if(S){var C=this._drawAndSample({layers:y,views:r,viewports:n,onViewportActive:v,deviceRect:S,cullRect:k,effects:m,pass:"picking:".concat(p)});I=bE(Object(f["a"])(Object(f["a"])({},C),{},{deviceX:w[0],deviceY:w[1],deviceRadius:x,deviceRect:S}))}else I={pickedColor:null,pickedObjectIndex:-1};var R=void 0;if(I.pickedLayer&&d&&this.depthFBO){var M=this._drawAndSample({layers:[I.pickedLayer],views:r,viewports:n,onViewportActive:v,deviceRect:{x:I.pickedX,y:I.pickedY,width:1,height:1},cullRect:k,effects:m,pass:"picking:".concat(p,":z")},!0);R=M.pickedColors[0]}I.pickedLayer&&A+1<c&&(P.add(I.pickedLayer),I.pickedLayer.disablePickingIndex(I.pickedObjectIndex)),b=xE({pickInfo:I,lastPickedInfo:this.lastPickedInfo,mode:p,layers:y,viewports:n,x:i,y:o,z:R,pixelRatio:g});var L,D=Object(l["a"])(b.values());try{for(D.s();!(L=D.n()).done;){var N=L.value;N.layer&&T.push(N)}}catch(U){D.e(U)}finally{D.f()}if(!I.pickedColor)break}var F,z=Object(l["a"])(P);try{for(z.s();!(F=z.n()).done;){var B=F.value;B.restorePickingColors()}}catch(U){z.e(U)}finally{z.f()}return{result:T,emptyInfo:b.get(null)}}},{key:"_pickVisibleObjects",value:function(e){var t=e.layers,r=e.views,n=e.viewports,i=e.x,o=e.y,a=e.width,s=void 0===a?1:a,u=e.height,c=void 0===u?1:u,l=e.mode,f=void 0===l?"query":l,h=e.maxObjects,p=void 0===h?null:h,d=e.onViewportActive,v=e.effects,m=this._getPickable(t);if(!m)return[];this._resizeBuffer();for(var y=et(this.gl),g=tt(this.gl,[i,o],!0),b=g.x,_=g.y+g.height,w=tt(this.gl,[i+s,o+c],!0),x=w.x+w.width,O=w.y,E={x:b,y:O,width:x-b,height:_-O},j=this._drawAndSample({layers:m,views:r,viewports:n,onViewportActive:d,deviceRect:E,cullRect:{x:i,y:o,width:s,height:c},effects:v,pass:"picking:".concat(f)}),S=_E(j),k=new Map,T=Number.isFinite(p),P=0;P<S.length;P++){if(T&&p&&k.size>=p)break;var A=S[P],I={color:A.pickedColor,layer:null,index:A.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:y};I=OE({layer:A.pickedLayer,info:I,mode:f}),k.has(I.object)||k.set(I.object,I)}return Array.from(k.values())}},{key:"_drawAndSample",value:function(e){var t=e.layers,r=e.views,n=e.viewports,i=e.onViewportActive,o=e.deviceRect,a=e.cullRect,s=e.effects,u=e.pass,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=c?this.depthFBO:this.pickingFBO,f=this.pickLayersPass.render({layers:t,layerFilter:this.layerFilter,views:r,viewports:n,onViewportActive:i,pickingFBO:l,deviceRect:o,cullRect:a,effects:s,pass:u,pickZ:c}),h=f.decodePickingColor,p=o.x,d=o.y,v=o.width,m=o.height,y=new(c?Float32Array:Uint8Array)(v*m*4);return Cr(l,{sourceX:p,sourceY:d,sourceWidth:v,sourceHeight:m,target:y}),{pickedColors:y,decodePickingColor:h}}},{key:"_getPickingRect",value:function(e){var t=e.deviceX,r=e.deviceY,n=e.deviceRadius,i=e.deviceWidth,o=e.deviceHeight,a=Math.max(0,t-n),s=Math.max(0,r-n),u=Math.min(i,t+n+1)-a,c=Math.min(o,r+n+1)-s;return u<=0||c<=0?null:{x:a,y:s,width:u,height:c}}}]),e}(),SE={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"},kE=function(){function e(t){Object(h["a"])(this,e),Object(c["a"])(this,"el",null),Object(c["a"])(this,"isVisible",!1);var r=t.parentElement;r&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,SE),r.appendChild(this.el))}return Object(p["a"])(e,[{key:"setTooltip",value:function(e,t,r){var n=this.el;if(n){if("string"===typeof e)n.innerText=e;else{if(!e)return this.isVisible=!1,void(n.style.display="none");e.text&&(n.innerText=e.text),e.html&&(n.innerHTML=e.html),e.className&&(n.className=e.className),Object.assign(n.style,e.style)}this.isVisible=!0,n.style.display="block",n.style.transform="translate(".concat(t,"px, ").concat(r,"px)")}}},{key:"remove",value:function(){this.el&&(this.el.remove(),this.el=null)}}]),e}();function TE(e){var t=e[0],r=e[e.length-1];return"{"===t&&"}"===r||"["===t&&"]"===r}var PE={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:TE,parseTextSync:JSON.parse},AE="8.8.20",IE=globalThis.deck&&globalThis.deck.VERSION;if(IE&&IE!==AE)throw new Error("deck.gl - multiple versions detected: ".concat(IE," vs ").concat(AE));IE||(x.log(1,"deck.gl ".concat(AE))(),globalThis.deck=Object(f["a"])(Object(f["a"])({},globalThis.deck),{},{VERSION:AE,version:AE,log:x,_registerLoggers:Bn}),Mh([PE,[vm,{imagebitmap:{premultiplyAlpha:"none"}}]]));var CE=globalThis.deck,RE=34918,ME=34919,LE=35007,DE=36795,NE=35976,FE=35887,zE=36202,BE=function(e,t){Object(y["a"])(n,e);var r=Object(g["a"])(n);function n(e){var t;Object(h["a"])(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r.call(this,e,i),t.target=null,t._queryPending=!1,t._pollingPromise=null,Object.seal(Object(_["a"])(t)),t}return Object(p["a"])(n,[{key:t,get:function(){return"Query"}},{key:"beginTimeElapsedQuery",value:function(){return this.begin(LE)}},{key:"beginOcclusionQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conservative,r=void 0!==t&&t;return this.begin(r?zE:FE)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(NE)}},{key:"begin",value:function(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var e=this.gl2.getQueryParameter(this.handle,ME);return e&&(this._queryPending=!1),e}},{key:"isTimerDisjoint",value:function(){return this.gl2.getParameter(DE)}},{key:"getResult",value:function(){return this.gl2.getQueryParameter(this.handle,RE)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var r=0;return this._pollingPromise=new Promise((function(n,i){var o=function o(){e.isResultAvailable()?(n(e.getResult()),e._pollingPromise=null):r++>t?(i("Timed out"),e._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)})),this._pollingPromise}},{key:"_createHandle",value:function(){return n.isSupported(this.gl)?this.gl2.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl2.deleteQuery(this.handle)}}],[{key:"isSupported",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=M(e),i=Xr(e,Gr.TIMER_QUERY),o=n||i,a=Object(l["a"])(r);try{for(a.s();!(t=a.n()).done;){var s=t.value;switch(s){case"queries":o=o&&n;break;case"timers":o=o&&i;break;default:Ot(!1)}}}catch(u){a.e(u)}finally{a.f()}return o}}]),n}(Ct,Symbol.toStringTag);function UE(e){return"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60)}function VE(e){return"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e)}var GE=Object(Qe["a"])()&&"undefined"!==typeof document,qE=0,WE=function(){function e(){Object(h["a"])(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.onCreateContext,n=void 0===r?function(e){return ct(e)}:r,i=t.onAddHTML,o=void 0===i?null:i,a=t.onInitialize,s=void 0===a?function(){}:a,u=t.onRender,c=void 0===u?function(){}:u,l=t.onFinalize,f=void 0===l?function(){}:l,p=t.onError,d=t.gl,v=void 0===d?null:d,m=t.glOptions,y=void 0===m?{}:m,g=t.debug,b=void 0!==g&&g,_=t.createFramebuffer,w=void 0!==_&&_,x=t.autoResizeViewport,O=void 0===x||x,E=t.autoResizeDrawingBuffer,j=void 0===E||E,S=t.stats,k=void 0===S?xt.get("animation-loop-".concat(qE++)):S,T=t.useDevicePixels,A=void 0===T||T;"useDevicePixelRatio"in t&&(P.deprecated("useDevicePixelRatio","useDevicePixels")(),A=t.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:o,onInitialize:s,onRender:c,onFinalize:f,onError:p,gl:v,glOptions:y,debug:b,createFramebuffer:w},this.gl=v,this.needsRedraw=null,this.timeline=null,this.stats=k,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:O,autoResizeDrawingBuffer:j,useDevicePixels:A}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}return Object(p["a"])(e,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(e){return Ot("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var r=this._getPageLoadPromise().then((function(){return!e._running||e._initialized?null:(e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._gpuTimeQuery=BE.isSupported(e.gl,["timers"])?new BE(e.gl):null,e._initialized=!0,e.onInitialize(e.animationProps))})).then((function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())}));return this.props.onError&&r["catch"](this.props.onError),this}},{key:"redraw",value:function(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(e){return this.timeline=e,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var e=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(t){e._resolveNextFrame=t}))),this._nextFramePromise}},{key:"toDataURL",value:function(){var e=Sr(Object(Er["a"])().mark((function e(){return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setNeedsRedraw("toDataURL"),e.next=3,this.waitForRender();case 3:return e.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isContextLost",value:function(){return this.gl.isContextLost()}},{key:"onCreateContext",value:function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)}},{key:"onInitialize",value:function(){var e;return(e=this.props).onInitialize.apply(e,arguments)}},{key:"onRender",value:function(){var e;return(e=this.props).onRender.apply(e,arguments)}},{key:"onFinalize",value:function(){var e;return(e=this.props).onFinalize.apply(e,arguments)}},{key:"getHTMLControlValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=document.getElementById(e);return r?Number(r.value):t}},{key:"setViewParameters",value:function(){return P.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var e=this,t=function t(){e._running&&(e.redraw(),e._animationFrameId=e._requestAnimationFrame(t))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(t)}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=GE?new Promise((function(e,t){GE&&"complete"===document.readyState?e(document):window.addEventListener("load",(function(){e(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(e){this.display&&(this.display["delete"](),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}},{key:"_cancelAnimationFrame",value:function(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):VE(e)}},{key:"_requestAnimationFrame",value:function(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):UE(e)}},{key:"_renderFrame",value:function(){var e;this.display?(e=this.display)._renderFrame.apply(e,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var e=this._getSizeAndAspect(),t=e.width,r=e.height,n=e.aspect;t===this.animationProps.width&&r===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(e){"object"===typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}},{key:"_createWebGLContext",value:function(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?lt(this.props.gl,e):this.onCreateContext(e),!R(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Ke(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var r=this.props.onAddHTML(t);r&&(t.innerHTML=r)}}},{key:"_getSizeAndAspect",value:function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,r=1,n=this.gl.canvas;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:e>0&&t>0&&(r=e/t),{width:e,height:t,aspect:r}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&ht(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new Fr(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var e=this.gl.canvas;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}},{key:"_onMouseleave",value:function(e){this.animationProps._mousePosition=null}}]),e}();function HE(){}var ZE=function(e){var t=e.isDragging;return t?"grabbing":"grab"},XE={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:HE,onResize:HE,onViewStateChange:HE,onInteractionStateChange:HE,onBeforeRender:HE,onAfterRender:HE,onLoad:HE,onError:function(e){return x.error(e.message)()},onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:ZE,getTooltip:null,debug:!1,drawPickingColors:!1},$E=function(){function e(t){var r=this;Object(h["a"])(this,e),Object(c["a"])(this,"props",void 0),Object(c["a"])(this,"width",0),Object(c["a"])(this,"height",0),Object(c["a"])(this,"userData",{}),Object(c["a"])(this,"canvas",null),Object(c["a"])(this,"viewManager",null),Object(c["a"])(this,"layerManager",null),Object(c["a"])(this,"effectManager",null),Object(c["a"])(this,"deckRenderer",null),Object(c["a"])(this,"deckPicker",null),Object(c["a"])(this,"eventManager",null),Object(c["a"])(this,"tooltip",null),Object(c["a"])(this,"metrics",void 0),Object(c["a"])(this,"animationLoop",void 0),Object(c["a"])(this,"stats",void 0),Object(c["a"])(this,"viewState",void 0),Object(c["a"])(this,"cursorState",void 0),Object(c["a"])(this,"_needsRedraw",void 0),Object(c["a"])(this,"_pickRequest",void 0),Object(c["a"])(this,"_lastPointerDownInfo",null),Object(c["a"])(this,"_metricsCounter",void 0),Object(c["a"])(this,"_onPointerMove",(function(e){var t=r._pickRequest;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;var n=e.offsetCenter;if(!n)return;t.x=n.x,t.y=n.y,t.radius=r.props.pickingRadius}r.layerManager&&(r.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e})),Object(c["a"])(this,"_onEvent",(function(e){var t=S[e.type],n=e.offsetCenter;if(t&&n&&r.layerManager){var i=r.layerManager.getLayers(),o=r.deckPicker.getLastPickedObject({x:n.x,y:n.y,layers:i,viewports:r.getViewports(n)},r._lastPointerDownInfo),a=o.layer,s=a&&(a[t.handler]||a.props[t.handler]),u=r.props[t.handler],c=!1;s&&(c=s.call(a,o,e)),!c&&u&&u(o,e)}})),Object(c["a"])(this,"_onPointerDown",(function(e){var t=e.offsetCenter,n=r._pick("pickObject","pickObject Time",{x:t.x,y:t.y,radius:r.props.pickingRadius});r._lastPointerDownInfo=n.result[0]||n.emptyInfo})),this.props=Object(f["a"])(Object(f["a"])({},XE),t),t=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},t.viewState&&t.initialViewState&&x.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===os()&&x.warn("IE 11 is not supported")(),this.viewState=t.initialViewState,t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.stats=new gt["a"]({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(t),t._typedArrayManagerProps&&tn.setOptions(t._typedArrayManagerProps),this.animationLoop.start()}return Object(p["a"])(e,[{key:"finalize",value:function(){var e,t,r,n,i,o,a,s;(this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(r=this.effectManager)||void 0===r||r.finalize(),this.effectManager=null,null===(n=this.deckRenderer)||void 0===n||n.finalize(),this.deckRenderer=null,null===(i=this.deckPicker)||void 0===i||i.finalize(),this.deckPicker=null,null===(o=this.eventManager)||void 0===o||o.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas)||(null===(s=this.canvas.parentElement)||void 0===s||s.removeChild(this.canvas),this.canvas=null)}},{key:"setProps",value:function(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&x.removed("onLayerHover","onHover")(),"onLayerClick"in e&&x.removed("onLayerClick","onClick")(),e.initialViewState&&!tl(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);var t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";var t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var r=this.viewManager.needsRedraw(e),n=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),o=this.deckRenderer.needsRedraw(e);return t=t||r||n||i||o,t}},{key:"redraw",value:function(e){if(this.layerManager){var t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}}},{key:"isInitialized",get:function(){return null!==this.viewManager}},{key:"getViews",value:function(){return yn(this.viewManager),this.viewManager.views}},{key:"getViewports",value:function(e){return yn(this.viewManager),this.viewManager.getViewports(e)}},{key:"pickObject",value:function(e){var t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}},{key:"pickMultipleObjects",value:function(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}},{key:"pickObjects",value:function(e){return this._pick("pickObjects","pickObjects Time",e)}},{key:"_addResources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r in e)this.layerManager.resourceManager.add({resourceId:r,data:e[r],forceUpdate:t})}},{key:"_removeResources",value:function(e){var t,r=Object(l["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.layerManager.resourceManager.remove(n)}}catch(i){r.e(i)}finally{r.f()}}},{key:"_pick",value:function(e,t,r){yn(this.deckPicker);var n=this.stats;n.get("Pick Count").incrementCount(),n.get(t).timeStart();var i=this.deckPicker[e](Object(f["a"])({layers:this.layerManager.getLayers(r),views:this.viewManager.getViews(),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects()},r));return n.get(t).timeEnd(),i}},{key:"_createCanvas",value:function(e){var t=e.canvas;if("string"===typeof t&&(t=document.getElementById(t),yn(t)),!t){t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay";var r=e.parent||document.body;r.appendChild(t)}return Object.assign(t.style,e.style),t}},{key:"_setCanvasSize",value:function(e){if(this.canvas){var t=e.width,r=e.height;if(t||0===t){var n=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=n}if(r||0===r){var i,o=Number.isFinite(r)?"".concat(r,"px"):r;this.canvas.style.position=(null===(i=e.style)||void 0===i?void 0:i.position)||"absolute",this.canvas.style.height=o}}}},{key:"_updateCanvasSize",value:function(){var e=this.canvas;if(e){var t,r=e.clientWidth||e.width,n=e.clientHeight||e.height;if(r!==this.width||n!==this.height)this.width=r,this.height=n,null===(t=this.viewManager)||void 0===t||t.setProps({width:r,height:n}),this.props.onResize({width:r,height:n})}}},{key:"_createAnimationLoop",value:function(e){var t=this,r=e.width,n=e.height,i=e.gl,o=e.glOptions,a=e.debug,s=e.onError,u=e.onBeforeRender,c=e.onAfterRender,l=e.useDevicePixels;return new WE({width:r,height:n,useDevicePixels:l,autoResizeViewport:!1,gl:i,onCreateContext:function(e){return ct(Object(f["a"])(Object(f["a"])(Object(f["a"])({},o),e),{},{canvas:t.canvas,debug:a,onContextLost:function(){return t._onContextLost()}}))},onInitialize:function(e){return t._setGLContext(e.gl)},onRender:this._onRenderFrame.bind(this),onBeforeRender:u,onAfterRender:c,onError:s})}},{key:"_getViewState",value:function(){return this.props.viewState||this.viewState}},{key:"_getViews",value:function(){var e=this.props.views||[new _O({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}},{key:"_onContextLost",value:function(){var e=this.props.onError;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}},{key:"_pickAndCallback",value:function(){var e=this._pickRequest;if(e.event){var t=this._pick("pickObject","pickObject Time",e),r=t.result,n=t.emptyInfo;this.cursorState.isHovering=r.length>0;var i,o=n,a=!1,s=Object(l["a"])(r);try{for(s.s();!(i=s.n()).done;){var u,c=i.value;o=c,a=(null===(u=c.layer)||void 0===u?void 0:u.onHover(c,e.event))||a}}catch(h){s.e(h)}finally{s.f()}if(!a&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){var f=this.props.getTooltip(o);this.tooltip.setTooltip(f,o.x,o.y)}e.event=null}}},{key:"_updateCursor",value:function(){var e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}},{key:"_setGLContext",value:function(e){if(!this.layerManager){this.canvas||(this.canvas=e.canvas,lt(e,{enable:!0,copyState:!0})),this.tooltip=new kE(this.canvas),$e(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);var t=new Bx;for(var r in t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new V_(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}}),S)this.eventManager.on(r,this._onEvent);this.viewManager=new $x({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});var n=this.viewManager.getViewports()[0];this.layerManager=new Xx(e,{deck:this,stats:this.stats,viewport:n,timeline:t}),this.effectManager=new lE,this.deckRenderer=new yE(e),this.deckPicker=new jE(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}}},{key:"_drawLayers",value:function(e,t){var r=this.layerManager.context.gl;$e(r,this.props.parameters),this.props.onBeforeRender({gl:r}),this.deckRenderer.renderLayers(Object(f["a"])({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects()},t)),this.props.onAfterRender({gl:r})}},{key:"_onRenderFrame",value:function(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),x.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}},{key:"_onViewStateChange",value:function(e){var t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState=Object(f["a"])(Object(f["a"])({},this.viewState),{},Object(T["a"])({},e.viewId,t)),this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}},{key:"_onInteractionStateChange",value:function(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}},{key:"_getFrameStats",value:function(){var e=this.stats;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();var t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}},{key:"_getMetrics",value:function(){var e=this.metrics,t=this.stats;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();var r=xt.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}]),e}();Object(c["a"])($E,"defaultProps",XE),Object(c["a"])($E,"VERSION",CE.VERSION);var YE="undefined"!==typeof window?eg["useLayoutEffect"]:eg["useEffect"],KE=YE;function JE(e,t){while(e){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}var QE={position:"absolute",zIndex:-1};function ej(e,t){if("function"===typeof e)return e(t);if(Array.isArray(e))return e.map((function(e){return ej(e,t)}));if(tj(e)){if(rj(e))return t.style=QE,Object(eg["cloneElement"])(e,t);if(nj(e))return Object(eg["cloneElement"])(e,t)}return e}function tj(e){return e&&"object"===typeof e&&"type"in e||!1}function rj(e){var t=e.type,r=t&&t.defaultProps;return r&&r.mapStyle}function nj(e){var t=e.type;return t&&t.deckGLViewProps}function ij(e){if("function"===typeof e)return Object(eg["createElement"])(Qx,{},e);if(Array.isArray(e))return e.map(ij);if(tj(e)){if(e.type===eg["Fragment"])return ij(e.props.children);if(JE(e.type,Qx))return e}return e}function oj(e){var t=e.children,r=e.layers,n=void 0===r?[]:r,i=e.views,o=void 0===i?null:i,a=[],s=[],u={};return eg["Children"].forEach(ij(t),(function(e){if(tj(e)){var t=e.type;if(JE(t,vp)){var r=aj(t,e.props);s.push(r)}else a.push(e);if(JE(t,Qx)&&t!==Qx&&e.props.id){var n=new t(e.props);u[n.id]=n}}else e&&a.push(e)})),Object.keys(u).length>0&&(Array.isArray(o)?o.forEach((function(e){u[e.id]=e})):o&&(u[o.id]=o),o=Object.values(u)),n=s.length>0?[].concat(s,Object(Se["a"])(n)):n,{layers:n,children:a,views:o}}function aj(e,t){var r={},n=e.defaultProps||{};for(var i in t)n[i]!==t[i]&&(r[i]=t[i]);return new e(r)}function sj(e){var t=e.children,r=e.deck,n=e.ContextProvider,i=r||{},o=i.viewManager;if(!o||!o.views.length)return[];var a,s={},u=o.views[0].id,c=Object(l["a"])(t);try{for(c.s();!(a=c.n()).done;){var f=a.value,h=u,p=f;tj(f)&&JE(f.type,Qx)&&(h=f.props.id||u,p=f.props.children);var d=o.getViewport(h),v=o.getViewState(h);if(d){v.padding=d.padding;var m=d.x,y=d.y,g=d.width,b=d.height;p=ej(p,{x:m,y:y,width:g,height:b,viewport:d,viewState:v}),s[h]||(s[h]={viewport:d,children:[]}),s[h].children.push(p)}}}catch(_){c.e(_)}finally{c.f()}return Object.keys(s).map((function(e){var t=s[e],i=t.viewport,o=t.children,a=i.x,u=i.y,c=i.width,l=i.height,f={position:"absolute",left:a,top:u,width:c,height:l},h="view-".concat(e),p=eg["createElement"].apply(void 0,["div",{key:h,id:h,style:f}].concat(Object(Se["a"])(o)));if(n){var d={viewport:i,container:r.canvas.offsetParent,eventManager:r.eventManager,onViewStateChange:function(t){t.viewId=e,r._onViewStateChange(t)}};return Object(eg["createElement"])(n,{key:h,value:d},p)}return p}))}var uj={mixBlendMode:null};function cj(e){var t=e.width,r=e.height,n=e.style,i={position:"absolute",zIndex:0,left:0,top:0,width:t,height:r},o={left:0,top:0};if(n)for(var a in n)a in uj?o[a]=n[a]:i[a]=n[a];return{containerStyle:i,canvasStyle:o}}function lj(e){return{get deck(){return e.deck},pickObject:function(t){return e.deck.pickObject(t)},pickMultipleObjects:function(t){return e.deck.pickMultipleObjects(t)},pickObjects:function(t){return e.deck.pickObjects(t)}}}function fj(e){e.redrawReason&&(e.deck._drawLayers(e.redrawReason),e.redrawReason=null)}function hj(e,t,r){var n=new t(Object(f["a"])(Object(f["a"])({},r),{},{_customRender:function(t){e.redrawReason=t;var r=n.getViewports();e.lastRenderedViewports!==r?e.forceUpdate():fj(e)}}));return n}var pj=Object(eg["forwardRef"])((function(e,t){var r=Object(eg["useState"])(0),n=Object(b["a"])(r,2),i=n[0],o=n[1],a=Object(eg["useRef"])({control:null,version:i,forceUpdate:function(){return o((function(e){return e+1}))}}),s=a.current,u=Object(eg["useRef"])(null),c=Object(eg["useRef"])(null),l=Object(eg["useMemo"])((function(){return oj(e)}),[e.layers,e.views,e.children]),h=!0,p=function(t){var r;return h&&e.viewState?(s.viewStateUpdateRequested=t,null):(s.viewStateUpdateRequested=null,null===(r=e.onViewStateChange)||void 0===r?void 0:r.call(e,t))},d=function(t){var r;h?s.interactionStateUpdateRequested=t:(s.interactionStateUpdateRequested=null,null===(r=e.onInteractionStateChange)||void 0===r||r.call(e,t))},v=Object(eg["useMemo"])((function(){var t=Object(f["a"])(Object(f["a"])({},e),{},{style:null,width:"100%",height:"100%",parent:u.current,canvas:c.current,layers:l.layers,views:l.views,onViewStateChange:p,onInteractionStateChange:d});return delete t._customRender,s.deck&&s.deck.setProps(t),t}),[e]);Object(eg["useEffect"])((function(){var t=e.Deck||$E;return s.deck=hj(s,t,Object(f["a"])(Object(f["a"])({},v),{},{parent:u.current,canvas:c.current})),function(){var e;return null===(e=s.deck)||void 0===e?void 0:e.finalize()}}),[]),KE((function(){fj(s);var e=s.viewStateUpdateRequested,t=s.interactionStateUpdateRequested;e&&p(e),t&&d(t)})),Object(eg["useImperativeHandle"])(t,(function(){return lj(s)}),[]);var m=s.deck&&s.deck.isInitialized?s.deck.getViewports():void 0,y=e.ContextProvider,g=e.width,_=e.height,w=e.id,x=e.style,O=Object(eg["useMemo"])((function(){return cj({width:g,height:_,style:x})}),[g,_,x]),E=O.containerStyle,j=O.canvasStyle;if(!s.viewStateUpdateRequested&&s.lastRenderedViewports===m||s.version!==i){s.lastRenderedViewports=m,s.version=i;var S=sj({children:l.children,deck:s.deck,ContextProvider:y}),k=Object(eg["createElement"])("canvas",{key:"canvas",id:w||"deckgl-overlay",ref:c,style:j});s.control=Object(eg["createElement"])("div",{id:"".concat(w||"deckgl","-wrapper"),ref:u,style:E},[k,S])}return h=!1,s.control}));pj.defaultProps=$E.defaultProps;var dj=pj,vj=r("j74i"),mj=r("5D9J");function yj(e){var t=gj();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function gj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bj(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wj={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},xj=mj["a"].div((function(e){return _j({position:"absolute",width:4,height:4,margin:-2,borderRadius:2,background:e.color},Object(vj["m"])(e.userStyle,e))})),Oj=mj["a"].div((function(e){return _j({position:"absolute",borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.color},Object(vj["m"])(e.userStyle,e))})),Ej=mj["a"].div((function(e){return _j(_j({},e.theme.__reset__),{},{background:e.color},Object(vj["m"])(e.userStyle,e))})),jj=function(e){Object(a["a"])(r,e);var t=yj(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"_renderTip",value:function(e){var t=wj[e],r=this.props,n=r.theme,i=r.style,o=i.objectLabelTipSize,a=void 0===o?30:o,s=i.objectLabelColor,u=void 0===s?n.background:s,c=_j(_j({},this.props.styleProps),{},{theme:n,color:u,position:e}),l=Object(vj["m"])(a,c),f={width:l,height:l,position:"relative",border:"none"},h={},p={};switch(t.x){case.5:h.left="50%",p.left="50%";break;case 1:h.right=0,p.right=0;break;case 0:default:}switch(t.y){case.5:p.width="100%",h.top="50%",p.top="50%";break;case 1:h.bottom=0,p.height="100%";break;case 0:default:p.height="100%"}return tg.a.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:f},tg.a.createElement(xj,Object(Ky["a"])({style:h},c,{userStyle:i.objectLabelTip})),tg.a.createElement(Oj,Object(Ky["a"])({style:p},c,{userStyle:i.objectLabelLine})))}},{key:"_renderContent",value:function(){var e=this.props,t=e.theme,r=e.styleProps,n=e.style;return tg.a.createElement(Ej,Object(Ky["a"])({key:"content",ref:this._contentLoaded,className:"mapboxgl-popup-content",theme:t},r,{color:n.objectLabelColor,userStyle:n.objectLabelBody}),this.props.children)}}]),r}(Hw),Sj=Object(vj["n"])(jj),kj=r("B7nP"),Tj={GEOGRAPHIC:"GEOGRAPHIC",VEHICLE_RELATIVE:"VEHICLE_RELATIVE",IDENTITY:"IDENTITY",DYNAMIC:"DYNAMIC"},Pj={minZoom:12,maxZoom:24,minPitch:0,maxPitch:0,bearing:0,pitch:0,zoom:20},Aj={TOP_DOWN:{name:"top-down",initialViewState:{},orthographic:!0,tracked:{position:!0}},PERSPECTIVE:{name:"perspective",initialViewState:{maxPitch:85,pitch:60},tracked:{position:!0,heading:!0}},DRIVER:{name:"driver",initialProps:{maxPitch:0},firstPerson:{position:[0,0,1.5]},mapInteraction:{dragPan:!1,scrollZoom:!1}}},Ij=[0,0,0];function Cj(e,t,r){var n=[];t[r]&&n.push(t[r]);var i="",o=!1;if(e){var a=e[r]&&e[r].target_pose,s=new Set;while(a){if(o=s.has(a),o)break;if(s.add(a),!t[a]){i=a;break}n.push(t[a]),a=e[a]&&e[a].target_pose}}return i||o?null:n.length?n.reduceRight((function(e,t){return e.multiplyRight(new ig["d"](t).getTransformationMatrix())}),new ig["a"]):null}function Rj(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=e.origin,o=e.links,a=e.poses,s=e.streams,u=e.transforms,c=void 0===u?{}:u,l=e.vehicleRelativeTransform,f=r.coordinate,h=r.transform,p=r.pose,d=O.METER_OFFSETS,v=null,m=h;switch(f){case Tj.GEOGRAPHIC:d=O.LNGLAT;break;case Tj.DYNAMIC:c[h]=c[h]||n(h,e),v=c[h],e.transforms=c,m=null;break;case Tj.VEHICLE_RELATIVE:v=l;break;default:case Tj.IDENTITY:v=Cj(o,a||s,t);break}return p&&(m=new ig["d"](p).getTransformationMatrix()),m&&m.length>0&&(v=v?new ig["a"](v).multiplyRight(m):m),{coordinateSystem:d,coordinateOrigin:i||Ij,modelMatrix:v}}function Mj(e,t){var r=Object(Fg["a"])(e,3),n=r[0],i=r[1],o=r[2],a=t.coordinateSystem,s=t.coordinateOrigin,u=t.modelMatrix;if(u){var c=new ig["a"](u).transformAsPoint([n,i,o]),l=Object(Fg["a"])(c,3);n=l[0],i=l[1],o=l[2]}switch(a){case O.METER_OFFSETS:return Object(kj["a"])(s,[n,i,o]);case O.LNGLAT:default:return[n,i,o]}}function Lj(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Dj(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function Dj(e,t){if(e){if("string"===typeof e)return Nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nj(e,t):void 0}}function Nj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fj(e){var t=zj();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function zj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Bj=function(e){var t=e.id,r=e.isSelected;return r&&tg.a.createElement("div",null,"ID: ",t)},Uj=function(e){Object(a["a"])(r,e);var t=Fj(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"_renderPerspectivePopup",(function(e){var t,r,i=n.props,o=i.objectSelection,a=i.xvizStyleParser,s=i.style,u=i.renderObjectLabel,c=Boolean(o[e.id]),l={id:e.id,isSelected:c,object:e,xvizStyles:a},f=u(l);if(!f)return null;var h,p=Lj(e.streamNames);try{for(p.s();!(h=p.n()).done;){var d=h.value,v=e.getFeature(d);t||!v.center&&!v.vertices||(t=Mj(e.position,n._getCoordinateProps(d))),!r&&v.vertices&&(r=a.getStylesheet(d).getProperty("height",v))}}catch(m){p.e(m)}finally{p.f()}return t[2]+=r||0,tg.a.createElement(Sj,{key:e.id,longitude:t[0],latitude:t[1],altitude:t[2],anchor:"bottom-left",dynamicPosition:!0,styleProps:l,style:s,sortByDepth:!0,closeButton:!1,closeOnClick:!1},f)})),n.state={coordinateProps:{}},n}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){var t=e.frame;t&&t!==this.props.frame&&this.setState({coordinateProps:{}})}},{key:"_getCoordinateProps",value:function(e){var t=this.state.coordinateProps,r=t[e];if(r)return r;var n=this.props,i=n.frame,o=n.streamsMetadata,a=n.getTransformMatrix;return r=Rj(i,e,o[e],a),t[e]=r,r}},{key:"render",value:function(){var e=this.props,t=e.frame,r=e.renderObjectLabel;return t&&r?Object.values(t.objects).map(this._renderPerspectivePopup):null}}]),r}(eg["PureComponent"]);Object(c["a"])(Uj,"propTypes",{objectSelection:ng.a.object,frame:ng.a.object,streamsMetadata:ng.a.object,xvizStyleParser:ng.a.object,renderObjectLabel:ng.a.func,style:ng.a.object,getTransformMatrix:ng.a.func}),Object(c["a"])(Uj,"defaultProps",{objectSelection:{},renderObjectLabel:Bj,style:{}});var Vj=Math.PI/180,Gj=new Float32Array(16),qj=new Float32Array(12);function Wj(e,t,r){var n=t[0]*Vj,i=t[1]*Vj,o=t[2]*Vj,a=Math.sin(o),s=Math.sin(n),u=Math.sin(i),c=Math.cos(o),l=Math.cos(n),f=Math.cos(i),h=r[0],p=r[1],d=r[2];e[0]=h*f*l,e[1]=h*u*l,e[2]=h*-s,e[3]=p*(-u*c+f*s*a),e[4]=p*(f*c+u*s*a),e[5]=p*l*a,e[6]=d*(u*a+f*s*c),e[7]=d*(-f*a+u*s*c),e[8]=d*l*c}function Hj(e){return e[0]=e[0],e[1]=e[1],e[2]=e[2],e[3]=e[4],e[4]=e[5],e[5]=e[6],e[6]=e[8],e[7]=e[9],e[8]=e[10],e[9]=e[12],e[10]=e[13],e[11]=e[14],e.subarray(0,12)}var Zj={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update:function(e,t){var r=t.startRow,n=t.endRow,i=this.props,o=i.data,a=i.getOrientation,s=i.getScale,u=i.getTranslation,c=i.getTransformMatrix,f=Array.isArray(c),h=f&&16===c.length,p=Array.isArray(s),d=Array.isArray(a),v=Array.isArray(u),m=h||!f&&Boolean(c(o[0]));e.constant=m?h:d&&p&&v;var y=e.value;if(e.constant){var g;if(m)Gj.set(c),g=Hj(Gj);else{g=qj;var b=a,_=s;Wj(g,b,_),g.set(u,9)}e.value=new Float32Array(g)}else{var w,x=r*e.size,O=_n(o,r,n),E=O.iterable,j=O.objectInfo,S=Object(l["a"])(E);try{for(S.s();!(w=S.n()).done;){var k=w.value;j.index++;var T=void 0;if(m)Gj.set(h?c:c(k,j)),T=Hj(Gj);else{T=qj;var P=d?a:a(k,j),A=p?s:s(k,j);Wj(T,P,A),T.set(v?u:u(k,j),9)}y[x++]=T[0],y[x++]=T[1],y[x++]=T[2],y[x++]=T[3],y[x++]=T[4],y[x++]=T[5],y[x++]=T[6],y[x++]=T[7],y[x++]=T[8],y[x++]=T[9],y[x++]=T[10],y[x++]=T[11]}}catch(I){S.e(I)}finally{S.f()}}}};function Xj(e,t){return t===O.CARTESIAN||t===O.METER_OFFSETS||t===O.DEFAULT&&!e.isGeospatial}var $j="#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",Yj="#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n";function Kj(e,t){var r=e.COLOR_0||e.colors,n=r&&t;n||(e.colors={constant:!0,value:new Float32Array([1,1,1])}),x.assert(e.positions||e.POSITION,'no "postions" or "POSITION" attribute in mesh')}function Jj(e,t){if(e.attributes)return Kj(e.attributes,t),e instanceof Up?e:new Up(e);if(e.positions||e.POSITION)return Kj(e,t),new Up({attributes:e});throw Error("Invalid mesh")}var Qj=[0,0,0,255],eS={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:Qj},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}},tS=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"state",void 0),e}return Object(p["a"])(r,[{key:"getShaders",value:function(){var e=!M(this.context.gl),t={};return Zr(this.context.gl,Gr.GLSL_DERIVATIVES)&&(t.DERIVATIVES_AVAILABLE=1),m(Object(d["a"])(r.prototype),"getShaders",this).call(this,{vs:$j,fs:Yj,modules:[Cp,Gd,zp],transpileToGLSL100:e,defines:t})}},{key:"initializeState",value:function(){var e=this.getAttributeManager();e.addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:Zj}),this.setState({emptyTexture:new ur(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}},{key:"updateState",value:function(e){m(Object(d["a"])(r.prototype),"updateState",this).call(this,e);var t=e.props,n=e.oldProps,i=e.changeFlags;if(t.mesh!==n.mesh||i.extensionsChanged){var o;if(null===(o=this.state.model)||void 0===o||o["delete"](),t.mesh){this.state.model=this.getModel(t.mesh);var a=t.mesh.attributes||t.mesh;this.setState({hasNormals:Boolean(a.NORMAL||a.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==n.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}},{key:"finalizeState",value:function(e){m(Object(d["a"])(r.prototype),"finalizeState",this).call(this,e),this.state.emptyTexture["delete"]()}},{key:"draw",value:function(e){var t=e.uniforms;if(this.state.model){var r=this.context.viewport,n=this.props,i=n.sizeScale,o=n.coordinateSystem,a=n._instanced;this.state.model.setUniforms(t).setUniforms({sizeScale:i,composeModelMatrix:!a||Xj(r,o),flatShading:!this.state.hasNormals}).draw()}}},{key:"getModel",value:function(e){var t=new Is(this.context.gl,Object(f["a"])(Object(f["a"])({},this.getShaders()),{},{id:this.props.id,geometry:Jj(e,this.props._useMeshColors),isInstanced:!0})),r=this.props.texture,n=this.state.emptyTexture;return t.setUniforms({sampler:r||n,hasTexture:Boolean(r)}),t}},{key:"setTexture",value:function(e){var t=this.state,r=t.emptyTexture,n=t.model;n&&n.setUniforms({sampler:e||r,hasTexture:Boolean(e)})}}]),r}(vp);Object(c["a"])(tS,"defaultProps",eS),Object(c["a"])(tS,"layerName","SimpleMeshLayer");var rS=r("VKpO"),nS=Object(rS["a"])(),iS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width,n=t.height,o=t.viewMatrix,a=void 0===o?nS:o,s=t.projectionMatrix,u=void 0===s?nS:s;Object(i["a"])(this,e),this.width=r||1,this.height=n||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=a,this.projectionMatrix=u;var c=Object(rS["a"])();Au["g"](c,c,this.projectionMatrix),Au["g"](c,c,this.viewMatrix),this.viewProjectionMatrix=c;var l=Object(rS["a"])();Au["n"](l,l,[this.width/2,-this.height/2,1]),Au["o"](l,l,[1,-1,0]),Au["g"](l,l,this.viewProjectionMatrix);var f=Au["e"](Object(rS["a"])(),l);if(!f)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=f,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(o["a"])(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&Au["b"](t.projectionMatrix,this.projectionMatrix)&&Au["b"](t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=this.projectPosition(e),o=Object(kj["h"])(i,this.pixelProjectionMatrix),a=Object(Fg["a"])(o,2),s=a[0],u=a[1],c=n?u:this.height-u;return 2===e.length?[s,c]:[s,c,o[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=t.targetZ,o=Object(Fg["a"])(e,3),a=o[0],s=o[1],u=o[2],c=n?s:this.height-s,l=i&&i*this.pixelsPerMeter,f=Object(kj["f"])([a,c,u],this.pixelUnprojectionMatrix,l),h=this.unprojectPosition(f),p=Object(Fg["a"])(h,3),d=p[0],v=p[1],m=p[2];return Number.isFinite(u)?[d,v,m]:Number.isFinite(i)?[d,v,i]:[d,v]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),r=Object(Fg["a"])(t,2),n=r[0],i=r[1],o=(e[2]||0)*this.pixelsPerMeter;return[n,i,o]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),r=Object(Fg["a"])(t,2),n=r[0],i=r[1],o=(e[2]||0)/this.pixelsPerMeter;return[n,i,o]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}}]),e}(),oS=r("54ZI");function aS(e){var t=e.width,r=e.height,n=e.bounds,i=e.minExtent,o=void 0===i?0:i,a=e.maxZoom,s=void 0===a?24:a,u=e.padding,c=void 0===u?0:u,l=e.offset,f=void 0===l?[0,0]:l,h=Object(Fg["a"])(n,2),p=Object(Fg["a"])(h[0],2),d=p[0],v=p[1],m=Object(Fg["a"])(h[1],2),y=m[0],g=m[1];if(Number.isFinite(c)){var b=c;c={top:b,bottom:b,left:b,right:b}}else Object(oS["a"])(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var _=new sS({width:t,height:r,longitude:0,latitude:0,zoom:0}),w=_.project([d,g]),x=_.project([y,v]),O=[Math.max(Math.abs(x[0]-w[0]),o),Math.max(Math.abs(x[1]-w[1]),o)],E=[t-c.left-c.right-2*Math.abs(f[0]),r-c.top-c.bottom-2*Math.abs(f[1])];Object(oS["a"])(E[0]>0&&E[1]>0);var j=E[0]/O[0],S=E[1]/O[1],k=(c.right-c.left)/2/j,T=(c.bottom-c.top)/2/S,P=[(x[0]+w[0])/2+k,(x[1]+w[1])/2+T],A=_.unproject(P),I=_.zoom+Math.log2(Math.abs(Math.min(j,S)));return{longitude:A[0],latitude:A[1],zoom:Math.min(I,s)}}var sS=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.width,o=r.height,a=r.latitude,c=void 0===a?0:a,l=r.longitude,f=void 0===l?0:l,h=r.zoom,p=void 0===h?0:h,d=r.pitch,v=void 0===d?0:d,m=r.bearing,y=void 0===m?0:m,g=r.altitude,b=void 0===g?1.5:g,_=r.nearZMultiplier,w=r.farZMultiplier;Object(i["a"])(this,t),n=n||1,o=o||1;var x=Object(kj["i"])(p);b=Math.max(.75,b);var O=Object(kj["e"])([f,c],x);O[2]=0;var E=Object(kj["c"])({width:n,height:o,pitch:v,bearing:y,altitude:b,nearZMultiplier:_||1/o,farZMultiplier:w||1.01}),j=Object(kj["d"])({height:o,center:O,pitch:v,bearing:y,altitude:b,flipY:!0});return e=Object(s["a"])(this,Object(u["a"])(t).call(this,{width:n,height:o,viewMatrix:j,projectionMatrix:E})),e.latitude=c,e.longitude=f,e.zoom=p,e.pitch=v,e.bearing=y,e.altitude=b,e.scale=x,e.center=O,e.pixelsPerMeter=Object(kj["b"])(Object(Qy["a"])(Object(Qy["a"])(e))).pixelsPerMeter[2],Object.freeze(Object(Qy["a"])(Object(Qy["a"])(e))),e}return Object(a["a"])(t,e),Object(o["a"])(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(kj["e"])(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(kj["g"])(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,r=e.pos,n=Object(kj["f"])(r,this.pixelUnprojectionMatrix),i=Object(kj["e"])(t,this.scale),o=Yu["a"]([],i,Yu["d"]([],n)),a=Yu["a"]([],this.center,o);return Object(kj["g"])(a,this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,r=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:r})}},{key:"fitBounds",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.width,i=this.height,o=aS(Object.assign({width:n,height:i,bounds:e},r)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:n,height:i,longitude:a,latitude:s,zoom:u})}}]),t}(iS),uS=r("+rE/"),cS=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){var n;Object(h["a"])(this,r);var i=e.longitude,o=e.latitude,a=e.modelMatrix,s=e.bearing,u=void 0===s?0:s,l=e.pitch,p=void 0===l?0:l,d=e.up,v=void 0===d?[0,0,1]:d,m=new uS["a"]({bearing:u,pitch:-90===p?1e-4:90+p}),y=m.toVector3().normalize(),g=a?new Vu["a"](a).transformAsVector(y):y,b=Number.isFinite(o)?fc({latitude:o}):0,w=Math.pow(2,b),x=(new Vu["a"]).lookAt({eye:[0,0,0],center:g,up:v}).scale(w);return n=t.call(this,Object(f["a"])(Object(f["a"])({},e),{},{zoom:b,viewMatrix:x})),Object(c["a"])(Object(_["a"])(n),"longitude",void 0),Object(c["a"])(Object(_["a"])(n),"latitude",void 0),n.latitude=o,n.longitude=i,n}return Object(p["a"])(r)}(Bc),lS=20,fS=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(e){Object(h["a"])(this,r);var n=e.width,i=e.height,o=e.position,a=void 0===o?[0,0,0]:o,s=e.bearing,u=void 0===s?0:s,c=e.pitch,l=void 0===c?0:c,f=e.longitude,p=void 0===f?null:f,d=e.latitude,v=void 0===d?null:d,m=e.maxPitch,y=void 0===m?90:m,g=e.minPitch,b=void 0===g?-90:g,_=e.startRotatePos,w=e.startBearing,x=e.startPitch,O=e.startZoomPosition;return t.call(this,{width:n,height:i,position:a,bearing:u,pitch:l,longitude:p,latitude:v,maxPitch:y,minPitch:b},{startRotatePos:_,startBearing:w,startPitch:x,startZoomPosition:O})}return Object(p["a"])(r,[{key:"panStart",value:function(){return this}},{key:"pan",value:function(){return this}},{key:"panEnd",value:function(){return this}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}},{key:"rotate",value:function(e){var t,r=e.pos,n=e.deltaAngleX,i=void 0===n?0:n,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,c=s.startBearing,l=s.startPitch,f=this.getViewportProps(),h=f.width,p=f.height;if(!u||void 0===c||void 0===l)return this;if(r){var d=(r[0]-u[0])/h,v=(r[1]-u[1])/p;t={bearing:c-180*d,pitch:l-90*v}}else t={bearing:c-i,pitch:l-a};return this._getUpdatedState(t)}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}},{key:"zoom",value:function(e){var t=e.scale,r=this.getState(),n=r.startZoomPosition;n||(n=this.getViewportProps().position);var i=this.getDirection();return this._move(i,Math.log2(t)*lS,n)}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null})}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lS,t=this.getDirection(!0);return this._move(t.rotateZ({radians:Math.PI/2}),e)}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lS,t=this.getDirection(!0);return this._move(t.rotateZ({radians:-Math.PI/2}),e)}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lS,t=this.getDirection(!0);return this._move(t,e)}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lS,t=this.getDirection(!0);return this._move(t.negate(),e)}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:e})}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:1/e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),r=Object(f["a"])({},this.getViewportProps()),n=r.bearing,i=r.longitude;return Math.abs(n-t.bearing)>180&&(r.bearing=n<0?n+360:n-360),null!==i&&null!==t.longitude&&Math.abs(i-t.longitude)>180&&(r.longitude=i<0?i+360:i-360),r}},{key:"_move",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getViewportProps().position,n=e.scale(t);return this._getUpdatedState({position:new rn["a"](r).add(n)})}},{key:"getDirection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new uS["a"]({bearing:this.getViewportProps().bearing,pitch:e?90:90+this.getViewportProps().pitch}),r=t.toVector3().normalize();return r}},{key:"_getUpdatedState",value:function(e){return new r(Object(f["a"])(Object(f["a"])(Object(f["a"])({},this.getViewportProps()),this.getState()),e))}},{key:"applyConstraints",value:function(e){var t=e.pitch,r=e.maxPitch,n=e.minPitch,i=e.longitude,o=e.bearing;return e.pitch=Object(Js["a"])(t,n,r),null!==i&&(i<-180||i>180)&&(e.longitude=on(i+180,360)-180),(o<-180||o>180)&&(e.bearing=on(o+180,360)-180),e}}]),r}(vO),hS=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){var e;Object(h["a"])(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(c["a"])(Object(_["a"])(e),"ControllerState",fS),Object(c["a"])(Object(_["a"])(e),"transition",{transitionDuration:300,transitionInterpolator:new uO(["position","pitch","bearing"])}),e}return Object(p["a"])(r)}(dO),pS=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(h["a"])(this,r),t.apply(this,arguments)}return Object(p["a"])(r,[{key:"ViewportType",get:function(){return cS}},{key:"ControllerType",get:function(){return hS}}]),r}(Qx);function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dS(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mS(e,t,r){if(!e)return r;var n=new sS(e),i=[n.width/2+r.x,n.height/2+r.y],o=n.unproject(i),a=new sS(t),s=a.project(o);return{x:r.x+s[0]-i[0],y:r.y+s[1]-i[1],bearing:r.bearing+t.bearing-e.bearing}}function yS(e,t){var r=vS(vS({},e),{},{bearing:e.bearing+t.bearing}),n=new sS(r),i=[e.width/2+t.x,e.height/2+t.y],o=[e.longitude,e.latitude],a=n.getLocationAtPoint({lngLat:o,pos:i}),s=Object(Fg["a"])(a,2),u=s[0],c=s[1];return vS(vS({},r),{},{longitude:u,latitude:c})}function gS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.name,n=e.orthographic,i=e.firstPerson,o=e.mapInteraction,a=vS(vS({},o),{},{keyboard:!1});return i?new pS(vS(vS({},t),{},{id:r,fovy:75,near:1,far:1e4,focalDistance:6,controller:a})):new _O(vS(vS({},t),{},{id:r,orthographic:n,controller:a}))}function bS(e){var t=e.viewState,r=e.trackedPosition,n=e.viewMode,i=e.offset,o=n.name,a=n.firstPerson,s=n.tracked,u=void 0===s?{}:s,c={};if(a){if(r){var l=r.bearing;t=vS(vS(vS({},t),a),{},{longitude:r.longitude,latitude:r.latitude,bearing:l+i.bearing}),t.position=[0,0,r.altitude+1.3]}c[o]=t}else t=vS(vS({},t),{},{transitionDuration:0}),i=vS({},i),u.position&&r?(t.longitude=r.longitude,t.latitude=r.latitude):(i.x=0,i.y=0),u.heading&&r?t.bearing=r.bearing:i.bearing=0,r&&(t.position=[0,0,r.altitude]),c[o]=yS(t,i);return c}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_S(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xS(e,t){if(!e)return t||{};if(!t)return e;var r=wS({},e);for(var n in t)if(r[n]){var i=e[n],o=t[n];r[n]=i.concat(o)}else r[n]=t[n];return r}function OS(e){if(!e)return function(){return!0};if(Array.isArray(e))return function(t){return e.includes(t)};switch(Object(sw["a"])(e)){case"string":return function(t){return t===e};case"function":return e;default:return function(t){return e[t]}}}function ES(e){return e&&Array.isArray(e)?e.find((function(e){return!e.object_id})):e}Object(c["a"])(pS,"displayName","FirstPersonView");var jS=Tu,SS=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),kS=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),TS=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),PS=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),AS={POSITION:{size:3,value:new Float32Array(kS)},NORMAL:{size:3,value:new Float32Array(TS)},TEXCOORD_0:{size:2,value:new Float32Array(PS)}},IS=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){Object(h["a"])(this,r);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,i=void 0===n?kt("cube-geometry"):n;return t.call(this,Object(f["a"])(Object(f["a"])({},e),{},{id:i,indices:{size:1,value:new Uint16Array(SS)},attributes:Object(f["a"])(Object(f["a"])({},AS),e.attributes)}))}return Object(p["a"])(r)}(Up),CS={mesh:new IS,origin:[0,0,.7],color:[128,128,128],scale:[2,1,.7]},RS=[0,0,0],MS=[[0,0,0]],LS=new YO({ambient:new EO({color:[255,255,255],intensity:2}),dir1:new PO({color:[255,255,255],intensity:1,direction:[-1,-3,-1]}),dir2:new PO({color:[255,255,255],intensity:.5,direction:[1,8,-2.5]})});function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DS(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FS(e){var t=zS();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function zS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var BS=function(){},US={car:0,point:1,polygon:2,customDefault:3},VS=function(e){Object(a["a"])(r,e);var t=FS(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"deckRef",tg.a.createRef()),Object(c["a"])(Object(Qy["a"])(n),"_onMapLoad",(function(e){var t=e.target;n.props.onMapLoad(t)})),Object(c["a"])(Object(Qy["a"])(n),"_onDeckLoad",(function(){var e=n.deckRef.current.deck;n.props.onDeckLoad(e)})),Object(c["a"])(Object(Qy["a"])(n),"_onMetrics",(function(e){if(n.props.debug){var t=Object.assign({},e),r=fg.getTable();for(var i in r)t[i]=r[i].count;n.props.debug(t)}fg.reset()})),Object(c["a"])(Object(Qy["a"])(n),"_onViewStateChange",(function(e){var t=e.viewState,r=e.oldViewState,i=mS(r,t,n.props.viewOffset);n.props.onViewStateChange({viewState:t,viewOffset:i})})),Object(c["a"])(Object(Qy["a"])(n),"_onLayerHover",(function(e,t){var r=e&&e.object&&e.object.id;n.isHovering=Boolean(r),n.props.onHover(e,t)})),Object(c["a"])(Object(Qy["a"])(n),"_onLayerClick",(function(e,t){var r=3===t.which;r?n.props.onContextMenu(e,t):n.props.onClick(e,t)})),Object(c["a"])(Object(Qy["a"])(n),"_layerFilter",(function(e){var t=e.layer,r=e.viewport,i=e.isPicking;if("driver"===r.id&&"car"===t.id)return!1;if(i){if(n.props.showTooltip)return!0;if(t.id.startsWith("xviz-")){var o=t.props.data[0];return o&&o.id}}return!0})),Object(c["a"])(Object(Qy["a"])(n),"_getCursor",(function(){return n.isHovering?"pointer":"crosshair"})),n.state={styleParser:n._getStyleParser(e),views:gS(e.viewMode,e.viewOptions)},n.getLayers=jS(n._getLayers.bind(Object(Qy["a"])(n))),n.getViewState=jS(n._getViewState),n}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){if(this.props.viewMode!==e.viewMode){var t=NS(NS(NS({},this.props.viewState),Pj),e.viewMode.initialViewState),r={x:0,y:0,bearing:0};e.onViewStateChange({viewState:t,viewOffset:r}),this.setState({views:gS(e.viewMode,e.viewOptions)})}this.props.metadata===e.metadata&&this.props.xvizStyles===e.xvizStyles||this.setState({styleParser:this._getStyleParser(e)}),this.props.frame!==e.frame&&fg.get("frame-update").incrementCount()}},{key:"_getStyleParser",value:function(e){var t=e.metadata,r=e.xvizStyles;return new Ly["e"](xS(t&&t.styles,r))}},{key:"_getCarLayer",value:function(e){var t=e.frame,r=e.car,n=r.origin,i=void 0===n?RS:n,o=r.mesh,a=r.scale,s=void 0===a?[1,1,1]:a,u=r.wireframe,c=void 0!==u&&u,l=r.texture,f=void 0===l?null:l,h=r.color,p=void 0===h?[0,0,0]:h;return new tS({id:"car",opacity:1,coordinateSystem:O.METER_OFFSETS,coordinateOrigin:t.origin||RS,getTransformMatrix:function(e){return t.vehicleRelativeTransform.clone().translate(i).scale(s)},mesh:o,data:MS,pickable:!0,getPosition:function(e){return e},getColor:p,texture:f,wireframe:c,updateTriggers:{getTransformMatrix:t.vehicleRelativeTransform},zIndex:US.car})}},{key:"_getLayers",value:function(e){var t=e.frame,r=e.streamsMetadata,n=e.objectStates,i=e.customLayers,o=e.customXVIZLayers,a=e.getTransformMatrix,s=e.styleParser;if(!t)return[];var u=t.streams,c=t.lookAheads,l=void 0===c?{}:c,f=OS(e.streamFilter),h=new Set(Object.keys(u).concat(Object.keys(l)).filter(f)),p=[this._getCarLayer(e)];return p=p.concat(Array.from(h).map((function(e){var i=l[e]||u[e],c=Rj(t,e,r[e],a),f=s.getStylesheet(e),h=i.features||i;return h&&h.length?new Yy(NS(NS({id:"xviz-".concat(e)},c),{},{pickable:!0,data:h,style:f,objectStates:n,vehicleRelativeTransform:t.vehicleRelativeTransform,zIndex:US[h[0].type]||0,streamName:e,streamMetadata:r[e],customXVIZLayers:o})):null})).filter(Boolean)),p=p.concat(i.map((function(e){var n=e.props,i={zIndex:"zIndex"in n?n.zIndex:US.customDefault};if(n.streamName){var o=u[n.streamName];Object.assign(i,Rj(t,n.streamName,r[n.streamName],a),{data:o&&o.features})}else{if(!n.coordinate)return e;Object.assign(i,Rj(t,null,n,a))}return e.clone(i)}))),p.sort((function(e,t){return(e.props.zIndex||0)-(t.props.zIndex||0)}))}},{key:"_getViewState",value:function(e){var t=e.viewMode,r=e.frame,n=e.viewState,i=e.viewOffset,o=r?{longitude:r.trackPosition[0],latitude:r.trackPosition[1],altitude:r.trackPosition[2],bearing:90-r.heading}:null;return bS({viewState:n,viewMode:t,trackedPosition:o,offset:i})}},{key:"render",value:function(){var e=this.props,t=e.mapboxApiAccessToken,r=e.frame,n=e.car,i=e.streamsMetadata,o=e.streamFilter,a=e.objectStates,s=e.renderObjectLabel,u=e.customLayers,c=e.getTransformMatrix,l=e.style,f=e.mapStyle,h=e.viewMode,p=e.viewState,d=e.viewOffset,v=e.showMap,m=e.customXVIZLayers,y=this.state,g=y.styleParser,b=y.views,_=this.getLayers({frame:r,car:n,streamsMetadata:i,streamFilter:o,objectStates:a,customLayers:u,getTransformMatrix:c,styleParser:g,customXVIZLayers:m}),w=this.getViewState({viewMode:h,frame:r,viewState:p,viewOffset:d});return tg.a.createElement(dj,{width:"100%",height:"100%",ref:this.deckRef,effects:[LS],views:b,viewState:w,layers:_,layerFilter:this._layerFilter,getCursor:this._getCursor,onLoad:this._onDeckLoad,onHover:this._onLayerHover,onClick:this._onLayerClick,onViewStateChange:this._onViewStateChange,ContextProvider:_b.Provider,_onMetrics:this._onMetrics},v&&tg.a.createElement(Rb,{reuseMap:!0,attributionControl:!1,mapboxApiAccessToken:t,mapStyle:f,visible:r&&r.origin&&!h.firstPerson,onLoad:this._onMapLoad}),tg.a.createElement(Uj,{objectSelection:a.selected,frame:r,streamsMetadata:i,renderObjectLabel:s,xvizStyleParser:g,style:l,getTransformMatrix:c}),this.props.children)}}]),r}(eg["PureComponent"]);function GS(e){var t=qS();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function qS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function HS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WS(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(c["a"])(VS,"propTypes",{frame:ng.a.object,metadata:ng.a.object,streamsMetadata:ng.a.object,showMap:ng.a.bool,showTooltip:ng.a.bool,mapboxApiAccessToken:ng.a.string,mapStyle:ng.a.oneOfType([ng.a.object,ng.a.string]),xvizStyles:ng.a.object,car:ng.a.object,viewMode:ng.a.object,streamFilter:ng.a.oneOfType([ng.a.string,ng.a.array,ng.a.object,ng.a.func]),customLayers:ng.a.array,customXVIZLayers:ng.a.array,renderObjectLabel:ng.a.func,getTransformMatrix:ng.a.func,viewOptions:ng.a.object,onMapLoad:ng.a.func,onDeckLoad:ng.a.func,onHover:ng.a.func,onClick:ng.a.func,onContextMenu:ng.a.func,onViewStateChange:ng.a.func,debug:ng.a.func,viewState:ng.a.object,viewOffset:ng.a.object,objectStates:ng.a.object}),Object(c["a"])(VS,"defaultProps",{car:CS,viewMode:Aj.PERSPECTIVE,xvizStyles:{},customLayers:[],customXVIZLayers:[],onMapLoad:BS,onDeckLoad:BS,onViewStateChange:BS,onHover:BS,onClick:BS,onContextMenu:BS,showMap:!0,showTooltip:!1});var ZS=mj["a"].div((function(e){return HS(HS({},e.theme.__reset__),{},{position:"absolute",pointerEvents:"none",margin:e.theme.spacingNormal,padding:e.theme.spacingNormal,maxWidth:320,overflow:"hidden",background:e.theme.background,color:e.theme.textColorPrimary,zIndex:100001},Object(vj["m"])(e.userStyle,e))})),XS=new Set(["vertices","base","style","state","index","id","object_id"]),$S=function(e){Object(a["a"])(r,e);var t=GS(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_renderContent",(function(t){var r=t.layer.props.streamName;if(!r)return tg.a.createElement("div",null,tg.a.createElement("b",null,t.layer.id));var n=t.object.base&&t.object.base.object_id;return[tg.a.createElement("div",{key:"-stream-"},tg.a.createElement("div",null,tg.a.createElement("b",null,"stream")),r),n?tg.a.createElement("div",{key:"-id-"},tg.a.createElement("div",null,tg.a.createElement("b",null,"id")),n):null,tg.a.createElement("hr",{key:"-separator-"})].concat(e._renderEntries(t.object.base),e._renderEntries(t.object))})),e}return Object(o["a"])(r,[{key:"_renderEntries",value:function(e){return e?Object.keys(e).filter((function(t){return!XS.has(t)&&void 0!==e[t]})).map((function(t){return tg.a.createElement("div",{key:t},tg.a.createElement("div",null,tg.a.createElement("b",null,t)),String(e[t]))})):null}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.info,n=e.style,i=e.renderContent,o=void 0===i?this._renderContent:i;return tg.a.createElement(ZS,{theme:t,style:{left:r.x,top:r.y},userStyle:n},o(r))}}]),r}(eg["PureComponent"]),YS=Object(vj["n"])($S);function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QS(e){var t=ek();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function ek(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var tk=function(){},rk=function(e){return e.preventDefault()},nk=function(e){Object(a["a"])(r,e);var t=QS(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"_onViewStateChange",(function(e){var t=e.viewState,r=e.viewOffset;n.setState({viewState:t,viewOffset:r}),n.props.onViewStateChange({viewState:t,viewOffset:r})})),Object(c["a"])(Object(Qy["a"])(n),"_onHoverObject",(function(e,t){n.props.showTooltip&&e&&e.object?n.setState({hoverInfo:e}):n.state.hoverInfo&&n.setState({hoverInfo:null})})),Object(c["a"])(Object(Qy["a"])(n),"_onClickObject",(function(e,t){n.props.onClick(e,t);var r=e&&e.object&&e.object.id;if(r&&!n.props.onSelectObject(e,t)){var i=n.state.objectStates,o=i.selected&&i.selected[r];i=Sg(i,{stateName:"selected",id:r,value:!o}),n.setState({objectStates:i}),n.props.onObjectStateChange(i)}})),Object(c["a"])(Object(Qy["a"])(n),"_onContextMenu",(function(e,t){n.props.onContextMenu(e,t)})),n.state={viewState:JS(JS({width:1,height:1,longitude:0,latitude:0},Pj),e.viewMode.initialViewState),viewOffset:{x:0,y:0,bearing:0},objectStates:{},hoverInfo:null},n}return Object(o["a"])(r,[{key:"_renderTooltip",value:function(){var e=this.props,t=e.showTooltip,r=e.style,n=e.renderTooltip,i=this.state.hoverInfo;return t&&i&&tg.a.createElement(YS,{info:i,style:r.tooltip,renderContent:n})}},{key:"render",value:function(){var e=this.props.viewState||this.state.viewState,t=this.props.viewOffset||this.state.viewOffset,r=this.props.objectStates||this.state.objectStates;return tg.a.createElement("div",{onContextMenu:rk},tg.a.createElement(VS,Object(Ky["a"])({},this.props,{onViewStateChange:this._onViewStateChange,onClick:this._onClickObject,onHover:this._onHoverObject,onContextMenu:this._onContextMenu,viewState:e,viewOffset:t,objectStates:r}),this._renderTooltip()))}}]),r}(eg["PureComponent"]);Object(c["a"])(nk,"propTypes",JS(JS({},VS.propTypes),{},{renderTooltip:ng.a.func,style:ng.a.object,onSelectObject:ng.a.func,onContextMenu:ng.a.func,onViewStateChange:ng.a.func,onObjectStateChange:ng.a.func,viewState:ng.a.object,viewOffset:ng.a.object,objectStates:ng.a.object})),Object(c["a"])(nk,"defaultProps",JS(JS({},VS.defaultProps),{},{style:{},onViewStateChange:tk,onObjectStateChange:tk,onSelectObject:tk,onContextMenu:tk,getTransformMatrix:function(e,t){return null}}));var ik=function(e){return{frame:e.getCurrentFrame(),metadata:e.getMetadata(),streamsMetadata:e.getStreamsMetadata()}};Og({getLogState:ik,Component:nk});function ok(e){var t=ak();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function ak(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sk(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ck=mj["a"].div((function(e){return uk({display:"flex",alignItems:"center",width:200,">div":{flexGrow:1}},Object(vj["m"])(e.userStyle,e))})),lk=mj["a"].span((function(e){return uk({marginLeft:e.theme.spacingNormal,marginRight:e.theme.spacingNormal},Object(vj["m"])(e.userStyle,e))})),fk=function(e){return uk({position:"absolute",boxSizing:"content-box",borderStyle:"solid",marginTop:6,marginLeft:-6,borderWidth:6,borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"#888",borderBottomStyle:"none",transitionProperty:"left",transitionDuration:e.isPlaying?"0s":e.theme.transitionDuration},Object(vj["m"])(e.userStyle,e))},hk=function(e){Object(a["a"])(r,e);var t=ok(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"_renderLookAheadSlider",value:function(){var e=this.props,t=e.theme,r=e.style,n=e.isPlaying,i=e.lookAhead,o=e.formatLookAhead,a=e.maxLookAhead,s=e.step;return tg.a.createElement(ck,{theme:t,isPlaying:n,userStyle:r.lookAhead},tg.a.createElement(lk,{theme:t,isPlaying:n,userStyle:r.lookAheadTimestamp},"Look ahead: ",o(i)),tg.a.createElement(vj["h"],{style:r.lookAheadSlider,value:i,min:0,max:a,step:s,size:16,onChange:this.props.onLookAheadChange}))}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.isPlaying,n=e.markers,i=e.style,o=e.children,a=e.currentTime,s=e.lookAhead,u=e.endTime,c=Math.min(u,a+s),l=n.concat({time:c,style:fk({theme:t,isPlaying:r,userStyle:i.lookAheadMarker})});return tg.a.createElement(vj["g"],Object(Ky["a"])({},this.props,{markers:l}),o,tg.a.createElement("div",{style:{flexGrow:1}}),this._renderLookAheadSlider())}}]),r}(eg["PureComponent"]);Object(c["a"])(hk,"propTypes",uk(uk({},vj["g"].propTypes),{},{lookAhead:ng.a.number,maxLookAhead:ng.a.number,formatLookAhead:ng.a.func,onLookAheadChange:ng.a.func})),Object(c["a"])(hk,"defaultProps",uk(uk({},vj["g"].defaultProps),{},{step:0,markers:[],lookAhead:0,maxLookAhead:10,formatTick:null,formatTimestamp:null,formatLookAhead:function(e){return vj["g"].formatTimeCode(e,"{ss}.{S}")},onLookAheadChange:function(){}}));var pk=Object(vj["n"])(hk);pk.formatTimeCode=vj["g"].formatTimeCode;var dk=pk,vk=["startTime","endTime","timestamp","lookAhead","buffered"];function mk(e){var t=yk();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function yk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var gk={seconds:.001,milliseconds:1},bk=function(e){Object(a["a"])(r,e);var t=mk(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"state",{isPlaying:!1,timeScale:gk[Object(Ly["f"])().TIMESTAMP_FORMAT]||1}),Object(c["a"])(Object(Qy["a"])(e),"_animationFrame",null),Object(c["a"])(Object(Qy["a"])(e),"_lastAnimationUpdate",-1),Object(c["a"])(Object(Qy["a"])(e),"_onPlay",(function(){e.props.onPlay(),e.setState({isPlaying:!0})})),Object(c["a"])(Object(Qy["a"])(e),"_onPause",(function(){e.props.onPause(),e.setState({isPlaying:!1})})),Object(c["a"])(Object(Qy["a"])(e),"_onSeek",(function(t){e._onTimeChange(t),e.state.isPlaying&&e._onPause()})),Object(c["a"])(Object(Qy["a"])(e),"_onTimeChange",(function(t){var r=e.props,n=r.log,i=r.onSeek;!i(t)&&n&&n.seek(t)})),Object(c["a"])(Object(Qy["a"])(e),"_onLookAheadChange",(function(t){var r=e.props,n=r.log,i=r.onLookAheadChange;!i(t)&&n&&n.setLookAhead(t)})),Object(c["a"])(Object(Qy["a"])(e),"_animate",(function(){if(e.state.isPlaying){var t=Date.now(),r=e.props,n=r.startTime,i=r.endTime,o=r.buffered,a=r.timestamp,s=e.state.timeScale,u=e._lastAnimationUpdate,c=Object(Ly["f"])(),l=c.PLAYBACK_FRAME_RATE,f=c.TIME_WINDOW,h=u>0?t-u:0;h=Math.min(h,1e3/l);var p=a+h*s;p>i&&(p=n),o.some((function(e){return p>=e[0]&&p<=e[1]+f}))&&e._onTimeChange(p),e._lastAnimationUpdate=t,e._animationFrame=window.requestAnimationFrame(e._animate)}})),Object(c["a"])(Object(Qy["a"])(e),"_formatTime",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.props.startTime,i=e.state.timeScale;if(r)return r(t,n);var o=(t-n)/i/1e3;return dk.formatTimeCode(o,"{mm}:{ss}")})),Object(c["a"])(Object(Qy["a"])(e),"_formatTick",(function(t){return e._formatTime(t,e.props.formatTick)})),Object(c["a"])(Object(Qy["a"])(e),"_formatTimestamp",(function(t){return e._formatTime(t,e.props.formatTimestamp)})),Object(c["a"])(Object(Qy["a"])(e),"_formatLookAhead",(function(t){var r=e.props.formatLookAhead,n=e.state.timeScale;if(r)return r(t);var i=t/n/1e3;return dk.formatTimeCode(i,"{s}.{S}s")})),e}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){"isPlaying"in e&&this.setState({isPlaying:Boolean(e.isPlaying)})}},{key:"componentDidUpdate",value:function(e,t){var r=this.state.isPlaying;r&&t.isPlaying!==r&&(this._lastAnimationUpdate=Date.now(),this._animationFrame=window.requestAnimationFrame(this._animate))}},{key:"componentWillUnmount",value:function(){this._animationFrame&&window.cancelAnimationFrame(this._animationFrame)}},{key:"render",value:function(){var e=this.props,t=e.startTime,r=e.endTime,n=e.timestamp,i=e.lookAhead,o=e.buffered,a=Object(Jy["a"])(e,vk);if(!Number.isFinite(n)||!Number.isFinite(t))return null;var s=o.map((function(e){return{startTime:Math.max(e[0],t),endTime:Math.min(e[1],r)}}));return tg.a.createElement(dk,Object(Ky["a"])({},a,{bufferRange:s,currentTime:n,lookAhead:i,startTime:t,endTime:r,isPlaying:this.state.isPlaying,formatTick:this._formatTick,formatTimestamp:this._formatTimestamp,formatLookAhead:this._formatLookAhead,onSeek:this._onSeek,onPlay:this._onPlay,onPause:this._onPause,onLookAheadChange:this._onLookAheadChange}))}}]),r}(eg["PureComponent"]);Object(c["a"])(bk,"propTypes",{timestamp:ng.a.number,lookAhead:ng.a.number,startTime:ng.a.number,endTime:ng.a.number,buffered:ng.a.array,isPlaying:ng.a.bool,width:ng.a.oneOfType([ng.a.string,ng.a.number]),style:ng.a.object,compact:ng.a.bool,className:ng.a.string,step:ng.a.number,padding:ng.a.oneOfType([ng.a.number,ng.a.object]),tickSpacing:ng.a.number,markers:ng.a.arrayOf(ng.a.object),formatTick:ng.a.func,formatTimestamp:ng.a.func,maxLookAhead:ng.a.number,formatLookAhead:ng.a.func,onPlay:ng.a.func,onPause:ng.a.func,onSeek:ng.a.func,onLookAheadChange:ng.a.func}),Object(c["a"])(bk,"defaultProps",dk.defaultProps);var _k=function(e){return{timestamp:e.getCurrentTime(),lookAhead:e.getLookAhead(),startTime:e.getLogStartTime(),endTime:e.getLogEndTime(),buffered:e.getBufferedTimeRanges()}};Og({getLogState:_k,Component:bk});function wk(e){var t=xk();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function xk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ok(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jk=mj["a"].div((function(e){return Ek({"&:before":{content:'"'.concat(e.type||"",'"')}},Object(vj["m"])(e.userStyle,e))}));function Sk(e){var t=e.indexOf("/",1);return t>1?e.slice(0,t):""}function kk(e,t){var r=null;for(var n in e){var i=t[n];if(null===r)r=i;else if(r!==i)return vj["b"].INDETERMINATE}return r}function Tk(e,t){if(!e)return null;var r={},n=t.style,i=void 0===n?{}:n,o=t.collapsible,a=void 0!==o&&o;for(var s in e){var u=Sk(s),c=r;u&&(r[u]=r[u]||{type:"checkbox",children:{},collapsible:a,badge:tg.a.createElement(jk,{userStyle:i.badge,type:e[s]&&e[s].primitive_type||e[s].scalar_type})},c=r[u].children),c[s]||(c[s]={type:"checkbox",title:s.replace(u,""),badge:tg.a.createElement(jk,{userStyle:i.badge,type:e[s].primitive_type||e[s].scalar_type})})}return r}function Pk(e,t){if(!e||!t)return null;var r={};for(var n in e){var i=e[n].children;if(i){for(var o in i)r[o]=t[o]?vj["b"].ON:vj["b"].OFF;r[n]=kk(i,r)}else r[n]=t[n]?vj["b"].ON:vj["b"].OFF}return r}function Ak(e,t,r){var n=Ek(Ek({},t),r);for(var i in r)if(e[i]&&e[i].children)for(var o in e[i].children)n[o]=r[i];else{var a=Sk(i);a&&(n[a]=kk(e[a].children,n))}return n}function Ik(e,t){var r={};for(var n in e)r[n]=t[n]===vj["b"].ON;return r}var Ck=function(e){Object(a["a"])(r,e);var t=wk(r);function r(e){var n;Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"_onValuesChange",(function(e){var t=n.props,r=t.streamsMetadata,i=t.log,o=t.onSettingsChange,a=n.state.data,s=Ak(a,n.state.values,e),u=Ik(r,s);!o(u)&&i&&i.updateStreamSettings(u)}));var o=Tk(e.streamsMetadata,e),a=Pk(o,e.streamSettings);return n.state={data:o,values:a},n}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,r=t.data,n=t.values;e.streamsMetadata!==this.props.streamsMetadata&&(r=Tk(e.streamsMetadata,e),n=null),e.streamSettings!==this.props.streamSettings&&(n=Pk(r,e.streamSettings)),this.setState({data:r,values:n})}},{key:"render",value:function(){var e=this.props.style,t=this.state,r=t.data,n=t.values;return r&&n?tg.a.createElement(vj["d"],{style:e,data:r,values:n,onChange:this._onValuesChange}):null}}]),r}(eg["PureComponent"]);Object(c["a"])(Ck,"propTypes",{style:ng.a.object,streamsMetadata:ng.a.object,onSettingsChange:ng.a.func}),Object(c["a"])(Ck,"defaultProps",{style:{},onSettingsChange:function(){}});var Rk=function(e){return{streamsMetadata:e.getStreamsMetadata(),streamSettings:e.getStreamSettings()}};Og({getLogState:Rk,Component:Ck});function Mk(e){var t=Lk();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Lk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Dk=function(e){Object(a["a"])(r,e);var t=Mk(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"render",value:function(){var e=this.props.layout,t={display:"flex",width:"100%"},r={};switch(e.toUpperCase()){case"VERTICAL":t.flexDirection="column",r.flex="0 0 auto";break;case"HORIZONTAL":t.flexDirection="row",r.flex="1 1 auto";break;default:return null}return tg.a.createElement("div",{className:"xviz-container",style:t},tg.a.Children.map(this.props.children,(function(e){return tg.a.createElement("div",{style:r},e)})))}}]),r}(eg["PureComponent"]);Object(c["a"])(Dk,"propTypes",{layout:ng.a.string}),Object(c["a"])(Dk,"defaultProps",{layout:"VERTICAL"});var Nk=r("4jaM"),Fk=Object(Nk["scaleOrdinal"])(["#12939A","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A"]);function zk(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Bk(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function Bk(e,t){if(e){if("string"===typeof e)return Uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uk(e,t):void 0}}function Uk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vk=function(e){return e.time};function Gk(e,t,r,n){if(!t.nograph){var i=t.valueMap,o=t.scale||1,a=i?function(e){return i[e.variable]}:function(e){return e.variable*o},s=r.find(ES),u=ES(s);u&&Number.isFinite(a(u))&&(n.isLoading=!1,n.getX=Vk,n.getY=a,n.unit=t.unit||"",n.data[e]=r.filter(ES).map(ES))}}function qk(e){var t,r=e.streamsMetadata,n=void 0===r?{}:r,i=e.streamNames,o=e.streams,a={isLoading:!0,data:{},missingStreams:[]},s=zk(i);try{for(s.s();!(t=s.n()).done;){var u=t.value,c=n&&n[u]||{},l=o[u];l&&Gk(u,c,l,a)}}catch(f){s.e(f)}finally{s.f()}return a.missingStreams=i.filter((function(e){return!a.data[e]})),a}function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wk(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zk=mj["a"].div((function(e){return Hk(Hk({},e.theme.__reset__),{},{color:e.theme.warning400,padding:e.theme.spacingNormal,overflow:"hidden"},Object(vj["m"])(e.userStyle,e))})),Xk=function(e){var t=e.missingData,r=e.theme,n=e.style,i=t.join(", ");return tg.a.createElement(Zk,{theme:r,userStyle:n.missingData},tg.a.createElement(vj["k"],{style:e.style.tooltip,content:i},"Missing Data: ",i))},$k=Object(vj["n"])(Xk);function Yk(e){var t=Kk();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Kk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Jk=function(e){return Number.isFinite(e)?e.toFixed(3):String(e)},Qk=function(e){Object(a["a"])(r,e);var t=Yk(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"_onClick",(function(e){var t=n.props,r=t.onClick,i=t.log;r?r(e):i&&i.seek(e)})),n.state={timeSeries:n._getTimeSeries(e)},n}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){this.props.streams===e.streams&&this.props.streamsMetadata===e.streamsMetadata&&this.props.logStreams===e.logStreams||this.setState({timeSeries:this._getTimeSeries(e)})}},{key:"_getTimeSeries",value:function(e){return qk({streamNames:e.streams,streamsMetadata:e.streamsMetadata,streams:e.logStreams})}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.description,n=e.startTime,i=e.endTime,o=e.currentTime,a=e.width,s=e.height,u=e.style,c=e.xTicks,l=e.yTicks,f=e.formatXTick,h=e.formatYTick,p=e.formatValue,d=e.horizontalGridLines,v=e.verticalGridLines,m=e.getColor,y=null==o,g=Number.isFinite(n)?[n,i]:null,b=this.state.timeSeries.missingStreams;return tg.a.createElement(vj["e"],{title:t,description:r,isLoading:!1,style:u},tg.a.createElement(tg.a.Fragment,null,b.length>0&&tg.a.createElement($k,{style:u,missingData:b}),y?tg.a.createElement(vj["i"],null):tg.a.createElement(vj["f"],Object(Ky["a"])({},this.state.timeSeries,{getColor:m,highlightX:o,width:a,height:s,style:u,xTicks:c,yTicks:l,formatXTick:f,formatYTick:h,formatValue:p,xDomain:g,onClick:this._onClick,horizontalGridLines:d,verticalGridLines:v}))))}}]),r}(eg["PureComponent"]);Object(c["a"])(Qk,"propTypes",{style:ng.a.object,width:ng.a.oneOfType([ng.a.string,ng.a.number]),height:ng.a.oneOfType([ng.a.string,ng.a.number]),getColor:ng.a.oneOfType([ng.a.func,ng.a.string,ng.a.object]),xTicks:ng.a.number,yTicks:ng.a.number,formatXTick:ng.a.func,formatYTick:ng.a.func,formatValue:ng.a.func,horizontalGridLines:ng.a.number,verticalGridLines:ng.a.number,onClick:ng.a.func,streams:ng.a.arrayOf(ng.a.string).isRequired,title:ng.a.string,description:ng.a.string,currentTime:ng.a.number,streamsMetadata:ng.a.object,logStreams:ng.a.objectOf(ng.a.array),startTime:ng.a.number,endTime:ng.a.number}),Object(c["a"])(Qk,"defaultProps",{timeSeries:{},width:"100%",height:160,style:{margin:{left:45,right:10,top:10,bottom:20}},xTicks:0,yTicks:3,formatValue:Jk,horizontalGridLines:3,verticalGridLines:0,getColor:Fk});var eT=function(e){return{currentTime:e.getCurrentTime(),streamsMetadata:e.getStreamsMetadata(),logStreams:e.getStreams(),startTime:e.getBufferStartTime(),endTime:e.getBufferEndTime()}},tT=Og({getLogState:eT,Component:Qk});function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iT(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=oT(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function oT(e,t){if(e){if("string"===typeof e)return aT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aT(e,t):void 0}}function aT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sT(e){var t=uT();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function uT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var cT=function(e){return e[0]},lT=function(e){return e[1]},fT={isLoading:!0},hT=function(e){Object(a["a"])(r,e);var t=sT(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"state",{independentVariable:null,dependentVariables:{},missingStreams:e.props.dependentVariables}),Object(c["a"])(Object(Qy["a"])(e),"_onClick",(function(t){var r=e.props,n=r.onClick;r.log;n&&n(t)})),Object(c["a"])(Object(Qy["a"])(e),"_formatTitle",(function(e){return e})),e}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){if(e.variables){var t=e.variables[e.independentVariable],r=!1,n=!1,i={};t!==this.state.independentVariable&&(r=!0);var o,a=iT(e.dependentVariables);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=e.variables[s];!r&&this.props.variables&&this.props.variables[s]===u||(i[s]=this._formatDependentVariable(t,u),n=!0)}}catch(c){a.e(c)}finally{a.f()}(r||n)&&this.setState({independentVariable:t,dependentVariables:nT(nT({},this.state.dependentVariables),i),missingStreams:Object.keys(i).filter((function(e){return!i[e]}))})}else this.setState({independentVariable:null})}},{key:"_formatDependentVariable",value:function(e,t){if(!t||!e||0===e.length)return null;var r=e[0].values;return t.map((function(e){var t=e.id,n=e.values,i=new Array(n.length);return n.forEach((function(e,t){return i[t]=[r[t],e]})),{id:t,values:i}}))}},{key:"_extractDataProps",value:function(){var e=this.state,t=e.independentVariable,r=e.dependentVariables;if(!t)return fT;var n=t[0].values,i={},o=function(e){var t=r[e];t&&t.forEach((function(t,r){var n=t.id,o=t.values;i["".concat(e,"-").concat(n||r)]=o}))};for(var a in r)o(a);return{getX:cT,getY:lT,xDomain:[n[0],n[n.length-1]],data:i}}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.description,n=e.width,i=e.height,o=e.style,a=e.xTicks,s=e.yTicks,u=e.formatXTick,c=e.formatYTick,l=e.horizontalGridLines,f=e.verticalGridLines,h=e.getColor,p=this._extractDataProps(),d=this.state.missingStreams;return tg.a.createElement(vj["e"],{title:t,description:r,style:o,isLoading:!1},tg.a.createElement(tg.a.Fragment,null,d.length>0&&tg.a.createElement($k,{style:o,missingData:d}),p.isLoading?tg.a.createElement(vj["i"],null):tg.a.createElement(vj["f"],Object(Ky["a"])({},p,{getColor:h,highlightX:0,width:n,height:i,style:o,xTicks:a,yTicks:s,formatXTick:u,formatYTick:c,onClick:this._onClick,formatTitle:this._formatTitle,horizontalGridLines:l,verticalGridLines:f}))))}}]),r}(eg["PureComponent"]);Object(c["a"])(hT,"propTypes",{width:ng.a.oneOfType([ng.a.string,ng.a.number]),height:ng.a.oneOfType([ng.a.string,ng.a.number]),style:ng.a.object,getColor:ng.a.oneOfType([ng.a.func,ng.a.object]),xTicks:ng.a.number,yTicks:ng.a.number,formatXTick:ng.a.func,formatYTick:ng.a.func,horizontalGridLines:ng.a.number,verticalGridLines:ng.a.number,onClick:ng.a.func,title:ng.a.string,description:ng.a.string,independentVariable:ng.a.string,dependentVariables:ng.a.arrayOf(ng.a.string),streamsMetadata:ng.a.object,variables:ng.a.object}),Object(c["a"])(hT,"defaultProps",{streamsMetadata:{},variables:{},width:"100%",height:300,style:{margin:{left:45,right:10,top:10,bottom:32}},xTicks:0,yTicks:5,horizontalGridLines:5,verticalGridLines:0,getColor:Fk});var pT=function(e){var t=e.getCurrentFrame();return{streamsMetadata:e.getStreamsMetadata(),variables:t&&t.variables}},dT=Og({getLogState:pT,Component:hT});function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vT(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yT(e){var t=gT();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function gT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var bT=function(e){Object(a["a"])(r,e);var t=yT(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),n.state=mT({},n._formatData(e)),n}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){e.columns===this.props.columns&&e.nodes===this.props.nodes||this.setState(this._formatData(e))}},{key:"_formatData",value:function(e){var t=e.columns,r=e.nodes;e.displayObjectId;if(!t||!r)return{columns:null};t=t.map((function(e){return{name:e.display_text,type:e.type}}));var n={},i=[];return r.forEach((function(e){var t={data:e.column_values||[],children:[]};if(n[e.id]=t,e.hasOwnProperty("parent")&&void 0!==e.parent){var r=n[e.parent];r&&r.children.push(t)}else i.push(t)})),{columns:t,rows:i}}},{key:"render",value:function(){var e=this.state,t=e.columns,r=e.rows;if(!t)return null;var n=this.props,i=n.title,o=n.description,a=n.width,s=n.height,u=n.style,c=n.renderHeader,l=n.renderCell,f=n.indentSize,h=n.type,p="table"===h?vj["j"]:vj["l"];return tg.a.createElement("div",{style:{width:a,height:s}},tg.a.createElement(vj["k"],{content:o},tg.a.createElement("h4",null,i)),tg.a.createElement(p,{width:"100%",height:"100%",style:u,renderHeader:c,renderCell:l,indentSize:f,columns:t,rows:r}))}}]),r}(eg["PureComponent"]);Object(c["a"])(bT,"propTypes",{width:ng.a.oneOfType([ng.a.string,ng.a.number]),height:ng.a.oneOfType([ng.a.string,ng.a.number]),style:ng.a.object,renderHeader:ng.a.func,renderCell:ng.a.func,indentSize:ng.a.number,stream:ng.a.string,title:ng.a.string,description:ng.a.string,displayObjectId:ng.a.bool,columns:ng.a.array,nodes:ng.a.array}),Object(c["a"])(bT,"defaultProps",{width:"100%",height:400,style:{},indentSize:12,renderHeader:function(e){var t=e.column;return t.name},renderCell:function(e){var t=e.value;return null===t?null:String(t)}});var _T=function(e,t){var r=e.getCurrentFrame(),n=r&&r.streams[t.stream];return n&&n.treetable},wT=Og({getLogState:_T,Component:bT});function xT(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=OT(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function OT(e,t){if(e){if("string"===typeof e)return ET(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ET(e,t):void 0}}function ET(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jT(e){var t=new Blob([e.imageData],{type:e.imageType});return"undefined"!==typeof createImageBitmap?createImageBitmap(t):new Promise((function(e,r){try{var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src=URL.createObjectURL(t)}catch(i){r(i)}}))}function ST(e){e.close&&e.close()}var kT=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.imageLoader,o=void 0===n?jT:n,a=r.imageDeleter,s=void 0===a?ST:a;Object(i["a"])(this,e),this.size=t,this.imageLoader=o,this.imageDeleter=s,this.buffer=new Map}return Object(o["a"])(e,[{key:"get",value:function(e){return this.buffer.get(e)}},{key:"set",value:function(e,t){var r,n=this,i=this.buffer,o=this._getCurrentFrames(e,t),a=o.currentFrame,s=o.bufferedFrames,u=xT(i.keys());try{for(u.s();!(r=u.n()).done;){var c=r.value;(0===s.length||c.time<s[0].time||c.time>s[s.length-1].time)&&(this.imageDeleter(i.get(c)),i["delete"](c))}}catch(l){u.e(l)}finally{u.f()}return s.forEach((function(e){if(!i.has(e)){var t={};t.promise=n.imageLoader(e.images[0]).then((function(e){return t.image=e,e})),i.set(e,t)}})),a}},{key:"_getCurrentFrames",value:function(e,t){var r=null,n=-1,i=Object(Ly["f"])().TIME_WINDOW;e.forEach((function(e,o){var a=t-e.time;a>=0&&a<i&&(i=a,r=e,n=o)}));var o=n>=0?e.slice(Math.max(0,n-this.size),n+this.size):[];return{currentFrame:r,bufferedFrames:o}}}]),e}();function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function PT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TT(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AT(e){var t=IT();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function IT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var CT=function(e){Object(a["a"])(r,e);var t=AT(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"_onCanvasLoad",(function(e){n._canvas=e,e&&(n._context=e.getContext("2d"))})),Object(c["a"])(Object(Qy["a"])(n),"_onCanvasResize",(function(e){var t=e.width,r=e.height;n.setState({width:t,height:r})})),Object(c["a"])(Object(Qy["a"])(n),"_getVideoFilterCSS",(function(){var e=n.props,t=e.brightness,r=e.contrast,i=e.saturate,o=e.invert,a="      ".concat(Number.isFinite(t)?"brightness(".concat(t,") "):"","      ").concat(Number.isFinite(i)?"saturate(".concat(i,") "):"","      ").concat(Number.isFinite(r)?"contrast(".concat(r,") "):"","      ").concat(Number.isFinite(o)?"invert(".concat(o,") "):"");return a})),Object(c["a"])(Object(Qy["a"])(n),"_renderFrame",(function(){if(n._context){var e=n.state.width,t=n.state.height;if(e){n._context.filter=n._getVideoFilterCSS();var r=n.state.currentFrameImage;r?("auto"===n.props.height&&(t=e/r.width*r.height),n._canvas.width=e,n._canvas.height=t,n._context.drawImage(r,0,0,e,t)):n._context.clearRect(0,0,e,t)}}})),n._buffer=new kT(10),n.state=PT({width:0,height:0},n._getCurrentFrames(e)),n._canvas=null,n._context=null,n}return Object(o["a"])(r,[{key:"componentDidMount",value:function(){this._renderFrame()}},{key:"componentWillReceiveProps",value:function(e){this.setState(PT({},this._getCurrentFrames(e)))}},{key:"componentDidUpdate",value:function(e,t){(this.state.currentFrameImage!==t.currentFrameImage&&!this.state.currentFrameImagePending||this.state.width!==t.width||this.state.height!==t.height)&&this._renderFrame()}},{key:"_getCurrentFrames",value:function(e){var t=this,r=e.currentTime,n=e.src,i=this._buffer.set(n,r),o=this._buffer.get(i);return o&&!o.image&&o.promise.then((function(e){t.state.currentFrame===i&&t.setState({currentFrameImagePending:!1,currentFrameImage:e})})),{currentFrameImage:o&&o.image,currentFrameImagePending:o&&!o.image&&!0,currentFrame:i}}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,n={position:"relative",background:"#000",lineHeight:0,width:t,height:r};return tg.a.createElement("div",{style:n},tg.a.createElement(vj["a"],{onResize:this._onCanvasResize}),tg.a.createElement("canvas",{ref:this._onCanvasLoad}))}}]),r}(eg["PureComponent"]);function RT(e){var t=MT();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function MT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(c["a"])(CT,"propTypes",{width:ng.a.oneOfType([ng.a.number,ng.a.string]),height:ng.a.oneOfType([ng.a.number,ng.a.string]),src:ng.a.array,brightness:ng.a.number,contrast:ng.a.number,saturate:ng.a.number,invert:ng.a.number,currentTime:ng.a.number.isRequired}),Object(c["a"])(CT,"defaultProps",{width:"100%",height:"auto",src:[]});var NT=mj["a"].span((function(e){return DT(DT({},e.theme.__reset__),{},{position:"relative"},Object(vj["m"])(e.userStyle,e))})),FT=function(e){Object(a["a"])(r,e);var t=RT(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),Object(c["a"])(Object(Qy["a"])(n),"_onSelectVideo",(function(e){n.setState({selectedStreamName:e})})),n.state=DT({},n._getStreamNames(e)),n}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){this.props.streamsMetadata===e.streamsMetadata&&this.props.cameras===e.cameras||this.setState(this._getStreamNames(e))}},{key:"_getStreamNames",value:function(e){var t=e.streamsMetadata,r=e.cameras,n=Object.keys(t).filter((function(e){var r=t[e]&&t[e].primitive_type;return"IMAGE"===r||"image"===r})).filter(OS(r)).sort(),i=this.state||{},o=i.selectedStreamName;return n.includes(o)||(o=n[0]||null),{selectedStreamName:o,streamNames:n}}},{key:"_renderVideoSelector",value:function(){var e=this.props.style,t=this.state,r=t.streamNames,n=t.selectedStreamName;if(r.length<=1)return null;var i={};return r.forEach((function(e){i[e]=e})),tg.a.createElement(vj["c"],{style:e.selector,value:n,data:i,onChange:this._onSelectVideo})}},{key:"render",value:function(){var e=this.props,t=e.currentTime,r=e.streams,n=e.width,i=e.height,o=e.style,a=e.theme,s=this.state.selectedStreamName;if(!r||!t||!s)return null;var u=r[s];return u&&(u=u.filter(Boolean)),tg.a.createElement(NT,{theme:a,userStyle:o.wrapper},tg.a.createElement(CT,{width:n,height:i,src:u,currentTime:t}),this._renderVideoSelector())}}]),r}(eg["PureComponent"]);Object(c["a"])(FT,"propTypes",{style:ng.a.object,width:ng.a.oneOfType([ng.a.number,ng.a.string]),height:ng.a.oneOfType([ng.a.number,ng.a.string]),cameras:ng.a.oneOfType([ng.a.string,ng.a.array,ng.a.object,ng.a.func]),currentTime:ng.a.number,streamsMetadata:ng.a.object,streams:ng.a.object}),Object(c["a"])(FT,"defaultProps",{style:{},width:"100%",height:"auto"});var zT=function(e){return{currentTime:e.getCurrentTime(),streamsMetadata:e.getStreamsMetadata(),streams:e.getStreams()}},BT=Object(vj["n"])(FT),UT=Og({getLogState:zT,Component:BT});function VT(e){var t=GT();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function GT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var qT={container:Dk,metric:tT,plot:dT,video:UT,table:wT,treetable:wT},WT=function(e){Object(a["a"])(r,e);var t=VT(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_renderItem",(function(t,r){var n=e.props,i=n.components,o=n.componentProps,a=n.log,s=n.style,u=t.type.toLowerCase(),c=i[u]||qT[u],l=o[u];return c?tg.a.createElement(c,Object(Ky["a"])({key:r},l,t,{log:a,style:s[t.type]}),t.children&&t.children.map(e._renderItem)):null})),e}return Object(o["a"])(r,[{key:"render",value:function(){var e=this.props.uiConfig;return e?tg.a.createElement("div",null,e.children&&e.children.map(this._renderItem)):null}}]),r}(eg["PureComponent"]);Object(c["a"])(WT,"propTypes",{name:ng.a.string.isRequired,components:ng.a.object,componentProps:ng.a.object,style:ng.a.object,uiConfig:ng.a.object}),Object(c["a"])(WT,"defaultProps",{style:{},components:{},componentProps:{}});var HT=function(e,t){var r=e.getMetadata(),n=r&&r.ui_config&&r.ui_config[t.name];return{uiConfig:n&&n.config||n}};Og({getLogState:HT,Component:WT});function ZT(e){var t=XT();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function XT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$T(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var KT=mj["a"].div((function(e){return YT(YT({},e.theme.__reset__),{},{padding:e.theme.spacingSmall,display:"inline-block"},Object(vj["m"])(e.userStyle,e))})),JT=function(e){Object(a["a"])(r,e);var t=ZT(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),n.state={streams:n._extractStreams(e)},n}return Object(o["a"])(r,[{key:"componentWillReceiveProps",value:function(e){e.streamNames===this.props.streamNames&&e.streamsMetadata===this.props.streamsMetadata&&e.frame===this.props.frame||this.setState({streams:this._extractStreams(e)})}},{key:"_extractStreams",value:function(e){var t=e.streamNames,r=e.streamsMetadata,n=e.frame,i={};for(var o in t){var a=t[o];a&&(i[o]=YT(YT({},r[a]),{},{data:n&&ES(n.streams[a])}))}return i}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=e.children,i=this.state.streams;return tg.a.createElement(KT,{theme:t,userStyle:r.wrapper},n({theme:t,streams:i}))}}]),r}(eg["PureComponent"]);Object(c["a"])(JT,"propTypes",{style:ng.a.object,streamNames:ng.a.object.isRequired,children:ng.a.func.isRequired,streamsMetadata:ng.a.object,frame:ng.a.object}),Object(c["a"])(JT,"defaultProps",{style:{}});var QT=function(e){return{streamsMetadata:e.getStreamsMetadata(),frame:e.getCurrentFrame()}},eP=Og({getLogState:QT,Component:Object(vj["n"])(JT)});function tP(e){var t=rP();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function rP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oP=mj["a"].path((function(e){return iP({stroke:e.theme.controlColorDisabled,strokeCap:"round"},Object(vj["m"])(e.userStyle,e))})),aP=mj["a"].circle((function(e){return iP({fill:e.theme.textColorPrimary},Object(vj["m"])(e.userStyle,e))})),sP=mj["a"].path((function(e){return iP({fill:e.theme.controlColorActive},Object(vj["m"])(e.userStyle,e))})),uP=mj["a"].line((function(e){return iP({stroke:e.theme.textColorPrimary,strokeCap:"round",strokeWidth:2},Object(vj["m"])(e.userStyle,e))})),cP=mj["a"].div((function(e){return iP({textAlign:"right",flex:1,padding:e.theme.spacingTiny,borderRightStyle:"solid",borderRightWidth:1,borderRightColor:e.theme.controlColorDisabled,color:e.warning?e.theme.textColorWarning:e.theme.textColorPrimary,fontSize:2*e.theme.fontSize,lineHeight:"1em"},Object(vj["m"])(e.userStyle,e))})),lP=mj["a"].div((function(e){return iP({textAlign:e.isOnlyValue?"center":"left",flex:1,padding:e.theme.spacingTiny,fontSize:2*e.theme.fontSize,color:e.warning?e.theme.textColorWarning:e.theme.textColorPrimary,lineHeight:"1em"},Object(vj["m"])(e.userStyle,e))})),fP=mj["a"].div((function(e){return iP({fontSize:e.theme.fontSize,color:e.theme.textColorSecondary,lineHeight:"1em"},Object(vj["m"])(e.userStyle,e))})),hP=mj["a"].div((function(e){return iP({textAlign:"center",fontSize:.9*e.theme.fontSize,color:e.theme.textColorSecondary},Object(vj["m"])(e.userStyle,e))})),pP=mj["a"].span((function(e){return iP({position:"absolute",marginLeft:e.theme.spacingTiny,fontSize:.9*e.theme.fontSize,lineHeight:"1em",padding:e.theme.spacingTiny,borderRadius:2,background:e.theme.warning400,color:e.theme.textColorInvert},Object(vj["m"])(e.userStyle,e))}));function dP(e,t,r){return"translate(".concat(e," ").concat(t,") rotate(").concat(r,") translate(").concat(-e," ").concat(-t,")")}function vP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2?arguments[2]:void 0;if(!Number.isFinite(e))return"";e=r(e);var n=e?Math.max(1,Math.floor(Math.log10(Math.abs(e))+1)):1;return"".concat(e.toFixed(Math.max(0,t-n)))}var mP=function(e){Object(a["a"])(r,e);var t=tP(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_render",(function(t){var r=t.theme,n=t.streams;return tg.a.createElement("div",null,e._renderGauge(n.cmd,n.msr,r),e._renderMetric(n.cmd,n.msr,r))})),e}return Object(o["a"])(r,[{key:"_renderGauge",value:function(e,t,r){var n=this.props,i=n.min,o=n.max,a=n.transformValue,s=n.style,u=s.arcRadius,c=void 0===u?50:u,l=s.arcWidth,f=void 0===l?8:l,h=8;if(c<=f/2)return null;var p=a(e&&e.data&&e.data.variable||0),d=a(t.data&&t.data.variable||0),v=Object(ig["e"])((d-i)/(o-i),0,1),m=Object(ig["e"])((p-i)/(o-i),0,1),y=Object(ig["e"])((0-i)/(o-i),0,1),g=dP(c+h,c+h,180*v-90),b=dP(c+h,c+h,180*m-90),_=dP(c+h,c+h,180*y-90);return tg.a.createElement("svg",{width:2*(c+h),height:c+2*h},tg.a.createElement(oP,{d:"M ".concat(h+f/2," ").concat(c+h," a ").concat(c-f/2," ").concat(c-f/2," 1 1 1 ").concat(2*c-f," 0"),fill:"none",strokeWidth:f,theme:r,userStyle:s.arc}),tg.a.createElement("g",{transform:_},tg.a.createElement(aP,{cx:c+h,cy:h-4,r:2,theme:r,userStyle:s.zeroMarker})),e&&tg.a.createElement("g",{transform:b},tg.a.createElement(sP,{transform:"translate(".concat(c+h," ").concat(h,")"),d:"M0,".concat(f," L").concat(-f/2,",0 L").concat(f/2,",0z"),theme:r,userStyle:s.cmdMarker})),t&&tg.a.createElement("g",{transform:g},tg.a.createElement(uP,{x1:c+h,y1:c+h,x2:c+h,y2:h+f+4,theme:r,userStyle:s.hand})))}},{key:"_renderMetric",value:function(e,t,r){var n=this.props,i=n.label,o=n.units,a=void 0===o?t.units:o,s=n.transformValue,u=n.precision,c=n.getWarning,l=n.style,f=e&&e.data&&e.data.variable,h=t.data&&t.data.variable,p=c(f),d=c(h);return tg.a.createElement("div",null,tg.a.createElement("div",{style:{display:"flex"}},e&&tg.a.createElement(cP,{theme:r,warning:p,userStyle:l.cmdValue},tg.a.createElement(fP,{theme:r,warning:p,userStyle:l.label},"Cmd."),tg.a.createElement("div",null,vP(f,u,s)||"-")),tg.a.createElement(lP,{theme:r,warning:d,isOnlyValue:!e,userStyle:l.msrValue},tg.a.createElement(fP,{theme:r,warning:d,userStyle:l.label},i),tg.a.createElement("div",null,vP(h,u,s)||"-"))),tg.a.createElement(hP,{theme:r,userStyle:l.units},a,(p||d)&&tg.a.createElement(pP,{theme:r,userStyle:l.warning},p||d)))}},{key:"render",value:function(){var e=this.props,t=e.log,r=e.style,n=e.cmdStreamName,i=e.streamName;return tg.a.createElement(eP,{log:t,style:r,streamNames:{cmd:n,msr:i}},this._render)}}]),r}(eg["PureComponent"]);function yP(e){var t=gP();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function gP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(c["a"])(mP,"propTypes",{log:ng.a.object.isRequired,style:ng.a.object,precision:ng.a.number,units:ng.a.string,cmdStreamName:ng.a.string,streamName:ng.a.string.isRequired,label:ng.a.string,min:ng.a.number.isRequired,max:ng.a.number.isRequired,transformValue:ng.a.func,getWarning:ng.a.func}),Object(c["a"])(mP,"defaultProps",{precision:3,style:{},transformValue:function(e){return e},getWarning:function(e){return null}});var wP=mj["a"].div((function(e){return{display:"flex",justifyContent:"center",flexDirection:"vertical"===e.layout?"column":"row"}})),xP={red:"#d42e22",yellow:"#f8ce46",green:"#57ad57"},OP=mj["a"].div((function(e){return _P({boxSizing:"border-box",width:e.theme.controlSize,height:e.theme.controlSize,margin:e.theme.spacingTiny,borderRadius:"50%",borderStyle:"solid",borderWidth:2,borderColor:xP[e.color],background:e.isOn?xP[e.color]:"none"},Object(vj["m"])(e.userStyle,e))})),EP=function(e){Object(a["a"])(r,e);var t=yP(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_render",(function(t){var r=t.theme,n=t.streams,i=e.props,o=i.transformValue,a=i.style,s=n.light.data&&o(n.light.data.variable),u={theme:r,userStyle:a.light};return tg.a.createElement(wP,{theme:r,layout:a.layout},tg.a.createElement(OP,Object(Ky["a"])({key:"red",color:"red",isOn:"red"===s},u)),tg.a.createElement(OP,Object(Ky["a"])({key:"yellow",color:"yellow",isOn:"yellow"===s},u)),tg.a.createElement(OP,Object(Ky["a"])({key:"green",color:"green",isOn:"green"===s},u)))})),e}return Object(o["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.log,r=e.style,n=e.streamName;return tg.a.createElement(eP,{log:t,style:r,streamNames:{light:n}},this._render)}}]),r}(eg["PureComponent"]);function jP(e){var t=SP();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function SP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function TP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kP(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(c["a"])(EP,"propTypes",{log:ng.a.object.isRequired,style:ng.a.object,streamName:ng.a.string.isRequired,transformValue:ng.a.func}),Object(c["a"])(EP,"defaultProps",{style:{},transformValue:function(e){return e}});var PP={lineHeight:0,textAlign:"center"},AP=mj["a"].svg((function(e){return TP({height:e.theme.controlSize,margin:e.theme.spacingTiny,fill:e.isOn?e.theme.textColorPrimary:e.theme.controlColorDisabled},Object(vj["m"])(e.userStyle,e))})),IP=function(e){Object(a["a"])(r,e);var t=jP(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"_render",(function(t){var r=t.theme,n=t.streams,i=e.props,o=i.transformValue,a=i.style,s=n.signal.data&&o(n.signal.data.variable),u={theme:r,userStyle:a.arrow};return tg.a.createElement("div",{style:PP},tg.a.createElement(AP,Object(Ky["a"])({viewBox:"0 0 18 16",isOn:"left"===s||"both"===s},u),tg.a.createElement("path",{d:"M0,8 L8,16 L8,11 L18,11 L18,5 L8,5 L8,0z"})),tg.a.createElement(AP,Object(Ky["a"])({viewBox:"0 0 18 16",isOn:"right"===s||"both"===s},u),tg.a.createElement("path",{d:"M18,8 L10,16 L10,11 L0,11 L0,5 L10,5 L10,0z"})))})),e}return Object(o["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.log,r=e.style,n=e.streamName;return tg.a.createElement(eP,{log:t,style:r,streamNames:{signal:n}},this._render)}}]),r}(eg["PureComponent"]);function CP(e){var t=e.indices,r=e.positions,n=e.normals,i=t.length,o=r.length,a=o/3,s=new Uint16Array(2*i),u=new Float32Array(2*o),c=new Float32Array(2*o);s.set(t),s.set(t,i),u.set(r),u.set(r,o),c.set(n),c.set(n,o);for(var l=0;l<o;l+=3)u[l+1]*=-1,c[l+1]*=-1;for(var f=0;f<i;f++)s[f]+=a;return{indices:s,positions:u,normals:c}}Object(c["a"])(IP,"propTypes",{log:ng.a.object.isRequired,style:ng.a.object,streamName:ng.a.string.isRequired,transformValue:ng.a.func}),Object(c["a"])(IP,"defaultProps",{style:{},transformValue:function(e){return e}});var RP=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4.6,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5,n=[0,1,2,1,3,2,4,5,6,7,6,5,8,9,10,9,11,10,12,13,14,13,15,14,16,13,17,13,12,17,18,16,19,16,17,19,20,21,19,21,18,19,22,23,20,23,21,20,24,23,25,23,22,25,26,27,25,27,24,25,28,27,29,27,26,29,30,31,32,31,33,32,34,35,36,35,34,37,38,39,40,39,41,40,42,43,44,43,45,44,46,42,47,42,44,47,48,46,49,46,47,49,50,51,49,51,48,49,52,53,50,53,51,50,54,53,55,53,52,55,56,54,57,54,55,57,58,59,57,59,56,57,60,61,62,61,63,62,64,65,66,65,67,66,68,69,70,69,71,70,72,73,74,73,75,74,76,77,78,77,79,78,80,81,82,81,83,82,84,85,86,85,87,86,88,85,89,85,84,89,90,91,92,91,93,92,94,95,96,94,96,97,98,99,100,99,101,100,102,103,104,103,105,104,106,107,108,107,109,108,110,111,112,111,113,112,114,115,116,117,118,119,120,119,118,117,119,121,118,117,122,123,124,125,126,116,124,127,128,129,129,130,131,132,117,133,132,133,131,117,121,133,130,132,131,129,134,127,127,115,135,129,131,134,136,129,128,137,138,139,138,137,140,124,123,126,123,125,141,142,143,144,140,142,138,144,138,142,136,128,145,126,114,116,135,115,114,135,146,128,135,128,127,146,147,128,147,148,139,148,137,139,146,148,147,149,150,151,151,152,149,153,154,155,155,156,153,157,158,159,160,161,162,163,164,165,165,166,163,167,168,169,169,170,167,171,172,173,174,175,176,177,178,179,179,180,177,181,182,183,182,181,184,183,185,181,186,187,188,188,189,186,190,191,192,191,190,193,192,194,190,195,196,197,197,198,195,199,200,201,201,202,199,203,204,205,206,205,204,207,203,205,205,206,208,205,208,207,209,210,211,211,212,209,213,214,215,213,216,217,214,213,218,219,220,214,214,221,219,222,221,214,223,213,217,213,224,225,225,218,213,218,226,214,227,222,214,228,227,214,214,226,228,213,223,224,229,230,231,229,232,233,231,234,229,235,231,236,231,235,237,238,231,237,239,232,229,229,240,241,240,229,234,234,231,242,243,231,238,244,231,243,231,244,242,229,241,239,245,246,247,247,248,245,249,250,246,246,245,249,251,252,250,250,249,251,253,254,252,252,251,253,255,256,254,254,253,255,257,258,256,256,255,257,259,260,258,258,257,259,261,262,260,260,259,261,263,264,262,262,261,263,265,266,264,264,263,265,267,268,266,266,265,267,269,270,268,268,267,269,271,272,270,270,269,271,273,274,272,272,271,273,275,276,274,274,273,275,277,278,276,276,275,277,279,280,281,279,282,283,279,284,285,285,286,280,279,285,280,287,285,288,283,289,279,284,279,289,284,290,285,285,290,291,288,285,292,292,285,291,291,290,293,294,289,283,295,296,297,295,298,299,295,300,301,300,297,302,295,297,300,303,304,300,298,295,305,301,305,295,301,300,306,300,307,306,304,308,300,308,307,300,307,309,306,310,298,305,311,312,313,313,314,311,315,316,312,312,311,315,317,318,316,316,315,317,319,320,318,318,317,319,321,322,320,320,319,321,323,324,322,322,321,323,325,326,324,324,323,325,327,328,326,326,325,327,329,330,328,328,327,329,331,332,330,330,329,331,333,334,332,332,331,333,335,336,334,334,333,335,337,338,336,336,335,337,339,340,338,338,337,339,341,342,340,340,339,341,343,344,342,342,341,343],i=[-1.93,0,.17,-2,0,.47,-1.93,.62,.17,-2,.65,.47,-1.71,.69,.17,-1.71,0,.17,-1.93,.62,.17,-1.93,0,.17,-1.66,.69,.34,-1.66,0,.34,-1.71,.69,.17,-1.71,0,.17,-1.63,.69,.49,-1.63,0,.49,-1.66,.69,.34,-1.66,0,.34,-1.54,0,.63,-1.54,.69,.63,-1.4,0,.72,-1.4,.69,.72,-1.25,.69,.75,-1.25,0,.75,-1.11,.69,.72,-1.11,0,.72,-.97,0,.63,-.97,.69,.63,-.88,.69,.49,-.88,0,.49,-.85,0,.34,-.85,.69,.34,-.89,.69,.17,-.89,0,.17,-.85,.69,.34,-.85,0,.34,-.89,0,.17,.54,.69,.17,.54,0,.17,-.89,.69,.17,.54,.69,.34,.54,0,.34,.54,.69,.17,.54,0,.17,.56,0,.49,.54,0,.34,.56,.69,.49,.54,.69,.34,.65,0,.63,.65,.69,.63,.79,0,.72,.79,.69,.72,.94,.69,.75,.94,0,.75,1.09,.69,.72,1.09,0,.72,1.22,0,.63,1.22,.69,.63,1.31,0,.49,1.31,.69,.49,1.34,.69,.34,1.34,0,.34,1.32,.69,.17,1.32,0,.17,1.34,.69,.34,1.34,0,.34,1.91,0,.17,1.32,0,.17,1.91,.61,.17,1.32,.69,.17,2,.65,.43,2,0,.43,1.91,.61,.17,1.91,0,.17,1.98,.65,.47,1.98,0,.47,2,.65,.43,2,0,.43,1.98,0,.71,1.98,0,.47,1.98,.65,.71,1.98,.65,.47,1.9,.65,.84,1.9,0,.84,1.98,.65,.71,1.98,0,.71,1.51,.69,.91,1.51,0,.91,1.9,.65,.84,1.9,0,.84,1.12,0,.97,1.12,.69,.97,.21,0,1.5,1.12,0,.97,.21,.49,1.5,1.12,.69,.97,-.88,.49,1.5,-.88,0,1.5,.21,0,1.5,.21,.49,1.5,-1.34,.66,1.08,-1.34,0,1.08,-.88,.49,1.5,-.88,0,1.5,-1.92,0,.99,-1.34,0,1.08,-1.92,.65,.99,-1.34,.66,1.08,-1.99,0,.72,-1.92,0,.99,-1.99,.65,.72,-1.92,.65,.99,-2,.65,.47,-2,0,.47,-1.99,.65,.72,-1.99,0,.72,-.97,.69,.63,.65,.69,.63,.56,.69,.49,1.98,.65,.47,1.91,.61,.17,1.34,.69,.34,1.32,.69,.17,1.31,.69,.49,2,.65,.43,-.85,.69,.34,.54,.69,.34,.54,.69,.17,-.88,.69,.49,.79,.69,.72,-1.34,.66,1.08,1.12,.69,.97,1.9,.65,.84,1.09,.69,.72,1.98,.65,.71,1.22,.69,.63,.94,.69,.75,-1.11,.69,.72,.21,.49,1.5,-1.54,.69,.63,-2,.65,.47,-1.99,.65,.72,-1.63,.69,.49,-.89,.69,.17,-1.66,.69,.34,-1.71,.69,.17,-1.93,.62,.17,-.88,.49,1.5,-1.25,.69,.75,-1.92,.65,.99,-1.4,.69,.72,.46,1,.99,.46,.73,.99,.46,.76,.92,.46,.88,.92,.46,1,.99,.46,.88,1.06,.46,.76,1.06,.46,.73,.99,.46,.73,.99,.53,.8,.93,.46,.76,.92,.46,.88,.92,.46,.76,.92,.53,.8,.93,.46,1,.99,.46,.88,.92,.53,.8,.93,.6,.89,.99,.46,1,.99,.6,.89,.99,.53,.8,1.04,.46,.88,1.06,.46,.88,1.06,.53,.8,1.04,.46,.76,1.06,.46,.73,.99,.46,.76,1.06,.53,.8,1.04,.5,.7,.99,.56,.7,.96,.53,.8,.93,.46,.73,.99,.54,.64,.97,.56,.7,.96,.5,.7,.99,.57,.64,.96,.51,.64,.99,.63,.7,.99,.6,.89,.99,.53,.8,.93,.56,.7,.96,.6,.64,.97,.63,.7,.99,.56,.7,.96,.64,.64,.99,.57,.64,.96,.56,.7,1.02,.63,.7,.99,.64,.64,.99,.57,.64,1.02,.63,.7,.99,.56,.7,1.02,.53,.8,1.04,.6,.89,.99,.5,.7,.99,.56,.7,1.02,.53,.67,1,.57,.64,1.02,.51,.64,.99,.54,.64,1,.5,.7,.99,.46,.73,.99,.53,.8,1.04,.56,.7,1.02,-1.57,.71,.47,-1.57,.71,.22,-1.6,.71,.35,-1.49,.71,.59,-1.38,.71,.66,-.93,.71,.47,-1.38,.71,.02,-1.5,.71,.1,-1.26,.71,0,-1.13,.71,.02,-1.25,.71,.69,-1.13,.71,.66,-1.01,.71,.58,-.91,.71,.34,-1.01,.71,.1,-.94,.71,.21,-1.57,.36,.47,-1.6,.36,.35,-1.57,.36,.22,-1.38,.36,.66,-1.49,.36,.59,-.93,.36,.47,-1.38,.36,.02,-1.5,.36,.1,-1.26,.36,0,-1.13,.36,.02,-1.25,.36,.69,-1.01,.36,.58,-1.13,.36,.66,-.91,.36,.34,-1.01,.36,.1,-.94,.36,.21,-.94,.36,.21,-.94,.71,.21,-.91,.71,.34,-.91,.36,.34,-1.01,.36,.1,-1.01,.71,.1,-1.13,.36,.02,-1.13,.71,.02,-1.26,.36,0,-1.26,.71,0,-1.38,.36,.02,-1.38,.71,.02,-1.5,.36,.1,-1.5,.71,.1,-1.57,.36,.22,-1.57,.71,.22,-1.6,.36,.35,-1.6,.71,.35,-1.57,.36,.47,-1.57,.71,.47,-1.49,.36,.59,-1.49,.71,.59,-1.38,.36,.66,-1.38,.71,.66,-1.25,.36,.69,-1.25,.71,.69,-1.13,.36,.66,-1.13,.71,.66,-1.01,.36,.58,-1.01,.71,.58,-.93,.36,.47,-.93,.71,.47,-.91,.36,.34,-.91,.71,.34,.62,.71,.47,.62,.71,.22,.59,.71,.35,.7,.71,.59,.81,.71,.66,1.18,.71,.58,.81,.71,.02,.69,.71,.1,.93,.71,0,1.06,.71,.02,1.07,.71,.66,1.26,.71,.47,1.26,.71,.21,1.18,.71,.1,1.28,.71,.34,.94,.71,.69,.62,.36,.47,.59,.36,.35,.62,.36,.22,.81,.36,.66,.7,.36,.59,.81,.36,.02,1.18,.36,.58,.69,.36,.1,.93,.36,0,1.06,.36,.02,1.07,.36,.66,1.26,.36,.47,1.26,.36,.21,1.18,.36,.1,1.28,.36,.34,.94,.36,.69,1.26,.36,.21,1.26,.71,.21,1.28,.71,.34,1.28,.36,.34,1.18,.36,.1,1.18,.71,.1,1.06,.36,.02,1.06,.71,.02,.93,.36,0,.93,.71,0,.81,.36,.02,.81,.71,.02,.69,.36,.1,.69,.71,.1,.62,.36,.22,.62,.71,.22,.59,.36,.35,.59,.71,.35,.62,.36,.47,.62,.71,.47,.7,.36,.59,.7,.71,.59,.81,.36,.66,.81,.71,.66,.94,.36,.69,.94,.71,.69,1.07,.36,.66,1.07,.71,.66,1.18,.36,.58,1.18,.71,.58,1.26,.36,.47,1.26,.71,.47,1.28,.36,.34,1.28,.71,.34],o=[-.98,0,-.22,-.98,0,-.2,-.98,0,-.22,-.98,.01,-.18,0,0,-1,0,0,-1,0,0,-1,0,0,-1,.96,0,-.28,.96,0,-.28,.96,0,-.28,.96,0,-.28,.93,0,-.37,.93,0,-.37,1,0,0,1,0,0,.71,0,-.71,.71,0,-.71,.37,0,-.93,.37,0,-.93,0,0,-1,0,0,-1,-.37,0,-.93,-.37,0,-.93,-.71,0,-.71,-.71,0,-.71,-.93,0,-.37,-.93,0,-.37,-1,0,0,-1,0,0,-.97,0,.23,-.97,0,.23,-.97,0,.23,-.97,0,.23,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,.93,0,-.37,1,0,0,.93,0,-.37,1,0,0,.71,0,-.71,.71,0,-.71,.37,0,-.93,.37,0,-.93,0,0,-1,0,0,-1,-.37,0,-.93,-.37,0,-.93,-.71,0,-.71,-.71,0,-.71,-.93,0,-.37,-.93,0,-.37,-1,0,0,-1,0,0,-.99,0,.13,-.99,0,.13,-.99,0,.13,-.99,0,.13,.01,0,-1,0,0,-1,.01,0,-1,0,0,-1,.94,0,-.33,.94,0,-.33,.94,0,-.33,.94,0,-.33,.89,0,.45,.89,0,.45,.89,0,.45,.89,0,.45,1,0,0,1,0,0,1,0,0,1,0,0,.83,0,.56,.83,0,.56,.83,0,.56,.83,0,.56,.17,0,.98,.17,0,.98,.17,0,.98,.17,0,.98,.17,0,.98,.17,0,.98,.5,0,.87,.5,0,.87,.5,0,.87,.5,0,.87,0,0,1,0,0,1,0,0,1,0,0,1,-.67,0,.75,-.67,0,.75,-.66,.01,.76,-.66,0,.75,-.17,0,.99,-.17,0,.99,-.17,0,.99,-.17,0,.99,-.99,-.01,.16,-.99,-.01,.16,-1,-.03,.07,-.97,0,.25,-1,0,.03,-1,0,.03,-1,0,.03,-1,0,.03,0,1,0,0,1,0,0,1,0,.02,1,-.04,.08,.99,-.1,.07,1,-.04,0,1,0,.06,1,.03,-.18,.98,-.09,0,1,0,0,1,0,0,1,0,0,1,0,0,1,.02,0,.99,.17,.01,1,.07,.05,1,.01,.03,1,.02,.05,1,.03,.05,1,.04,0,1,0,0,1,.04,0,.93,.37,-.09,.99,.06,-.11,.99,.02,-.07,1,.04,-.11,.99,.05,0,1,0,-.19,.98,-.01,0,1,0,-.23,.97,-.02,0,.92,.38,-.01,1,.09,-.05,1,.03,-.05,1,.08,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-.54,.77,.35,-.54,.77,.35,-.54,.77,.35,-.16,0,.99,-.16,0,.99,-.16,0,.99,-.34,-.45,.82,-.55,-.4,.73,-.39,-.23,.89,-.26,-.35,.9,-.34,-.45,-.82,-.26,-.35,-.9,-.39,-.23,-.89,-.55,-.4,-.73,-.16,0,-.99,-.16,0,-.99,-.16,0,-.99,-.54,.77,-.35,-.54,.77,-.35,-.54,.77,-.35,.37,.62,.69,.45,.34,.83,.35,.32,.88,.25,.42,.87,.48,.04,.88,.48,.04,.88,.48,.04,.88,.48,.04,.88,.48,.04,.88,-.43,-.06,.9,-.52,-.07,.85,-.56,-.02,.83,-.43,.05,.9,-.43,-.04,.9,-.43,-.04,.9,-.43,-.04,.9,-.43,-.04,.9,-.43,-.04,.9,-.43,-.04,-.9,-.43,-.04,-.9,-.43,-.04,-.9,-.43,-.04,-.9,-.43,-.06,-.9,-.43,.05,-.9,-.56,-.02,-.83,-.52,-.07,-.85,.48,.04,-.88,.48,.04,-.88,.48,.04,-.88,.48,.04,-.88,.48,.04,-.88,.48,.04,-.88,.37,.62,-.69,.25,.42,-.87,.35,.32,-.88,.45,.34,-.83,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,.93,0,-.37,.93,0,-.37,1,0,-.01,1,0,-.01,.7,0,-.71,.7,0,-.71,.36,0,-.93,.36,0,-.93,-.01,0,-1,-.01,0,-1,-.37,0,-.93,-.37,0,-.93,-.71,0,-.7,-.71,0,-.7,-.93,0,-.36,-.93,0,-.36,-1,0,.01,-1,0,.01,-.93,0,.37,-.93,0,.37,-.7,0,.71,-.7,0,.71,-.36,0,.93,-.36,0,.93,.01,0,1,.01,0,1,.37,0,.93,.37,0,.93,.71,0,.7,.71,0,.7,.93,0,.36,.93,0,.36,1,0,-.01,1,0,-.01,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,.93,0,-.37,.93,0,-.37,1,0,-.01,1,0,-.01,.7,0,-.71,.7,0,-.71,.36,0,-.93,.36,0,-.93,-.01,0,-1,-.01,0,-1,-.37,0,-.93,-.37,0,-.93,-.71,0,-.7,-.71,0,-.7,-.93,0,-.36,-.93,0,-.36,-1,0,.01,-1,0,.01,-.93,0,.37,-.93,0,.37,-.7,0,.71,-.7,0,.71,-.36,0,.93,-.36,0,.93,.01,0,1,.01,0,1,.37,0,.93,.37,0,.93,.71,0,.7,.71,0,.7,.93,0,.36,.93,0,.36,1,0,-.01,1,0,-.01],a=[4,2,1.5],s=(e-a[0])/2,u=(t-a[1])/2,c=r-a[2],l=i.length,f=0;f<l;f+=3){var h=i[f],p=i[f+1],d=i[f+2];i[f]=h+Math.sign(h)*s,i[f+1]=p>0?p+u:0,i[f+2]=d>1.2?d+c:d}return CP({indices:n,positions:i,normals:o})};function MP(e,t){var r=t.length,n=t.width,i=t.height,o=t.color,a=void 0===o?[128,128,128]:o,s=t.origin,u=void 0===s?[0,0,0]:s;if(!Number.isFinite(r)||!Number.isFinite(n)||!Number.isFinite(i))throw new Error("invalid dimensions");var c=e(r,n,i);return{color:a,origin:u,mesh:c,scale:[1,1,1]}}var LP={sedan:function(e){return MP(RP,e)}},DP=r("9lTW"),NP=r.n(DP),FP=r("C9ya"),zP=r.n(FP),BP=function(){function e(t){Object(i["a"])(this,e),NP()(t,"XVIZ socket"),this.socket=t,this.transformCounter=0}return Object(o["a"])(e,[{key:"_send",value:function(e,t){var r={type:"xviz/".concat(e),data:t};this.socket.send(JSON.stringify(r))}},{key:"transformLog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startTimestamp,r=e.endTimestamp,n={};t&&(n.start_timestamp=t),r&&(n.end_timestamp=r),n.id="".concat(this.transformCounter),this.transformCounter++,this._send("transform_log",n)}}]),e}();function UP(e){var t=VP();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function VP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var GP=function(e){Object(a["a"])(r,e);var t=UP(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,r),e=t.call(this,n),Object(c["a"])(Object(Qy["a"])(e),"_onWSOpen",(function(){e.xvizHandler=new BP(e.socket),e._debug("socket_open",e.requestParams),e._onOpen()})),Object(c["a"])(Object(Qy["a"])(e),"_onWSClose",(function(t){e._debug("socket_closed",t)})),Object(c["a"])(Object(Qy["a"])(e),"_onWSError",(function(t){e._debug("socket_error",t)})),e.socket=null,e.retrySettings={retries:3,minTimeout:500,randomize:!0},e.streamBuffer=new Ly["d"],e.WebSocketClass=n.WebSocketClass||WebSocket,e}return Object(o["a"])(r,[{key:"isOpen",value:function(){return this.socket}},{key:"seek",value:function(e){Object(gy["a"])(Object(u["a"])(r.prototype),"seek",this).call(this,e)}},{key:"connect",value:function(){var e=this;NP()(null===this.socket,"Socket Manager still connected"),this._debug("stream_start");var t=this.requestParams.url;return zP()((function(r){return new Promise((function(r,n){try{var i=new e.WebSocketClass(t);i.binaryType="arraybuffer",i.onmessage=function(t){var r=Boolean(e.getMetadata());return Object(Ly["g"])({message:t.data,onResult:e.onXVIZMessage,onError:e.onError,debug:e._debug.bind(e,"parse_message"),worker:r&&e.options.worker,maxConcurrency:e.options.maxConcurrency})},i.onerror=e.onError,i.onclose=function(t){e._onWSClose(t),n(t)},i.onopen=function(){e.socket=i,e._onWSOpen(),r(i)}}catch(o){n(o)}}))["catch"]((function(t){e._onWSError(t);var n=t.code>1e3&&1005!==t.code;!n&&e.socket||r()}))}),this.retrySettings)["catch"](this._onWSError)}},{key:"close",value:function(){this.socket&&(this.socket.close(),this.socket=null)}},{key:"_onOpen",value:function(){throw new Error("_onOpen() method must be overridden")}}]),r}(bg);function qP(){return[]}function WP(e,t){if(!XP(e))return t;for(var r=[],n=e,i=0;i<t.length;i++){var o=t[i];o[0]>n[1]?(r.push(n),n=o):n[0]>o[1]?r.push(o):n=[Math.min(n[0],o[0]),Math.max(n[1],o[1])]}return r.push(n),r}function HP(e,t){if(!XP(e))return qP();for(var r=[],n=e,i=0;i<t.length;i++){var o=t[i];o[0]<n[1]&&n[0]<o[1]&&r.push([Math.max(n[0],o[0]),Math.min(n[1],o[1])])}return r}function ZP(e,t){if(!XP(e))return qP();for(var r=[],n=e,i=0;i<t.length;i++){var o=t[i];if(!(n[0]>=o[1])){if(o[0]>=n[1])break;if(o[0]>n[0]&&r.push([n[0],o[0]]),!(o[1]<n[1])){n=null;break}n=[o[1],n[1]]}}return n&&r.push(n),r}function XP(e){return e[0]<e[1]}var $P=["logGuid","logProfile","duration","timestamp","serverConfig","bufferLength","maxConcurrency","WebSocketClass"];function YP(e){var t=KP();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function KP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JP(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var eA="default",tA=3,rA={seconds:30,milliseconds:3e4};function nA(e){var t=e.logGuid,r=e.logProfile,n=void 0===r?eA:r,i=e.duration,o=e.timestamp,a=e.serverConfig,s=e.bufferLength,u=void 0===s?rA[Object(Ly["f"])().TIMESTAMP_FORMAT]:s,c=(e.maxConcurrency,e.WebSocketClass,Object(Jy["a"])(e,$P)),l=i||a.defaultLogLength;NP()(t&&l);var f=QP(QP(QP({},c),a.queryParams),{},{log:t,profile:n});l&&(f.duration=l),o&&(f.timestamp=o);var h=Number.isInteger(a.retryAttempts)?a.retryAttempts:tA,p=Object.keys(f).map((function(e){return"".concat(e,"=").concat(f[e])})).join("&");return{url:"".concat(a.serverUrl,"?").concat(p),logGuid:t,logProfile:n,duration:l,timestamp:o,bufferLength:u,retryAttempts:h,serverConfig:a}}function iA(e,t,r,n){var i=t.start_time,o=void 0===i?-1/0:i,a=t.end_time,s=void 0===a?1/0:a,u=s-o,c=r||u;if(Number.isFinite(u)||NP()(r,"bufferLength is invalid"),c>=u)return{startTimestamp:o,endTimestamp:s,bufferStart:o,bufferEnd:s};var l=Math.max(e-c/2,o),f=Math.min(l+c,s),h=ZP([l,f],n);if(0===h.length)return null;var p=h[0][0],d=h[h.length-1][1];return{startTimestamp:p,endTimestamp:d,bufferStart:l,bufferEnd:f}}(function(e){Object(a["a"])(r,e);var t=YP(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,r),e=t.call(this,n),Object(c["a"])(Object(Qy["a"])(e),"_onOpen",(function(){e.lastRequest&&e.xvizHandler.transformLog(e.lastRequest)})),e.requestParams=nA(n),NP()(e.requestParams.bufferLength,"bufferLength must be provided"),e.retrySettings={retries:e.requestParams.retryAttempts,minTimeout:500,randomize:!0},e.lastRequest=null,e.bufferRange=qP(),e}Object(o["a"])(r,[{key:"seek",value:function(e){if(Object(gy["a"])(Object(u["a"])(r.prototype),"seek",this).call(this,e),e=this.getCurrentTime(),!this.lastRequest||!this.streamBuffer.isInBufferRange(e)){var t=this.getMetadata();if(t){var n=iA(e,t,this.requestParams.bufferLength,this.bufferRange);n&&(this.lastRequest=n,this.streamBuffer.updateFixedBuffer(n.bufferStart,n.bufferEnd),this.bufferRange=HP([n.bufferStart,n.bufferEnd],this.bufferRange),this.isOpen()&&this.xvizHandler.transformLog(n))}}}},{key:"_getBufferedTimeRanges",value:function(){return this.bufferRange}},{key:"_getBufferStartTime",value:function(){return this.lastRequest&&this.lastRequest.bufferStart}},{key:"_getBufferEndTime",value:function(){return this.lastRequest&&this.lastRequest.bufferEnd}},{key:"_onXVIZTimeslice",value:function(e){var t=Object(gy["a"])(Object(u["a"])(r.prototype),"_onXVIZTimeslice",this).call(this,e);t&&(this.bufferRange=WP([this.lastRequest.startTimestamp,e.timestamp],this.bufferRange))}}])})(GP);var oA=["logProfile","serverConfig","bufferLength","maxConcurrency","WebSocketClass"];function aA(e){var t=sA();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function sA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uA(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lA="default",fA=3;function hA(e){var t=e.logProfile,r=void 0===t?lA:t,n=e.serverConfig,i=e.bufferLength,o=void 0===i?30:i,a=(e.maxConcurrency,e.WebSocketClass,Object(Jy["a"])(e,oA)),s=cA(cA(cA({},a),n.queryParams),{},{profile:r}),u=Number.isInteger(n.retryAttempts)?n.retryAttempts:fA,c=Object.keys(s).map((function(e){return"".concat(e,"=").concat(s[e])})).join("&");return{url:"".concat(n.serverUrl,"?").concat(c),logProfile:r,bufferLength:o,retryAttempts:u,serverConfig:n}}(function(e){Object(a["a"])(r,e);var t=aA(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i["a"])(this,r),e=t.call(this,n),Object(c["a"])(Object(Qy["a"])(e),"_onOpen",(function(){})),e.requestParams=hA(n),NP()(e.requestParams.bufferLength,"bufferLength must be provided"),e.retrySettings={retries:e.requestParams.retryAttempts,minTimeout:500,randomize:!0};var o=e.requestParams.bufferLength/3;return e.streamBuffer=new Ly["d"]({startOffset:-2*o,endOffset:o}),e}Object(o["a"])(r,[{key:"seek",value:function(e){Object(gy["a"])(Object(u["a"])(r.prototype),"seek",this).call(this,e),this.streamBuffer.setCurrentTime(e)}},{key:"_getBufferStartTime",value:function(){return this.streamBuffer.getBufferRange().start}},{key:"_getBufferEndTime",value:function(){return this.streamBuffer.getBufferRange().end}},{key:"_onXVIZTimeslice",value:function(e){Object(gy["a"])(Object(u["a"])(r.prototype),"_onXVIZTimeslice",this).call(this,e),this.seek(e.timestamp)}}])})(GP);function pA(e){var t=dA();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function dA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}for(var vA,mA,yA,gA=4,bA=function(e){Object(a["a"])(r,e);var t=pA(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,e),NP()(e.timingsFilePath&&e.getFilePath),n._timingsFilePath=e.timingsFilePath,n._getFilePath=e.getFilePath,n._batchSize=e.maxConcurrency||gA,n.streamBuffer=new Ly["d"],n._isOpen=!1,n._lastLoadFrame=-1,n}return Object(o["a"])(r,[{key:"isOpen",value:function(){return this._isOpen}},{key:"connect",value:function(){var e=this;this._isOpen=!0,this._loadTimings().then((function(t){e._numberOfFrames=t.timing.length+1,e._loadMetadata().then((function(){return e._startLoad()}))}))}},{key:"seek",value:function(e){Object(gy["a"])(Object(u["a"])(r.prototype),"seek",this).call(this,e)}},{key:"close",value:function(){this._isOpen=!1}},{key:"_loadTimings",value:function(){return fetch(this._timingsFilePath).then((function(e){return e.json()}))}},{key:"_loadMetadata",value:function(){var e=this._getFilePath(0);return NP()(e),this._loadFile(e,{worker:!1})}},{key:"_startLoad",value:function(){this._lastLoadFrame=0;for(var e=0;e<this._batchSize&&e<this._numberOfFrames;e++)this._loadNextFrame()}},{key:"_loadNextFrame",value:function(){var e=this;if(this.isOpen())if(this._lastLoadFrame=this._lastLoadFrame+1,this._lastLoadFrame>=this._numberOfFrames)this.emit("done");else{var t=this._getFilePath(this._lastLoadFrame);NP()(t),Promise.resolve(this._loadFile(t,this.options)).then((function(){e._loadNextFrame()}))}}},{key:"_loadFile",value:function(e,t){var r,n=this,i=e.toLowerCase().match(/[^\.]*$/)[0];switch(i){case"glb":r=fetch(e).then((function(e){return e.arrayBuffer()}));break;case"json":r=fetch(e).then((function(e){return e.json()}));break;default:return Promise.reject("Unknown file format")}return r.then((function(e){n._isOpen&&Object(Ly["g"])({message:e,onResult:n.onXVIZMessage,onError:n.onError,worker:t.worker,maxConcurrency:t.maxConcurrency,debug:n._debug.bind(n,"parse_message")})}))}}]),r}(bg),_A=1e3,wA=16,xA="Streetscape Performance Metrics",OA={WHITE:"#FFFFFF",BLACK:"#141414",DARK_GREY:"#333333",LIGHT_GREY:"#B3B3B3",BLUE:"#5B91F4",LIGHT_BLUE:"#98baf9",GREEN:"#34a853",ORANGE:"#fbbc05",PURPLE:"#673ab7",RED:"#ea4335"},EA={FPS:"fps",REDRAW:"framesRedrawn",FRAME_UPDATE:"frame-update",LOADER_UPDATE:"loader-update",LOADER_ERROR:"loader-error"},jA=(vA={},Object(c["a"])(vA,EA.FPS,"FPS"),Object(c["a"])(vA,EA.REDRAW,"Redraw"),Object(c["a"])(vA,EA.FRAME_UPDATE,"XVIZ Frames Rendered"),Object(c["a"])(vA,EA.LOADER_UPDATE,"XVIZ Frames Loaded"),Object(c["a"])(vA,EA.LOADER_ERROR,"XVIZ Loading Errors"),vA),SA=(mA={},Object(c["a"])(mA,EA.FPS,OA.BLUE),Object(c["a"])(mA,EA.REDRAW,OA.GREEN),Object(c["a"])(mA,EA.FRAME_UPDATE,OA.ORANGE),Object(c["a"])(mA,EA.LOADER_UPDATE,OA.PURPLE),Object(c["a"])(mA,EA.LOADER_ERROR,OA.RED),mA),kA=(yA={},Object(c["a"])(yA,EA.FPS,"Number of frames per seconds."),Object(c["a"])(yA,EA.REDRAW,"Number of times WebGLContext was re-rendered."),Object(c["a"])(yA,EA.FRAME_UPDATE,"Number of XVIZ frames rendered to screen."),Object(c["a"])(yA,EA.LOADER_UPDATE,"Number of new XVIZ messages loaded."),Object(c["a"])(yA,EA.LOADER_ERROR,"Number of XVIZ errors generated during loading."),yA),TA={counter:0},PA=0,AA=Object.values(EA);PA<AA.length;PA++){var IA=AA[PA];TA[IA]=[{x:TA.counter,y:0}]}var CA={arrowSize:0,borderWidth:0,background:OA.BLACK,body:{maxWidth:null,color:OA.WHITE,whiteSpace:"pre-wrap",fontSize:14,borderRadius:5}},RA={LOG_VIEWER:{STATS:{display:"flex",flexDirection:"column",alignItems:"flex-start",background:OA.WHITE},STATS_HELP:{display:"flex",flexDirection:"column",alignItems:"flex-start"},METRIC_CARD:{tooltip:CA}},WORKER_FARM:{CONTAINER:{margin:"10px 0"},TITLE:{display:"flex",flexDirection:"row",alignItems:"center"}},WORKERS:{CONTAINER:{margin:"10px 0"},TITLE:{display:"flex",flexDirection:"row",alignItems:"center"}},TAG:{marginLeft:10,borderRadius:20,padding:"2px 10px",border:"solid 1.5px"},POSITIVE:{background:"rgb(52, 168, 83, 0.1)",color:OA.GREEN,borderColor:OA.GREEN},NEGATIVE:{background:"rgb(234, 67, 53, 0.1)",color:OA.RED,borderColor:OA.RED}},MA=["counter"];function LA(e){var t=DA();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function DA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var NA=function(){for(var e=[],t=0,r=Object.entries(kA);t<r.length;t++){var n=Object(Fg["a"])(r[t],2),i=n[0],o=n[1];e.push(tg.a.createElement("div",{key:i,style:{marginBottom:10}},tg.a.createElement("strong",null,jA[i]),tg.a.createElement("div",null,o)))}return tg.a.createElement("div",{style:RA.LOG_VIEWER.STATS_HELP},e)},FA=function(e,t){e.counter+=1;for(var r=0,n=Object.values(EA);r<n.length;r++){var i=n[r];e[i].length>=wA&&(e[i]=e[i].slice(1));var o={x:e.counter,y:t&&t[i]||0};e[i].push(o)}return e};(function(e){Object(a["a"])(r,e);var t=LA(r);function r(){var e;Object(i["a"])(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(c["a"])(Object(Qy["a"])(e),"state",{stats:TA}),e}Object(o["a"])(r,[{key:"componentWillUpdate",value:function(e){if(e.statsSnapshot!==this.props.statsSnapshot){var t=FA(this.state.stats,e.statsSnapshot);this.setState({stats:t})}}},{key:"render",value:function(){var e=this.state.stats,t=e.counter,r=Object(Jy["a"])(e,MA),n=this.props.title||xA;return tg.a.createElement("div",{id:"stats",style:RA.LOG_VIEWER.STATS},tg.a.createElement(vj["e"],{title:n,description:tg.a.createElement(NA,null),style:RA.LOG_VIEWER.METRIC_CARD},tg.a.createElement(vj["f"],{width:350,height:200,data:r,highlightX:t,getColor:function(e){return SA[e]},formatTitle:function(e){return jA[e]}})))}}])})(tg.a.Component),Object(o["a"])((function e(t){var r=this;Object(i["a"])(this,e),Object(c["a"])(this,"update",(function(e){var t=e.worker,n=e.backlog,i=e.dropped;r.status.backlog=n,r.status.dropped=i;for(var o=new Date(Date.now()),a=0,s=Object.keys(r.status.workers);a<s.length;a++){var u=s[a];t===u&&(r.status.workers[u]={lastUpdated:o,isActive:!0})}})),Object(c["a"])(this,"cleanup",(function(){for(var e=new Date(Date.now()),t=0,n=Object.entries(r.status.workers);t<n.length;t++){var i=Object(Fg["a"])(n[t],2),o=i[0],a=i[1];if(a.isActive&&a.lastUpdated){var s=e.getTime()-a.lastUpdated.getTime();s>2*_A&&(r.status.workers[o]={lastUpdated:e,isActive:!1})}}})),Object(c["a"])(this,"reset",(function(){for(var e={},t=0;t<r.numWorkers;t++){var n="".concat(t,"/").concat(r.numWorkers);e[n]={lastUpdated:null,isActive:!1}}r.status={backlog:"NA",dropped:"NA",workers:e}})),Object(c["a"])(this,"start",(function(){r.stop(),r.interval=setInterval((function(){r.cleanup(),r.reportCallback(r.status)}),_A)})),Object(c["a"])(this,"stop",(function(){r.reset(),r.interval&&clearInterval(r.interval)}));var n=t.numWorkers,o=t.reportCallback;this.numWorkers=n,this.reportCallback=o,this.interval=null,this.reset()}));var zA="#define SHADER_NAME sign-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceAngles;\nattribute float instanceSizes;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float render3D;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvoid main(void) {\n  // rotation\n  float angle = instanceAngles + PI / 2.0;\n  mat2 rotationMatrix = mat2(\n    cos(angle), sin(angle),\n    -sin(angle), cos(angle)\n  );\n\n  vec2 iconSize = instanceIconFrames.zw;\n  vec2 texCoords = positions.xy;\n  vec2 vertex_offset = (texCoords / 2.0 + instanceOffsets / iconSize) * sizeScale * instanceSizes;\n  vec3 vertex = vec3(\n    vertex_offset.x,\n    vertex_offset.y * (render3D - 1.0),\n    -vertex_offset.y * render3D\n  );\n\n  vec3 offset = project_size(vec3(rotationMatrix * vertex.xy, vertex.z));\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (texCoords + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n\n  picking_setPickingColor(instancePickingColors);\n}\n",BA="#define SHADER_NAME sign-layer-fragment-shader\n\nprecision highp float;\n\nuniform float render3D;\nuniform float opacity;\nuniform sampler2D iconsTexture;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nconst float MIN_ALPHA = 0.05;\n\nvoid main(void) {\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // front of the sign, uses pixel color from the texture\n  // back of the sign uses texture as transparency mask\n  vec3 color = render3D < 0.5 || gl_FrontFacing ? texColor.rgb : vColor.rgb;\n  float a = texColor.a * opacity;\n\n  if (a < MIN_ALPHA) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";function UA(e){var t=VA();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function VA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GA(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var WA=qA(qA({},Am.defaultProps),{},{sizeUnits:"meters",render3D:!0}),HA=function(e){Object(a["a"])(r,e);var t=UA(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"updateState",value:function(e){var t=e.oldProps,n=e.props,i=e.changeFlags;Object(gy["a"])(Object(u["a"])(r.prototype),"updateState",this).call(this,{props:n,oldProps:t,changeFlags:i}),n.render3D!==t.render3D&&this.state.model.setUniforms({render3D:n.render3D?1:0})}},{key:"getShaders",value:function(){return qA(qA({},Object(gy["a"])(Object(u["a"])(r.prototype),"getShaders",this).call(this)),{},{vs:zA,fs:BA})}}]),r}(Am);HA.layerName="SignLayer",HA.defaultProps=WA;var ZA=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){Object(h["a"])(this,r);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,i=void 0===n?kt("sphere-geometry"):n,o=XA(e),a=o.indices,s=o.attributes;return t.call(this,Object(f["a"])(Object(f["a"])({},e),{},{id:i,indices:a,attributes:Object(f["a"])(Object(f["a"])({},s),e.attributes)}))}return Object(p["a"])(r)}(Up);function XA(e){var t=e.nlat,r=void 0===t?10:t,n=e.nlong,i=void 0===n?10:n,o=e.radius,a=void 0===o?1:o,s=0,u=Math.PI,c=u-s,l=0,f=2*Math.PI,h=f-l,p=(r+1)*(i+1);if("number"===typeof a){var d=a;a=function(e,t,r,n,i){return d}}for(var v=new Float32Array(3*p),m=new Float32Array(3*p),y=new Float32Array(2*p),g=p>65535?Uint32Array:Uint16Array,b=new g(r*i*6),_=0;_<=r;_++)for(var w=0;w<=i;w++){var x=w/i,O=_/r,E=w+_*(i+1),j=2*E,S=3*E,k=h*x,T=c*O,P=Math.sin(k),A=Math.cos(k),I=Math.sin(T),C=Math.cos(T),R=A*I,M=C,L=P*I,D=a(R,M,L,x,O);v[S+0]=D*R,v[S+1]=D*M,v[S+2]=D*L,m[S+0]=R,m[S+1]=M,m[S+2]=L,y[j+0]=x,y[j+1]=1-O}for(var N=i+1,F=0;F<i;F++)for(var z=0;z<r;z++){var B=6*(F*r+z);b[B+0]=z*N+F,b[B+1]=z*N+F+1,b[B+2]=(z+1)*N+F,b[B+3]=(z+1)*N+F,b[B+4]=z*N+F+1,b[B+5]=(z+1)*N+F+1}return{indices:{size:1,value:b},attributes:{POSITION:{size:3,value:v},NORMAL:{size:3,value:m},TEXCOORD_0:{size:2,value:y}}}}var $A={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795},YA="#define SHADER_NAME traffic-light-layer-vs\n\nuniform vec3 modelScale;\nuniform vec3 modelTranslate;\nuniform bool useInstanceColor;\nuniform float opacity;\n\n// Primitive attributes\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec2 texCoords;\n\n// Instance attributes\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceAngles;\nattribute float instanceShapes;\nattribute vec3 instanceColors;\nattribute float instanceStates;\nattribute vec3 instancePickingColors;\n\n// Outputs to fragment shader\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\n\n// Used for geometry that does not have color\nconst vec4 defaultColor = vec4(0.05, 0.05, 0.05, 1.0);\n\nvoid main(void) {\n  float angle = instanceAngles + PI;\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n\n  vec3 offset = (positions + modelTranslate) * modelScale;\n  offset.xy = rotationMatrix * offset.xy;\n  offset = project_size(offset);\n  vec3 normal_commonspace = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\n\n  vec4 position_commonpace;\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, position_commonpace);\n\n  if (useInstanceColor) {\n    float ownLight = instanceStates;\n    vColor = vec4(instanceColors.rgb * ownLight / 255.0, opacity);\n  } else {\n    vColor = vec4(defaultColor.rgb, defaultColor.a * opacity);\n  }\n  vColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonpace.xyz, normal_commonspace);\n\n  vTexCoord = vec2((1.0 - texCoords.y + instanceShapes) / 4.0, texCoords.x);\n\n  picking_setPickingColor(instancePickingColors);\n}\n",KA="\n#define SHADER_NAME traffic-light-layer-fs\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform bool useInstanceColor;\nuniform sampler2D lightShapeTexture;\n\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\n\nvoid main(void) {\n  if (useInstanceColor) {\n    vec4 mask = texture2D(lightShapeTexture, vTexCoord);\n    gl_FragColor = vec4(vColor.rgb * mask.rgb, vColor.a);\n  } else {\n    gl_FragColor = vColor;\n  }\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",JA=256;function QA(e,t){var r=t.x,n=t.y,i=t.size,o=t.strokeWidth,a=t.scaleX,s=void 0===a?1:a,u=i/2,c=i/4,l=function(e){return(u-e)*s+r+u},f=function(e){return e+n};e.lineWidth=o,e.lineCap="round",e.beginPath(),e.moveTo(l(0),f(u)),e.lineTo(l(i),f(u)),e.moveTo(l(i-c),f(u-c)),e.lineTo(l(i),f(u)),e.lineTo(l(i-c),f(u+c)),e.stroke()}function eI(e){var t=document.createElement("canvas"),r=t.getContext("2d");return t.width=4*JA,t.height=JA,r.fillStyle="#fff",r.fillRect(0,0,4*JA,JA),r.fillStyle="#444",r.fillRect(JA,0,JA,JA),r.strokeStyle="#fff",QA(r,{x:1.333*JA,y:JA/3,size:JA/3,strokeWidth:JA/16}),r.fillStyle="#444",r.fillRect(2*JA,0,JA,JA),r.strokeStyle="#fff",QA(r,{x:2.333*JA,y:JA/3,size:JA/3,strokeWidth:JA/16,scaleX:-1}),new ur(e,{data:t})}function tI(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=rI(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function rI(e,t){if(e){if("string"===typeof e)return nI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nI(e,t):void 0}}function nI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iI(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aI(e){var t=sI();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function sI(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var uI={invalid:[0,0,0],green:[0,255,128],yellow:[255,250,0],red:[255,16,16]},cI={circular:0,left_arrow:1,right_arrow:2},lI={getPosition:{type:"accessor",value:function(e){return e.position}},getAngle:{type:"accessor",value:0},getShape:{type:"accessor",value:function(e){return"circular"}},getColor:{type:"accessor",value:function(e){return"green"}},getState:{type:"accessor",value:1},sizeScale:{type:"number",value:.15,min:0},material:{shininess:0,specularColor:[0,0,0]}},fI=function(e){Object(a["a"])(r,e);var t=aI(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"getShaders",value:function(){return{vs:YA,fs:KA,modules:[Cp,Vd,zp]}}},{key:"initializeState",value:function(){var e=this.context.gl,t=this._getModels(e);this.setState({models:[t.box,t.lights],modelsByName:t});var r=this.getAttributeManager();r.addInstanced({instancePositions:{size:3,type:$A.DOUBLE,fp64:this.use64bitPositions(),accessor:"getPosition"},instanceAngles:{size:1,accessor:"getAngle"},instanceShapes:{size:1,type:$A.UNSIGNED_BYTE,accessor:"getShape",transform:function(e){return cI[e]||0}},instanceColors:{size:3,type:$A.UNSIGNED_BYTE,accessor:"getColor",transform:function(e){return uI[e]||uI.invalid}},instanceStates:{size:1,type:$A.UNSIGNED_BYTE,accessor:"getState"}})}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props.sizeScale,n=this.state.modelsByName;n.box.setUniforms(Object.assign({},t,{modelScale:[.8*r,1.6*r,1.6*r]})).draw(),n.lights.setUniforms(Object.assign({},t,{modelScale:[r,r,r]})).draw()}},{key:"_getModels",value:function(e){var t=this.getShaders(),r=new Is(e,oI(oI({id:"".concat(this.props.id,"-box")},t),{},{shaderCache:this.context.shaderCache,geometry:new IS,isInstanced:!0,uniforms:{modelTranslate:[0,0,0],useInstanceColor:!1}})),n=new Is(e,oI(oI({id:"".concat(this.props.id,"-light")},t),{},{shaderCache:this.context.shaderCache,geometry:new ZA,isInstanced:!0,uniforms:{lightShapeTexture:eI(e),modelTranslate:[-.4,0,0],useInstanceColor:!0}}));return{box:r,lights:n}}},{key:"updateAttributes",value:function(e){Object(gy["a"])(Object(u["a"])(r.prototype),"updateAttributes",this).call(this,e);var t,n=tI(this.getModels());try{for(n.s();!(t=n.n()).done;){var i=t.value;i.setInstanceCount(this.props.data.length),i.setAttributes(e)}}catch(o){n.e(o)}finally{n.f()}}}]),r}(vp);function hI(e,t,r){var n=e;"function"===typeof e&&(n=e(Object(f["a"])(Object(f["a"])({},t),r))),Fl("string"===typeof n);var i=t.baseUrl;return i&&(n="/"===i[i.length-1]?"".concat(i).concat(n):"".concat(i,"/").concat(n)),Gl(n)}fI.layerName="TrafficLightLayer",fI.defaultProps=lI;var pI=function(e){return e&&"object"===typeof e};function dI(e,t){return vI.apply(this,arguments)}function vI(){return vI=Sr(Object(Er["a"])().mark((function e(t,r){var n,i=arguments;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,mI(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t,r){return yI.apply(this,arguments)}function yI(){return yI=Sr(Object(Er["a"])().mark((function e(t,r,n){var i;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,_I(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:if(!pI(t)){e.next=8;break}return e.next=7,gI(t,r,n);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,r(i,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t,r){return bI.apply(this,arguments)}function bI(){return bI=Sr(Object(Er["a"])().mark((function e(t,r,n){var i,o,a,s;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in i=[],o={},a=function(e){var a=t[e],s=mI(a,r,n).then((function(t){o[e]=t}));i.push(s)},t)a(s);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function _I(e,t){return wI.apply(this,arguments)}function wI(){return wI=Sr(Object(Er["a"])().mark((function e(t,r){var n,i,o=arguments;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},i=t.map((function(e){return mI(e,r,n)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t,r){return OI.apply(this,arguments)}function OI(){return OI=Sr(Object(Er["a"])().mark((function e(t,r,n){return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,dI(t,(function(e){return EI(e,r,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function EI(e,t,r){return jI.apply(this,arguments)}function jI(){return jI=Sr(Object(Er["a"])().mark((function e(t,r,n){var i,o;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return o=e.sent,e.next=8,r(o,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function SI(e){return kI.apply(this,arguments)}function kI(){return kI=Sr(Object(Er["a"])().mark((function e(t){var r,n,i=arguments;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,TI(t,r);case 3:return n=e.sent,e.next=6,xI(n,um,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function TI(e,t){return PI.apply(this,arguments)}function PI(){return PI=Sr(Object(Er["a"])().mark((function e(t,r){var n,i,o=arguments;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:{},i=r&&r.image&&r.image.mipLevels||0,0===i){e.next=8;break}return e.next=5,AI(t,i,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=hI(t,r,n);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function AI(e,t,r,n){return II.apply(this,arguments)}function II(){return II=Sr(Object(Er["a"])().mark((function e(t,r,n,i){var o,a,s,u,c,l,h,p;return Object(Er["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=[],"auto"!==r){e.next=9;break}return a=hI(t,n,Object(f["a"])(Object(f["a"])({},i),{},{lod:0})),e.next=5,EI(a,um,n);case 5:s=e.sent,u=Cv(s),c=u.width,l=u.height,r=CI({width:c,height:l}),o.push(a);case 9:for(Fl(r>0),h=o.length;h<r;++h)p=hI(t,n,Object(f["a"])(Object(f["a"])({},i),{},{lod:h})),o.push(p);return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function CI(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}var RI="\n#define SHADER_NAME imagery-layer-vertex-shader\n\nattribute vec2 texCoords;\n\nuniform bool hasHeightMap;\nuniform sampler2D heightMapTexture;\nuniform vec4 heightMapBounds;\nuniform vec2 heightRange;\nuniform vec4 imageryBounds;\n\nvarying vec2 vTexCoord;\n\n// HACK/ib - Expose vWorldHeight to enable derivatives in fragment shader\nvarying float vWorldHeight;\n\nvec2 getUV(vec4 bounds, vec2 coords) {\n  return vec2(\n    (coords.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (coords.y - bounds[1]) / (bounds[3] - bounds[1])\n  );\n}\n\nvoid main(void) {\n  // Calculate vertex position\n  vec2 position = vec2(\n    mix(imageryBounds[0], imageryBounds[2], texCoords.x),\n    mix(imageryBounds[1], imageryBounds[3], texCoords.y)\n  );\n\n  float z = 0.0;\n  // Handle heightMap if provided\n  if (hasHeightMap) {\n    vec4 heightMapColor = texture2D(heightMapTexture, getUV(heightMapBounds, position));\n    float relativeHeight = heightMapColor.b;\n    z = mix(heightRange[0], heightRange[1], relativeHeight);\n  }\n\n  vWorldHeight = z;\n  vTexCoord = texCoords;\n\n  gl_Position = project_position_to_clipspace(vec3(position, z), vec3(0.0), vec3(0.0));\n\n  picking_setPickingColor(vec3(0., 0., 1.));\n}\n",MI="\n#define SHADER_NAME imagery-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D imageryTexture;\n\nvarying vec2 vTexCoord;\n\n// TODO/ib enables shader derivatives that facilitate debugging height maps\nvarying float vWorldHeight;\nconst float SLOPE_MAX = 0.10;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor / 255.0;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  return mix(transparentColor / 255.0, vec4(color, 1.0), alpha);\n}\n\nvoid main(void) {\n  vec4 bitmapColor = texture2D(imageryTexture, vTexCoord);\n\n  // TODO/ib - discard fragments when height is changing to quickly\n  // Uncomment to debug height maps\n  // If changing more than 5 centimeter per pixel discard\n  // if (abs(dFdx(vWorldHeight)) > SLOPE_MAX || abs(dFdy(vWorldHeight)) > SLOPE_MAX) {\n  //   discard;\n  // }\n\n  if (bitmapColor.rgb == vec3(0., 0., 0.)) {\n    discard;\n  };\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",LI=["id","uCount","vCount","drawMode"];function DI(e){var t=NI();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function NI(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var FI=function(e){Object(a["a"])(r,e);var t=DI(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,o=void 0===n?BI("grid-geometry"):n,a=e.uCount,s=void 0===a?1:a,u=e.vCount,c=void 0===u?1:u,l=e.drawMode,f=void 0===l?$A.TRIANGLES:l,h=Object(Jy["a"])(e,LI);return Object(i["a"])(this,r),t.call(this,Object.assign({},h,{id:o,drawMode:f,attributes:{indices:UI({uCount:s,vCount:c}),texCoords:VI({uCount:s,vCount:c})}}))}return Object(o["a"])(r)}(Up),zI={};function BI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";zI[e]=zI[e]||1;var t=zI[e]++;return"".concat(e,"-").concat(t)}function UI(e){for(var t=e.uCount,r=e.vCount,n=t*r*2*3,i=new Uint32Array(n),o=0,a=0;a<t;a++)for(var s=0;s<r;s++){var u=s*(t+1)+a,c=u+1,l=u+t+1,f=l+1;i[o++]=u,i[o++]=l,i[o++]=c,i[o++]=c,i[o++]=l,i[o++]=f}return i}function VI(e){for(var t=e.uCount,r=e.vCount,n=new Float32Array((t+1)*(r+1)*2),i=0,o=0;o<=r;o++)for(var a=0;a<=t;a++)n[i++]=a/t,n[i++]=o/r;return{value:n,size:2}}function GI(e){var t=qI();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function qI(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function WI(e,t){return"string"===typeof t?SI(t).then((function(t){return HI(e,t)}))["catch"]((function(e){throw new Error("Could not load texture from ".concat(t,": ").concat(e))})):new Promise((function(r){return r(HI(e,t))}))}function HI(e,t){var r;return t instanceof ur?t:new ur(e,{data:t,parameters:(r={},Object(c["a"])(r,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),Object(c["a"])(r,e.TEXTURE_MAG_FILTER,e.LINEAR),Object(c["a"])(r,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),Object(c["a"])(r,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r)})}var ZI={heightMap:null,heightMapBounds:{type:"array",value:[0,0,1,1],compare:!0},heightRange:{type:"array",value:[0,1],compare:!0},imagery:null,imageryBounds:{type:"array",value:[0,0,1,1],compare:!0},uCount:{type:"number",value:1,min:1},vCount:{type:"number",value:1,min:1},desaturate:{type:"number",value:0,min:0,max:1},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]}},XI=function(e){Object(a["a"])(r,e);var t=GI(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"initializeState",value:function(){var e=this.context.gl;e.getExtension("OES_standard_derivatives"),this.setState({model:this.getModel(e)})}},{key:"updateState",value:function(e){var t=this,r=e.props,n=e.oldProps,i=e.changeFlags,o=this.context.gl,a=this.state.model,s=r.heightMap,u=r.imagery,c=r.uCount,l=r.vCount;if(s&&s!==n.heightMap&&WI(o,s).then((function(e){a.setUniforms({heightMapTexture:e,hasHeightMap:!0})})),u!==n.imagery&&(this.setState({imageLoaded:!1}),WI(o,u).then((function(e){t.setState({imageLoaded:!0}),a.setUniforms({imageryTexture:e})}))),c!==n.uCount||l!==n.vCount){var f=new FI({uCount:c,vCount:l});a.setGeometry(f)}if(i.propsChanged){var h=r.heightMapBounds,p=r.heightRange,d=r.imageryBounds,v=r.desaturate,m=r.transparentColor,y=r.tintColor;a.setUniforms({heightMapBounds:h,heightRange:p,imageryBounds:d,desaturate:v,transparentColor:m,tintColor:y})}}},{key:"draw",value:function(e){this.state.imageLoaded&&this.state.model.draw(e)}},{key:"getModel",value:function(e){return new Is(e,{id:this.props.id,vs:RI,fs:MI,modules:[zp,Cp],shaderCache:this.context.shaderCache,vertexCount:0,isIndexed:!0})}}]),r}(vp);function $I(e){var t=YI();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function YI(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KI(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}XI.layerName="ImageryLayer",XI.defaultProps=ZI;var QI=JI(JI({},Id.defaultProps),{},{highPrecisionDash:!1,getColor2:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:[1,0,0]},getDashArray2:{type:"accessor",value:[0,0]}}),eC=function(e){Object(a["a"])(r,e);var t=$I(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"getShaders",value:function(){var e=Object(gy["a"])(Object(u["a"])(r.prototype),"getShaders",this).call(this);return e.vs=e.vs.replace("attribute float instanceStrokeWidths","attribute vec3 instanceStrokeWidths").replace("instanceStrokeWidths * widthScale","(instanceStrokeWidths.x + instanceStrokeWidths.y + instanceStrokeWidths.z) * widthScale"),e.inject={"vs:#decl":"\nuniform float strokeIndex;\n\nattribute vec4 instanceDashArrays;\nattribute float instanceStartRatio;\n\nvarying vec4 vDashArray;\nvarying vec2 vWidth;\nvarying float vPathOffset;\n","vs:#main-end":"\n  vDashArray = instanceDashArrays;\n\n  float totalWidth = instanceStrokeWidths.x + instanceStrokeWidths.y + instanceStrokeWidths.z;\n  if (strokeIndex == 0.0) {\n    vWidth = vec2(0.0, instanceStrokeWidths.x / totalWidth);\n  } else {\n    vWidth = vec2(1.0 - instanceStrokeWidths.z / totalWidth, 1.0);\n  }\n  // map to [-1.0, 1.0] space\n  vWidth = 1.0 - vWidth * 2.0;\n  vPathOffset = vPathLength * instanceStartRatio;\n","fs:#decl":"\nuniform float dashAlignMode;\nvarying vec4 vDashArray;\nvarying vec2 vWidth;\nvarying float vPathOffset;\n\n// mod doesn't work correctly for negative numbers\nfloat mod2(float a, float b) {\n  return a - floor(a / b) * b;\n}\n\nfloat round(float x) {\n  return floor(x + 0.5);\n}\n","fs:#main-start":"\n  if (vPathPosition.x > vWidth.x || vPathPosition.x < vWidth.y) {\n    discard;\n  }\n\n  float solid1 = vDashArray.x;\n  float gap1 = solid1 + vDashArray.y;\n  float solid2 = gap1 + vDashArray.z;\n  float unitLength = solid2 + vDashArray.w;\n\n  if (unitLength > 0.0 && vDashArray.y > 0.0) {\n    unitLength = mix(\n      unitLength,\n      vPathLength / round(vPathLength / unitLength),\n      dashAlignMode\n    );\n\n    float offset = mix(vPathOffset, vDashArray.x / 2.0, dashAlignMode);\n    float unitPosition = mod2(vPathPosition.y + offset, unitLength);\n\n    if (unitPosition > solid1 && unitPosition < gap1 || unitPosition > solid2) {\n      discard;\n    }\n  }\n"},e}},{key:"initializeState",value:function(e){Object(gy["a"])(Object(u["a"])(r.prototype),"initializeState",this).call(this,e),this.getAttributeManager().addInstanced({instanceStrokeWidths:{size:3,accessor:"getWidth",defaultValue:[1,0,0]},instanceColors2:{size:this.props.colorFormat.length,type:$A.UNSIGNED_BYTE,normalized:!0,accessor:"getColor2",defaultValue:[0,0,0,255]},instanceStartRatio:{size:1,update:this.calculateStartRatios},instanceDashArrays:{size:4,accessor:"getDashArray"},instanceDashArrays2:{size:4,accessor:"getDashArray2"}})}},{key:"draw",value:function(e){var t=this.state.model,n=this.getAttributeManager().getAttributes();t.setUniforms({strokeIndex:0}),t.setAttributes({instanceColors:n.instanceColors,instanceDashArrays:n.instanceDashArrays}),Object(gy["a"])(Object(u["a"])(r.prototype),"draw",this).call(this,e),t.setUniforms({strokeIndex:1,dashAlignMode:this.props.dashJustified?1:0}),t.setAttributes({instanceColors:n.instanceColors2,instanceDashArrays:n.instanceDashArrays2}),t.draw()}},{key:"calculateStartRatios",value:function(e){if(!this.props.highPrecisionDash)return e.constant=!0,void(e.value=new Float32Array(1));var t=this.state.numInstances,r=this.context.viewport,n=this.getAttributeManager().getAttributes(),i=n.positions,o=n.instanceTypes;i=i.value,o=o.value;for(var a=e.value,s=new ig["c"],u=new ig["c"],c=0,l=0;l<t-1;l++){s.set(i[3*l+0],i[3*l+1],i[3*l+2]),u.set(i[3*l+3],i[3*l+4],i[3*l+5]),s.copy(r.projectPosition(s)),u.copy(r.projectPosition(u));var f=s.distance(u);a[l]=f?c/f:0,o[l]<=1?c+=f:c=0}}}]),r}(Id);eC.layerName="LaneLayer",eC.defaultProps=QI},AK1u:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||"");if(!1===e.opts.format)return c&&(n+=" if (true) { "),n;var f,h=e.opts.$data&&a&&a.$data;h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var p=e.opts.unknownFormats,d=Array.isArray(p);if(h){var v="format"+i,m="isObject"+i,y="formatType"+i;n+=" var "+v+" = formats["+f+"]; var "+m+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+y+" = "+m+" && "+v+".type || 'string'; if ("+m+") { ",e.async&&(n+=" var async"+i+" = "+v+".async; "),n+=" "+v+" = "+v+".validate; } if (  ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+f+" && !"+v+" ",d&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+v+" && "+y+" == '"+r+"' && !(typeof "+v+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+v+"("+l+") : "+v+"("+l+")) ":n+=" "+v+"("+l+") ",n+=" : "+v+".test("+l+"))))) {"}else{v=e.formats[a];if(!v){if("ignore"==p)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(d&&p.indexOf(a)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}m="object"==typeof v&&!(v instanceof RegExp)&&v.validate,y=m&&v.type||"string";if(m){var g=!0===v.async;v=v.validate}if(y!=r)return c&&(n+=" if (true) { "),n;if(g){if(!e.async)throw new Error("async format in sync schema");var b="formats"+e.util.getProperty(a)+".validate";n+=" if (!(await "+b+"("+l+"))) { "}else{n+=" if (! ";b="formats"+e.util.getProperty(a);m&&(b+=".validate"),n+="function"==typeof v?" "+b+"("+l+") ":" "+b+".test("+l+") ",n+=") { "}}var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",n+=h?""+f:""+e.util.toQuotedString(a),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+f+" + '":""+e.util.escapeQuotes(a),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+s:""+e.util.toQuotedString(a),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;return n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n}},AK2Z:function(e,t,r){},AM7I:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(P){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=r("UVaH")(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},d="undefined"===typeof Uint8Array?n:h(Uint8Array),v={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=h(i.prototype))}return v[t]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r("D3zA"),b=r("oNNP"),_=g.call(Function.call,Array.prototype.concat),w=g.call(Function.apply,Array.prototype.splice),x=g.call(Function.call,String.prototype.replace),O=g.call(Function.call,String.prototype.slice),E=g.call(Function.call,RegExp.prototype.exec),j=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,k=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return x(e,j,(function(e,t,r,i){n[n.length]=r?x(i,S,"$1"):t||e})),n},T=function(e,t){var r,n=e;if(b(y,n)&&(r=y[n],n="%"+r[0]+"%"),b(v,n)){var o=v[n];if(o===p&&(o=m(n)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=k(e),n=r.length>0?r[0]:"",o=T("%"+n+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],w(r,_([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var d=r[h],m=O(d,0,1),y=O(d,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&p||(l=!0),n+="."+d,s="%"+n+"%",b(v,s))c=v[s];else if(null!=c){if(!(d in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&h+1>=r.length){var g=u(c,d);p=!!g,c=p&&"get"in g&&!("originalValue"in g.get)?g.get:c[d]}else p=b(c,d),c=c[d];p&&!l&&(v[s]=c)}}return c}},"AO7/":function(e,t,r){var n=r("tiKp"),i=n("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},AP2z:function(e,t,r){var n=r("nmnc"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;function u(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(u){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}e.exports=u},APWh:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u,n+=" var "+f+" = errors;  ";var d,v=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(d=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,d&&(h.opts.allErrors=d),e.compositeRule=h.compositeRule=v,n+=" if ("+p+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var y=n;n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n}},AQPS:function(e,t,r){},AQxW:function(e,t,r){"use strict";e.exports=s;var n=r("hEtX");((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var i=r("D9+D"),o=r("CzZC"),a=r("cL0a");function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),o=0;o<n.length;++o)r.add(i.fromJSON(n[o],t.methods[n[o]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,i=new a.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var u=o.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[u]=o.codegen(["r","c"],o.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},AVoK:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},AqCL:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},AwJw:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),h||(n+=" var schema"+i+" = validate.schema"+s+";"),n+="var "+f+" = equal("+l+", schema"+i+"); if (!"+f+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var d=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+d+"]); ":n+=" validate.errors = ["+d+"]; return false; ":n+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},AwgR:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.has,s=i.toKey;n({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var r=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),r)}})},"B6Q+":function(e,t,r){"use strict";var n=r("FpZJ");e.exports=function(){return n()&&!!Symbol.toStringTag}},B6y2:function(e,t,r){var n=r("I+eb"),i=r("b1O7").values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},B7nP:function(e,t,r){"use strict";r.d(t,"i",(function(){return m})),r.d(t,"e",(function(){return y})),r.d(t,"g",(function(){return g})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return _})),r.d(t,"d",(function(){return w})),r.d(t,"c",(function(){return O})),r.d(t,"h",(function(){return E})),r.d(t,"f",(function(){return j}));var n=r("ODXe"),i=r("VKpO"),o=r("ZaHm"),a=r("ZxFD"),s=r("n+fv"),u=r("54ZI"),c=Math.PI,l=c/4,f=c/180,h=180/c,p=512,d=4003e4,v=1.5;function m(e){return Math.pow(2,e)}function y(e,t){var r=Object(n["a"])(e,2),i=r[0],o=r[1];Object(u["a"])(Number.isFinite(i)&&Number.isFinite(t)),Object(u["a"])(Number.isFinite(o)&&o>=-90&&o<=90,"invalid latitude"),t*=p;var a=i*f,s=o*f,h=t*(a+c)/(2*c),d=t*(c-Math.log(Math.tan(l+.5*s)))/(2*c);return[h,d]}function g(e,t){var r=Object(n["a"])(e,2),i=r[0],o=r[1];t*=p;var a=i/t*(2*c)-c,s=2*(Math.atan(Math.exp(c-o/t*(2*c)))-l);return[a*h,s*h]}function b(e){var t=e.latitude,r=e.longitude,n=e.zoom,i=e.scale,o=e.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:m(n),Object(u["a"])(Number.isFinite(t)&&Number.isFinite(r)&&Number.isFinite(i));var s={},c=p*i,l=Math.cos(t*f),h=c/360,v=h/l,y=c/d/l;if(s.pixelsPerMeter=[y,-y,y],s.metersPerPixel=[1/y,-1/y,1/y],s.pixelsPerDegree=[h,-v,y],s.degreesPerPixel=[1/h,-1/v,1/y],a){var g=f*Math.tan(t*f)/l,b=h*g/2,_=c/d*g,w=_/v*y;s.pixelsPerDegree2=[0,-b,_],s.pixelsPerMeter2=[w,0,w]}return s}function _(e,t){var r=Object(n["a"])(e,3),i=r[0],o=r[1],a=r[2],s=Object(n["a"])(t,3),u=s[0],c=s[1],l=s[2],f=1,h=b({longitude:i,latitude:o,scale:f,highPrecision:!0}),p=h.pixelsPerMeter,d=h.pixelsPerMeter2,v=y(e,f);v[0]+=u*(p[0]+d[0]*c),v[1]+=c*(p[1]+d[1]*c);var m=g(v,f),_=(a||0)+(l||0);return Number.isFinite(a)||Number.isFinite(l)?[m[0],m[1],_]:m}function w(e){var t=e.height,r=e.pitch,n=e.bearing,a=e.altitude,u=e.center,c=void 0===u?null:u,l=e.flipY,h=void 0!==l&&l,p=Object(i["a"])();return o["o"](p,p,[0,0,-a]),o["n"](p,p,[1,1,1/t]),o["k"](p,p,-r*f),o["m"](p,p,n*f),h&&o["n"](p,p,[1,-1,1]),c&&o["o"](p,p,s["j"]([],c)),p}function x(e){var t=e.width,r=e.height,n=e.altitude,i=void 0===n?v:n,o=e.pitch,a=void 0===o?0:o,s=e.nearZMultiplier,u=void 0===s?1:s,c=e.farZMultiplier,l=void 0===c?1:c,h=a*f,p=Math.atan(.5/i),d=Math.sin(p)*i/Math.sin(Math.PI/2-h-p),m=Math.cos(Math.PI/2-h)*d+i;return{fov:2*Math.atan(r/2/i),aspect:t/r,focalDistance:i,near:u,far:m*l}}function O(e){var t=e.width,r=e.height,n=e.pitch,i=e.altitude,a=e.nearZMultiplier,s=e.farZMultiplier,u=x({width:t,height:r,altitude:i,pitch:n,nearZMultiplier:a,farZMultiplier:s}),c=u.fov,l=u.aspect,f=u.near,h=u.far,p=o["i"]([],c,l,f,h);return p}function E(e,t){var r=Object(n["a"])(e,3),o=r[0],a=r[1],s=r[2],c=void 0===s?0:s;return Object(u["a"])(Number.isFinite(o)&&Number.isFinite(a)&&Number.isFinite(c)),Object(i["b"])(t,[o,a,c,1])}function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(n["a"])(e,3),s=o[0],c=o[1],l=o[2];if(Object(u["a"])(Number.isFinite(s)&&Number.isFinite(c),"invalid pixel coordinate"),Number.isFinite(l)){var f=Object(i["b"])(t,[s,c,l,1]);return f}var h=Object(i["b"])(t,[s,c,0,1]),p=Object(i["b"])(t,[s,c,1,1]),d=h[2],v=p[2],m=d===v?0:((r||0)-d)/(v-d);return a["c"]([],h,p,m)}},B8du:function(e,t){function r(){return!1}e.exports=r},BEY9:function(e,t,r){"use strict";function n(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=1+(7|a)),s}}e.exports=n},BGb9:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),c=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),r=new(u(t,o("Set")))(t);return c(e,s(r.add),r),r}})},BIHw:function(e,t,r){"use strict";var n=r("I+eb"),i=r("or9q"),o=r("ewvW"),a=r("UMSQ"),s=r("ppGB"),u=r("ZfDv");n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),r=a(t.length),n=u(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},BS1C:function(e,t,r){"undefined"===typeof TextDecoder&&r(6),e.exports={TextEncoder:TextEncoder,TextDecoder:TextDecoder}},BTho:function(e,t,r){"use strict";var n=r("HAuM"),i=r("hh1v"),o=[].slice,a={},s=function(e,t,r){if(!(t in a)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";a[t]=Function("C,a","return new C("+n.join(",")+")")}return a[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),a=function(){var n=r.concat(o.call(arguments));return this instanceof a?s(t,n.length,n):t.apply(e,n)};return i(t.prototype)&&(a.prototype=t.prototype),a}},"BX/b":function(e,t,r){var n=r("/GqU"),i=r("JBy8").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(n(e))}},Bs8V:function(e,t,r){var n=r("g6v/"),i=r("0eef"),o=r("XGwC"),a=r("/GqU"),s=r("wE6v"),u=r("UTVS"),c=r("DPsx"),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(r){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},BsWD:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(e,t):void 0}}},C1JJ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),r=a(t.has);return!s(e,(function(e){if(!0===r.call(t,e))return s.stop()})).stopped}})},C9ya:function(e,t,r){"use strict";var n=r("tqrP"),i=r("pEiA"),o=Object.prototype.hasOwnProperty;function a(e){return e&&"EPROMISERETRY"===e.code&&o.call(e,"retried")}function s(e,t){var r,o;return"object"===typeof e&&"function"===typeof t&&(r=t,t=e,e=r),o=i.operation(t),new Promise((function(t,r){o.attempt((function(i){Promise.resolve().then((function(){return e((function(e){throw a(e)&&(e=e.retried),n("Retrying","EPROMISERETRY",{retried:e})}),i)})).then(t,(function(e){a(e)&&(e=e.retried,o.retry(e||new Error))||r(e)}))}))}))}e.exports=s},CH3K:function(e,t){function r(e,t){var r=-1,n=t.length,i=e.length;while(++r<n)e[i+r]=t[r];return e}e.exports=r},CUyW:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),c=r("SEBh"),l=r("Sssf"),f=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=a(this),r=l(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),h=s(i.set);return f(r,(function(e,r){h.call(i,e,n(r,e,t))}),void 0,!0,!0),i}})},Cg3G:function(e,t,r){"use strict";var n=r("glrk"),i=r("HAuM");e.exports=function(){for(var e,t=n(this),r=i(t["delete"]),o=!0,a=0,s=arguments.length;a<s;a++)e=r.call(t,arguments[a]),o=o&&e;return!!o}},Co1j:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),r=a(t.has);return!s(e,(function(e){if(!1===r.call(t,e))return s.stop()})).stopped}})},Cwc5:function(e,t,r){var n=r("NKxu"),i=r("Npjl");function o(e,t){var r=i(e,t);return n(r)?r:void 0}e.exports=o},CyXQ:function(e,t,r){var n=r("ppGB"),i=r("UMSQ");e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},CzZC:function(e,t,r){"use strict";var n,i,o=e.exports=r("XOFf"),a=r("0qCr");o.codegen=r("6wl5"),o.fetch=r("eroE"),o.path=r("LZp6"),o.typedArrayIsLe=function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer);return 128===t[3]},o.fs=o.inquire("fs"),o.toArray=function(e){if(e){var t=Object.keys(e),r=new Array(t.length),n=0;while(n<t.length)r[n]=e[t[n++]];return r}return[]},o.toObject=function(e){var t={},r=0;while(r<e.length){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var s=/\\/g,u=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(s,"\\\\").replace(u,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;n||(n=r("XBMD"));var i=new n(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var l=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r("Jkyt"));var t=new i("Enum"+l++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},Object.defineProperty(o,"decorateRoot",{get:function(){return a["decorated"]||(a["decorated"]=new(r("chBw")))}})},D3zA:function(e,t,r){"use strict";var n=r("aI7X");e.exports=Function.prototype.bind||n},"D9+D":function(e,t,r){"use strict";e.exports=o;var n=r("r7wP");((o.prototype=Object.create(n.prototype)).constructor=o).className="Method";var i=r("CzZC");function o(e,t,r,o,a,s,u,c){if(i.isObject(a)?(u=a,a=s=void 0):i.isObject(s)&&(u=s,s=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");n.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=o,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},DEfu:function(e,t,r){var n=r("2oRo"),i=r("1E5z");i(n.JSON,"JSON",!0)},DMt2:function(e,t,r){var n=r("UMSQ"),i=r("EUja"),o=r("HYAF"),a=Math.ceil,s=function(e){return function(t,r,s){var u,c,l=String(o(t)),f=l.length,h=void 0===s?" ":String(s),p=n(r);return p<=f||""==h?l:(u=p-f,c=i.call(h,a(u/h.length)),c.length>u&&(c=c.slice(0,u)),e?l+c:c+l)}};e.exports={start:s(!1),end:s(!0)}},DOHC:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i}));var n=r("vdpk");function i(){var t="object"===typeof e&&"[object process]"===String(e)&&!e.browser;return!t||Object(n["a"])()}}).call(this,r("Q2Ig"))},DPsx:function(e,t,r){var n=r("g6v/"),i=r("0Dky"),o=r("zBJ4");e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},DSRE:function(e,t,r){(function(e){var n=r("Kz5y"),i=r("B8du"),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(this,r("hOG+")(e))},DTth:function(e,t,r){var n=r("0Dky"),i=r("tiKp"),o=r("xDBR"),a=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},DfUM:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"gltf/glb assertion failed.")}r.d(t,"a",(function(){return n}))},DhMN:function(e,t,r){r("ofBz")},DmXP:function(e,t,r){"use strict";var n=Date.prototype.getDay,i=function(e){try{return n.call(e),!0}catch(t){return!1}},o=Object.prototype.toString,a="[object Date]",s=r("B6Q+")();e.exports=function(e){return"object"===typeof e&&null!==e&&(s?i(e):o.call(e)===a)}},DrvE:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HAuM"),o=r("0GbY"),a=r("8GlL"),s=r("5mdu"),u=r("ImZN"),c="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=a.f(t),n=r.resolve,l=r.reject,f=s((function(){var r=i(t.resolve),a=[],s=0,f=1,h=!1;u(e,(function(e){var i=s++,u=!1;a.push(void 0),f++,r.call(t,e).then((function(e){u||h||(h=!0,n(e))}),(function(e){u||h||(u=!0,a[i]=e,--f||l(new(o("AggregateError"))(a,c)))}))})),--f||l(new(o("AggregateError"))(a,c))}));return f.error&&l(f.value),r.promise}})},E261:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=n(r("lwsE")),o=n(r("W8MJ")),a=n(r("lSNA")),s=(r("uUy6"),function(){function e(t){var r=t.cellCount,n=t.cellSizeGetter,o=t.estimatedCellSize;(0,i["default"])(this,e),(0,a["default"])(this,"_cellSizeAndPositionData",{}),(0,a["default"])(this,"_lastMeasuredIndex",-1),(0,a["default"])(this,"_lastBatchedIndex",-1),(0,a["default"])(this,"_cellCount",void 0),(0,a["default"])(this,"_cellSizeGetter",void 0),(0,a["default"])(this,"_estimatedCellSize",void 0),this._cellSizeGetter=n,this._cellCount=r,this._estimatedCellSize=o}return(0,o["default"])(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,r=e.estimatedCellSize,n=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=r,this._cellSizeGetter=n}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),r=t.offset+t.size,n=this._lastMeasuredIndex+1;n<=e;n++){var i=this._cellSizeGetter({index:n});if(void 0===i||isNaN(i))throw Error("Invalid size returned for cell ".concat(n," of value ").concat(i));null===i?(this._cellSizeAndPositionData[n]={offset:r,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[n]={offset:r,size:i},r+=i,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell(),t=e.offset+e.size,r=this._cellCount-this._lastMeasuredIndex-1,n=r*this._estimatedCellSize;return t+n}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,r=void 0===t?"auto":t,n=e.containerSize,i=e.currentOffset,o=e.targetIndex;if(n<=0)return 0;var a,s=this.getSizeAndPositionOfCell(o),u=s.offset,c=u-n+s.size;switch(r){case"start":a=u;break;case"end":a=c;break;case"center":a=u-(n-s.size)/2;break;default:a=Math.max(c,Math.min(u,i));break}var l=this.getTotalSize();return Math.max(0,Math.min(l-n,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,r=e.offset,n=this.getTotalSize();if(0===n)return{};var i=r+t,o=this._findNearestCell(r),a=this.getSizeAndPositionOfCell(o);r=a.offset+a.size;var s=o;while(r<i&&s<this._cellCount-1)s++,r+=this.getSizeAndPositionOfCell(s).size;return{start:o,stop:s}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,r){while(t<=e){var n=t+Math.floor((e-t)/2),i=this.getSizeAndPositionOfCell(n).offset;if(i===r)return n;i<r?t=n+1:i>r&&(e=n-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){var r=1;while(e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t)e+=r,r*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(r,0,e):this._exponentialSearch(r,e)}}]),e}());t["default"]=s},E2jh:function(e,t,r){var n=r("2gN3"),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},E8nr:function(e){e.exports=JSON.parse('{"nested":{"xviz":{"nested":{"v2":{"options":{"csharp_namespace":"xviz.V2","go_package":"v2pb","java_multiple_files":true,"java_outer_classname":"UiprimitivesProto","java_package":"com.xviz.v2","objc_class_prefix":"XVIZ","php_namespace":"Xviz\\\\V2"},"nested":{"VisualBase":{"options":{"(xviz_json_schema)":"core/annotation_base"},"fields":{"object_id":{"type":"string","id":1}}},"Visual":{"options":{"(xviz_json_schema)":"core/annotation_visual"},"fields":{"base":{"type":"VisualBase","id":1},"style_classes":{"rule":"repeated","type":"string","id":2},"inline_style":{"type":"StyleObjectValue","id":3}}},"StreamSet":{"options":{"(xviz_json_schema)":"core/stream_set"},"fields":{"timestamp":{"type":"double","id":1},"poses":{"keyType":"string","type":"Pose","id":2},"primitives":{"keyType":"string","type":"PrimitiveState","id":3},"time_series":{"rule":"repeated","type":"TimeSeriesState","id":4},"future_instances":{"keyType":"string","type":"FutureInstances","id":6},"variables":{"keyType":"string","type":"VariableState","id":7},"annotations":{"keyType":"string","type":"AnnotationState","id":8},"ui_primitives":{"keyType":"string","type":"UIPrimitiveState","id":9},"no_data_streams":{"rule":"repeated","type":"string","id":10},"links":{"keyType":"string","type":"Link","id":11}}},"Pose":{"options":{"(xviz_json_schema)":"core/pose"},"fields":{"timestamp":{"type":"double","id":1},"map_origin":{"type":"MapOrigin","id":2},"position":{"rule":"repeated","type":"double","id":3},"orientation":{"rule":"repeated","type":"double","id":4}}},"MapOrigin":{"fields":{"longitude":{"type":"double","id":1},"latitude":{"type":"double","id":2},"altitude":{"type":"double","id":3}}},"PrimitiveState":{"options":{"(xviz_json_schema)":"core/primitive_state"},"fields":{"polygons":{"rule":"repeated","type":"Polygon","id":1},"polylines":{"rule":"repeated","type":"Polyline","id":2},"texts":{"rule":"repeated","type":"Text","id":3},"circles":{"rule":"repeated","type":"Circle","id":4},"points":{"rule":"repeated","type":"Point","id":5},"stadiums":{"rule":"repeated","type":"Stadium","id":6},"images":{"rule":"repeated","type":"Image","id":7}}},"UIPrimitiveState":{"options":{"(xviz_json_schema)":"core/ui_primitive_state"},"fields":{"treetable":{"type":"TreeTable","id":1}}},"TimeSeriesState":{"options":{"(xviz_json_schema)":"core/timeseries_state"},"fields":{"timestamp":{"type":"double","id":1},"object_id":{"type":"string","id":2},"streams":{"rule":"repeated","type":"string","id":3},"values":{"type":"Values","id":4}}},"FutureInstances":{"options":{"(xviz_json_schema)":"core/future_instances"},"fields":{"timestamps":{"rule":"repeated","type":"double","id":1},"primitives":{"rule":"repeated","type":"PrimitiveState","id":2}}},"VariableState":{"options":{"(xviz_json_schema)":"core/variable_state"},"fields":{"variables":{"rule":"repeated","type":"Variable","id":1}}},"AnnotationState":{"options":{"(xviz_json_schema)":"core/annotation_state"},"fields":{"visuals":{"rule":"repeated","type":"Visual","id":1}}},"Variable":{"options":{"(xviz_json_schema)":"core/variable"},"fields":{"base":{"type":"VariableBase","id":1},"values":{"type":"Values","id":2}}},"VariableBase":{"fields":{"object_id":{"type":"string","id":1}}},"Values":{"options":{"(xviz_json_schema)":"core/values"},"fields":{"doubles":{"rule":"repeated","type":"double","id":2},"int32s":{"rule":"repeated","type":"int32","id":3},"bools":{"rule":"repeated","type":"bool","id":4},"strings":{"rule":"repeated","type":"string","id":5}}},"Link":{"options":{"(xviz_json_schema)":"core/link_state"},"fields":{"target_pose":{"type":"string","id":1}}},"Envelope":{"fields":{"type":{"type":"string","id":1},"data":{"type":"google.protobuf.Any","id":2}}},"xviz_json_schema":{"type":"string","id":54200,"extend":"google.protobuf.MessageOptions"},"PrimitiveBase":{"fields":{"object_id":{"type":"string","id":1},"classes":{"rule":"repeated","type":"string","id":2},"style":{"type":"StyleObjectValue","id":3}}},"Circle":{"options":{"(xviz_json_schema)":"primitives/circle"},"fields":{"base":{"type":"PrimitiveBase","id":1},"center":{"rule":"repeated","type":"float","id":2},"radius":{"type":"float","id":3}}},"Image":{"options":{"(xviz_json_schema)":"primitives/image"},"fields":{"base":{"type":"PrimitiveBase","id":1},"position":{"rule":"repeated","type":"float","id":2},"data":{"type":"bytes","id":3},"width_px":{"type":"uint32","id":4},"height_px":{"type":"uint32","id":5}}},"Point":{"options":{"(xviz_json_schema)":"primitives/point"},"fields":{"base":{"type":"PrimitiveBase","id":1},"points":{"rule":"repeated","type":"float","id":2},"colors":{"type":"bytes","id":3}}},"Polygon":{"options":{"(xviz_json_schema)":"primitives/polygon"},"fields":{"base":{"type":"PrimitiveBase","id":1},"vertices":{"rule":"repeated","type":"float","id":2}}},"Polyline":{"options":{"(xviz_json_schema)":"primitives/polyline"},"fields":{"base":{"type":"PrimitiveBase","id":1},"vertices":{"rule":"repeated","type":"float","id":2},"colors":{"type":"bytes","id":3}}},"Stadium":{"options":{"(xviz_json_schema)":"primitives/stadium"},"fields":{"base":{"type":"PrimitiveBase","id":1},"start":{"rule":"repeated","type":"float","id":2},"end":{"rule":"repeated","type":"float","id":3},"radius":{"type":"float","id":4}}},"Text":{"options":{"(xviz_json_schema)":"primitives/text"},"fields":{"base":{"type":"PrimitiveBase","id":1},"position":{"rule":"repeated","type":"float","id":2},"text":{"type":"string","id":3}}},"SessionType":{"values":{"SESSION_TYPE_INVALID":0,"LIVE":1,"LOG":2,"UNBUFFERED_LOG":3}},"Start":{"options":{"(xviz_json_schema)":"session/start"},"fields":{"version":{"type":"string","id":1},"profile":{"type":"string","id":2},"session_type":{"type":"SessionType","id":3},"message_format":{"type":"MessageFormat","id":4},"log":{"type":"string","id":5}},"nested":{"MessageFormat":{"values":{"START_MESSAGE_FORMAT_INVALID":0,"JSON":1,"BINARY":2}}}},"TransformLog":{"options":{"(xviz_json_schema)":"session/transform_log"},"fields":{"id":{"type":"string","id":1},"start_timestamp":{"type":"double","id":2},"end_timestamp":{"type":"double","id":3},"desired_streams":{"rule":"repeated","type":"string","id":4}}},"StateUpdate":{"options":{"(xviz_json_schema)":"session/state_update"},"fields":{"update_type":{"type":"UpdateType","id":1},"updates":{"rule":"repeated","type":"StreamSet","id":2}},"nested":{"UpdateType":{"values":{"STATE_UPDATE_UPDATE_TYPE_INVALID":0,"SNAPSHOT":1,"INCREMENTAL":2,"COMPLETE_STATE":3,"PERSISTENT":4}}}},"TransformLogDone":{"options":{"(xviz_json_schema)":"session/transform_log_done"},"fields":{"id":{"type":"string","id":1}}},"TransformPointInTime":{"options":{"(xviz_json_schema)":"session/transform_point_in_time"},"fields":{"id":{"type":"string","id":1},"query_timestamp":{"type":"double","id":2},"desired_streams":{"rule":"repeated","type":"string","id":3}}},"Reconfigure":{"options":{"(xviz_json_schema)":"session/reconfigure"},"fields":{"update_type":{"type":"UpdateType","id":1},"config_update":{"type":"google.protobuf.Struct","id":2}},"nested":{"UpdateType":{"values":{"RECONFIGURE_UPDATE_TYPE_INVALID":0,"DELTA":1,"FULL":2}}}},"Metadata":{"options":{"(xviz_json_schema)":"session/metadata"},"fields":{"version":{"type":"string","id":1},"streams":{"keyType":"string","type":"StreamMetadata","id":2},"cameras":{"keyType":"string","type":"CameraInfo","id":3},"stream_aliases":{"keyType":"string","type":"string","id":4},"ui_config":{"keyType":"string","type":"UIPanelInfo","id":5},"log_info":{"type":"LogInfo","id":6}}},"Error":{"options":{"(xviz_json_schema)":"session/error"},"fields":{"message":{"type":"string","id":1}}},"StreamMetadata":{"options":{"(xviz_json_schema)":"session/stream_metadata"},"fields":{"source":{"type":"string","id":1},"units":{"type":"string","id":2},"category":{"type":"Category","id":3},"scalar_type":{"type":"ScalarType","id":4},"primitive_type":{"type":"PrimitiveType","id":5},"ui_primitive_type":{"type":"UIPrimitiveType","id":6},"annotation_type":{"type":"AnnotationType","id":7},"stream_style":{"type":"StyleStreamValue","id":8},"style_classes":{"rule":"repeated","type":"StyleClass","id":9},"coordinate":{"type":"CoordinateType","id":10},"transform":{"rule":"repeated","type":"double","id":11},"transform_callback":{"type":"string","id":12}},"nested":{"Category":{"values":{"STREAM_METADATA_CATEGORY_INVALID":0,"PRIMITIVE":1,"TIME_SERIES":2,"VARIABLE":3,"ANNOTATION":4,"FUTURE_INSTANCE":5,"POSE":6,"UI_PRIMITIVE":7}},"ScalarType":{"values":{"STREAM_METADATA_SCALAR_TYPE_INVALID":0,"FLOAT":1,"INT32":2,"STRING":3,"BOOL":4}},"PrimitiveType":{"values":{"STREAM_METADATA_PRIMITIVE_TYPE_INVALID":0,"CIRCLE":1,"IMAGE":2,"POINT":3,"POLYGON":4,"POLYLINE":5,"STADIUM":6,"TEXT":7}},"UIPrimitiveType":{"values":{"STREAM_METADATA_UI_PRIMITIVE_TYPE_INVALID":0,"TREETABLE":1}},"AnnotationType":{"values":{"STREAM_METADATA_ANNOTATION_TYPE_INVALID":0,"VISUAL":1}},"CoordinateType":{"values":{"STREAM_METADATA_COORDINATE_TYPE_INVALID":0,"GEOGRAPHIC":1,"IDENTITY":2,"DYNAMIC":3,"VEHICLE_RELATIVE":4}}}},"CameraInfo":{"options":{"(xviz_json_schema)":"session/camera_info"},"fields":{"human_name":{"type":"string","id":1},"source":{"type":"string","id":2},"vehicle_position":{"rule":"repeated","type":"double","id":3},"vehicle_orientation":{"rule":"repeated","type":"double","id":4},"pixel_width":{"type":"double","id":5},"pixel_height":{"type":"double","id":6},"rectification_projection":{"rule":"repeated","type":"double","id":7},"gl_projection":{"rule":"repeated","type":"double","id":8}}},"UIPanelInfo":{"options":{"(xviz_json_schema)":"session/ui_panel_info"},"fields":{"name":{"type":"string","id":1},"needed_streams":{"rule":"repeated","type":"string","id":2},"config":{"type":"google.protobuf.Struct","id":3}}},"LogInfo":{"options":{"(xviz_json_schema)":"session/log_info"},"fields":{"start_time":{"type":"double","id":1},"end_time":{"type":"double","id":2}}},"StyleClass":{"options":{"(xviz_json_schema)":"style/class"},"fields":{"name":{"type":"string","id":1},"style":{"type":"StyleObjectValue","id":2}}},"StyleObjectValue":{"options":{"(xviz_json_schema)":"style/object_value"},"fields":{"fill_color":{"type":"bytes","id":1},"stroke_color":{"type":"bytes","id":2},"stroke_width":{"type":"float","id":3},"radius":{"type":"float","id":4},"text_size":{"type":"float","id":5},"text_rotation":{"type":"float","id":6},"text_anchor":{"type":"TextAnchor","id":7},"text_baseline":{"type":"TextAlignmentBaseline","id":8},"height":{"type":"float","id":9}}},"StyleStreamValue":{"options":{"(xviz_json_schema)":"style/stream_value"},"fields":{"fill_color":{"type":"bytes","id":1},"stroke_color":{"type":"bytes","id":2},"stroke_width":{"type":"float","id":3},"radius":{"type":"float","id":4},"text_size":{"type":"float","id":5},"text_rotation":{"type":"float","id":6},"text_anchor":{"type":"TextAnchor","id":7},"text_baseline":{"type":"TextAlignmentBaseline","id":8},"height":{"type":"float","id":9},"radius_min_pixels":{"type":"uint32","id":10},"radius_max_pixels":{"type":"uint32","id":11},"stroke_width_min_pixels":{"type":"uint32","id":12},"stroke_width_max_pixels":{"type":"uint32","id":13},"opacity":{"type":"float","id":14},"stroked":{"type":"bool","id":15},"filled":{"type":"bool","id":16},"extruded":{"type":"bool","id":17},"radius_pixels":{"type":"uint32","id":18},"font_weight":{"type":"uint32","id":19},"font_family":{"type":"string","id":20},"point_color_mode":{"type":"PointColorMode","id":21},"point_color_domain":{"rule":"repeated","type":"float","id":22}}},"Color":{"fields":{"values":{"type":"bytes","id":1}}},"TextAnchor":{"values":{"TEXT_ANCHOR_INVALID":0,"START":1,"MIDDLE":2,"END":3}},"TextAlignmentBaseline":{"values":{"TEXT_ALIGNMENT_BASELINE_INVALID":0,"TOP":1,"CENTER":2,"BOTTOM":3}},"PointColorMode":{"values":{"POINT_COLOR_MODE_INVALID":0,"ELEVATION":1,"DISTANCE_TO_VEHICLE":2}},"TreeTable":{"options":{"(xviz_json_schema)":"ui-primitives/treetable"},"fields":{"columns":{"rule":"repeated","type":"TreeTableColumn","id":1},"nodes":{"rule":"repeated","type":"TreeTableNode","id":2}}},"TreeTableColumn":{"fields":{"display_text":{"type":"string","id":1},"type":{"type":"ColumnType","id":2},"unit":{"type":"string","id":3}},"nested":{"ColumnType":{"values":{"TREE_TABLE_COLUMN_COLUMN_TYPE_INVALID":0,"INT32":1,"DOUBLE":2,"STRING":3,"BOOLEAN":4}}}},"TreeTableNode":{"fields":{"id":{"type":"int32","id":1},"parent":{"type":"int32","id":2},"column_values":{"rule":"repeated","type":"string","id":3}}}}}}},"google":{"nested":{"protobuf":{"nested":{"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"public_dependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weak_dependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"message_type":{"rule":"repeated","type":"DescriptorProto","id":4},"enum_type":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"source_code_info":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nested_type":{"rule":"repeated","type":"DescriptorProto","id":3},"enum_type":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extension_range":{"rule":"repeated","type":"ExtensionRange","id":5},"oneof_decl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reserved_range":{"rule":"repeated","type":"ReservedRange","id":9},"reserved_name":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"type_name":{"type":"string","id":6},"extendee":{"type":"string","id":2},"default_value":{"type":"string","id":7},"oneof_index":{"type":"int32","id":9},"json_name":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"input_type":{"type":"string","id":2},"output_type":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"client_streaming":{"type":"bool","id":5},"server_streaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"java_package":{"type":"string","id":1},"java_outer_classname":{"type":"string","id":8},"java_multiple_files":{"type":"bool","id":10},"java_generate_equals_and_hash":{"type":"bool","id":20,"options":{"deprecated":true}},"java_string_check_utf8":{"type":"bool","id":27},"optimize_for":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"go_package":{"type":"string","id":11},"cc_generic_services":{"type":"bool","id":16},"java_generic_services":{"type":"bool","id":17},"py_generic_services":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"cc_enable_arenas":{"type":"bool","id":31},"objc_class_prefix":{"type":"string","id":36},"csharp_namespace":{"type":"string","id":37},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"message_set_wire_format":{"type":"bool","id":1},"no_standard_descriptor_accessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"map_entry":{"type":"bool","id":7},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allow_alias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpreted_option":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifier_value":{"type":"string","id":3},"positive_int_value":{"type":"uint64","id":4},"negative_int_value":{"type":"int64","id":5},"double_value":{"type":"double","id":6},"string_value":{"type":"bytes","id":7},"aggregate_value":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"name_part":{"rule":"required","type":"string","id":1},"is_extension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leading_comments":{"type":"string","id":3},"trailing_comments":{"type":"string","id":4},"leading_detached_comments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"source_file":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}}}}}}}}')},E9XD:function(e,t,r){"use strict";var n=r("I+eb"),i=r("1Y/n").left,o=r("pkCn"),a=r("rkAj"),s=o("reduce"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"EDT/":function(e,t,r){var n=r("I+eb"),i=r("p5mE"),o=r("0GbY");n({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"===typeof arguments[0]?o("Symbol")["for"](arguments[0]):i.apply(null,arguments).get("symbol",o("Symbol"))}})},ENF9:function(e,t,r){"use strict";var n,i=r("2oRo"),o=r("4syw"),a=r("8YOa"),s=r("bWFh"),u=r("rKzb"),c=r("hh1v"),l=r("afO8").enforce,f=r("f5p1"),h=!i.ActiveXObject&&"ActiveXObject"in i,p=Object.isExtensible,d=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=e.exports=s("WeakMap",d,u);if(f&&h){n=u.getConstructor(d,"WeakMap",!0),a.REQUIRED=!0;var m=v.prototype,y=m["delete"],g=m.has,b=m.get,_=m.set;o(m,{delete:function(e){if(c(e)&&!p(e)){var t=l(this);return t.frozen||(t.frozen=new n),y.call(this,e)||t.frozen["delete"](e)}return y.call(this,e)},has:function(e){if(c(e)&&!p(e)){var t=l(this);return t.frozen||(t.frozen=new n),g.call(this,e)||t.frozen.has(e)}return g.call(this,e)},get:function(e){if(c(e)&&!p(e)){var t=l(this);return t.frozen||(t.frozen=new n),g.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!p(e)){var r=l(this);r.frozen||(r.frozen=new n),g.call(this,e)?_.call(this,e,t):r.frozen.set(e,t)}else _.call(this,e,t);return this}})}},EUja:function(e,t,r){"use strict";var n=r("ppGB"),i=r("HYAF");e.exports="".repeat||function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},EdiO:function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},EnZy:function(e,t,r){"use strict";var n=r("14Sl"),i=r("ROdP"),o=r("glrk"),a=r("HYAF"),s=r("SEBh"),u=r("iqWW"),c=r("UMSQ"),l=r("FMNM"),f=r("kmMV"),h=r("0Dky"),p=[].push,d=Math.min,v=4294967295,m=!h((function(){return!RegExp(v,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(a(this)),o=void 0===r?v:r>>>0;if(0===o)return[];if(void 0===e)return[n];if(!i(e))return t.call(n,e,o);var s,u,c,l=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=new RegExp(e.source,h+"g");while(s=f.call(m,n)){if(u=m.lastIndex,u>d&&(l.push(n.slice(d,s.index)),s.length>1&&s.index<n.length&&p.apply(l,s.slice(1)),c=s[0].length,d=u,l.length>=o))break;m.lastIndex===s.index&&m.lastIndex++}return d===n.length?!c&&m.test("")||l.push(""):l.push(n.slice(d)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,r):n.call(String(i),t,r)},function(e,i){var a=r(n,e,this,i,n!==t);if(a.done)return a.value;var f=o(e),h=String(this),p=s(f,RegExp),y=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),b=new p(m?f:"^(?:"+f.source+")",g),_=void 0===i?v:i>>>0;if(0===_)return[];if(0===h.length)return null===l(b,h)?[h]:[];var w=0,x=0,O=[];while(x<h.length){b.lastIndex=m?x:0;var E,j=l(b,m?h:h.slice(x));if(null===j||(E=d(c(b.lastIndex+(m?0:x)),h.length))===w)x=u(h,x,y);else{if(O.push(h.slice(w,x)),O.length===_)return O;for(var S=1;S<=j.length-1;S++)if(O.push(j[S]),O.length===_)return O;x=w=E}}return O.push(h.slice(w)),O}]}),!m)},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},EpBk:function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},Eqjn:function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("HAuM"),u=r("m/L8");i&&n({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){u.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"Ew+T":function(e,t,r){var n=r("I+eb"),i=r("2oRo"),o=r("LPSS"),a=!i.setImmediate||!i.clearImmediate;n({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:o.set,clearImmediate:o.clear})},ExA7:function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},"F+kV":function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),i=r.n(n),o=r("dEAq"),a=r("H1Ra"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"getting-started"},i.a.createElement(o["AnchorLink"],{to:"#getting-started","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Getting Started"),i.a.createElement("p",null,"Create first doc in manual way"),i.a.createElement(a["a"],{code:"// Create dir for libraries\n$ mkdir library && cd library\n\n// Install dumi\n$ npm i dumi\n\n// Create docs\n$ mkdir docs && echo '# Hello dumi!' > docs/index.md\n\n// Preview docs\n$ npx dumi dev",lang:"bash"}),i.a.createElement("h2",{id:"feedback"},i.a.createElement(o["AnchorLink"],{to:"#feedback","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Feedback"),i.a.createElement("p",null,"Please visit ",i.a.createElement(o["Link"],{to:"https://github.com/umijs/dumi"},"GitHub")," or join the discuss group"),i.a.createElement("div",null,i.a.createElement("img",{"data-type":"dingtalk",src:"https://gw.alipayobjects.com/zos/bmw-prod/ec249703-be12-416c-8f33-297e47d9439c/kjy5ls84_w1004_h1346.png",width:300}),i.a.createElement("img",{"data-type":"wechat",src:"https://gw.alipayobjects.com/zos/bmw-prod/c18bc2a5-719a-48ca-b225-c79ef88bfb43/k7m10ymd_w1004_h1346.jpeg",width:300}))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),r=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:r})}},F4QJ:function(e,t,r){"use strict";function n(){var e=o(r("q1tI"));return n=function(){return e},e}function i(){var e=r("dEAq");return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=function(e){return e.render()},l=function(e,t){var r=[],o=e.match.params.uuid,a=void 0===e.location.query.wrapper,u=t[o];if(u){var l=s(s({},u.previewerProps),{},{hideActions:(u.previewerProps.hideActions||[]).concat(["EXTERNAL"])});void 0!==e.location.query.capture&&(l.motions=(l.motions||[]).slice(),l.motions.unshift("autoplay"),l.motions.every((function(e){return!e.startsWith("capture")}))&&l.motions.push("capture:[id|=root]")),r=a?[n()["default"].createElement(c,{render:function(){return(0,i().useMotions)(l.motions||[],"undefined"!==typeof window?document.documentElement:null),n()["default"].createElement("div",{},n()["default"].createElement(u.component))}})]:[l,n()["default"].createElement(u.component)]}return r};t["default"]=l},F8JR:function(e,t,r){"use strict";var n=r("tycR").forEach,i=r("pkCn"),o=r("rkAj"),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},FDzp:function(e,t,r){var n=r("dOgj");n("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},FMNM:function(e,t,r){var n=r("xrYK"),i=r("kmMV");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},FZGT:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=Object.freeze({START:"start",ERROR:"error",DONE:"done",METADATA:"metadata",STATE_UPDATE:"state_update",TRANSFORM_LOG:"transform_log",TRANSFORM_LOG_DONE:"transform_log_done",TRANSFORM_POINT_IN_TIME:"transform_point_in_time",RECONFIGURE:"reconfigure"})},FZtP:function(e,t,r){var n=r("2oRo"),i=r("/byt"),o=r("F8JR"),a=r("kRJp");for(var s in i){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(l){c.forEach=o}}},Faen:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r("Y62N"),i=r("FmoU"),o=r("Uwo/"),a=-.14861,s=1.78277,u=-.29227,c=-.90649,l=1.97294,f=l*c,h=l*s,p=s*u-c*a;function d(e){if(e instanceof m)return new m(e.h,e.s,e.l,e.opacity);e instanceof i["b"]||(e=Object(i["h"])(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(p*n+f*t-h*r)/(p+f-h),s=n-a,d=(l*(r-a)-u*s)/c,v=Math.sqrt(d*d+s*s)/(l*a*(1-a)),y=v?Math.atan2(d,s)*o["b"]-120:NaN;return new m(y<0?y+360:y,v,a,e.opacity)}function v(e,t,r,n){return 1===arguments.length?d(e):new m(e,t,r,null==n?1:n)}function m(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Object(n["a"])(m,v,Object(n["b"])(i["a"],{brighter:function(e){return e=null==e?i["c"]:Math.pow(i["c"],e),new m(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?i["d"]:Math.pow(i["d"],e),new m(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*o["a"],t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),f=Math.sin(e);return new i["b"](255*(t+r*(a*n+s*f)),255*(t+r*(u*n+c*f)),255*(t+r*(l*n)),this.opacity)}}))},Ff2n:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("zLVn");function i(e,t){if(null==e)return{};var r,i,o=Object(n["a"])(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},FmoU:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return w})),r.d(t,"h",(function(){return E})),r.d(t,"g",(function(){return j})),r.d(t,"b",(function(){return S})),r.d(t,"f",(function(){return C}));var n=r("Y62N");function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),h=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),d=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function b(){return I(this).formatHsl()}function _(){return this.rgb().formatRgb()}function w(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?x(t):3===r?new S(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?O(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?O(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=f.exec(e))?new S(t[1],t[2],t[3],1):(t=h.exec(e))?new S(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?O(t[1],t[2],t[3],t[4]):(t=d.exec(e))?O(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?A(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?A(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?x(y[e]):"transparent"===e?new S(NaN,NaN,NaN,0):null}function x(e){return new S(e>>16&255,e>>8&255,255&e,1)}function O(e,t,r,n){return n<=0&&(e=t=r=NaN),new S(e,t,r,n)}function E(e){return e instanceof i||(e=w(e)),e?(e=e.rgb(),new S(e.r,e.g,e.b,e.opacity)):new S}function j(e,t,r,n){return 1===arguments.length?E(e):new S(e,t,r,null==n?1:n)}function S(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function k(){return"#"+P(this.r)+P(this.g)+P(this.b)}function T(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function P(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function A(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new R(e,t,r,n)}function I(e){if(e instanceof R)return new R(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=w(e)),!e)return new R;if(e instanceof R)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,u=a-o,c=(a+o)/2;return u?(s=t===a?(r-n)/u+6*(r<n):r===a?(n-t)/u+2:(t-r)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new R(s,u,c,e.opacity)}function C(e,t,r,n){return 1===arguments.length?I(e):new R(e,t,r,null==n?1:n)}function R(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function M(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Object(n["a"])(i,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:b,formatRgb:_,toString:_}),Object(n["a"])(S,j,Object(n["b"])(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatRgb:T,toString:T})),Object(n["a"])(R,C,Object(n["b"])(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new R(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new R(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new S(M(e>=240?e-240:e+120,i,n),M(e,i,n),M(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},FpZJ:function(e,t,r){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(t in e[t]=n,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},"G+Rx":function(e,t,r){var n=r("0GbY");e.exports=n("document","documentElement")},G21l:function(e,t,r){"use strict";t["a"]=function(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}},GC2F:function(e,t,r){var n=r("+M1K");e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},GHqs:function(e,t,r){"use strict";var n=t,i=r("aEl4");n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+r,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=this.lookup(r);n&&(e=n.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return o["@type"]=e.$type.fullName,o}return this.toObject(e,t)}}},"GS+E":function(e,t,r){"use strict";e.exports=i;var n=r("XOFf");function i(e,t,r){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(u){return s.emit("error",u,t),void setTimeout((function(){a(u)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},GXvd:function(e,t,r){var n=r("dG/n");n("species")},GarU:function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},GawU:function(e,t,r){"use strict";(function(e){function n(){var t;if("undefined"!==typeof window&&window.performance)t=window.performance.now();else if("undefined"!==typeof e&&e.hrtime){var r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r("Q2Ig"))},GoyQ:function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},GrlX:function(e,t,r){var n=r("T016"),i=r("JRS9"),o=Object.hasOwnProperty,a=Object.create(null);for(var s in n)o.call(n,s)&&(a[n[s]]=s);var u=e.exports={to:{},get:{}};function c(e,t,r){return Math.min(Math.max(t,e),r)}function l(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,r,n=e.substring(0,3).toLowerCase();switch(n){case"hsl":t=u.get.hsl(e),r="hsl";break;case"hwb":t=u.get.hwb(e),r="hwb";break;default:t=u.get.rgb(e),r="rgb";break}return t?{model:r,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,r,i,a=/^#([a-f0-9]{3,4})$/i,s=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,u=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,l=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,f=/^(\w+)$/,h=[0,0,0,1];if(t=e.match(s)){for(i=t[2],t=t[1],r=0;r<3;r++){var p=2*r;h[r]=parseInt(t.slice(p,p+2),16)}i&&(h[3]=parseInt(i,16)/255)}else if(t=e.match(a)){for(t=t[1],i=t[3],r=0;r<3;r++)h[r]=parseInt(t[r]+t[r],16);i&&(h[3]=parseInt(i+i,16)/255)}else if(t=e.match(u)){for(r=0;r<3;r++)h[r]=parseInt(t[r+1],0);t[4]&&(t[5]?h[3]=.01*parseFloat(t[4]):h[3]=parseFloat(t[4]))}else{if(!(t=e.match(l)))return(t=e.match(f))?"transparent"===t[1]?[0,0,0,0]:o.call(n,t[1])?(h=n[t[1]],h[3]=1,h):null:null;for(r=0;r<3;r++)h[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(t[5]?h[3]=.01*parseFloat(t[4]):h[3]=parseFloat(t[4]))}for(r=0;r<3;r++)h[r]=c(h[r],0,255);return h[3]=c(h[3],0,1),h},u.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=c(parseFloat(r[2]),0,100),a=c(parseFloat(r[3]),0,100),s=c(isNaN(n)?1:n,0,1);return[i,o,a,s]}return null},u.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=c(parseFloat(r[2]),0,100),a=c(parseFloat(r[3]),0,100),s=c(isNaN(n)?1:n,0,1);return[i,o,a,s]}return null},u.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},u.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},Gytx:function(e,t){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(i=r?r.call(n,l,f,c):void 0,!1===i||void 0===i&&l!==f)return!1}return!0}},"H+LF":function(e,t,r){"use strict";var n=r("bWFh"),i=r("rKzb");n("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"H/ma":function(e,t,r){"use strict";var n=t,i=r("CzZC"),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var r=0,n={};t|=0;while(r<e.length)n[o[r+t]]=e[r++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n["long"]=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},H1Ra:function(e,t,r){"use strict";var n=r("q1tI"),i=r.n(n),o=function(){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},n={util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e["__id"]||Object.defineProperty(e,"__id",{value:++t}),e["__id"]},clone:function e(t,r){var i,o;switch(r=r||{},n.util.type(t)){case"Object":if(o=n.util.objId(t),r[o])return r[o];for(var a in i={},r[o]=i,t)t.hasOwnProperty(a)&&(i[a]=e(t[a],r));return i;case"Array":return o=n.util.objId(t),r[o]?r[o]:(i=[],r[o]=i,t.forEach((function(t,n){i[n]=e(t,r)})),i);default:return t}},getLanguage:function(t){while(t){var r=e.exec(t.className);if(r)return r[1].toLowerCase();t=t.parentElement}return"none"},setLanguage:function(t,r){t.className=t.className.replace(RegExp(e,"gi"),""),t.classList.add("language-"+r)},isActive:function(e,t,r){var n="no-"+t;while(e){var i=e.classList;if(i.contains(t))return!0;if(i.contains(n))return!1;e=e.parentElement}return!!r}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var r=n.util.clone(n.languages[e]);for(var i in t)r[i]=t[i];return r},insertBefore:function(e,t,r,i){i=i||n.languages;var o=i[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var u in r)r.hasOwnProperty(u)&&(a[u]=r[u]);r.hasOwnProperty(s)||(a[s]=o[s])}var c=i[e];return i[e]=a,n.languages.DFS(n.languages,(function(t,r){r===c&&t!=e&&(this[t]=a)})),a},DFS:function e(t,r,i,o){o=o||{};var a=n.util.objId;for(var s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],i||s);var u=t[s],c=n.util.type(u);"Object"!==c||o[a(u)]?"Array"!==c||o[a(u)]||(o[a(u)]=!0,e(u,r,s,o)):(o[a(u)]=!0,e(u,r,null,o))}}},plugins:{},highlight:function(e,t,r){var o={code:e,grammar:t,language:r};return n.hooks.run("before-tokenize",o),o.tokens=n.tokenize(o.code,o.grammar),n.hooks.run("after-tokenize",o),i.stringify(n.util.encode(o.tokens),o.language)},tokenize:function(e,t){var r=t.rest;if(r){for(var n in r)t[n]=r[n];delete t.rest}var i=new s;return u(i,i.head,e),a(e,i,t,i.head,0),l(i)},hooks:{all:{},add:function(e,t){var r=n.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=n.hooks.all[e];if(r&&r.length)for(var i,o=0;i=r[o++];)i(t)}},Token:i};function i(e,t,r,n){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length}function o(e,t,r,n){e.lastIndex=t;var i=e.exec(r);if(i&&n&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function a(e,t,r,s,l,f){for(var h in r)if(r.hasOwnProperty(h)&&r[h]){var p=r[h];p=Array.isArray(p)?p:[p];for(var d=0;d<p.length;++d){if(f&&f.cause==h+","+d)return;var v=p[d],m=v.inside,y=!!v.lookbehind,g=!!v.greedy,b=v.alias;if(g&&!v.pattern.global){var _=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,_+"g")}for(var w=v.pattern||v,x=s.next,O=l;x!==t.tail;O+=x.value.length,x=x.next){if(f&&O>=f.reach)break;var E=x.value;if(t.length>e.length)return;if(!(E instanceof i)){var j,S=1;if(g){if(j=o(w,O,e,y),!j||j.index>=e.length)break;var k=j.index,T=j.index+j[0].length,P=O;P+=x.value.length;while(k>=P)x=x.next,P+=x.value.length;if(P-=x.value.length,O=P,x.value instanceof i)continue;for(var A=x;A!==t.tail&&(P<T||"string"===typeof A.value);A=A.next)S++,P+=A.value.length;S--,E=e.slice(O,P),j.index-=O}else if(j=o(w,0,E,y),!j)continue;k=j.index;var I=j[0],C=E.slice(0,k),R=E.slice(k+I.length),M=O+E.length;f&&M>f.reach&&(f.reach=M);var L=x.prev;C&&(L=u(t,L,C),O+=C.length),c(t,L,S);var D=new i(h,m?n.tokenize(I,m):I,b,I);if(x=u(t,L,D),R&&u(t,x,R),S>1){var N={cause:h+","+d,reach:M};a(e,t,r,x.prev,O,N),f&&N.reach>f.reach&&(f.reach=N.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,r){var n=t.next,i={value:r,prev:t,next:n};return t.next=i,n.prev=i,e.length++,i}function c(e,t,r){for(var n=t.next,i=0;i<r&&n!==e.tail;i++)n=n.next;t.next=n,n.prev=t,e.length-=i}function l(e){var t=[],r=e.head.next;while(r!==e.tail)t.push(r.value),r=r.next;return t}return i.stringify=function e(t,r){if("string"==typeof t)return t;if(Array.isArray(t)){var i="";return t.forEach((function(t){i+=e(t,r)})),i}var o={type:t.type,content:e(t.content,r),tag:"span",classes:["token",t.type],attributes:{},language:r},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),n.hooks.run("wrap",o);var s="";for(var u in o.attributes)s+=" "+u+'="'+(o.attributes[u]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},n}(),a=o;o["default"]=o,a.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},a.languages.markup["tag"].inside["attr-value"].inside["entity"]=a.languages.markup["entity"],a.languages.markup["doctype"].inside["internal-subset"].inside=a.languages.markup,a.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes["title"]=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(a.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:a.languages[t]},r["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};n["language-"+t]={pattern:/[\s\S]+/,inside:a.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:n},a.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(a.languages.markup.tag,"addAttribute",{value:function(e,t){a.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:a.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),a.languages.html=a.languages.markup,a.languages.mathml=a.languages.markup,a.languages.svg=a.languages.markup,a.languages.xml=a.languages.extend("markup",{}),a.languages.ssml=a.languages.xml,a.languages.atom=a.languages.xml,a.languages.rss=a.languages.xml,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},n={bash:r,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:n.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=n.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=e.languages.bash[i[a]];e.languages.shell=e.languages.bash}(a),a.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},a.languages.c=a.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),a.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),a.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},a.languages.c["string"]],char:a.languages.c["char"],comment:a.languages.c["comment"],"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:a.languages.c}}}}),a.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete a.languages.c["boolean"],function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return r}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(a),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css["atrule"].inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))}(a),function(e){var t,r=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css.selector={pattern:e.languages.css.selector.pattern,lookbehind:!0,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+r.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[r,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css["atrule"].inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var n={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:n,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:n,number:i})}(a),a.languages.javascript=a.languages.extend("clike",{"class-name":[a.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),a.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,a.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:a.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:a.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:a.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:a.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:a.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),a.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:a.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),a.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),a.languages.markup&&(a.languages.markup.tag.addInlined("script","javascript"),a.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),a.languages.js=a.languages.javascript,function(e){var t=/#(?!\{).+/,r={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:r}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:r}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:r}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(a),function(e){var t=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,n="(?:"+r.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+r.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(e,t){t=(t||"").replace(/m/g,"")+"m";var r=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return n})).replace(/<<value>>/g,(function(){return e}));return RegExp(r,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return n}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return n})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+o+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(a),function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var n=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return n})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(n),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(n),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(r){t!==r&&(e.languages.markdown[t].inside.content.inside[r]=e.languages.markdown[r])}))})),e.hooks.add("after-tokenize",(function(e){function t(e){if(e&&"string"!==typeof e)for(var r=0,n=e.length;r<n;r++){var i=e[r];if("code"===i.type){var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"===typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase();var u="language-"+s;a.alias?"string"===typeof a.alias?a.alias=[a.alias,u]:a.alias.push(u):a.alias=[u]}}else t(i.content)}}"markdown"!==e.language&&"md"!==e.language||t(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var r="",n=0,i=t.classes.length;n<i;n++){var o=t.classes[n],a=/language-(.+)/.exec(o);if(a){r=a[1];break}}var s=e.languages[r];if(s)t.content=e.highlight(c(t.content),s,r);else if(r&&"none"!==r&&e.plugins.autoloader){var u="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes["id"]=u,e.plugins.autoloader.loadLanguages(r,(function(){var t=document.getElementById(u);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[r],r))}))}}}));var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},u=String.fromCodePoint||String.fromCharCode;function c(e){var t=e.replace(a,"");return t=t.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var r;if(t=t.toLowerCase(),"#"===t[0])return r="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),u(r);var n=s[t];return n||e})),t}e.languages.md=e.languages.markdown}(a),a.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:a.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},a.hooks.add("after-tokenize",(function(e){if("graphql"===e.language)for(var t=e.tokens.filter((function(e){return"string"!==typeof e&&"comment"!==e.type&&"scalar"!==e.type})),r=0;r<t.length;){var n=t[r++];if("keyword"===n.type&&"mutation"===n.content){var i=[];if(f(["definition-mutation","punctuation"])&&"("===l(1).content){r+=2;var o=h(/^\($/,/^\)$/);if(-1===o)continue;for(;r<o;r++){var a=l(0);"variable"===a.type&&(p(a,"variable-input"),i.push(a.content))}r=o+1}if(f(["punctuation","property-query"])&&"{"===l(0).content&&(r++,p(l(0),"property-mutation"),i.length>0)){var s=h(/^\{$/,/^\}$/);if(-1===s)continue;for(var u=r;u<s;u++){var c=t[u];"variable"===c.type&&i.indexOf(c.content)>=0&&p(c,"variable-input")}}}}function l(e){return t[r+e]}function f(e,t){t=t||0;for(var r=0;r<e.length;r++){var n=l(r+t);if(!n||n.type!==e[r])return!1}return!0}function h(e,n){for(var i=1,o=r;o<t.length;o++){var a=t[o],s=a.content;if("punctuation"===a.type&&"string"===typeof s)if(e.test(s))i++;else if(n.test(s)&&(i--,0===i))return o}return-1}function p(e,t){var r=e.alias;r?Array.isArray(r)||(e.alias=r=[r]):e.alias=r=[],r.push(t)}})),a.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t=e.languages.javascript["template-string"],r=t.pattern.source,n=t.inside["interpolation"],i=n.inside["interpolation-punctuation"],o=n.pattern.source;function a(t,n){if(e.languages[t])return{pattern:RegExp("((?:"+n+")\\s*)"+r),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(e,t){return"___"+t.toUpperCase()+"_"+e+"___"}function u(t,r,n){var i={code:t,grammar:r,language:n};return e.hooks.run("before-tokenize",i),i.tokens=e.tokenize(i.code,i.grammar),e.hooks.run("after-tokenize",i),i.tokens}function c(t){var r={};r["interpolation-punctuation"]=i;var o=e.tokenize(t,r);if(3===o.length){var a=[1,1];a.push.apply(a,u(o[1],e.languages.javascript,"javascript")),o.splice.apply(o,a)}return new e.Token("interpolation",o,n.alias,t)}function l(t,r,n){var i=e.tokenize(t,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),a=0,l={},f=i.map((function(e){if("string"===typeof e)return e;var r,i=e.content;while(-1!==t.indexOf(r=s(a++,n)));return l[r]=i,r})).join(""),h=u(f,r,n),p=Object.keys(l);function d(e){for(var t=0;t<e.length;t++){if(a>=p.length)return;var r=e[t];if("string"===typeof r||"string"===typeof r.content){var n=p[a],i="string"===typeof r?r:r.content,o=i.indexOf(n);if(-1!==o){++a;var s=i.substring(0,o),u=c(l[n]),f=i.substring(o+n.length),h=[];if(s&&h.push(s),h.push(u),f){var v=[f];d(v),h.push.apply(h,v)}"string"===typeof r?(e.splice.apply(e,[t,1].concat(h)),t+=h.length-1):r.content=h}}else{var m=r.content;Array.isArray(m)?d(m):d([m])}}}return a=0,d(h),new e.Token(n,h,"language-"+n,t)}e.languages.javascript["template-string"]=[a("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),a("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),a("svg",/\bsvg/.source),a("markdown",/\b(?:markdown|md)/.source),a("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),a("sql",/\bsql/.source),t].filter(Boolean);var f={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function h(e){return"string"===typeof e?e:Array.isArray(e)?e.map(h).join(""):h(e.content)}e.hooks.add("after-tokenize",(function(t){function r(t){for(var n=0,i=t.length;n<i;n++){var o=t[n];if("string"!==typeof o){var a=o.content;if(Array.isArray(a))if("template-string"===o.type){var s=a[1];if(3===a.length&&"string"!==typeof s&&"embedded-code"===s.type){var u=h(s),c=s.alias,f=Array.isArray(c)?c[0]:c,p=e.languages[f];if(!p)continue;a[1]=l(u,p,f)}}else r(a);else"string"!==typeof a&&r([a])}}}t.language in f&&r(t.tokens)}))}(a),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript["parameter"],delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(a),function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function"].source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript["keyword"].unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var r=["function","function-variable","method","method-variable","property-access"],n=0;n<r.length;n++){var i=r[n],o=e.languages.javascript[i];"RegExp"===e.util.type(o)&&(o=e.languages.javascript[i]={pattern:o});var a=o.inside||{};o.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(a),function(e){var t=e.util.clone(e.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,n=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(e,t){return e=e.replace(/<S>/g,(function(){return r})).replace(/<BRACES>/g,(function(){return n})).replace(/<SPREAD>/g,(function(){return i})),RegExp(e,t)}i=o(i).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside["tag"].pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside["tag"].inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside["comment"]=t["comment"],e.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var a=function e(t){return t?"string"===typeof t?t:"string"===typeof t.content?t.content:t.content.map(e).join(""):""},s=function t(r){for(var n=[],i=0;i<r.length;i++){var o=r[i],s=!1;if("string"!==typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===a(o.content[0].content[1])&&n.pop():"/>"===o.content[o.content.length-1].content||n.push({tagName:a(o.content[0].content[1]),openedBraces:0}):n.length>0&&"punctuation"===o.type&&"{"===o.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?n[n.length-1].openedBraces--:s=!0),(s||"string"===typeof o)&&n.length>0&&0===n[n.length-1].openedBraces){var u=a(o);i<r.length-1&&("string"===typeof r[i+1]||"plain-text"===r[i+1].type)&&(u+=a(r[i+1]),r.splice(i+1,1)),i>0&&("string"===typeof r[i-1]||"plain-text"===r[i-1].type)&&(u=a(r[i-1])+u,r.splice(i-1,1),i--),r[i]=new e.Token("plain-text",u,null,u)}o.content&&"string"!==typeof o.content&&t(o.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||s(e.tokens)}))}(a),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(r){var n=t[r],i=[];/^\w+$/.test(r)||i.push(/\w+/.exec(r)[0]),"diff"===r&&i.push("bold"),e.languages.diff[r]={pattern:RegExp("^(?:["+n+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(r)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(a),a.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},a.languages.go=a.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),a.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete a.languages.go["class-name"],function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,n,i,o){if(r.language===n){var a=r.tokenStack=[];r.code=r.code.replace(i,(function(e){if("function"===typeof o&&!o(e))return e;var i,s=a.length;while(-1!==r.code.indexOf(i=t(n,s)))++s;return a[s]=e,i})),r.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(r,n){if(r.language===n&&r.tokenStack){r.grammar=e.languages[n];var i=0,o=Object.keys(r.tokenStack);a(r.tokens)}function a(s){for(var u=0;u<s.length;u++){if(i>=o.length)break;var c=s[u];if("string"===typeof c||c.content&&"string"===typeof c.content){var l=o[i],f=r.tokenStack[l],h="string"===typeof c?c:c.content,p=t(n,l),d=h.indexOf(p);if(d>-1){++i;var v=h.substring(0,d),m=new e.Token(n,e.tokenize(f,r.grammar),"language-"+n,f),y=h.substring(d+p.length),g=[];v&&g.push.apply(g,a([v])),g.push(m),y&&g.push.apply(g,a([y])),"string"===typeof c?s.splice.apply(s,[u,1].concat(g)):c.content=g}}else c.content&&a(c.content)}return s}}}})}(a),function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",(function(t){var r=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;e.languages["markup-templating"].buildPlaceholders(t,"handlebars",r)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")})),e.languages.hbs=e.languages.handlebars}(a),a.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},a.languages.webmanifest=a.languages.json,a.languages.less=a.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),a.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),a.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},a.languages.objectivec=a.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete a.languages.objectivec["class-name"],a.languages.objc=a.languages.objectivec,a.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/},a.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},a.languages.python["string-interpolation"].inside["interpolation"].inside.rest=a.languages.python,a.languages.py=a.languages.python,a.languages.reason=a.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),a.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete a.languages.reason["function"],function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,r=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:t,operator:r}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:r,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(a),a.languages.scss=a.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),a.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),a.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),a.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),a.languages.scss["atrule"].inside.rest=a.languages.scss,function(e){var t={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},r={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},n={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:r,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:r,punctuation:/[{}()\[\];:,]/};n["interpolation"]={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:n}},n["func"]={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:n}},e.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:n}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:n}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:n}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:n.interpolation}},rest:n}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:n.interpolation,comment:n.comment,punctuation:/[{},]/}},func:n.func,string:n.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:n.interpolation,punctuation:/[{}()\[\];:.]/}}(a),function(e){var t=e.util.clone(e.languages.typescript);e.languages.tsx=e.languages.extend("jsx",t),delete e.languages.tsx["parameter"],delete e.languages.tsx["literal-property"];var r=e.languages.tsx.tag;r.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+r.pattern.source+")",r.pattern.flags),r.lookbehind=!0}(a),a.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/};var s=a,u={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},c=u,l={Prism:s,theme:c};function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}var p=/\r\n|\r|\n/,d=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},v=function(e,t){var r=e.length;return r>0&&e[r-1]===t?e:e.concat(t)},m=function(e){var t=[[]],r=[e],n=[0],i=[e.length],o=0,a=0,s=[],u=[s];while(a>-1){while((o=n[a]++)<i[a]){var c=void 0,l=t[a],f=r[a],h=f[o];if("string"===typeof h?(l=a>0?l:["plain"],c=h):(l=v(l,h.type),h.alias&&(l=v(l,h.alias)),c=h.content),"string"===typeof c){var m=c.split(p),y=m.length;s.push({types:l,content:m[0]});for(var g=1;g<y;g++)d(s),u.push(s=[]),s.push({types:l,content:m[g]})}else a++,t.push(l),r.push(c),n.push(0),i.push(c.length)}a--,t.pop(),r.pop(),n.pop(),i.pop()}return d(s),u},y=function(e,t){var r=e.plain,n=Object.create(null),i=e.styles.reduce((function(e,r){var n=r.languages,i=r.style;return n&&!n.includes(t)||r.types.forEach((function(t){var r=h({},e[t],i);e[t]=r})),e}),n);return i.root=r,i.plain=h({},r,{backgroundColor:null}),i};function g(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}var b=function(e){function t(){var t=this,r=[],n=arguments.length;while(n--)r[n]=arguments[n];e.apply(this,r),f(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var r=e.theme?y(e.theme,e.language):void 0;return t.themeDict=r})),f(this,"getLineProps",(function(e){var r=e.key,n=e.className,i=e.style,o=g(e,["key","className","style","line"]),a=o,s=h({},a,{className:"token-line",style:void 0,key:void 0}),u=t.getThemeDict(t.props);return void 0!==u&&(s.style=u.plain),void 0!==i&&(s.style=void 0!==s.style?h({},s.style,i):i),void 0!==r&&(s.key=r),n&&(s.className+=" "+n),s})),f(this,"getStyleForToken",(function(e){var r=e.types,n=e.empty,i=r.length,o=t.getThemeDict(t.props);if(void 0!==o){if(1===i&&"plain"===r[0])return n?{display:"inline-block"}:void 0;if(1===i&&!n)return o[r[0]];var a=n?{display:"inline-block"}:{},s=r.map((function(e){return o[e]}));return Object.assign.apply(Object,[a].concat(s))}})),f(this,"getTokenProps",(function(e){var r=e.key,n=e.className,i=e.style,o=e.token,a=g(e,["key","className","style","token"]),s=a,u=h({},s,{className:"token "+o.types.join(" "),children:o.content,style:t.getStyleForToken(o),key:void 0});return void 0!==i&&(u.style=void 0!==u.style?h({},u.style,i):i),void 0!==r&&(u.key=r),n&&(u.className+=" "+n),u})),f(this,"tokenize",(function(e,t,r,n){var i={code:t,grammar:r,language:n,tokens:[]};e.hooks.run("before-tokenize",i);var o=i.tokens=e.tokenize(i.code,i.grammar,i.language);return e.hooks.run("after-tokenize",i),o}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,r=e.language,n=e.code,i=e.children,o=this.getThemeDict(this.props),a=t.languages[r],s=void 0!==a?this.tokenize(t,n,a,r):[n],u=m(s);return i({tokens:u,className:"prism-code language-"+r,style:void 0!==o?o.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(n["Component"]),_=b,w=r("dEAq");r("qHiR"),r("foS9");function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}function O(e,t){return T(e)||k(e,t)||j(e,t)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function T(e){if(Array.isArray(e))return e}var P={acss:"css",axml:"xml"};t["a"]=function(e){var t=e.code,r=e.lang,n=e.showCopy,o=void 0===n||n,a=Object(w["useCopy"])(),s=O(a,2),u=s[0],c=s[1];return i.a.createElement("div",{className:"__dumi-default-code-block"},i.a.createElement(_,x({},l,{code:t,language:P[r]||r,theme:void 0}),(function(e){var r=e.className,n=e.style,a=e.tokens,s=e.getLineProps,l=e.getTokenProps;return i.a.createElement("pre",{className:r,style:n},o&&i.a.createElement("button",{className:"__dumi-default-icon __dumi-default-code-block-copy-btn","data-status":c,onClick:function(){return u(t)}}),a.map((function(e,t){return i.a.createElement("div",s({line:e,key:t}),e.map((function(e,t){return i.a.createElement("span",l({token:e,key:t}))})))})))})))}},H7XF:function(e,t,r){"use strict";t.byteLength=l,t.toByteArray=h,t.fromByteArray=v;for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function f(e,t,r){return 3*(t+r)/4-r}function h(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(f(e,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function p(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(p(n));return i.join("")}function v(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(d(e,s,s+a>u?u:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},H8j4:function(e,t,r){var n=r("QkVE");function i(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}e.exports=i},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},HDXh:function(e,t,r){"use strict";(function(e){var n=r("H7XF"),i=r("kVK+"),o=r("49sm");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,r,n):"string"===typeof t?d(e,t,r):y(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,r,n){return f(t),t<=0?u(e,t):void 0!==r?"string"===typeof n?u(e,t).fill(r,n):u(e,t).fill(r):u(e,t)}function p(e,t){if(f(t),e=u(e,t<0?0:0|g(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t,r){if("string"===typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(t,r);e=u(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function v(e,t){var r=t.length<0?0:0|g(t.length);e=u(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function m(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=v(e,t),e}function y(e,t){if(c.isBuffer(t)){var r=0|g(t.length);return e=u(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):v(e,t);if("Buffer"===t.type&&o(t.data))return v(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),c.alloc(+e)}function _(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(n)return Y(e).length;t=(""+t).toLowerCase(),n=!0}}function w(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return L(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function O(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function j(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function S(e,t,r,n){return ee(Y(t,e.length-r),e,r,n)}function k(e,t,r,n){return ee(K(t),e,r,n)}function T(e,t,r,n){return k(e,t,r,n)}function P(e,t,r,n){return ee(Q(t),e,r,n)}function A(e,t,r,n){return ee(J(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);var n=[],i=t;while(i<r){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:o=e[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(l=u));break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return M(n)}t.Buffer=c,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return h(null,e,t,r)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):w.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return O(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return O(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return j(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":return k(this,e,t,r);case"latin1":case"binary":return T(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function M(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var r="",n=0;while(n<t)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function D(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=$(e[o]);return i}function F(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function z(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function V(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function G(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function q(e,t,r,n,o){return o||G(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function W(e,t,r,n,o){return o||G(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);var n=this[e],i=1,o=0;while(++o<t&&(i*=256))n+=this[e+o]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);var n=this[e+--t],i=1;while(t>0&&(i*=256))n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||z(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||z(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||z(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);var n=this[e],i=1,o=0;while(++o<t&&(i*=256))n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);var n=t,i=1,o=this[e+--n];while(n>0&&(i*=256))o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||z(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||z(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||z(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||z(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||z(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||z(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,e,t,r,i,0)}var o=1,a=0;this[t]=255&e;while(++a<r&&(o*=256))this[t+a]=e/o&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,e,t,r,i,0)}var o=r-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);B(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;this[t]=255&e;while(++o<r&&(a*=256))e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);B(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return q(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return q(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return W(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return W(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=c.isBuffer(e)?e:Y(new c(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function Z(e){if(e=X(e).replace(H,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function X(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function J(e,t){for(var r,n,i,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function Q(e){return n.toByteArray(Z(e))}function ee(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function te(e){return e!==e}}).call(this,r("IyRk"))},HDaX:function(e,t,r){"use strict";var n=r("TqRt"),i=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o,a,s=n(r("pVnL")),u=n(r("lwsE")),c=n(r("W8MJ")),l=n(r("a1gu")),f=n(r("Nsbk")),h=n(r("PJYZ")),p=n(r("7W2i")),d=n(r("lSNA")),v=i(r("f0wc")),m=i(r("q1tI")),y=n(r("iuhU")),g=(r("5SuN"),n(r("17x9")),a=o=function(e){function t(){var e,r;(0,u["default"])(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=(0,l["default"])(this,(e=(0,f["default"])(t)).call.apply(e,[this].concat(i))),(0,d["default"])((0,h["default"])(r),"Grid",void 0),(0,d["default"])((0,h["default"])(r),"_cellRenderer",(function(e){var t=e.parent,n=e.rowIndex,i=e.style,o=e.isScrolling,a=e.isVisible,s=e.key,u=r.props.rowRenderer,c=Object.getOwnPropertyDescriptor(i,"width");return c&&c.writable&&(i.width="100%"),u({index:n,style:i,isScrolling:o,isVisible:a,key:s,parent:t})})),(0,d["default"])((0,h["default"])(r),"_setRef",(function(e){r.Grid=e})),(0,d["default"])((0,h["default"])(r),"_onScroll",(function(e){var t=e.clientHeight,n=e.scrollHeight,i=e.scrollTop,o=r.props.onScroll;o({clientHeight:t,scrollHeight:n,scrollTop:i})})),(0,d["default"])((0,h["default"])(r),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,i=e.rowStartIndex,o=e.rowStopIndex,a=r.props.onRowsRendered;a({overscanStartIndex:t,overscanStopIndex:n,startIndex:i,stopIndex:o})})),r}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,r=e.index;if(this.Grid){var n=this.Grid.getOffsetForCell({alignment:t,rowIndex:r,columnIndex:0}),i=n.scrollTop;return i}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:r,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:r})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.noRowsRenderer,n=e.scrollToIndex,i=e.width,o=(0,y["default"])("ReactVirtualized__List",t);return m.createElement(v["default"],(0,s["default"])({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:o,columnWidth:i,columnCount:1,noContentRenderer:r,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),t}(m.PureComponent),(0,d["default"])(o,"propTypes",null),a);t["default"]=g,(0,d["default"])(g,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:v.accessibilityOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}})},HDyB:function(e,t,r){var n=r("nmnc"),i=r("JHRd"),o=r("ljhN"),a=r("or5M"),s=r("7fqy"),u=r("rEGp"),c=1,l=2,f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",x=n?n.prototype:void 0,O=x?x.valueOf:void 0;function E(e,t,r,n,x,E,j){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!E(new i(e),new i(t)));case f:case h:case v:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case d:var S=s;case y:var k=n&c;if(S||(S=u),e.size!=t.size&&!k)return!1;var T=j.get(e);if(T)return T==t;n|=l,j.set(e,t);var P=a(S(e),S(t),n,x,E,j);return j["delete"](e),P;case b:if(O)return O.call(e)==O.call(t)}return!1}e.exports=E},HH4o:function(e,t,r){var n=r("tiKp"),i=n("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(u){}return r}},HH6Z:function(e,t,r){"use strict";var n=r("82c2").supportsDescriptors,i=r("V+xs"),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=u(c),r=o(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},HNyW:function(e,t,r){var n=r("NC/Y");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},HOxn:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"Promise");e.exports=o},HYAF:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"HaE+":function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return i}))},Hd5f:function(e,t,r){var n=r("0Dky"),i=r("tiKp"),o=r("LQDL"),a=i("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},HiXI:function(e,t,r){"use strict";var n=r("I+eb"),i=r("WKiH").end,o=r("yNLB"),a=o("trimEnd"),s=a?function(){return i(this)}:"".trimEnd;n({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},HsHA:function(e,t){var r=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:r(1+e)}},Hvzi:function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},"I+eb":function(e,t,r){var n=r("2oRo"),i=r("Bs8V").f,o=r("kRJp"),a=r("busE"),s=r("zk60"),u=r("6JNq"),c=r("lMq5");e.exports=function(e,t){var r,l,f,h,p,d,v=e.target,m=e.global,y=e.stat;if(l=m?n:y?n[v]||s(v,{}):(n[v]||{}).prototype,l)for(f in t){if(p=t[f],e.noTargetGet?(d=i(l,f),h=d&&d.value):h=l[f],r=c(m?f:v+(y?".":"#")+f,e.forced),!r&&void 0!==h){if(typeof p===typeof h)continue;u(p,h)}(e.sham||h&&h.sham)&&o(p,"sham",!0),a(l,f,p,e)}}},I1Gw:function(e,t,r){var n=r("dG/n");n("split")},I8vh:function(e,t,r){var n=r("ppGB"),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},I9xj:function(e,t,r){var n=r("1E5z");n(Math,"Math",!0)},"IL/d":function(e,t,r){"use strict";var n=r("iqeF"),i=r("67WC").exportTypedArrayStaticMethod,o=r("oHi+");i("from",o,n)},IZzc:function(e,t,r){"use strict";var n=r("67WC"),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=[].sort;o("sort",(function(e){return a.call(i(this),e)}))},ImZN:function(e,t,r){var n=r("glrk"),i=r("6VoE"),o=r("UMSQ"),a=r("A2ZE"),s=r("NaFW"),u=r("m92n"),c=function(e,t){this.stopped=e,this.result=t},l=e.exports=function(e,t,r,l,f){var h,p,d,v,m,y,g,b=a(t,r,l?2:1);if(f)h=e;else{if(p=s(e),"function"!=typeof p)throw TypeError("Target is not iterable");if(i(p)){for(d=0,v=o(e.length);v>d;d++)if(m=l?b(n(g=e[d])[0],g[1]):b(e[d]),m&&m instanceof c)return m;return new c(!1)}h=p.call(e)}y=h.next;while(!(g=y.call(h)).done)if(m=u(h,b,g.value,l),"object"==typeof m&&m&&m instanceof c)return m;return new c(!1)};l.stop=function(e){return new c(!0,e)}},ItzM:function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return o}));var i={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document},o=(i.self||i.window||i.global,i.window||i.self||i.global,i.global||i.self||i.window,i.document,Boolean("object"!==typeof n||"[object process]"!==String(n)||n.browser)),a="undefined"!==typeof n&&n.version&&/v([0-9]*)/.exec(n.version);a&&parseFloat(a[1])}).call(this,r("IyRk"),r("Q2Ig"))},IyRk:function(e,t){(function(t){e.exports=function(){var e={873:function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){"object"===typeof window&&(t=window)}e.exports=t}},r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={exports:{}},o=!0;try{e[t](i,i.exports,n),o=!1}finally{o&&delete r[t]}return i.exports}return n.ab=t+"/",n(873)}()}).call(this,"/")},JBy8:function(e,t,r){var n=r("yoRg"),i=r("eDl+"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},JHRd:function(e,t,r){var n=r("Kz5y"),i=n.Uint8Array;e.exports=i},JHgL:function(e,t,r){var n=r("QkVE");function i(e){return n(this,e).get(e)}e.exports=i},JQAW:function(e,t,r){"use strict";var n=function(){return"string"===typeof function(){}.name},i=Object.getOwnPropertyDescriptor;if(i)try{i([],"length")}catch(a){i=null}n.functionsHaveConfigurableNames=function(){if(!n()||!i)return!1;var e=i((function(){}),"name");return!!e&&!!e.configurable};var o=Function.prototype.bind;n.boundFunctionsHaveNames=function(){return n()&&"function"===typeof o&&""!==function(){}.bind().name},e.exports=n},JRS9:function(e,t,r){"use strict";var n=r("uPr3"),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],r=0,a=e.length;r<a;r++){var s=e[r];n(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},JSQU:function(e,t,r){var n=r("YESw"),i="__lodash_hash_undefined__";function o(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}e.exports=o},JTJg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("WjRb"),o=r("HYAF"),a=r("qxPZ");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},JTzB:function(e,t,r){var n=r("NykK"),i=r("ExA7"),o="[object Arguments]";function a(e){return i(e)&&n(e)==o}e.exports=a},JX7q:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},JevA:function(e,t,r){var n=r("I+eb"),i=r("wg0c");n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},JfAA:function(e,t,r){"use strict";var n=r("busE"),i=r("glrk"),o=r("0Dky"),a=r("rW0t"),s="toString",u=RegExp.prototype,c=u[s],l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(l||f)&&n(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),r=e.flags,n=String(void 0===r&&e instanceof RegExp&&!("flags"in u)?a.call(e):r);return"/"+t+"/"+n}),{unsafe:!0})},Ji7U:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("s4An");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(n["a"])(e,t)}},JiZb:function(e,t,r){"use strict";var n=r("0GbY"),i=r("m/L8"),o=r("tiKp"),a=r("g6v/"),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},Jkyt:function(e,t,r){"use strict";e.exports=a;var n=r("r7wP");((a.prototype=Object.create(n.prototype)).constructor=a).className="Enum";var i=r("hEtX"),o=r("CzZC");function a(e,t,r,i,o){if(n.call(this,e,r),t&&"object"!==typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"===typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var r=new a(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,r){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},a.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},Junv:function(e,t,r){"use strict";var n=r("I+eb"),i=r("6LWA"),o=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},JwUS:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),r=s(t),n=arguments.length<2,i=n?void 0:arguments[1];if(a(e),u(r,(function(r){n?(n=!1,i=r):i=e(i,r,r,t)}),void 0,!1,!0),n)throw TypeError("Reduce of empty set with no initial value");return i}})},K0Bd:function(e,t,r){"use strict";r.r(t);var n=r("AGfQ");t["default"]=new n["b"]({timingsFilePath:"https://raw.githubusercontent.com/uber/xviz-data/master/kitti/2011_09_26_drive_0005_sync/0-frame.json",getFilePath:e=>"https://raw.githubusercontent.com/uber/xviz-data/master/kitti/2011_09_26_drive_0005_sync/".concat(e+1,"-frame.glb"),worker:!0,maxConcurrency:4})},KKCa:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},KMkd:function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},KQm4:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("a3WO");function i(e){if(Array.isArray(e))return Object(n["a"])(e)}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var a=r("BsWD");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return i(e)||o(e)||Object(a["a"])(e)||s()}},KcUY:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=u(r("q1tI")),o=a(r("nLCz"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}return i["default"]=e,r&&r.set(e,i),i}function c(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function l(e,t){return v(e)||d(e,t)||h(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function v(e){if(Array.isArray(e))return e}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e,t){var r=function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[1].replace(/([^^])\/$/,"$1");return y(y({},(null===(e=n[0].find((function(e){var t=e.path;return t===o})))||void 0===e?void 0:e.meta)||{}),{},{__pathname:t})},n=(0,i.useState)(r(e,t)),o=l(n,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(r(e,t))}),[t]),a},_=function(e,t){var r=function(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(null===(t=n[0].find((function(e){return new RegExp("/".concat(e.name,"(/|$)")).test(n[1])})))||void 0===t?void 0:t.name)||e[0].name},n=(0,i.useState)(r(e,t)),o=l(n,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(r(e,t))}),[t]),a},w=function(e,t,r){var n=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=r[0].navs[r[1]]||[],o="*",a=i.length-1;a>=0;a-=1){var s=i[a],u=[s].concat(s.children).filter(Boolean),c=u.find((function(e){return e.path&&new RegExp("^".concat(e.path.replace(/\.html$/,""),"(/|.|$)")).test(r[2])}));if(c){o=c.path;break}}return(null===(e=r[0].menus[r[1]])||void 0===e?void 0:e[o])||[]},o=(0,i.useState)(n(e,t,r)),a=l(o,2),s=a[0],u=a[1];return(0,i.useLayoutEffect)((function(){u(n(e,t,r))}),[e.navs,e.menus,t,r]),s},x=function(e,t,r){var n=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n[0]===n[1][0].name?n[2].path:"".concat(r.path,"/").concat(e).replace(/\/\//,"/")},o=(0,i.useState)(n(e,t,r)),a=l(o,2),s=a[0],u=a[1];return(0,i.useLayoutEffect)((function(){u(n(e,t,r))}),[e]),s},O=function e(t){var r,n,i=c(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.__dumiRoot){r=o.routes;break}if(o.routes&&(r=e(o.routes)))break}}catch(a){i.e(a)}finally{i.f()}return r},E=function(e){var t=e.location,r=e.route,n=e.children,a=e.config,s=e.apis,u=e.demos,c=t.pathname.replace(r.path.replace(/^\/$/,"//"),""),l=O(e.routes)||[],f=b(l,t.pathname),h=_(a.locales,c),p=w(a,h,t.pathname),d=x(h,a.locales,r);return i["default"].createElement(o["default"].Provider,{value:{config:a,meta:f.__pathname===t.pathname?f:{},locale:h,nav:a.navs[h]||[],menu:p,base:d,routes:l,apis:s,demos:u}},n)},j=E;t["default"]=j},KfNM:function(e,t){var r=Object.prototype,n=r.toString;function i(e){return n.call(e)}e.exports=i},KhsS:function(e,t,r){var n=r("dG/n");n("match")},KrvG:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_CellMeasureCache=void 0;n(r("17x9"));var i=null;t.bpfrpt_proptype_CellMeasureCache=i},KrxN:function(e,t,r){var n=r("I+eb"),i=180/Math.PI;n({target:"Math",stat:!0},{degrees:function(e){return e*i}})},KwGI:function(e,t,r){"use strict";function n(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),a=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|a)>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else{var s;if(n<22250738585072014e-324)s=n/5e-324,e(s>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),s=n*Math.pow(2,-u),e(4503599627370496*s>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},Kwbf:function(e,t,r){"use strict";var n={};function i(e,t){0}function o(e,t,r){t||n[r]||(e(!1,r),n[r]=!0)}function a(e,t){o(i,e,t)}t["a"]=a},Kz25:function(e,t,r){"use strict";r("PKPk");var n,i=r("I+eb"),o=r("g6v/"),a=r("DTth"),s=r("2oRo"),u=r("N+g0"),c=r("busE"),l=r("GarU"),f=r("UTVS"),h=r("YNrV"),p=r("TfTi"),d=r("ZUd8").codeAt,v=r("X7LM"),m=r("1E5z"),y=r("mGGf"),g=r("afO8"),b=s.URL,_=y.URLSearchParams,w=y.getState,x=g.set,O=g.getterFor("URL"),E=Math.floor,j=Math.pow,S="Invalid authority",k="Invalid scheme",T="Invalid host",P="Invalid port",A=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,C=/\d/,R=/^(0x|0X)/,M=/^[0-7]+$/,L=/^\d+$/,D=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,z=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,U=function(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return T;if(r=G(t.slice(1,-1)),!r)return T;e.host=r}else if(J(e)){if(t=v(t),N.test(t))return T;if(r=V(t),null===r)return T;e.host=r}else{if(F.test(t))return T;for(r="",n=p(t),i=0;i<n.length;i++)r+=Y(n[i],H);e.host=r}},V=function(e){var t,r,n,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(r=[],n=0;n<t;n++){if(i=u[n],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=R.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?L:8==o?M:D).test(i))return e;a=parseInt(i,o)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=j(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*j(256,3-n);return s},G=function(e){var t,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return e.charAt(f)};if(":"==h()){if(":"!=e.charAt(1))return;f+=2,c++,l=c}while(h()){if(8==c)return;if(":"!=h()){t=r=0;while(r<4&&D.test(h()))t=16*t+parseInt(h(),16),f++,r++;if("."==h()){if(0==r)return;if(f-=r,c>6)return;n=0;while(h()){if(i=null,n>0){if(!("."==h()&&n<4))return;f++}if(!C.test(h()))return;while(C.test(h())){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[c++]=t}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){a=c-l,c=7;while(0!=c&&a>0)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s}else if(8!=c)return;return u},q=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t},W=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=q(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},H={},Z=h({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),X=h({},Z,{"#":1,"?":1,"{":1,"}":1}),$=h({},X,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var r=d(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return f(K,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&A.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},se={},ue={},ce={},le={},fe={},he={},pe={},de={},ve={},me={},ye={},ge={},be={},_e={},we={},xe={},Oe={},Ee={},je={},Se={},ke=function(e,t,r,i){var o,a,s,u,c=r||ae,l=0,h="",d=!1,v=!1,m=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(z,"")),t=t.replace(B,""),o=p(t);while(l<=o.length){switch(a=o[l],c){case ae:if(!a||!A.test(a)){if(r)return k;c=ue;continue}h+=a.toLowerCase(),c=se;break;case se:if(a&&(I.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(r)return k;h="",c=ue,l=0;continue}if(r&&(J(e)!=f(K,h)||"file"==h&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,r)return void(J(e)&&K[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?c=be:J(e)&&i&&i.scheme==e.scheme?c=ce:J(e)?c=pe:"/"==o[l+1]?(c=le,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Ee)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=a)return k;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=Se;break}c="file"==i.scheme?be:fe;continue;case ce:if("/"!=a||"/"!=o[l+1]){c=fe;continue}c=de,l++;break;case le:if("/"==a){c=ve;break}c=Oe;continue;case fe:if(e.scheme=i.scheme,a==n)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&J(e))c=he;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=je;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=Oe;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Se}break;case he:if(!J(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Oe;continue}c=ve}else c=de;break;case pe:if(c=de,"/"!=a||"/"!=h.charAt(l+1))continue;l++;break;case de:if("/"!=a&&"\\"!=a){c=ve;continue}break;case ve:if("@"==a){d&&(h="%40"+h),d=!0,s=p(h);for(var y=0;y<s.length;y++){var g=s[y];if(":"!=g||m){var b=Y(g,$);m?e.password+=b:e.username+=b}else m=!0}h=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(d&&""==h)return S;l-=p(h).length+1,h="",c=me}else h+=a;break;case me:case ye:if(r&&"file"==e.scheme){c=we;continue}if(":"!=a||v){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(J(e)&&""==h)return T;if(r&&""==h&&(Q(e)||null!==e.port))return;if(u=U(e,h),u)return u;if(h="",c=xe,r)return;continue}"["==a?v=!0:"]"==a&&(v=!1),h+=a}else{if(""==h)return T;if(u=U(e,h),u)return u;if(h="",c=ge,r==ye)return}break;case ge:if(!C.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)||r){if(""!=h){var _=parseInt(h,10);if(_>65535)return P;e.port=J(e)&&_===K[e.scheme]?null:_,h=""}if(r)return;c=xe;continue}return P}h+=a;break;case be:if(e.scheme="file","/"==a||"\\"==a)c=_e;else{if(!i||"file"!=i.scheme){c=Oe;continue}if(a==n)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",c=je;else{if("#"!=a){re(o.slice(l).join(""))||(e.host=i.host,e.path=i.path.slice(),ne(e)),c=Oe;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Se}}break;case _e:if("/"==a||"\\"==a){c=we;break}i&&"file"==i.scheme&&!re(o.slice(l).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=Oe;continue;case we:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&te(h))c=Oe;else if(""==h){if(e.host="",r)return;c=xe}else{if(u=U(e,h),u)return u;if("localhost"==e.host&&(e.host=""),r)return;h="",c=xe}continue}h+=a;break;case xe:if(J(e)){if(c=Oe,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(c=Oe,"/"!=a))continue}else e.fragment="",c=Se;else e.query="",c=je;break;case Oe:if(a==n||"/"==a||"\\"==a&&J(e)||!r&&("?"==a||"#"==a)){if(oe(h)?(ne(e),"/"==a||"\\"==a&&J(e)||e.path.push("")):ie(h)?"/"==a||"\\"==a&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(a==n||"?"==a||"#"==a))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==a?(e.query="",c=je):"#"==a&&(e.fragment="",c=Se)}else h+=Y(a,X);break;case Ee:"?"==a?(e.query="",c=je):"#"==a?(e.fragment="",c=Se):a!=n&&(e.path[0]+=Y(a,H));break;case je:r||"#"!=a?a!=n&&("'"==a&&J(e)?e.query+="%27":e.query+="#"==a?"%23":Y(a,H)):(e.fragment="",c=Se);break;case Se:a!=n&&(e.fragment+=Y(a,Z));break}l++}},Te=function(e){var t,r,n=l(this,Te,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=x(n,{type:"URL"});if(void 0!==i)if(i instanceof Te)t=O(i);else if(r=ke(t={},String(i)),r)throw TypeError(r);if(r=ke(s,a,null,t),r)throw TypeError(r);var u=s.searchParams=new _,c=w(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(n.href=Ae.call(n),n.origin=Ie.call(n),n.protocol=Ce.call(n),n.username=Re.call(n),n.password=Me.call(n),n.host=Le.call(n),n.hostname=De.call(n),n.port=Ne.call(n),n.pathname=Fe.call(n),n.search=ze.call(n),n.searchParams=Be.call(n),n.hash=Ue.call(n))},Pe=Te.prototype,Ae=function(){var e=O(this),t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",Q(e)&&(c+=r+(n?":"+n:"")+"@"),c+=W(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Ie=function(){var e=O(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&J(e)?t+"://"+W(e.host)+(null!==r?":"+r:""):"null"},Ce=function(){return O(this).scheme+":"},Re=function(){return O(this).username},Me=function(){return O(this).password},Le=function(){var e=O(this),t=e.host,r=e.port;return null===t?"":null===r?W(t):W(t)+":"+r},De=function(){var e=O(this).host;return null===e?"":W(e)},Ne=function(){var e=O(this).port;return null===e?"":String(e)},Fe=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ze=function(){var e=O(this).query;return e?"?"+e:""},Be=function(){return O(this).searchParams},Ue=function(){var e=O(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&u(Pe,{href:Ve(Ae,(function(e){var t=O(this),r=String(e),n=ke(t,r);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:Ve(Ie),protocol:Ve(Ce,(function(e){var t=O(this);ke(t,String(e)+":",ae)})),username:Ve(Re,(function(e){var t=O(this),r=p(String(e));if(!ee(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=Y(r[n],$)}})),password:Ve(Me,(function(e){var t=O(this),r=p(String(e));if(!ee(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=Y(r[n],$)}})),host:Ve(Le,(function(e){var t=O(this);t.cannotBeABaseURL||ke(t,String(e),me)})),hostname:Ve(De,(function(e){var t=O(this);t.cannotBeABaseURL||ke(t,String(e),ye)})),port:Ve(Ne,(function(e){var t=O(this);ee(t)||(e=String(e),""==e?t.port=null:ke(t,e,ge))})),pathname:Ve(Fe,(function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],ke(t,e+"",xe))})),search:Ve(ze,(function(e){var t=O(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ke(t,e,je)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(Be),hash:Ve(Ue,(function(e){var t=O(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ke(t,e,Se)):t.fragment=null}))}),c(Pe,"toJSON",(function(){return Ae.call(this)}),{enumerable:!0}),c(Pe,"toString",(function(){return Ae.call(this)}),{enumerable:!0}),b){var Ge=b.createObjectURL,qe=b.revokeObjectURL;Ge&&c(Te,"createObjectURL",(function(e){return Ge.apply(b,arguments)})),qe&&c(Te,"revokeObjectURL",(function(e){return qe.apply(b,arguments)}))}m(Te,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Te})},Kz5y:function(e,t,r){var n=r("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},L8xA:function(e,t){function r(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}e.exports=r},"LK+K":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("foSv"),i=r("2WcH"),o=r("md7G");function a(e){var t=Object(i["a"])();return function(){var r,i=Object(n["a"])(e);if(t){var a=Object(n["a"])(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return Object(o["a"])(this,r)}}},LKBx:function(e,t,r){"use strict";var n=r("I+eb"),i=r("Bs8V").f,o=r("UMSQ"),a=r("WjRb"),s=r("HYAF"),u=r("qxPZ"),c=r("xDBR"),l="".startsWith,f=Math.min,h=u("startsWith"),p=!c&&!h&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!p&&!h},{startsWith:function(e){var t=String(s(this));a(e);var r=o(f(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return l?l.call(t,n,r):t.slice(r,r+n.length)===n}})},LPSS:function(e,t,r){var n,i,o,a=r("2oRo"),s=r("0Dky"),u=r("xrYK"),c=r("A2ZE"),l=r("G+Rx"),f=r("zBJ4"),h=r("HNyW"),p=a.location,d=a.setImmediate,v=a.clearImmediate,m=a.process,y=a.MessageChannel,g=a.Dispatch,b=0,_={},w="onreadystatechange",x=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},O=function(e){return function(){x(e)}},E=function(e){x(e.data)},j=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};d&&v||(d=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},v=function(e){delete _[e]},"process"==u(m)?n=function(e){m.nextTick(O(e))}:g&&g.now?n=function(e){g.now(O(e))}:y&&!h?(i=new y,o=i.port2,i.port1.onmessage=E,n=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(j)||"file:"===p.protocol?n=w in f("script")?function(e){l.appendChild(f("script"))[w]=function(){l.removeChild(this),x(e)}}:function(e){setTimeout(O(e),0)}:(n=j,a.addEventListener("message",E,!1))),e.exports={set:d,clear:v}},LQDL:function(e,t,r){var n,i,o=r("2oRo"),a=r("NC/Y"),s=o.process,u=s&&s.versions,c=u&&u.v8;c?(n=c.split("."),i=n[0]+n[1]):a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(i=n[1]))),e.exports=i&&+i},LQNH:function(e,t,r){"use strict";t.__esModule=!0,t["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t["default"]},LXxW:function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length,i=0,o=[];while(++r<n){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}e.exports=r},LZp6:function(e,t,r){"use strict";var n=t,i=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=n.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=i(e),n="";r&&(n=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=o(t)),i(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},LpdB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxElementSize=void 0;var n=15e5,i=16777100,o=function(){return"undefined"!==typeof window},a=function(){return!!window.chrome},s=function(){return o()&&a()?i:n};t.getMaxElementSize=s},LtsZ:function(e,t,r){"use strict";r.r(t),r.d(t,"createBrowserHistory",(function(){return i["a"]})),r.d(t,"createHashHistory",(function(){return i["b"]})),r.d(t,"createMemoryHistory",(function(){return i["d"]})),r.d(t,"__RouterContext",(function(){return o["h"]})),r.d(t,"Link",(function(){return g})),r.d(t,"MemoryRouter",(function(){return o["a"]})),r.d(t,"NavLink",(function(){return x})),r.d(t,"Prompt",(function(){return o["b"]})),r.d(t,"Redirect",(function(){return o["c"]})),r.d(t,"Route",(function(){return o["d"]})),r.d(t,"Router",(function(){return o["e"]})),r.d(t,"StaticRouter",(function(){return o["f"]})),r.d(t,"Switch",(function(){return o["g"]})),r.d(t,"matchPath",(function(){return o["i"]})),r.d(t,"useHistory",(function(){return o["j"]})),r.d(t,"useLocation",(function(){return o["k"]})),r.d(t,"useParams",(function(){return o["l"]})),r.d(t,"useRouteMatch",(function(){return o["m"]})),r.d(t,"withRouter",(function(){return o["n"]})),r.d(t,"ApplyPluginsType",(function(){return te})),r.d(t,"Plugin",(function(){return oe})),r.d(t,"dynamic",(function(){return Q})),r.d(t,"isBrowser",(function(){return re}));var n=r("qLMh"),i=r("YS25"),o=r("Ty5D"),a=r("dI71"),s=r("q1tI"),u=r.n(s),c=r("wx14"),l=r("zLVn"),f=r("9R94");u.a.Component;u.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(i["c"])(e,null,null,t):e},d=function(e){return e},v=u.a.forwardRef;function m(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}"undefined"===typeof v&&(v=d);var y=v((function(e,t){var r=e.innerRef,n=e.navigate,i=e.onClick,o=Object(l["a"])(e,["innerRef","navigate","onClick"]),a=o.target,s=Object(c["a"])({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||m(e)||(e.preventDefault(),n())}});return s.ref=d!==v&&t||r,u.a.createElement("a",s)}));var g=v((function(e,t){var r=e.component,n=void 0===r?y:r,i=e.replace,a=e.to,s=e.innerRef,m=Object(l["a"])(e,["component","replace","to","innerRef"]);return u.a.createElement(o["h"].Consumer,null,(function(e){e||Object(f["a"])(!1);var r=e.history,o=p(h(a,e.location),e.location),l=o?r.createHref(o):"",y=Object(c["a"])({},m,{href:l,navigate:function(){var t=h(a,e.location),n=i?r.replace:r.push;n(t)}});return d!==v?y.ref=t||s:y.innerRef=s,u.a.createElement(n,y)}))})),b=function(e){return e},_=u.a.forwardRef;function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}"undefined"===typeof _&&(_=b);var x=_((function(e,t){var r=e["aria-current"],n=void 0===r?"page":r,i=e.activeClassName,a=void 0===i?"active":i,s=e.activeStyle,d=e.className,v=e.exact,m=e.isActive,y=e.location,x=e.sensitive,O=e.strict,E=e.style,j=e.to,S=e.innerRef,k=Object(l["a"])(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return u.a.createElement(o["h"].Consumer,null,(function(e){e||Object(f["a"])(!1);var r=y||e.location,i=p(h(j,r),r),l=i.pathname,T=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=T?Object(o["i"])(r.pathname,{path:T,exact:v,sensitive:x,strict:O}):null,A=!!(m?m(P,r):P),I=A?w(d,a):d,C=A?Object(c["a"])({},E,{},s):E,R=Object(c["a"])({"aria-current":A&&n||null,className:I,style:C,to:i},k);return b!==_?R.ref=t||S:R.innerRef=S,u.a.createElement(g,R)}))})),O=r("8L3h");function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){return S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function k(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){k(o,n,i,a,s,"next",e)}function s(e){k(o,n,i,a,s,"throw",e)}a(void 0)}))}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return M(e)||L(e)||D(e)||F()}function M(e){if(Array.isArray(e))return e}function L(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e,t){if(e){if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=D(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}var B=Object(s["createContext"])(null),U=[],V=[],G=!1;function q(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then((function(e){return r.loading=!1,r.loaded=e,e}))["catch"]((function(e){throw r.loading=!1,r.error=e,e})),r}function W(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach((function(n){var i=q(e[n]);i.loading?t.loading=!0:(t.loaded[n]=i.loaded,t.error=i.error),r.push(i.promise),i.promise.then((function(e){t.loaded[n]=e}))["catch"]((function(e){t.error=e}))}))}catch(n){t.error=n}return t.promise=Promise.all(r).then((function(e){return t.loading=!1,e}))["catch"]((function(e){throw t.loading=!1,e})),t}function H(e){return e&&e.__esModule?e["default"]:e}function Z(e,t){return Object(s["createElement"])(H(e),t)}function X(e,t){var r=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:Z,webpack:null,modules:null},t),n=null;function i(){if(!n){var t=new $(e,r);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if("undefined"===typeof window&&U.push(i),!G&&"undefined"!==typeof window&&"function"===typeof r.webpack){var o=r.webpack();V.push((function(e){var t,r=z(o);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(-1!==e.indexOf(n))return i()}}catch(a){r.e(a)}finally{r.f()}}))}var a=function(e,t){i();var o=Object(s["useContext"])(B),a=Object(O["useSubscription"])(n);return Object(s["useImperativeHandle"])(t,(function(){return{retry:n.retry}})),o&&Array.isArray(r.modules)&&r.modules.forEach((function(e){o(e)})),a.loading||a.error?Object(s["createElement"])(r.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:n.retry}):a.loaded?r.render(a.loaded,e):null},u=Object(s["forwardRef"])(a);return u.preload=function(){return i()},u.displayName="LoadableComponent",u}var $=function(){function e(t,r){P(this,e),this._loadFn=t,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return I(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,r=this._opts;t.loading&&("number"===typeof r.delay&&(0===r.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),r.delay)),"number"===typeof r.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),r.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()}))["catch"]((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=j(j({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return j(j({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks["delete"](e)}}}]),e}();function Y(e){return X(q,e)}function K(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return X(W,e)}function J(e,t){var r=[];while(e.length){var n=e.pop();r.push(n(t))}return Promise.all(r).then((function(){if(e.length)return J(e,t)}))}function Q(e){var t=Y,r={loading:function(e){e.error,e.isLoading;return Object(s["createElement"])("p",null,"loading...")}};if("function"===typeof e)r.loader=e;else{if("object"!==S(e))throw new Error("Unexpect arguments ".concat(e));r=j(j({},r),e)}return t(r)}function ee(e,t){if(!e)throw new Error(t)}Y.Map=K,Y.preloadAll=function(){return new Promise((function(e,t){J(U).then(e,t)}))},Y.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var r=function(){return G=!0,t()};J(V,e).then(r,r)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=Y.preloadReady);var te,re=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement};function ne(e){var t=e.fns,r=e.args;if(1===t.length)return t[0];var n=t.pop();return t.reduce((function(e,t){return function(){return t(e,r)}}),n)}function ie(e){return!!e&&"object"===S(e)&&"function"===typeof e.then}(function(e){e["compose"]="compose",e["modify"]="modify",e["event"]="event"})(te||(te={}));var oe=function(){function e(t){P(this,e),this.validKeys=void 0,this.hooks={},this.validKeys=(null===t||void 0===t?void 0:t.validKeys)||[]}return I(e,[{key:"register",value:function(e){var t=this;ee(!!e.apply,"register failed, plugin.apply must supplied"),ee(!!e.path,"register failed, plugin.path must supplied"),Object.keys(e.apply).forEach((function(r){ee(t.validKeys.indexOf(r)>-1,"register failed, invalid key ".concat(r," from plugin ").concat(e.path,".")),t.hooks[r]||(t.hooks[r]=[]),t.hooks[r]=t.hooks[r].concat(e.apply[r])}))}},{key:"getHooks",value:function(e){var t=e.split("."),r=R(t),n=r[0],i=r.slice(1),o=this.hooks[n]||[];return i.length&&(o=o.map((function(e){try{var t,r=e,n=z(i);try{for(n.s();!(t=n.n()).done;){var o=t.value;r=r[o]}}catch(a){n.e(a)}finally{n.f()}return r}catch(s){return null}})).filter(Boolean)),o}},{key:"applyPlugins",value:function(e){var t=e.key,r=e.type,i=e.initialValue,o=e.args,a=e.async,s=this.getHooks(t)||[];switch(o&&ee("object"===S(o),"applyPlugins failed, args must be plain object."),r){case te.modify:return a?s.reduce(function(){var e=T(Object(n["a"])().mark((function e(r,i){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ee("function"===typeof i||"object"===S(i)||ie(i),"applyPlugins failed, all hooks for key ".concat(t," must be function, plain object or Promise.")),!ie(r)){e.next=5;break}return e.next=4,r;case 4:r=e.sent;case 5:if("function"!==typeof i){e.next=16;break}if(a=i(r,o),!ie(a)){e.next=13;break}return e.next=10,a;case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",a);case 14:e.next=21;break;case 16:if(!ie(i)){e.next=20;break}return e.next=19,i;case 19:i=e.sent;case 20:return e.abrupt("return",j(j({},r),i));case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ie(i)?i:Promise.resolve(i)):s.reduce((function(e,r){return ee("function"===typeof r||"object"===S(r),"applyPlugins failed, all hooks for key ".concat(t," must be function or plain object.")),"function"===typeof r?r(e,o):j(j({},e),r)}),i);case te.event:return s.forEach((function(e){ee("function"===typeof e,"applyPlugins failed, all hooks for key ".concat(t," must be function.")),e(o)}));case te.compose:return function(){return ne({fns:s.concat(i),args:o})()}}}}]),e}()},Lw8S:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"M/Q6":function(e,t,r){"use strict";var n=r("q1tI"),i=r.n(n);r("x8cr");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}t["a"]=function(e){return i.a.createElement("div",o({className:"__dumi-default-alert"},e))}},M2kn:function(e,t,r){"use strict";e.exports=a;var n=r("OuHM");((a.prototype=Object.create(n.prototype)).constructor=a).className="MapField";var i=r("H/ma"),o=r("CzZC");function a(e,t,r,i,a,s){if(n.call(this,e,t,i,void 0,void 0,a,s),!o.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,r){return"function"===typeof r?r=o.decorateType(r).name:r&&"object"===typeof r&&(r=o.decorateEnum(r).name),function(n,i){o.decorateType(n.constructor).add(new a(i,e,t,r))}}},MCLT:function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!x(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),u=n[r];r<o;u=n[++r])b(u)||!S(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(r,n){if("undefined"!==typeof e&&!0===e.noDeprecation)return r;if("undefined"===typeof e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;function o(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}return o};var o,a={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"\x1b["+s.colors[r][0]+"m"+e+"\x1b["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}function f(e,r,n){if(e.customInspect&&r&&P(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return x(i)||(i=f(e,i,n)),i}var o=h(e,r);if(o)return o;var a=Object.keys(r),s=l(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),T(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(P(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(j(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return e.stylize(Date.prototype.toString.call(r),"date");if(T(r))return p(r)}var c,g="",b=!1,_=["{","}"];if(y(r)&&(b=!0,_=["[","]"]),P(r)){var w=r.name?": "+r.name:"";g=" [Function"+w+"]"}return j(r)&&(g=" "+RegExp.prototype.toString.call(r)),k(r)&&(g=" "+Date.prototype.toUTCString.call(r)),T(r)&&(g=" "+p(r)),0!==a.length||b&&0!=r.length?n<0?j(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=b?d(e,r,n,s,a):a.map((function(t){return v(e,r,n,s,t,b)})),e.seen.pop(),m(c,g,_)):_[0]+g+_[1]}function h(e,t){if(E(t))return e.stylize("undefined","undefined");if(x(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return w(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)L(t,String(a))?o.push(v(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(v(e,t,r,n,i,!0))})),o}function v(e,t,r,n,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),L(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=b(r)?f(e,u.value,null):f(e,u.value,r-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n"))):s=e.stylize("[Circular]","special")),E(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function m(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function y(e){return Array.isArray(e)}function g(e){return"boolean"===typeof e}function b(e){return null===e}function _(e){return null==e}function w(e){return"number"===typeof e}function x(e){return"string"===typeof e}function O(e){return"symbol"===typeof e}function E(e){return void 0===e}function j(e){return S(e)&&"[object RegExp]"===I(e)}function S(e){return"object"===typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===I(e)}function T(e){return S(e)&&("[object Error]"===I(e)||e instanceof Error)}function P(e){return"function"===typeof e}function A(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function I(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(E(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var n=e.pid;a[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else a[r]=function(){};return a[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=y,t.isBoolean=g,t.isNull=b,t.isNullOrUndefined=_,t.isNumber=w,t.isString=x,t.isSymbol=O,t.isUndefined=E,t.isRegExp=j,t.isObject=S,t.isDate=k,t.isError=T,t.isFunction=P,t.isPrimitive=A,t.isBuffer=r("1gqn");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=r("KKCa"),t._extend=function(e,t){if(!t||!S(t))return e;var r=Object.keys(t),n=r.length;while(n--)e[r[n]]=t[r[n]];return e};var D="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function F(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,r).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(N,t,a)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(D&&e[D]){var t=e[D];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(a){r(a)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),D&&Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=D,t.callbackify=F}).call(this,r("Q2Ig"))},MEvW:function(e,t,r){"use strict";t.__esModule=!0,t["default"]=n;function n(){0}e.exports=t["default"]},MFts:function(e,t,r){"use strict";function n(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;while(i<arguments.length)r[n++]=arguments[i++];return new Promise((function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{var t=new Array(arguments.length-1),r=0;while(r<t.length)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(s){o&&(o=!1,a(s))}}))}e.exports=n},MIOZ:function(e,t){function r(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},MLCA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("17x9"),a=f(o),s=r("bKjm"),u=r("q1tI"),c=r("e+5M"),l=r("PAve");function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=i({},(0,l.getScalePropTypesByAttribute)("x"),(0,l.getScalePropTypesByAttribute)("y"),(0,l.getScalePropTypesByAttribute)("size"),(0,l.getScalePropTypesByAttribute)("opacity"),(0,l.getScalePropTypesByAttribute)("color"),{width:a["default"].number,height:a["default"].number,data:a["default"].arrayOf(a["default"].oneOfType([a["default"].object,a["default"].array])),onValueMouseOver:a["default"].func,onValueMouseOut:a["default"].func,onValueClick:a["default"].func,onValueRightClick:a["default"].func,onSeriesMouseOver:a["default"].func,onSeriesMouseOut:a["default"].func,onSeriesClick:a["default"].func,onSeriesRightClick:a["default"].func,onNearestX:a["default"].func,onNearestXY:a["default"].func,style:a["default"].object,animation:c.AnimationPropType,stack:a["default"].bool}),m={className:"",stack:!1,style:{}},y=function(e){function t(){var e,r,n,i;h(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r=n,n._seriesClickHandler=function(e){var t=n.props.onSeriesClick;t&&t({event:e})},n._seriesMouseOutHandler=function(e){var t=n.props.onSeriesMouseOut;t&&t({event:e})},n._seriesMouseOverHandler=function(e){var t=n.props.onSeriesMouseOver;t&&t({event:e})},n._seriesRightClickHandler=function(e){var t=n.props.onSeriesRightClick;t&&t({event:e})},n._valueClickHandler=function(e,t){var r=n.props,i=r.onValueClick,o=r.onSeriesClick;i&&i(e,{event:t}),o&&o({event:t})},n._valueMouseOutHandler=function(e,t){var r=n.props,i=r.onValueMouseOut,o=r.onSeriesMouseOut;i&&i(e,{event:t}),o&&o({event:t})},n._valueMouseOverHandler=function(e,t){var r=n.props,i=r.onValueMouseOver,o=r.onSeriesMouseOver;i&&i(e,{event:t}),o&&o({event:t})},n._valueRightClickHandler=function(e,t){var r=n.props,i=r.onValueRightClick,o=r.onSeriesRightClick;i&&i(e,{event:t}),o&&o({event:t})},i=r,p(n,i)}return d(t,e),n(t,[{key:"onParentMouseMove",value:function(e){var t=this.props,r=t.onNearestX,n=t.onNearestXY,i=t.data;(r||n)&&i&&(n?this._handleNearestXY(e):this._handleNearestX(e))}},{key:"onParentTouchMove",value:function(e){e.preventDefault(),this.onParentMouseMove(e)}},{key:"onParentTouchStart",value:function(e){e.preventDefault()}},{key:"_getAttr0Functor",value:function(e){return(0,l.getAttr0Functor)(this.props,e)}},{key:"_getAttributeFunctor",value:function(e){return(0,l.getAttributeFunctor)(this.props,e)}},{key:"_getAttributeValue",value:function(e){return(0,l.getAttributeValue)(this.props,e)}},{key:"_getScaleDistance",value:function(e){var t=(0,l.getScaleObjectFromProps)(this.props,e);return t?t.distance:0}},{key:"_getXYCoordinateInContainer",value:function(e){var t=this.props,r=t.marginTop,n=void 0===r?0:r,i=t.marginLeft,o=void 0===i?0:i,a=e.nativeEvent,s=e.currentTarget,u=s.getBoundingClientRect(),c=a.clientX,l=a.clientY;return"touchmove"===a.type&&(c=a.touches[0].pageX,l=a.touches[0].pageY),{x:c-u.left-s.clientLeft-o,y:l-u.top-s.clientTop-n}}},{key:"_handleNearestX",value:function(e){var t=this.props,r=t.onNearestX,n=t.data,i=Number.POSITIVE_INFINITY,o=null,a=null,s=this._getXYCoordinateInContainer(e),u=this._getAttributeFunctor("x");n.forEach((function(e,t){var r=u(e),n=Math.abs(s.x-r);n<i&&(i=n,o=e,a=t)})),o&&r(o,{innerX:u(o),index:a,event:e.nativeEvent})}},{key:"_handleNearestXY",value:function(e){var t=this.props,r=t.onNearestXY,n=t.data,i=this._getXYCoordinateInContainer(e),o=this._getAttributeFunctor("x"),a=this._getAttributeFunctor("y"),u=(0,s.voronoi)().x(o).y(a),c=u(n).find(i.x,i.y),l=c.data;l&&r(l,{innerX:c[0],innerY:c[1],index:c.index,event:e.nativeEvent})}}],[{key:"getParentConfig",value:function(){return{}}},{key:"requiresSVG",get:function(){return!0}}]),t}(u.PureComponent);y.displayName="AbstractSeries",y.propTypes=v,y.defaultProps=m,t["default"]=y},MMmD:function(e,t,r){var n=r("lSCD"),i=r("shjB");function o(e){return null!=e&&i(e.length)&&!n(e)}e.exports=o},MNnm:function(e,t,r){"use strict";function n(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}r.d(t,"a",(function(){return n}))},MZF8:function(e,t,r){"use strict";var n=r("ogwx");r.d(t,"a",(function(){return n["b"]}));r("VCU9")},MgzW:function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}e.exports=s()?Object.assign:function(e,t){for(var r,s,u=a(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]),r)i.call(r,l)&&(u[l]=r[l]);if(n){s=n(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(u[s[f]]=r[s[f]])}}return u}},MiSq:function(e,t,r){"use strict";function n(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24,t=1540483477*(65535&t)+(59797*(t>>>16)<<16),t^=t>>>24,r=1540483477*(65535&t)+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r^=255&e.charCodeAt(n),r=1540483477*(65535&r)+(59797*(r>>>16)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+(59797*(r>>>16)<<16),((r^r>>>15)>>>0).toString(36)}r.d(t,"a",(function(){return g}));var i=n,o={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=o,s=r("4qRI"),u=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},f=function(e){return null!=e&&"boolean"!==typeof e},h=Object(s["a"])((function(e){return l(e)?e:e.replace(u,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(c,(function(e,t,r){return m={name:t,styles:r,next:m},t}))}return 1===a[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return m={name:r.name,styles:r.styles,next:m},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)while(void 0!==i)m={name:i.name,styles:i.styles,next:m},i=i.next;var o=r.styles+";";return o}return v(e,t,r);case"function":if(void 0!==e){var a=m,s=r(e);return m=a,d(e,t,s,n)}break;case"string":break}if(null==t)return r;var u=t[r];return void 0===u||n?r:u}function v(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=d(e,t,r[i],!1);else for(var o in r){var a=r[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":f(a)&&(n+=h(o)+":"+p(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a,!1);switch(o){case"animation":case"animationName":n+=h(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)f(a[u])&&(n+=h(o)+":"+p(o,a[u])+";")}return n}var m,y=/label:\s*([^\s;\n{]+)\s*;/g;var g=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";m=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,o+=d(r,t,a,!1)):o+=a[0];for(var s=1;s<e.length;s++)o+=d(r,t,e[s],46===o.charCodeAt(o.length-1)),n&&(o+=a[s]);y.lastIndex=0;var u,c="";while(null!==(u=y.exec(o)))c+="-"+u[1];var l=i(o)+c;return{name:l,styles:o,next:m}}},Mpie:function(e,t,r){},MvSz:function(e,t,r){var n=r("LXxW"),i=r("0ycA"),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},"N+g0":function(e,t,r){var n=r("g6v/"),i=r("m/L8"),o=r("glrk"),a=r("33Wh");e.exports=n?Object.defineProperties:function(e,t){o(e);var r,n=a(t),s=n.length,u=0;while(s>u)i.f(e,r=n[u++],t[r]);return e}},NAQ3:function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),i=r.n(n),o=r("dEAq"),a=r("+pnj"),s=r("Zxc8"),u=i.a.memo((e=>{var t=e.demos,r=t["test-demo"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"test"},i.a.createElement(o["AnchorLink"],{to:"#test","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Test"),i.a.createElement("h2",{id:"api"},i.a.createElement(o["AnchorLink"],{to:"#api","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"API"),i.a.createElement(a["a"],{identifier:"Test",export:"default"}),i.a.createElement("p",null,"Demo:")),i.a.createElement(s["default"],t["test-demo"].previewerProps,i.a.createElement(r,null)),i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"More skills for writing demo: ",i.a.createElement(o["Link"],{to:"https://d.umijs.org/guide/demo-principle"},"https://d.umijs.org/guide/demo-principle")))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),r=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(u,{demos:r})}},"NC/Y":function(e,t,r){var n=r("0GbY");e.exports=n("navigator","userAgent")||""},NKxu:function(e,t,r){var n=r("lSCD"),i=r("E2jh"),o=r("GoyQ"),a=r("3Fdi"),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,f=c.toString,h=l.hasOwnProperty,p=RegExp("^"+f.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(e){if(!o(e)||i(e))return!1;var t=n(e)?p:u;return t.test(a(e))}e.exports=d},NUqu:function(e){e.exports=JSON.parse('{"envelope.schema.json":{"id":"https://xviz.org/schema/envelope.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ data envelope","type":"object","properties":{"type":{},"data":{}},"anyOf":[{"properties":{"type":{"type":"string","pattern":"^((?!xviz/).)*$"},"data":{"type":"object"}}},{"properties":{"type":{"enum":["xviz/start"]},"data":{"$ref":"https://xviz.org/schema/session/start.json"}}},{"properties":{"type":{"enum":["xviz/metadata"]},"data":{"$ref":"https://xviz.org/schema/session/metadata.json"}}},{"properties":{"type":{"enum":["xviz/transform_log"]},"data":{"$ref":"https://xviz.org/schema/session/transform_log.json"}}},{"properties":{"type":{"enum":["xviz/state_update"]},"data":{"$ref":"https://xviz.org/schema/session/state_update.json"}}},{"properties":{"type":{"enum":["xviz/transform_log_done"]},"data":{"$ref":"https://xviz.org/schema/session/transform_log_done.json"}}},{"properties":{"type":{"enum":["xviz/reconfigure"]},"data":{"$ref":"https://xviz.org/schema/session/reconfigure.json"}}},{"properties":{"type":{"enum":["xviz/error"]},"data":{"$ref":"https://xviz.org/schema/session/error.json"}}},{"properties":{"type":{"enum":["xviz/transform_point_in_time"]},"data":{"$ref":"https://xviz.org/schema/session/transform_point_in_time.json"}}}],"required":["type","data"],"additionalProperties":false},"ui-primitives/treetable.schema.json":{"id":"https://xviz.org/schema/ui-primitives/treetable.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Treetable","type":"object","properties":{"columns":{"type":"array","items":{"type":"object","properties":{"display_text":{"type":"string"},"type":{"type":"string","enum":["INT32","DOUBLE","STRING","BOOLEAN"]},"unit":{"type":"string"}},"required":["display_text","type"],"additionalProperties":false},"additionalItems":false},"nodes":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"parent":{"type":"integer"},"column_values":{"type":"array","items":{"type":"string"},"additionalItems":false}},"required":["id"],"additionalProperties":false},"additionalItems":false}},"additionalProperties":false},"style/_color.schema.json":{"id":"https://xviz.org/schema/style/_color.json","$schema":"http://json-schema.org/draft-04/schema#","description":"Internal XVIZ RGBA color type","oneOf":[{"type":"array","items":{"type":"number"},"minimum":0,"maximum":255,"minItems":3,"maxItems":4,"additionalItems":false},{"type":"string","pattern":"^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$"}]},"style/class.schema.json":{"id":"https://xviz.org/schema/style/class.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Style Class","type":"object","properties":{"name":{"type":"string"},"style":{"$ref":"https://xviz.org/schema/style/object_value.json"}},"additionalProperties":false,"required":["name","style"]},"style/object_value.schema.json":{"id":"https://xviz.org/schema/style/object_value.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Object Style Value","type":"object","properties":{"fill_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_width":{"type":"number"},"radius":{"type":"number"},"text_size":{"type":"number"},"text_rotation":{"type":"number"},"text_anchor":{"enum":["START","MIDDLE","END"]},"text_baseline":{"enum":["TOP","CENTER","BOTTOM"]},"height":{"type":"number"}},"anyOf":[{"required":["fill_color"]},{"required":["stroke_color"]},{"required":["stroke_width"]},{"required":["radius"]},{"required":["text_size"]},{"required":["text_rotation"]},{"required":["text_anchor"]},{"required":["text_baseline"]}],"additionalProperties":false},"style/stream_value.schema.json":{"id":"https://xviz.org/schema/style/stream_value.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream Style Value","type":"object","properties":{"fill_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_color":{"$ref":"https://xviz.org/schema/style/_color.json"},"stroke_width":{"type":"number"},"radius":{"type":"number"},"text_size":{"type":"number"},"text_rotation":{"type":"number"},"text_anchor":{"enum":["START","MIDDLE","END"]},"text_baseline":{"enum":["TOP","CENTER","BOTTOM"]},"height":{"type":"number"},"radius_pixels":{"type":"number","minimum":0},"radius_min_pixels":{"type":"number","minimum":0},"radius_max_pixels":{"type":"number","minimum":0},"stroke_width_min_pixels":{"type":"number","minimum":0},"stroke_width_max_pixels":{"type":"number","minimum":0},"opacity":{"type":"number","minimum":0,"maximum":1},"stroked":{"type":"boolean"},"filled":{"type":"boolean"},"extruded":{"type":"boolean"},"font_family":{"type":"string"},"font_weight":{"type":"number"},"point_color_mode":{"enum":["ELEVATION","DISTANCE_TO_VEHICLE"]},"point_color_domain":{"type":"array","minItems":2,"maxItems":2,"items":{"type":"number"}}},"anyOf":[{"required":["fill_color"]},{"required":["stroke_color"]},{"required":["stroke_width"]},{"required":["radius"]},{"required":["radius_pixels"]},{"required":["text_size"]},{"required":["text_rotation"]},{"required":["text_anchor"]},{"required":["text_baseline"]},{"required":["radius_min_pixels"]},{"required":["radius_max_pixels"]},{"required":["stroke_width_min_pixels"]},{"required":["stroke_width_max_pixels"]},{"required":["opacity"]},{"required":["stroked"]},{"required":["filled"]},{"required":["extruded"]},{"required":["font_family"]},{"required":["font_weight"]},{"required":["point_color_mode"]},{"required":["point_color_domain"]}],"additionalProperties":false},"session/camera_info.schema.json":{"id":"https://xviz.org/schema/session/camera_info.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Camera Information","type":"object","properties":{"human_name":{"type":"string"},"source":{"type":"string"},"vehicle_position":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"vehicle_orientation":{"$ref":"https://xviz.org/schema/math/matrix3x3.json"},"pixel_width":{"type":"number","minimum":0},"pixel_height":{"type":"number","minimum":0},"rectification_projection":{"$ref":"https://xviz.org/schema/math/matrix3x3.json"},"gl_projection":{"$ref":"https://xviz.org/schema/math/matrix4x4.json"}},"required":["human_name","source"],"dependencies":{"pixel_width":["pixel_height"],"pixel_height":["pixel_width"],"rectification_projection":["pixel_width","pixel_height"],"gl_projection":["rectification_projection","vehicle_position","vehicle_orientation"]},"additionalProperties":false},"session/error.schema.json":{"id":"https://xviz.org/schema/session/error.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Error","type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false},"session/log_info.schema.json":{"id":"https://xviz.org/schema/session/log_info.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Metadata Log timing information","type":"object","properties":{"start_time":{"type":"number"},"end_time":{"type":"number"}},"additionalProperties":true},"session/metadata.schema.json":{"id":"https://xviz.org/schema/session/metadata.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Metadata","type":"object","properties":{"version":{"type":"string"},"streams":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/session/stream_metadata.json"}},"cameras":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/session/camera_info.json"}},"stream_aliases":{"type":"object","additionalProperties":{"type":"string"}},"ui_config":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/session/ui_panel_info.json"}},"log_info":{"$ref":"https://xviz.org/schema/session/log_info.json"},"map_info":{"type":"object"},"vehicle_info":{"type":"object"}},"required":["version"],"additionalProperties":false},"session/reconfigure.schema.json":{"id":"https://xviz.org/schema/session/reconfigure.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Reconfigure message","type":"object","properties":{"update_type":{"enum":["DELTA","FULL"]},"config_update":{"type":"object"}},"required":["update_type","config_update"],"additionalProperties":false},"session/start.schema.json":{"id":"https://xviz.org/schema/session/start.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Start","type":"object","properties":{"version":{"type":"string","pattern":"^(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)(-(0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(\\\\.(0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\\\\+[0-9a-zA-Z-]+(\\\\.[0-9a-zA-Z-]+)*)?$"},"profile":{"type":"string"},"session_type":{},"message_format":{"type":"string","enum":["JSON","BINARY"]},"log":{}},"required":["version"],"oneOf":[{"properties":{"session_type":{"type":"string","enum":["LOG"]},"log":{"pattern":".*"}},"required":["version","log"]},{"properties":{"session_type":{"type":"string","enum":["LIVE"]}},"required":["version"],"not":{"required":["log"]}}],"additionalProperties":false},"session/state_update.schema.json":{"id":"https://xviz.org/schema/session/state_update.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream Update","type":"object","properties":{"update_type":{"type":"string","enum":["COMPLETE_STATE","INCREMENTAL","SNAPSHOT","PERSISTENT"]},"updates":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/stream_set.json"},"minItems":1,"additionalItems":false}},"required":["update_type","updates"],"additionalProperties":false},"session/stream_metadata.schema.json":{"id":"https://xviz.org/schema/session/stream_metadata.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream Metadata","type":"object","properties":{"source":{"type":"string"},"units":{"type":"string"},"coordinate":{},"transform":{"$ref":"https://xviz.org/schema/math/matrix4x4.json"},"transform_callback":{"type":"string"},"category":{"enum":["ANNOTATION","FUTURE_INSTANCE","POSE","PRIMITIVE","UI_PRIMITIVE","TIME_SERIES","VARIABLE"]},"scalar_type":{"enum":["FLOAT","INT32","BOOL","STRING"]},"primitive_type":{"enum":["CIRCLE","IMAGE","POINT","POLYGON","POLYLINE","STADIUM","TEXT"]},"ui_primitive_type":{"enum":["TREETABLE"]},"annotation_type":{"enum":["VISUAL"]},"stream_style":{"$ref":"https://xviz.org/schema/style/stream_value.json"},"style_classes":{"type":"array","items":{"$ref":"https://xviz.org/schema/style/class.json"},"additionalItems":false}},"allOf":[{"anyOf":[{"properties":{"coordinate":{"enum":["GEOGRAPHIC","IDENTITY"]}}},{"properties":{"coordinate":{"enum":["VEHICLE_RELATIVE"]}}},{"properties":{"coordinate":{"enum":["DYNAMIC"]}},"required":["transform_callback"]}]},{"anyOf":[{"properties":{"category":{"enum":["TIME_SERIES","VARIABLE"]}},"required":["scalar_type"]},{"properties":{"category":{"enum":["FUTURE_INSTANCE","PRIMITIVE"]}},"required":["primitive_type"]},{"properties":{"category":{"enum":["UI_PRIMITIVE"]}},"required":["ui_primitive_type"]},{"properties":{"category":{"enum":["ANNOTATION"]}},"required":["annotation_type"]},{"properties":{"category":{"enum":["POSE"]}}}]}],"additionalProperties":false},"session/transform_log.schema.json":{"id":"https://xviz.org/schema/session/transform_log.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Transform Log","type":"object","properties":{"id":{"type":"string"},"start_timestamp":{"type":"number"},"end_timestamp":{"type":"number"},"desired_streams":{"type":"array","items":{"type":"string"},"additionalItems":false}},"required":["id"],"additionalProperties":false},"session/transform_log_done.schema.json":{"id":"https://xviz.org/schema/session/transform_log_done.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Transform Log Done","type":"object","properties":{"id":{"type":"string"}},"required":["id"],"additionalProperties":false},"session/transform_point_in_time.schema.json":{"id":"https://xviz.org/schema/session/transform_point_in_time.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session Transform Point In Time","type":"object","properties":{"id":{"type":"string"},"query_timestamp":{"type":"number"},"desired_streams":{"type":"array","items":{"type":"string"},"additionalItems":false}},"required":["id","query_timestamp"],"additionalProperties":false},"session/ui_panel_info.schema.json":{"id":"https://xviz.org/schema/session/ui_panel_info.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Session UI Panel Info","type":"object","properties":{"name":{"type":"string"},"needed_streams":{"type":"array","items":{"type":"string"},"additionalItems":false},"config":{"oneOf":[{"type":"object"},{"type":"string"}]}},"required":["name","config"],"additionalProperties":false},"primitives/circle.schema.json":{"id":"https://xviz.org/schema/primitives/circle.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["CIRCLE"]},"center":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"radius":{"type":"number"}},"required":["center","radius"],"additionalProperties":false},"primitives/image.schema.json":{"id":"https://xviz.org/schema/primitives/image.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Image primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["IMAGE"]},"position":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"data":{"type":"string","contentEncoding":"base64","pattern":"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"},"width_px":{"type":"integer","minValue":0},"height_px":{"type":"integer","minValue":0}},"required":["data","width_px","height_px"],"additionalProperties":false},"primitives/point.schema.json":{"id":"https://xviz.org/schema/primitives/point.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["POINT"]},"points":{"$ref":"https://xviz.org/schema/math/point3d_list.schema.json"},"colors":{"type":"array","oneOf":[{"items":{"$ref":"https://xviz.org/schema/style/_color.json"}},{"type":"array","items":{"type":"number"},"minimum":0,"maximum":255,"minItems":4}],"additionalItems":false}},"required":["points"],"additionalProperties":false},"primitives/polygon.schema.json":{"id":"https://xviz.org/schema/primitives/polygon.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Polygon primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"vertices":{"$ref":"https://xviz.org/schema/math/point3d_list.schema.json"}},"required":["vertices"],"additionalProperties":false},"primitives/polyline.schema.json":{"id":"https://xviz.org/schema/primitives/polyline.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Polyline primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"vertices":{"$ref":"https://xviz.org/schema/math/point3d_list.schema.json"}},"required":["vertices"],"additionalProperties":false},"primitives/stadium.schema.json":{"id":"https://xviz.org/schema/primitives/stadium.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"start":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"end":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"radius":{"type":"number"}},"required":["start","end","radius"],"additionalProperties":false},"primitives/text.schema.json":{"id":"https://xviz.org/schema/primitives/text.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Text primitive","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/primitive_base.json"},"type":{"enum":["TEXT"]},"position":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"text":{"type":"string"}},"required":["position","text"],"additionalProperties":false},"math/matrix3x3.schema.json":{"id":"https://xviz.org/schema/math/matrix3x3.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","oneOf":[{"type":"array","items":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"minItems":3,"maxItems":3,"additionalItems":false},{"type":"array","items":{"type":"number"},"minItems":9,"maxItems":9,"additionalItems":false}]},"math/matrix4x4.schema.json":{"id":"https://xviz.org/schema/math/matrix4x4.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","oneOf":[{"type":"array","items":{"type":"array","items":{"type":"number"},"minItems":4,"maxItems":4,"additionalItems":false},"minItems":4,"maxItems":4,"additionalItems":false},{"type":"array","items":{"type":"number"},"minItems":16,"maxItems":16,"additionalItems":false}]},"math/point3d_list.schema.json":{"id":"https://xviz.org/schema/math/point3d_list.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point 3D list","oneOf":[{"type":"array","items":{"$ref":"https://xviz.org/schema/math/vector3x1.json"},"minItems":1,"additionalItems":false},{"type":"array","items":{"type":"number"},"minItems":3,"additionalItems":false}]},"math/vector3x1.schema.json":{"id":"https://xviz.org/schema/math/vector3x1.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Point primitive","type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"additionalItems":false},"declarative-ui/component_base.schema.json":{"id":"https://xviz.org/schema/declarative-ui/component_base.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"type":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"}}},"declarative-ui/panel.schema.json":{"id":"https://xviz.org/schema/declarative-ui/panel.json","$schema":"http://json-schema.org/draft-04/schema#","description":"Declarative UI Panel Info","allOf":[{"$ref":"#/definitions/with_children"}],"properties":{"type":{"enum":["PANEL"]},"name":{},"layout":{},"interactions":{},"children":{}},"additionalProperties":false,"definitions":{"with_children":{"type":"object","properties":{"type":{"type":"string"},"name":{"type":"string"},"layout":{"type":"string","enum":["VERTICAL","HORIZONTAL"]},"interactions":{"type":"array","items":{"type":"string","enum":["REORDERABLE","DRAG_OUT"]},"additionalItems":false},"children":{"type":"array","items":{"anyOf":[{"$ref":"https://xviz.org/schema/declarative-ui/components/metric.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/plot.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/table.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/treetable.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/video.json"},{"$ref":"https://xviz.org/schema/declarative-ui/components/select.json"},{"$ref":"#/definitions/container"}]},"additionalItems":false}},"required":["name","children"]},"container":{"title":"container","description":"Group of components","allOf":[{"$ref":"#/definitions/with_children"}],"properties":{"type":{"enum":["CONTAINER"]},"name":{},"layout":{},"interactions":{},"children":{}},"required":["type"],"additionalProperties":false}}},"declarative-ui/components/_onchange.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/_onchange.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"target":{"type":"string"}},"required":["target"],"additionalProperties":false},"declarative-ui/components/_tabular.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/_tabular.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"stream":{"type":"string"},"displayObjectId":{"type":"boolean"}},"required":["type","title","stream"]},"declarative-ui/components/metric.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/metric.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["METRIC"]},"title":{},"description":{},"streams":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false}},"required":["type","title","streams"],"additionalProperties":false},"declarative-ui/components/plot.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/plot.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["PLOT"]},"title":{},"description":{},"independentVariable":{"type":"string"},"dependentVariables":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false},"regions":{"type":"array","minItems":1,"additionalItems":false,"items":{"type":"object","properties":{"x":{"type":"string"},"yMin":{"type":"string"},"yMax":{"type":"string"}},"required":["x","yMin","yMax"],"additionalProperties":false}}},"anyOf":[{"required":["type","title","independentVariable","dependentVariables"]},{"required":["type","title","regions"]}],"additionalProperties":false},"declarative-ui/components/select.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/select.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["SELECT"]},"title":{},"description":{},"stream":{"type":"string"},"onchange":{"$ref":"https://xviz.org/schema/declarative-ui/components/_onchange.json"}},"required":["type","title","stream","onchange"],"additionalProperties":false},"declarative-ui/components/table.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/table.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/components/_tabular.json"}],"properties":{"type":{"enum":["TABLE"]},"title":{},"description":{},"stream":{},"displayObjectId":{}},"additionalProperties":false},"declarative-ui/components/treetable.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/treetable.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/components/_tabular.json"}],"properties":{"type":{"enum":["TREETABLE"]},"title":{},"description":{},"stream":{},"displayObjectId":{}},"additionalProperties":false},"declarative-ui/components/video.schema.json":{"id":"https://xviz.org/schema/declarative-ui/components/video.json","$schema":"http://json-schema.org/draft-04/schema#","allOf":[{"$ref":"https://xviz.org/schema/declarative-ui/component_base.json"}],"properties":{"type":{"enum":["VIDEO"]},"title":{},"description":{},"cameras":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false}},"required":["type","cameras"],"additionalProperties":false},"core/_annotation_list.schema.json":{"id":"https://xviz.org/schema/core/_annotation_list.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"Internal XVIZ annotation list","type":"array","items":{"anyOf":[{"$ref":"https://xviz.org/schema/core/annotation_visual.json"}]},"additionalItems":false},"core/annotation_base.schema.json":{"id":"https://xviz.org/schema/core/annotation_base.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"object_id":{"type":"string"}},"required":["object_id"]},"core/annotation_state.schema.json":{"id":"https://xviz.org/schema/core/annotation_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Annotation State","type":"object","properties":{"visuals":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/annotation_visual.json"},"additionalItems":false}},"additionalProperties":false},"core/annotation_visual.schema.json":{"id":"https://xviz.org/schema/core/annotation_visual.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Visual Annotation","type":"object","properties":{"base":{"$ref":"https://xviz.org/schema/core/annotation_base.json"},"style_classes":{"type":"array","items":{"type":"string"},"additionalItems":false},"inline_style":{"$ref":"https://xviz.org/schema/style/object_value.json"}},"additionalProperties":false,"anyOf":[{"required":["base","inline_style"]},{"required":["base","style_classes"]}]},"core/future_instances.schema.json":{"id":"https://xviz.org/schema/core/future_instances.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Future Instances","type":"object","properties":{"timestamps":{"type":"array","minItems":1,"items":{"type":"number","minimum":0},"additionalItems":false},"primitives":{"type":"array","minItems":1,"items":{"$ref":"https://xviz.org/schema/core/primitive_state.json"}}},"required":["timestamps","primitives"],"additionalProperties":false},"core/link_state.schema.json":{"id":"https://xviz.org/schema/core/link_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Link State","type":"object","properties":{"target_pose":{"type":"string"}},"required":["target_pose"]},"core/pose.schema.json":{"id":"https://xviz.org/schema/core/pose.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"timestamp":{"type":"number","minimum":0},"map_origin":{"type":"object","properties":{"longitude":{"type":"number"},"latitude":{"type":"number"},"altitude":{"type":"number"}},"required":["longitude","latitude","altitude"],"additionalProperties":false},"position":{"type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"additionalItems":false},"orientation":{"type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"additionalItems":false}},"required":["position","orientation"],"additionalProperties":true},"core/primitive_base.schema.json":{"id":"https://xviz.org/schema/core/primitive_base.json","$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"type":{"type":"string"},"object_id":{"type":"string"},"style":{"$ref":"https://xviz.org/schema/style/object_value.json"},"classes":{"type":"array","items":{"type":"string"},"minItems":1,"additionalItems":false}}},"core/primitive_state.schema.json":{"id":"https://xviz.org/schema/core/primitive_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Primitive State","type":"object","properties":{"circles":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/circle.json"},"additionalItems":false},"images":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/image.json"},"additionalItems":false},"points":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/point.json"},"additionalItems":false},"polygons":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/polygon.json"},"additionalItems":false},"polylines":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/polyline.json"},"additionalItems":false},"stadiums":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/stadium.json"},"additionalItems":false},"texts":{"type":"array","items":{"$ref":"https://xviz.org/schema/primitives/text.json"},"additionalItems":false}},"additionalProperties":false},"core/stream_set.schema.json":{"id":"https://xviz.org/schema/core/stream_set.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Stream set","type":"object","properties":{"timestamp":{"type":"number"},"poses":{"type":"object","properties":{"/vehicle_pose":{"$ref":"https://xviz.org/schema/core/pose.json"}},"additionalProperties":{"$ref":"https://xviz.org/schema/core/pose.json"}},"primitives":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/primitive_state.json"}},"ui_primitives":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/ui_primitive_state.json"}},"time_series":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/timeseries_state.schema.json"},"minItems":1,"additionalItems":false},"future_instances":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/future_instances.json"}},"variables":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/variable_state.json"}},"annotations":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/annotation_state.json"}},"no_data_streams":{"type":"array","items":{"type":"string"},"additionalItems":false},"links":{"type":"object","additionalProperties":{"$ref":"https://xviz.org/schema/core/link_state.json"}}},"required":["timestamp"],"anyOf":[{"required":["poses"]},{"required":["primitives"]},{"required":["ui_primitives"]},{"required":["time_series"]},{"required":["future_instances"]},{"required":["variables"]},{"required":["annotations"]}],"additionalProperties":false},"core/timeseries_state.schema.json":{"id":"https://xviz.org/schema/core/timeseries_state.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Timeseries State","type":"object","properties":{"timestamp":{"type":"number","minimum":0},"streams":{"type":"array","items":{"type":"string"},"additionalItems":false},"values":{"$ref":"https://xviz.org/schema/core/values.schema.json"},"object_id":{"type":"string"}},"required":["timestamp","streams","values"],"additionalProperties":false},"core/ui_primitive_state.schema.json":{"id":"https://xviz.org/schema/core/ui_primitive_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ UI Primitive State","type":"object","properties":{"treetable":{"$ref":"https://xviz.org/schema/ui-primitives/treetable.json"}},"additionalProperties":false},"core/value.schema.json":{"id":"https://xviz.org/schema/core/value.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Value","oneOf":[{"type":"number"},{"type":"string"},{"type":"boolean"}]},"core/values.schema.json":{"id":"https://xviz.org/schema/core/values.schema.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Values","type":"object","properties":{"doubles":{"type":"array","items":{"type":"number"},"additionalItems":false},"int32s":{"type":"array","items":{"type":"integer"},"additionalItems":false},"bools":{"type":"array","items":{"type":"boolean"},"additionalItems":false},"strings":{"type":"array","items":{"type":"string"},"additionalItems":false}},"additionalProperties":false,"anyOf":[{"required":["doubles"]},{"required":["int32s"]},{"required":["bools"]},{"required":["strings"]}]},"core/variable.schema.json":{"id":"https://xviz.org/schema/core/variable.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Variable State","type":"object","properties":{"base":{"type":"object","properties":{"object_id":{"type":"string"}},"additionalProperties":false},"values":{"$ref":"https://xviz.org/schema/core/values.schema.json"}},"required":["values"],"additionalProperties":false},"core/variable_state.schema.json":{"id":"https://xviz.org/schema/core/variable_state.json","$schema":"http://json-schema.org/draft-04/schema#","description":"XVIZ Variable State","type":"object","properties":{"variables":{"type":"array","items":{"$ref":"https://xviz.org/schema/core/variable.json"},"additionalItems":false}},"required":["variables"],"additionalProperties":false}}')},NV22:function(e,t,r){var n=r("I+eb"),i=r("glrk"),o=r("4oU/"),a=r("ntOU"),s=r("afO8"),u="Seeded Random",c=u+" Generator",l=s.set,f=s.getterFor(c),h='Math.seededPRNG() argument should have a "seed" field with a finite value.',p=a((function(e){l(this,{type:c,seed:e%2147483647})}),u,(function(){var e=f(this),t=e.seed=(1103515245*e.seed+12345)%2147483647;return{value:(1073741823&t)/1073741823,done:!1}}));n({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!o(t))throw TypeError(h);return new p(t)}})},NZIM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s,t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0;r("uUy6");var n=-1;t.SCROLL_DIRECTION_BACKWARD=n;var i=1;t.SCROLL_DIRECTION_FORWARD=i;var o="horizontal";t.SCROLL_DIRECTION_HORIZONTAL=o;var a="vertical";function s(e){var t=e.cellCount,r=e.overscanCellsCount,n=e.scrollDirection,o=e.startIndex,a=e.stopIndex;return r=Math.max(1,r),n===i?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,a+r)}:{overscanStartIndex:Math.max(0,o-r),overscanStopIndex:Math.min(t-1,a+1)}}t.SCROLL_DIRECTION_VERTICAL=a},NaFW:function(e,t,r){var n=r("9d/t"),i=r("P4y1"),o=r("tiKp"),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[n(e)]}},Npjl:function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},NqR8:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{isubh:function(e,t,r,n){var i=e>>>0,o=t>>>0,a=r>>>0;return o-(n>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},Nsbk:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},Nt8B:function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),i=r.n(n),o=r("dEAq"),a=r("+pnj"),s=r("Zxc8"),u=i.a.memo((e=>{var t=e.demos,r=t["test-app"].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"pannel"},i.a.createElement(o["AnchorLink"],{to:"#pannel","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"Pannel"),i.a.createElement("h2",{id:"api"},i.a.createElement(o["AnchorLink"],{to:"#api","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"API"),i.a.createElement(a["a"],{identifier:"Test",export:"default"}),i.a.createElement("p",null,"Demo:")),i.a.createElement(s["default"],t["test-app"].previewerProps,i.a.createElement(r,null)),i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,i.a.createElement(o["Link"],{to:"https://d.umijs.org/guide/demo-principle"},"\u66f4\u591a\u6280\u5de7")))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),r=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(u,{demos:r})}},Nw31:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n,i=r("fWQN"),o=r("mtLc"),a=r("yKVA"),s=r("879j"),u=r("41X0"),c=r("+H0l"),l=r("a3TU"),f=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"toString",value:function(){var e="[";if(l["b"].printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(var n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+="]",e}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,r){return this[t*this.RANK+e]=Object(c["a"])(r),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=e*this.RANK,n=0;n<this.RANK;++n)t[n]=this[r+n];return t}},{key:"setColumn",value:function(e,t){for(var r=e*this.RANK,n=0;n<this.RANK;++n)this[r+n]=t[n];return this}}]),r}(u["a"]),h=r("sSh/"),p=r("ZaHm"),d=r("ZxFD"),v=r("n+fv"),m=r("bl9R");(function(e){e[e["COL0ROW0"]=0]="COL0ROW0",e[e["COL0ROW1"]=1]="COL0ROW1",e[e["COL0ROW2"]=2]="COL0ROW2",e[e["COL0ROW3"]=3]="COL0ROW3",e[e["COL1ROW0"]=4]="COL1ROW0",e[e["COL1ROW1"]=5]="COL1ROW1",e[e["COL1ROW2"]=6]="COL1ROW2",e[e["COL1ROW3"]=7]="COL1ROW3",e[e["COL2ROW0"]=8]="COL2ROW0",e[e["COL2ROW1"]=9]="COL2ROW1",e[e["COL2ROW2"]=10]="COL2ROW2",e[e["COL2ROW3"]=11]="COL2ROW3",e[e["COL3ROW0"]=12]="COL3ROW0",e[e["COL3ROW1"]=13]="COL3ROW1",e[e["COL3ROW2"]=14]="COL3ROW2",e[e["COL3ROW3"]=15]="COL3ROW3"})(n||(n={}));var y,g,b=45*Math.PI/180,_=1,w=.1,x=500,O=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),E=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(e){var n;return Object(i["a"])(this,r),n=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?n.copy(e):n.identity(),n}return Object(o["a"])(r,[{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}},{key:"INDICES",get:function(){return n}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=c,this[10]=l,this[11]=f,this[12]=h,this[13]=p,this[14]=d,this[15]=v,this.check()}},{key:"setRowMajor",value:function(e,t,r,n,i,o,a,s,u,c,l,f,h,p,d,v){return this[0]=e,this[1]=i,this[2]=u,this[3]=h,this[4]=t,this[5]=o,this[6]=c,this[7]=p,this[8]=r,this[9]=a,this[10]=l,this[11]=d,this[12]=n,this[13]=s,this[14]=f,this[15]=v,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(O)}},{key:"fromObject",value:function(e){return this.check()}},{key:"fromQuaternion",value:function(e){return p["c"](this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,r=e.right,n=e.bottom,i=e.top,o=e.near,a=void 0===o?w:o,s=e.far,u=void 0===s?x:s;return u===1/0?T(this,t,r,n,i,a):p["d"](this,t,r,n,i,a,u),this.check()}},{key:"lookAt",value:function(e){var t=e.eye,r=e.center,n=void 0===r?[0,0,0]:r,i=e.up,o=void 0===i?[0,1,0]:i;return p["f"](this,t,n,o),this.check()}},{key:"ortho",value:function(e){var t=e.left,r=e.right,n=e.bottom,i=e.top,o=e.near,a=void 0===o?w:o,s=e.far,u=void 0===s?x:s;return p["h"](this,t,r,n,i,a,u),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,r=void 0===t?b:t,n=e.aspect,i=void 0===n?_:n,o=e.focalDistance,a=void 0===o?1:o,s=e.near,u=void 0===s?w:s,c=e.far,l=void 0===c?x:c;k(r);var f=r/2,h=a*Math.tan(f),p=h*i;return this.ortho({left:-p,right:p,bottom:-h,top:h,near:u,far:l})}},{key:"perspective",value:function(e){var t=e.fovy,r=void 0===t?45*Math.PI/180:t,n=e.aspect,i=void 0===n?1:n,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return k(r),p["i"](this,r,i,a,u),this.check()}},{key:"determinant",value:function(){return p["a"](this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var r=this.getScale(t),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var r=this.getScale(t),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*o,e}},{key:"transpose",value:function(){return p["p"](this,this),this.check()}},{key:"invert",value:function(){return p["e"](this,this),this.check()}},{key:"multiplyLeft",value:function(e){return p["g"](this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return p["g"](this,this,e),this.check()}},{key:"rotateX",value:function(e){return p["k"](this,this,e),this.check()}},{key:"rotateY",value:function(e){return p["l"](this,this,e),this.check()}},{key:"rotateZ",value:function(e){return p["m"](this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}},{key:"rotateAxis",value:function(e,t){return p["j"](this,this,e,t),this.check()}},{key:"scale",value:function(e){return p["n"](this,this,Array.isArray(e)?e:[e,e,e]),this.check()}},{key:"translate",value:function(e){return p["o"](this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(t=m["n"](t||[-0,-0,-0,-0],e,this),Object(c["b"])(t,4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){var r,n=e.length;switch(n){case 2:r=d["j"](t||[-0,-0],e,this);break;case 3:r=v["q"](t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c["b"])(r,e.length),r}},{key:"transformAsVector",value:function(e,t){var r;switch(e.length){case 2:r=Object(h["a"])(t||[-0,-0],e,this);break;case 3:r=Object(h["c"])(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c["b"])(r,e.length),r}},{key:"transformPoint",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return this.transformAsVector(e,t)}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,r){return this.identity().translate([e,t,r])}}],[{key:"IDENTITY",get:function(){return S()}},{key:"ZERO",get:function(){return j()}}]),r}(f);function j(){return y||(y=new E([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(y)),y}function S(){return g||(g=new E,Object.freeze(g)),g}function k(e){if(e>2*Math.PI)throw Error("expected radians")}function T(e,t,r,n,i,o){var a=2*o/(r-t),s=2*o/(i-n),u=(r+t)/(r-t),c=(i+n)/(i-n),l=-1,f=-1,h=-2*o;return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=c,e[10]=l,e[11]=f,e[12]=0,e[13]=0,e[14]=h,e[15]=0,e}},NykK:function(e,t,r){var n=r("nmnc"),i=r("AP2z"),o=r("KfNM"),a="[object Null]",s="[object Undefined]",u=n?n.toStringTag:void 0;function c(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}e.exports=c},O741:function(e,t,r){var n=r("hh1v");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},OBSw:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.caf=t.raf=void 0,n="undefined"!==typeof window?window:"undefined"!==typeof self?self:{};var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(e){return n.setTimeout(e,1e3/60)},o=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame||function(e){n.clearTimeout(e)},a=i;t.raf=a;var s=o;t.caf=s},ODXe:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}function i(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}r.d(t,"a",(function(){return s}));var o=r("BsWD");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return n(e)||i(e,t)||Object(o["a"])(e,t)||a()}},OHKE:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("Faen"),i=r("sFV2");function o(e){return function t(r){function o(t,o){var a=e((t=Object(n["a"])(t)).h,(o=Object(n["a"])(o)).h),s=Object(i["a"])(t.s,o.s),u=Object(i["a"])(t.l,o.l),c=Object(i["a"])(t.opacity,o.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=u(Math.pow(e,r)),t.opacity=c(e),t+""}}return r=+r,o.gamma=t,o}(1)}t["b"]=o(i["c"]);var a=o(i["a"])},OMEh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=b(o),s=r("17x9"),u=b(s),c=r("e+5M"),l=b(c),f=r("2Vc7"),h=r("PAve"),p=r("ckSw"),d=b(p),v=r("OvUz"),m=b(v),y=r("28rz"),g=b(y);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"],E=f.ORIENTATION.LEFT,j=f.ORIENTATION.RIGHT,S=f.ORIENTATION.TOP,k=f.ORIENTATION.BOTTOM,T={orientation:u["default"].oneOf([E,j,S,k]),attr:u["default"].string.isRequired,attrAxis:u["default"].string,width:u["default"].number,height:u["default"].number,top:u["default"].number,left:u["default"].number,title:u["default"].string,style:u["default"].object,className:u["default"].string,hideTicks:u["default"].bool,hideLine:u["default"].bool,on0:u["default"].bool,tickLabelAngle:u["default"].number,tickSize:u["default"].number,tickSizeInner:u["default"].number,tickSizeOuter:u["default"].number,tickPadding:u["default"].number,tickValues:u["default"].arrayOf(u["default"].oneOfType([u["default"].number,u["default"].string])),tickFormat:u["default"].func,tickTotal:u["default"].number,marginTop:u["default"].number,marginBottom:u["default"].number,marginLeft:u["default"].number,marginRight:u["default"].number,innerWidth:u["default"].number,innerHeight:u["default"].number},P={className:"",on0:!1,style:{},tickSize:6,tickPadding:8,orientation:k},A="rv-xy-plot__axis",I="rv-xy-plot__axis--vertical",C="rv-xy-plot__axis--horizontal",R=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),i(t,[{key:"_getDefaultAxisProps",value:function(){var e=this.props,t=e.innerWidth,r=e.innerHeight,n=e.marginTop,i=e.marginBottom,o=e.marginLeft,a=e.marginRight,s=e.orientation;return s===k?{tickTotal:(0,f.getTicksTotalFromSize)(t),top:r+n,left:o,width:t,height:i}:s===S?{tickTotal:(0,f.getTicksTotalFromSize)(t),top:0,left:o,width:t,height:n}:s===E?{tickTotal:(0,f.getTicksTotalFromSize)(r),top:n,left:0,width:o,height:r}:{tickTotal:(0,f.getTicksTotalFromSize)(r),top:n,left:o+t,width:a,height:r}}},{key:"render",value:function(){var e=this.props.animation;if(e){var r=e.nonAnimatedProps?O.filter((function(t){return e.nonAnimatedProps.indexOf(t)<0})):O;return a["default"].createElement(l["default"],n({},this.props,{animatedProps:r}),a["default"].createElement(t,n({},this.props,{animation:null})))}var i=n({},this._getDefaultAxisProps(),this.props),o=i.attrAxis,s=i.className,u=i.height,c=i.hideLine,f=i.hideTicks,p=i.left,v=i.marginTop,y=i.on0,b=i.orientation,_=i.position,w=i.style,x=i.title,S=i.top,k=i.width,T=[E,j].indexOf(b)>-1,P=T?I:C,R=p,M=S;if(y){var L=(0,h.getAttributeScale)(i,o);T?R=L(0):M=v+L(0)}return a["default"].createElement("g",{transform:"translate("+R+","+M+")",className:A+" "+P+" "+s,style:w},!c&&a["default"].createElement(d["default"],{height:u,width:k,orientation:b,style:n({},w,w.line)}),!f&&a["default"].createElement(m["default"],n({},i,{style:n({},w,w.ticks)})),x?a["default"].createElement(g["default"],{position:_,title:x,height:u,width:k,style:n({},w,w.title),orientation:b}):null)}}]),t}(o.PureComponent);R.displayName="Axis",R.propTypes=T,R.defaultProps=P,R.requiresSVG=!0,t["default"]=R},OYlG:function(e,t,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.r(t);var i=r("q1tI"),o=r.n(i),a=r("RGYn"),s="import React from 'react';\n// @ts-ignore\nimport { Test } from 'packages/street.gl/src';\n\nexport default () => <Test title=\"First Demo\" />;",u="import React, { PureComponent } from 'react';\nimport { PathStyleExtension } from '@deck.gl/extensions';\nimport { setXVIZConfig, getXVIZConfig } from '@xviz/parser';\nimport {\n  LaneLayer,\n  LogViewer,\n  PlaybackControl,\n  StreamSettingsPanel,\n  MeterWidget,\n  TrafficLightWidget,\n  TurnSignalWidget,\n  XVIZPanel,\n  VIEW_MODE\n} from 'streetscape.gl';\nimport { Form } from '@streetscape.gl/monochrome';\n\nimport { XVIZ_CONFIG, APP_SETTINGS, MAPBOX_TOKEN, MAP_STYLE, XVIZ_STYLE, CAR } from './constants';\n\nsetXVIZConfig(XVIZ_CONFIG);\n\nconst TIMEFORMAT_SCALE = getXVIZConfig().TIMESTAMP_FORMAT === 'seconds' ? 1000 : 1;\n\n// __IS_STREAMING__ and __IS_LIVE__ are defined in webpack.config.js\nconst exampleLog = require('./log-from-file').default;\n\nexport default class Example extends PureComponent {\n  state = {\n    log: exampleLog,\n    settings: {\n      viewMode: 'PERSPECTIVE',\n      showTooltip: false\n    }\n  };\n\n  componentDidMount() {\n    this.state.log.on('error', console.error).connect();\n  }\n\n  _onSettingsChange = changedSettings => {\n    this.setState({\n      settings: { ...this.state.settings, ...changedSettings }\n    });\n  };\n\n  render() {\n    const { log, settings } = this.state;\n\n    return (\n      <div id=\"container\">\n        <div id=\"control-panel\">\n          {/* <XVIZPanel log={log} name=\"Metrics\" /> */}\n          <hr />\n        </div>\n      </div>\n    );\n  }\n}",c="// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {CarMesh} from 'streetscape.gl';\n\n/* eslint-disable camelcase */\nexport const MAPBOX_TOKEN = process.env.MapboxAccessToken; // eslint-disable-line\n\nexport const MAP_STYLE = 'mapbox://styles/mapbox/light-v9';\n\nexport const XVIZ_CONFIG = {\n  PLAYBACK_FRAME_RATE: 10\n};\n\nexport const CAR = CarMesh.sedan({\n  origin: [1.08, -0.32, 0],\n  length: 4.3,\n  width: 2.2,\n  height: 1.5,\n  color: [160, 160, 160]\n});\n\nexport const APP_SETTINGS = {\n  viewMode: {\n    type: 'select',\n    title: 'View Mode',\n    data: {TOP_DOWN: 'Top Down', PERSPECTIVE: 'Perspective', DRIVER: 'Driver'}\n  },\n  showTooltip: {\n    type: 'toggle',\n    title: 'Show Tooltip'\n  }\n};\n\nexport const XVIZ_STYLE = {\n  '/tracklets/objects': [{name: 'selected', style: {fill_color: '#ff8000aa'}}],\n  '/lidar/points': [{style: {point_color_mode: 'ELEVATION'}}]\n};",l="// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {XVIZFileLoader} from 'streetscape.gl';\n\nexport default new XVIZFileLoader({\n  timingsFilePath:\n    'https://raw.githubusercontent.com/uber/xviz-data/master/kitti/2011_09_26_drive_0005_sync/0-frame.json',\n  getFilePath: index =>\n    `https://raw.githubusercontent.com/uber/xviz-data/master/kitti/2011_09_26_drive_0005_sync/${index +\n      1}-frame.glb`,\n  worker: true,\n  maxConcurrency: 4\n});",f={"test-demo":{component:r("+rWl").default,previewerProps:{sources:{_:{tsx:s}},dependencies:{},componentName:"Test",title:"Test",thumbnail:"./person.jepg",identifier:"test-demo"}},"test-app":{component:r("zt7j").default,previewerProps:{sources:{_:{js:u},"constants.js":{import:"./constants",content:c},"log-from-file.js":{import:"./log-from-file",content:l}},dependencies:{react:{version:">=15.x"},"@deck.gl/extensions":{version:"8.8.20"},"@xviz/parser":{version:"1.0.13"},"streetscape.gl":{version:"1.0.13"},"@streetscape.gl/monochrome":{version:"1.0.13"},"@deck.gl/core":{version:"^8.0.0"},"@luma.gl/constants":{version:"^8.0.0"},"@luma.gl/core":{version:"^8.0.0"},"gl-matrix":{version:"^3.0.0"}},componentName:"Test",title:"Test",thumbnail:"./person.jepg",identifier:"test-app"}}},h=r("Zs1V"),p=r("KcUY"),d=r.n(p);t["default"]=e=>o.a.createElement(d.a,n({},e,{config:a,demos:f,apis:h}))},"Of+w":function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"WeakMap");e.exports=o},OoP3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r("q1tI"),o=f(i),a=r("17x9"),s=f(a),u=r("2Vc7"),c=r("OMEh"),l=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var h=u.ORIENTATION.LEFT,p=u.ORIENTATION.RIGHT,d=n({},l["default"].propTypes,{orientation:s["default"].oneOf([h,p])}),v={orientation:h,attr:"y",attrAxis:"x"};function m(e){return o["default"].createElement(l["default"],e)}m.displayName="YAxis",m.propTypes=d,m.defaultProps=v,m.requiresSVG=!0,t["default"]=m},OsVs:function(e,t,r){"use strict";var n=e.exports=r("7O6a");function i(e,t,r){return"function"===typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)}function o(e,t){return t||(t=new n.Root),t.loadSync(e)}n.build="light",n.load=i,n.loadSync=o,n.encoder=r("TVbE"),n.decoder=r("0cTh"),n.verifier=r("dPXm"),n.converter=r("++0Y"),n.ReflectionObject=r("r7wP"),n.Namespace=r("hEtX"),n.Root=r("chBw"),n.Enum=r("Jkyt"),n.Type=r("XBMD"),n.Field=r("OuHM"),n.OneOf=r("ye7q"),n.MapField=r("M2kn"),n.Service=r("AQxW"),n.Method=r("D9+D"),n.Message=r("aEl4"),n.wrappers=r("GHqs"),n.types=r("H/ma"),n.util=r("CzZC"),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},OuHM:function(e,t,r){"use strict";e.exports=c;var n=r("r7wP");((c.prototype=Object.create(n.prototype)).constructor=c).className="Field";var i,o=r("Jkyt"),a=r("H/ma"),s=r("CzZC"),u=/^required|optional|repeated$/;function c(e,t,r,i,o,c,l){if(s.isObject(i)?(l=o,c=i,i=o=void 0):s.isObject(o)&&(l=c,c=o,o=void 0),n.call(this,e,c),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(r))throw TypeError("type must be a string");if(void 0!==i&&!u.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!s.isString(o))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this["long"]=!!s.Long&&void 0!==a["long"][r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options["default"]&&(this.typeDefault=this.options["default"],this.resolvedType instanceof o&&"string"===typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this["long"])this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"===typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(e,t,r,n){return"function"===typeof t?t=s.decorateType(t).name:t&&"object"===typeof t&&(t=s.decorateEnum(t).name),function(i,o){s.decorateType(i.constructor).add(new c(o,e,t,r,{default:n}))}},c._configure=function(e){i=e}},OvUz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=f(o),s=r("17x9"),u=f(s),c=r("2Vc7"),l=r("PAve");function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=c.ORIENTATION.LEFT,y=c.ORIENTATION.RIGHT,g=c.ORIENTATION.TOP,b=c.ORIENTATION.BOTTOM,_={height:u["default"].number.isRequired,orientation:u["default"].oneOf([m,y,g,b]).isRequired,style:u["default"].object,width:u["default"].number.isRequired},w={style:{}};function x(e,t,r){return r||(e.tickFormat?e.tickFormat(t):function(e){return e})}var O=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),i(t,[{key:"_areTicksWrapped",value:function(){var e=this.props.orientation;return e===m||e===g}},{key:"_getTickContainerPropsGetterFn",value:function(){return this._isAxisVertical()?function(e){return{transform:"translate(0, "+e+")"}}:function(e){return{transform:"translate("+e+", 0)"}}}},{key:"_getTickLabelProps",value:function(){var e=this.props,t=e.orientation,r=e.tickLabelAngle,n=e.tickSize,i=e.tickSizeOuter,o=void 0===i?n:i,a=e.tickPadding,s=void 0===a?n:a,u=void 0;u=t===m||t===b&&r?"end":t===y||t===g&&r?"start":"middle";var c=this._isAxisVertical(),l=this._areTicksWrapped()?-1:1,f=l*(o+s),h=(c?"translate("+f+", 0)":"translate(0, "+f+")")+(r?" rotate("+r+")":""),p=t===g||r?"0":t===b?"0.72em":"0.32em";return{textAnchor:u,dy:p,transform:h}}},{key:"_getTickLineProps",value:function(){var e,t=this.props,r=t.tickSize,n=t.tickSizeOuter,i=void 0===n?r:n,o=t.tickSizeInner,a=void 0===o?r:o,s=this._isAxisVertical(),u=s?"y":"x",c=s?"x":"y",l=this._areTicksWrapped()?-1:1;return e={},h(e,u+"1",0),h(e,u+"2",0),h(e,c+"1",-l*a),h(e,c+"2",l*i),e}},{key:"_isAxisVertical",value:function(){var e=this.props.orientation;return e===m||e===y}},{key:"render",value:function(){var e=this.props,t=e.attr,r=e.orientation,i=e.width,o=e.height,s=e.style,u=e.tickFormat,f=e.tickTotal,h=e.tickValues,p=r===m?i:0,d=r===g?o:0,v=(0,l.getAttributeScale)(this.props,t),y=(0,c.getTickValues)(v,f,h),b=x(v,f,u),_=this._getTickContainerPropsGetterFn(),w=this._getTickLineProps(),O=this._getTickLabelProps(),E=y.map((function(e,t){var r=v(e),o=b(e,t,v,f),u=a["default"].isValidElement(o)&&!["tspan","textPath"].includes(o.type),c=o&&"string"!==typeof o.type;return a["default"].createElement("g",n({key:t},_(r,0),{className:"rv-xy-plot__axis__tick",style:s}),a["default"].createElement("line",n({},w,{className:"rv-xy-plot__axis__tick__line",style:n({},s,s.line)})),u?a["default"].cloneElement(o,c?n({},O,{containerWidth:i,tickCount:y.length}):void 0):a["default"].createElement("text",n({},O,{className:"rv-xy-plot__axis__tick__text",style:n({},s,s.text)}),o))}));return a["default"].createElement("g",{transform:"translate("+p+", "+d+")",className:"rv-xy-plot__axis__ticks"},E)}}]),t}(a["default"].Component);O.defaultProps=w,O.displayName="AxisTicks",O.propTypes=_,O.requiresSVG=!0,t["default"]=O},P4y1:function(e,t){e.exports={}},P940:function(e,t,r){"use strict";e.exports=function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}},PAve:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t._getSmallestDistanceIndex=k,t.getScaleFnFromScaleObject=P,t.getDomainByAccessor=A,t._getScaleDistanceAndAdjustedDomain=F,t._adjustCategoricalScale=U,t.getScaleObjectFromProps=V,t.getAttributeScale=G,t.getAttributeFunctor=Z,t.getAttr0Functor=X,t.getAttributeValue=$,t.getScalePropTypesByAttribute=Y,t.extractScalePropsFromProps=K,t.getMissingScaleProps=J,t.literalScale=Q,t.getFontColorFromBackground=ee,t.getXYPlotValues=te,t.getOptionalScaleProps=ie;var a=r("4jaM"),s=r("vBe5"),u=r("bwSX"),c=r("SC+/"),l=r("17x9"),f=d(l),h=r("s33p"),p=r("U/mq");function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y="linear",g="ordinal",b="category",_="literal",w="log",x="time",O="time-utc",E=(n={},m(n,y,a.scaleLinear),m(n,g,a.scalePoint),m(n,b,a.scaleOrdinal),m(n,_,Q),m(n,w,a.scaleLog),m(n,x,a.scaleTime),m(n,O,a.scaleUtc),n),j=["color","fill","opacity","stroke"];function S(e){return""+e[0].toUpperCase()+e.slice(1)}function k(e,t){var r=P(t),n=0;if(r)for(var i=void 0,o=r(e[0]),a=1/0,s=void 0,u=1;u<e.length;u++)i=r(e[u]),s=Math.abs(i-o),s<a&&(a=s,n=u),o=i;return n}function T(e){e.invert||(e.invert=function(t){var r=e.range(),n=o(r,2),i=n[0],a=n[1],s=Math.min(i,a),u=Math.max(i,a);if(t<s+e.padding()*e.step())return e.domain()[0];if(t>u-e.padding()*e.step())return e.domain()[e.domain().length-1];var c=Math.floor((t-s-e.padding()*e.step())/e.step());return e.domain()[c]})}function P(e){if(!e)return null;var t=e.type,r=e.domain,n=e.range,i=r[0]===r[1]?0===r[0]?[-1,0]:[-r[0],r[0]]:r;if(t===_)return Q(n[0]);var o=E[t]().domain(i).range(n);return t===g&&(o.padding(.5),T(o)),o}function A(e,t,r,n){var i=void 0,o=e.reduce((function(e,n){var i=t(n),o=r(n);return W(i)&&e.push(i),W(o)&&e.push(o),e}),[]);return o.length?(i=n!==g&&n!==b?(0,s.extent)(o):(0,u.set)(o).values(),i):[]}function I(e,t,r,n,i){return r===_?{type:_,domain:[],range:[t],distance:0,attr:e,baseValue:void 0,isValue:!0,accessor:n,accessor0:i}:"undefined"===typeof t?null:{type:b,range:[t],domain:[],distance:0,attr:e,baseValue:void 0,isValue:!0,accessor:n,accessor0:i}}function C(e){var t=e.domain,r=e.range,n=e.type,i=e.distance,o=e.attr,a=e.baseValue,s=e.accessor,u=e.accessor0;return{domain:t,range:r,type:n,distance:i,attr:o,baseValue:a,isValue:!1,accessor:s,accessor0:u}}function R(e,t){var r=e[t],n=e["_"+t+"Value"],i=e[t+"Range"],o=e[t+"Distance"],a=void 0===o?0:o,s=e[t+"BaseValue"],u=e[t+"Type"],c=void 0===u?y:u,l=e[t+"NoFallBack"],f=e["get"+S(t)],h=void 0===f?function(e){return e[t]}:f,d=e["get"+S(t)+"0"],v=void 0===d?function(e){return e[t+"0"]}:d,m=e[t+"Domain"];return l||"undefined"===typeof r?("undefined"!==typeof s&&(m=(0,p.addValueToArray)(m,s)),i&&m&&m.length?C({domain:m,range:i,type:c,distance:a,attr:t,baseValue:s,accessor:h,accessor0:v}):I(t,n,e[t+"Type"],h,v)):I(t,r,e[t+"Type"],h,v)}function M(e){return e.length>1?(e[1]-e[0])/2:1===e.length?e[0]-.5:0}function L(e){return e.length>1?(e[e.length-1]-e[e.length-2])/2:1===e.length?e[0]-.5:0}function D(e,t,r,n){if(e.length>1){var i=Math.max(r,1);return Math.abs(n(e[i])-n(e[i-1]))}return 1===e.length?Math.abs(n(t[1])-n(t[0])):0}function N(e,t,r,n){if(n===x&&1===t.length){var i=r(e[0]);return[i].concat(v(t))}return t}function F(e,t){var r=t.domain,n=t.type,o=t.accessor,a=t.accessor0,s=(0,p.getUniquePropertyValues)(e,o),u=N(e,s,a,n),c=k(u,t),l=[].concat(r);l[0]-=M(u),l[r.length-1]+=L(u),n===w&&r[0]<=0&&(l[0]=Math.min(r[1]/10,1));var f=P(i({},t,{domain:l})),h=D(u,l,c,f);return{domain0:l[0],domainN:l[l.length-1],distance:h}}function z(e,t){var r=t.attr,n=e._adjustBy,i=void 0===n?[]:n,o=e._adjustWhat,a=void 0===o?[]:o;return a.length&&i.length&&-1!==i.indexOf(r)}function B(e,t){var r=e._allData,n=e._adjustWhat,i=void 0===n?[]:n,o=t.domain.length,a=t.domain,s=a[0],u=a[o-1],c=t.distance;return r.forEach((function(e,r){if(-1!==i.indexOf(r)&&e&&e.length){var n=F(e,t),o=n.domain0,a=n.domainN,l=n.distance;s=Math.min(s,o),u=Math.max(u,a),c=Math.max(c,l)}})),t.domain=[s].concat(v(a.slice(1,-1)),[u]),t.distance=c,t}function U(e){var t=P(e),r=e.domain,n=e.range;return r.length>1?e.distance=Math.abs(t(r[1])-t(r[0])):e.distance=Math.abs(n[1]-n[0]),e}function V(e,t){var r=R(e,t);if(!r)return null;if(!z(e,r))return r;var n=r.type;return n===g||n===b?U(r):B(e,r)}function G(e,t){var r=V(e,t);return P(r)}function q(e,t){return t(e.data?e.data:e)}function W(e){return"undefined"!==typeof e}function H(e,t){if(!e)return e;if(isNaN(parseFloat(e[0]))||isNaN(parseFloat(e[1])))return e;var r=o(e,2),n=r[0],i=r[1],a=.01*t*(i-n);return[n-a,i+a]}function Z(e,t){var r=V(e,t);if(r){var n=P(r);return function(e){return n(q(e,r.accessor))}}return null}function X(e,t){var r=V(e,t);if(r){var n=r.domain,i=r.baseValue,o=void 0===i?n[0]:i,a=P(r);return function(e){var t=q(e,r.accessor0);return a(W(t)?t:o)}}return null}function $(e,t){var r=V(e,t);return r?(r.isValue||void 0!==e["_"+t+"Value"]||(0,h.warning)("[React-vis] Cannot use data defined "+t+" for this series type. Using fallback value instead."),e["_"+t+"Value"]||r.range[0]):null}function Y(e){var t;return t={},m(t,"_"+e+"Value",f["default"].any),m(t,e+"Domain",f["default"].array),m(t,"get"+S(e),f["default"].func),m(t,"get"+S(e)+"0",f["default"].func),m(t,e+"Range",f["default"].array),m(t,e+"Type",f["default"].oneOf(Object.keys(E))),m(t,e+"Distance",f["default"].number),m(t,e+"BaseValue",f["default"].any),t}function K(e,t){var r={};return Object.keys(e).forEach((function(n){var i=t.find((function(e){var t=0===n.indexOf(e),r=0===n.indexOf("_"+e),i=0===n.indexOf("get"+S(e));return t||r||i}));i&&(r[n]=e[n])})),r}function J(e,t,r){var n={};return r.forEach((function(r){e["get"+S(r)]||(n["get"+S(r)]=function(e){return e[r]}),e["get"+S(r)+"0"]||(n["get"+S(r)+"0"]=function(e){return e[r+"0"]}),e[r+"Domain"]||(n[r+"Domain"]=A(t,e["get"+S(r)]||n["get"+S(r)],e["get"+S(r)+"0"]||n["get"+S(r)+"0"],e[r+"Type"]),e[r+"Padding"]&&(n[r+"Domain"]=H(n[r+"Domain"],e[r+"Padding"])))})),n}function Q(e){function t(t){return void 0===t?e:t}function r(){return t}return t.domain=r,t.range=r,t.unknown=r,t.copy=r,t}function ee(e){return e?(0,c.hsl)(e).l>.57?"#222":"#fff":null}function te(e,t){var r=j.reduce((function(t,r){var n=e[r+"Domain"],o=e[r+"Range"],a=e[r+"Type"];return n&&o&&a?i({},t,m({},r,E[a]().domain(n).range(o))):t}),{});return t.map((function(e){return j.reduce((function(t,n){if(e.props&&void 0!==e.props[n]){var o=e.props[n],a=r[n],s=a?a(o):o;return i({},t,m({},"_"+n+"Value",s))}return t}),{})}))}var re=["Padding"],ne=re.map((function(e){return new RegExp(e+"$","i")}));function ie(e){return Object.keys(e).reduce((function(t,r){var n=ne.every((function(e){return!r.match(e)}));return n||(t[r]=e[r]),t}),{})}t["default"]={extractScalePropsFromProps:K,getAttributeScale:G,getAttributeFunctor:Z,getAttr0Functor:X,getAttributeValue:$,getDomainByAccessor:A,getFontColorFromBackground:ee,getMissingScaleProps:J,getOptionalScaleProps:ie,getScaleObjectFromProps:V,getScalePropTypesByAttribute:Y,getXYPlotValues:te,literalScale:Q}},PF2M:function(e,t,r){"use strict";var n=r("67WC"),i=r("UMSQ"),o=r("GC2F"),a=r("ewvW"),s=r("0Dky"),u=n.aTypedArray,c=n.exportTypedArrayMethod,l=s((function(){new Int8Array(1).set({})}));c("set",(function(e){u(this);var t=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=a(e),s=i(n.length),c=0;if(s+t>r)throw RangeError("Wrong length");while(c<s)this[t+c]=n[c++]}),l)},PImj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=p(o),s=r("17x9"),u=p(s),c=r("PAve"),l=r("e+5M"),f=p(l),h=r("2Vc7");function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=h.DIRECTION.VERTICAL,b=h.DIRECTION.HORIZONTAL,_={direction:u["default"].oneOf([g,b]),attr:u["default"].string.isRequired,width:u["default"].number,height:u["default"].number,top:u["default"].number,left:u["default"].number,style:u["default"].object,tickValues:u["default"].arrayOf(u["default"].oneOfType([u["default"].number,u["default"].string])),tickTotal:u["default"].number,animation:l.AnimationPropType,marginTop:u["default"].number,marginBottom:u["default"].number,marginLeft:u["default"].number,marginRight:u["default"].number,innerWidth:u["default"].number,innerHeight:u["default"].number},w={direction:g},x=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"],O=function(e){function t(){return v(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),i(t,[{key:"_getDefaultProps",value:function(){var e=this.props,t=e.innerWidth,r=e.innerHeight,n=e.marginTop,i=e.marginLeft,o=e.direction;return{left:i,top:n,width:t,height:r,tickTotal:(0,h.getTicksTotalFromSize)(o===g?t:r)}}},{key:"render",value:function(){var e=this.props,r=e.animation,i=e.className;if(r)return a["default"].createElement(f["default"],n({},this.props,{animatedProps:x}),a["default"].createElement(t,n({},this.props,{animation:null})));var o=n({},this._getDefaultProps(),this.props),s=o.attr,u=o.direction,l=o.width,p=o.height,v=o.style,m=o.tickTotal,y=o.tickValues,b=o.top,_=o.left,w=u===g,O=w?"y":"x",E=w?"x":"y",j=w?p:l,S=(0,c.getAttributeScale)(o,s),k=(0,h.getTickValues)(S,m,y);return a["default"].createElement("g",{transform:"translate("+_+","+b+")",className:"rv-xy-plot__grid-lines "+i},k.map((function(e,t){var r,i=S(e),o=(r={},d(r,E+"1",i),d(r,E+"2",i),d(r,O+"1",0),d(r,O+"2",j),r);return a["default"].createElement("line",n({},o,{key:t,className:"rv-xy-plot__grid-lines__line",style:v}))})))}}]),t}(o.PureComponent);O.displayName="GridLines",O.defaultProps=w,O.propTypes=_,O.requiresSVG=!0,t["default"]=O},PJYZ:function(e,t){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},PKPk:function(e,t,r){"use strict";var n=r("ZUd8").charAt,i=r("afO8"),o=r("fdAy"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=u(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},PWQt:function(e,t,r){"use strict";var n=e.exports=r("OsVs");n.build="full",n.tokenize=r("ze9q"),n.parse=r("5m3+"),n.common=r("9MNi"),n.Root._configure(n.Type,n.parse,n.common)},Pcg1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;r("uUy6");function n(e){for(var t=e.cellCache,r=e.cellRenderer,n=e.columnSizeAndPositionManager,i=e.columnStartIndex,o=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,u=e.isScrolling,c=e.isScrollingOptOut,l=e.parent,f=e.rowSizeAndPositionManager,h=e.rowStartIndex,p=e.rowStopIndex,d=e.styleCache,v=e.verticalOffsetAdjustment,m=e.visibleColumnIndices,y=e.visibleRowIndices,g=[],b=n.areOffsetsAdjusted()||f.areOffsetsAdjusted(),_=!u&&!b,w=h;w<=p;w++)for(var x=f.getSizeAndPositionOfCell(w),O=i;O<=o;O++){var E=n.getSizeAndPositionOfCell(O),j=O>=m.start&&O<=m.stop&&w>=y.start&&w<=y.stop,S="".concat(w,"-").concat(O),k=void 0;_&&d[S]?k=d[S]:a&&!a.has(w,O)?k={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(k={height:x.size,left:E.offset+s,position:"absolute",top:x.offset+v,width:E.size},d[S]=k);var T={columnIndex:O,isScrolling:u,isVisible:j,key:S,parent:l,rowIndex:w,style:k},P=void 0;!c&&!u||s||v?P=r(T):(t[S]||(t[S]=r(T)),P=t[S]),null!=P&&!1!==P&&g.push(P)}return g}},PrET:function(e,t,r){"use strict";var n=r("D3zA"),i=r("AM7I"),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(h){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},Q2Ig:function(e,t,r){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=r("33yf")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},Q7Pz:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("Sssf"),s=r("i4U9"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return u(a(o(this)),(function(t,r){if(s(r,e))return u.stop()}),void 0,!0,!0).stopped}})},Q9SF:function(e,t){function r(e){if(Array.isArray(e))return e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},QCnb:function(e,t,r){"use strict";e.exports=r("+wdc")},QFcT:function(e,t,r){var n=r("I+eb"),i=Math.hypot,o=Math.abs,a=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;n({target:"Math",stat:!0,forced:s},{hypot:function(e,t){var r,n,i=0,s=0,u=arguments.length,c=0;while(s<u)r=o(arguments[s++]),c<r?(n=c/r,i=i*n*n+1,c=r):r>0?(n=r/c,i+=n*n):i+=r;return c===1/0?1/0:c*a(i)}})},QGkA:function(e,t,r){var n=r("RNIs");n("flat")},QGke:function(e,t,r){var n=r("z01/")["default"];function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new S(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}t.wrap=f;var p={};function d(){}function v(){}function m(){}var y={};l(y,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==r&&o.call(b,s)&&(y=b);var _=m.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=h(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,l(_,"constructor",m),l(m,"constructor",v),v.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new x(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,c,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},QILm:function(e,t,r){var n=r("8OQS");function i(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},QIpd:function(e,t,r){var n=r("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},QWsV:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"AutoSizer",{enumerable:!0,get:function(){return i["default"]}});var i=n(r("r9X/"))},QkVE:function(e,t,r){var n=r("EpBk");function i(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}e.exports=i},Qo9l:function(e,t,r){var n=r("2oRo");e.exports=n},QoRX:function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(t(e[r],r,e))return!0;return!1}e.exports=r},QqLw:function(e,t,r){var n=r("tadb"),i=r("ebwN"),o=r("HOxn"),a=r("yGk4"),s=r("Of+w"),u=r("NykK"),c=r("3Fdi"),l="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",v="[object DataView]",m=c(n),y=c(i),g=c(o),b=c(a),_=c(s),w=u;(n&&w(new n(new ArrayBuffer(1)))!=v||i&&w(new i)!=l||o&&w(o.resolve())!=h||a&&w(new a)!=p||s&&w(new s)!=d)&&(w=function(e){var t=u(e),r=t==f?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return v;case y:return l;case g:return h;case b:return p;case _:return d}return t}),e.exports=w},"QrP+":function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),i=r.n(n),o=r("dEAq"),a=r("H1Ra"),s=i.a.memo((e=>{e.demos;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u8f7b\u677e\u4e0a\u624b"},i.a.createElement(o["AnchorLink"],{to:"#\u8f7b\u677e\u4e0a\u624b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u8f7b\u677e\u4e0a\u624b"),i.a.createElement("p",null,"\u624b\u52a8\u521b\u5efa\u7b2c\u4e00\u7bc7\u6587\u6863"),i.a.createElement(a["a"],{code:"// \u521b\u5efa\u7ec4\u4ef6\u5f00\u53d1\u7684\u76ee\u5f55\n$ mkdir library && cd library\n\n// \u5b89\u88c5 dumi\n$ npm i dumi\n\n// \u521b\u5efa\u6587\u6863\n$ mkdir docs && echo '# Hello dumi!' > docs/index.md\n\n// \u9884\u89c8\u6587\u6863\n$ npx dumi dev",lang:"bash"}),i.a.createElement("h2",{id:"\u53cd\u9988\u4e0e\u5171\u5efa"},i.a.createElement(o["AnchorLink"],{to:"#\u53cd\u9988\u4e0e\u5171\u5efa","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u53cd\u9988\u4e0e\u5171\u5efa"),i.a.createElement("p",null,"\u8bf7\u8bbf\u95ee ",i.a.createElement(o["Link"],{to:"https://github.com/umijs/dumi"},"GitHub")," \u6216\u52a0\u5165\u8ba8\u8bba\u7fa4\uff1a"),i.a.createElement("div",null,i.a.createElement("img",{"data-type":"dingtalk",src:"https://gw.alipayobjects.com/zos/bmw-prod/ec249703-be12-416c-8f33-297e47d9439c/kjy5ls84_w1004_h1346.png",width:300}),i.a.createElement("img",{"data-type":"wechat",src:"https://gw.alipayobjects.com/zos/bmw-prod/c18bc2a5-719a-48ca-b225-c79ef88bfb43/k7m10ymd_w1004_h1346.jpeg",width:300}))))}));t["default"]=e=>{var t=i.a.useContext(o["context"]),r=t.demos;return i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(s,{demos:r})}},Qw5x:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("leS6");function i(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(e,t):void 0}}},QxB9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=f(o),s=r("17x9"),u=f(s),c=r("U/mq"),l=r("PAve");function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e){var t=y(e);if(t)return{title:"x",value:(0,c.transformValueToString)(t.x)}}function m(e){return e.map((function(e,t){if(e)return{value:e.y,title:t}}))}function y(e){return(e||[]).find((function(e){return Boolean(e)}))}var g=function(e){function t(){return h(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"_renderCrosshairItems",value:function(){var e=this.props,t=e.values,r=e.itemsFormat,n=r(t);return n?n.filter((function(e){return e})).map((function(e,t){return a["default"].createElement("div",{className:"rv-crosshair__item",key:"item"+t},a["default"].createElement("span",{className:"rv-crosshair__item__title"},e.title),": ",a["default"].createElement("span",{className:"rv-crosshair__item__value"},e.value))})):null}},{key:"_renderCrosshairTitle",value:function(){var e=this.props,t=e.values,r=e.titleFormat,n=e.style,i=r(t);return i?a["default"].createElement("div",{className:"rv-crosshair__title",key:"title",style:n.title},a["default"].createElement("span",{className:"rv-crosshair__title__title"},i.title),": ",a["default"].createElement("span",{className:"rv-crosshair__title__value"},i.value)):null}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,i=e.values,o=e.marginTop,s=e.marginLeft,u=e.innerWidth,c=e.innerHeight,f=e.style,h=y(i);if(!h)return null;var p=(0,l.getAttributeFunctor)(this.props,"x"),d=p(h),v=this.props.orientation,m=void 0===v?d>u/2?"left":"right":v,g=s+d,b=o,_="rv-crosshair__inner rv-crosshair__inner--"+m;return a["default"].createElement("div",{className:"rv-crosshair "+r,style:{left:g+"px",top:b+"px"}},a["default"].createElement("div",{className:"rv-crosshair__line",style:n({height:c+"px"},f.line)}),a["default"].createElement("div",{className:_},t||a["default"].createElement("div",{className:"rv-crosshair__inner__content",style:f.box},a["default"].createElement("div",null,this._renderCrosshairTitle(),this._renderCrosshairItems()))))}}],[{key:"defaultProps",get:function(){return{titleFormat:v,itemsFormat:m,style:{line:{},title:{},box:{}}}}},{key:"propTypes",get:function(){return{className:u["default"].string,values:u["default"].arrayOf(u["default"].oneOfType([u["default"].number,u["default"].string,u["default"].object])),series:u["default"].object,innerWidth:u["default"].number,innerHeight:u["default"].number,marginLeft:u["default"].number,marginTop:u["default"].number,orientation:u["default"].oneOf(["left","right"]),itemsFormat:u["default"].func,titleFormat:u["default"].func,style:u["default"].shape({line:u["default"].object,title:u["default"].object,box:u["default"].object})}}}]),t}(o.PureComponent);g.displayName="Crosshair",t["default"]=g},QyJ8:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,"a",(function(){return n}))},"R3/m":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(r,(function(e,r){if(!n(r,e,t))return u.stop()}),void 0,!0,!0).stopped}})},R5yR:function(e,t,r){var n=r("9xmf"),i=r("rhT+"),o=r("mGKP"),a=r("XWE6");function s(e){return n(e)||i(e)||o(e)||a()}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},RGYn:function(e){e.exports=JSON.parse('{"menus":{"en-US":{"/components":[{"title":"Components","path":"/components/test","meta":{},"children":[{"path":"/components/test","title":"Test","meta":{}}]}],"*":[{"path":"/","title":"dumi - A doc tool can assist you to develop libraries & write docs.","meta":{"order":10}}]},"zh-CN":{"/zh-CN/components":[{"title":"\u7ec4\u4ef6","path":"/zh-CN/components/test","meta":{},"children":[{"path":"/zh-CN/components/test","title":"Pannel","meta":{}}]}],"*":[{"path":"/zh-CN","title":"dumi - \u4e3a\u7ec4\u4ef6\u5f00\u53d1\u573a\u666f\u800c\u751f\u7684\u6587\u6863\u5de5\u5177","meta":{"order":10}}]}},"locales":[{"name":"en-US","label":"English"},{"name":"zh-CN","label":"\u4e2d\u6587"}],"navs":{"en-US":[{"title":"Components","path":"/components"},{"title":"GitHub","path":"https://github.com/umijs/dumi-template"}],"zh-CN":[{"title":"\u7ec4\u4ef6","path":"/zh-CN/components"},{"title":"GitHub","path":"https://github.com/umijs/dumi-template"}]},"title":"\u53ef\u89c6\u5316\u7ec4\u4ef6\u5e93","logo":"https://user-images.githubusercontent.com/9554297/83762004-a0761b00-a6a9-11ea-83b4-9c8ff721d4b8.png","mode":"site","repository":{"url":"https://github.com/umijs/dumi-template","branch":"main"},"theme":{}}')},RK3t:function(e,t,r){var n=r("0Dky"),i=r("xrYK"),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},RN6c:function(e,t,r){var n=r("2oRo");e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},RNIs:function(e,t,r){var n=r("tiKp"),i=r("fHMY"),o=r("m/L8"),a=n("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},ROdP:function(e,t,r){var n=r("hh1v"),i=r("xrYK"),o=r("tiKp"),a=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},RZMt:function(e,t,r){},ReuC:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("foSv");function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Object(n["a"])(e),null===e)break;return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=i(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},o.apply(this,arguments)}},Rm1S:function(e,t,r){"use strict";var n=r("14Sl"),i=r("glrk"),o=r("UMSQ"),a=r("HYAF"),s=r("iqWW"),u=r("FMNM");n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=i(e),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;var f,h=[],p=0;while(null!==(f=u(a,c))){var d=String(f[0]);h[p]=d,""===d&&(a.lastIndex=s(c,o(a.lastIndex),l)),p++}return 0===p?null:h}]}))},RsDv:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},S83q:function(e,t,r){"use strict";var n=r("yEp2");t["a"]=function(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),o=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],u=e[(i+2)%t];return Object(n["a"])((r-i/t)*t,o,a,s,u)}}},"SC+/":function(e,t,r){"use strict";r.r(t);var n=r("FmoU");r.d(t,"color",(function(){return n["e"]})),r.d(t,"rgb",(function(){return n["g"]})),r.d(t,"hsl",(function(){return n["f"]}));var i=r("YvDT");r.d(t,"lab",(function(){return i["a"]})),r.d(t,"hcl",(function(){return i["c"]})),r.d(t,"lch",(function(){return i["d"]})),r.d(t,"gray",(function(){return i["b"]}));var o=r("Faen");r.d(t,"cubehelix",(function(){return o["a"]}))},SEBh:function(e,t,r){var n=r("glrk"),i=r("HAuM"),o=r("tiKp"),a=o("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||void 0==(r=n(o)[a])?t:i(r)}},SIPS:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=!0;function i(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var o=function(e,t,r){var i=e.key+"-"+t.name;if((!1===r||!1===n&&void 0!==e.compat)&&void 0===e.registered[i]&&(e.registered[i]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+i,o,e.sheet,!0);o=o.next}while(void 0!==o)}}},SL6q:function(e,t,r){var n=r("I+eb"),i=r("voyM"),o=r("vo4V");n({target:"Math",stat:!0},{fscale:function(e,t,r,n,a){return o(i(e,t,r,n,a))}})},STAE:function(e,t,r){var n=r("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},SYor:function(e,t,r){"use strict";var n=r("I+eb"),i=r("WKiH").trim,o=r("yNLB");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},SfRM:function(e,t,r){var n=r("YESw");function i(){this.__data__=n?n(null):{},this.size=0}e.exports=i},Si40:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),c=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),r=new(u(t,o("Set")))(t),n=s(r["delete"]),i=s(r.add);return c(e,(function(e){n.call(r,e)||i.call(r,e)})),r}})},SkEX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=b(o),s=r("17x9"),u=b(s),c=r("8d86"),l=g(c),f=r("e+5M"),h=b(f),p=r("V66O"),d=r("c/BZ"),v=r("s33p"),m=r("MLCA"),y=b(m);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O="rv-xy-plot__series rv-xy-plot__series--line",E={dashed:"6, 2",solid:null},j=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),i(t,[{key:"_renderLine",value:function(e,t,r,n,i){var o=l.line();return null!==n&&("string"===typeof n&&l[n]?o=o.curve(l[n]):"function"===typeof n&&(o=o.curve(n))),o=o.defined(i),o=o.x(t).y(r),o(e)}},{key:"render",value:function(){var e=this.props,r=e.animation,i=e.className,o=e.data;if(this.props.nullAccessor&&(0,v.warning)("nullAccessor has been renamed to getNull",!0),!o)return null;if(r)return a["default"].createElement(h["default"],n({},this.props,{animatedProps:d.ANIMATED_SERIES_PROPS}),a["default"].createElement(t,n({},this.props,{animation:null})));var s=this.props,u=s.curve,c=s.marginLeft,l=s.marginTop,f=s.strokeDasharray,m=s.strokeStyle,y=s.strokeWidth,g=s.style,b=this._getAttributeFunctor("x"),_=this._getAttributeFunctor("y"),w=this._getAttributeValue("stroke")||this._getAttributeValue("color"),x=this._getAttributeValue("opacity"),j=Number.isFinite(x)?x:p.DEFAULT_OPACITY,S=this.props.nullAccessor||this.props.getNull,k=this._renderLine(o,b,_,u,S);return a["default"].createElement("path",{d:k,className:O+" "+i,transform:"translate("+c+","+l+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:n({opacity:j,strokeDasharray:E[m]||f,strokeWidth:y,stroke:w},g)})}}]),t}(y["default"]);j.displayName="LineSeries",j.propTypes=n({},y["default"].propTypes,{strokeStyle:u["default"].oneOf(Object.keys(E)),curve:u["default"].oneOfType([u["default"].string,u["default"].func]),getNull:u["default"].func}),j.defaultProps=n({},y["default"].defaultProps,{strokeStyle:"solid",style:{},opacity:1,curve:null,className:"",getNull:function(){return!0}}),t["default"]=j},SksO:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},SpvK:function(e,t,r){var n=r("dOgj");n("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},Sssf:function(e,t,r){var n=r("xDBR"),i=r("mh/w");e.exports=n?i:function(e){return Map.prototype.entries.call(e)}},SuFq:function(e,t,r){var n=r("I+eb"),i=r("0GbY"),o=r("HAuM"),a=r("glrk"),s=r("hh1v"),u=r("fHMY"),c=r("BTho"),l=r("0Dky"),f=i("Reflect","construct"),h=l((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),p=!l((function(){f((function(){}))})),d=h||p;n({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(p&&!h)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var i=r.prototype,l=u(s(i)?i:Object.prototype),d=Function.apply.call(e,l,t);return s(d)?d:l}})},T016:function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},T63A:function(e,t,r){var n=r("I+eb"),i=r("b1O7").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},TJ79:function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"WeakMap",stat:!0},{of:i})},TNol:function(e,t,r){"use strict";r.d(t,"b",(function(){return a}));var n=r("q1tI"),i=r("MNnm"),o=Object(i["a"])()?n["useLayoutEffect"]:n["useEffect"];t["a"]=o;var a=function(e,t){var r=n["useRef"](!0);o((function(){if(!r.current)return e()}),t),o((function(){return r.current=!1,function(){r.current=!0}}),[])}},TOwV:function(e,t,r){"use strict";e.exports=r("qT12")},TSYQ:function(e,t,r){var n,i;(function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o["default"]=o,e.exports=o):(n=[],i=function(){return o}.apply(t,n),void 0===i||(e.exports=i))})()},TVbE:function(e,t,r){"use strict";e.exports=s;var n=r("Jkyt"),i=r("H/ma"),o=r("CzZC");function a(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}function s(e){for(var t,r=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(o.compareFieldsById),u=0;u<s.length;++u){var c=s[u].resolve(),l=e._fieldsArray.indexOf(c),f=c.resolvedType instanceof n?"int32":c.type,h=i.basic[f];t="m"+o.safeProp(c.name),c.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|i.mapKey[c.keyType],c.keyType),void 0===h?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,f,t),r("}")("}")):c.repeated?(r("if(%s!=null&&%s.length){",t,t),c.packed&&void 0!==i.packed[f]?r("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",f,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===h?a(r,c,l,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(c.id<<3|h)>>>0,f,t)),r("}")):(c.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),void 0===h?a(r,c,l,t):r("w.uint32(%i).%s(%s)",(c.id<<3|h)>>>0,f,t))}return r("return w")}},TWNs:function(e,t,r){var n=r("g6v/"),i=r("2oRo"),o=r("lMq5"),a=r("cVYH"),s=r("m/L8").f,u=r("JBy8").f,c=r("ROdP"),l=r("rW0t"),f=r("n3/R"),h=r("busE"),p=r("0Dky"),d=r("afO8").set,v=r("JiZb"),m=r("tiKp"),y=m("match"),g=i.RegExp,b=g.prototype,_=/a/g,w=/a/g,x=new g(_)!==_,O=f.UNSUPPORTED_Y,E=n&&o("RegExp",!x||O||p((function(){return w[y]=!1,g(_)!=_||g(w)==w||"/a/i"!=g(_,"i")})));if(E){var j=function(e,t){var r,n=this instanceof j,i=c(e),o=void 0===t;if(!n&&i&&e.constructor===j&&o)return e;x?i&&!o&&(e=e.source):e instanceof j&&(o&&(t=l.call(e)),e=e.source),O&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var s=a(x?new g(e,t):g(e,t),n?this:b,j);return O&&r&&d(s,{sticky:r}),s},S=function(e){e in j||s(j,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},k=u(g),T=0;while(k.length>T)S(k[T++]);b.constructor=j,j.prototype=b,h(i,"RegExp",j)}v("RegExp")},TWQb:function(e,t,r){var n=r("/GqU"),i=r("UMSQ"),o=r("I8vh"),a=function(e){return function(t,r,a){var s,u=n(t),c=i(u.length),l=o(a,c);if(e&&r!=r){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},TZCg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("DMt2").start,o=r("mgyK");n({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},TbEC:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,p=e.util.copy(e),d="";p.level++;var v="valid"+p.level,m=p.baseId,y="prevValid"+i,g="passingSchemas"+i;n+="var "+h+" = errors , "+y+" = false , "+f+" = false , "+g+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=a;if(_){var w,x=-1,O=_.length-1;while(x<O)w=_[x+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(p.schema=w,p.schemaPath=s+"["+x+"]",p.errSchemaPath=u+"/"+x,n+="  "+e.validate(p)+" ",p.baseId=m):n+=" var "+v+" = true; ",x&&(n+=" if ("+v+" && "+y+") { "+f+" = false; "+g+" = ["+g+", "+x+"]; } else { ",d+="}"),n+=" if ("+v+") { "+f+" = "+y+" = true; "+g+" = "+x+"; }"}return e.compositeRule=p.compositeRule=b,n+=d+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},TeQF:function(e,t,r){"use strict";var n=r("I+eb"),i=r("tycR").filter,o=r("Hd5f"),a=r("rkAj"),s=o("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},TfTi:function(e,t,r){"use strict";var n=r("A2ZE"),i=r("ewvW"),o=r("m92n"),a=r("6VoE"),s=r("UMSQ"),u=r("hBjN"),c=r("NaFW");e.exports=function(e){var t,r,l,f,h,p,d=i(e),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,g=void 0!==y,b=c(d),_=0;if(g&&(y=n(y,m>2?arguments[2]:void 0,2)),void 0==b||v==Array&&a(b))for(t=s(d.length),r=new v(t);t>_;_++)p=g?y(d[_],_):d[_],u(r,_,p);else for(f=b.call(d),h=f.next,r=new v;!(l=h.call(f)).done;_++)p=g?o(f,y,[l.value,_],!0):l.value,u(r,_,p);return r.length=_,r}},ThTW:function(e,t,r){(function(e,r){r(t)})(0,(function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function a(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}function s(e){var n="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),a=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),s="[\\:\\/\\?\\#\\[\\]\\@]",u="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t(s,u),l=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",f=e?"[\\uE000-\\uF8FF]":"[]",h=t(n,i,"[\\-\\.\\_\\~]",l),p=r(n+t(n,i,"[\\+\\-\\.]")+"*"),d=r(r(a+"|"+t(h,u,"[\\:]"))+"*"),v=(r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("[1-9]"+i)+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("0?[1-9]"+i)+"|0?0?"+i)),m=r(v+"\\."+v+"\\."+v+"\\."+v),y=r(o+"{1,4}"),g=r(r(y+"\\:"+y)+"|"+m),b=r(r(y+"\\:")+"{6}"+g),_=r("\\:\\:"+r(y+"\\:")+"{5}"+g),w=r(r(y)+"?\\:\\:"+r(y+"\\:")+"{4}"+g),x=r(r(r(y+"\\:")+"{0,1}"+y)+"?\\:\\:"+r(y+"\\:")+"{3}"+g),O=r(r(r(y+"\\:")+"{0,2}"+y)+"?\\:\\:"+r(y+"\\:")+"{2}"+g),E=r(r(r(y+"\\:")+"{0,3}"+y)+"?\\:\\:"+y+"\\:"+g),j=r(r(r(y+"\\:")+"{0,4}"+y)+"?\\:\\:"+g),S=r(r(r(y+"\\:")+"{0,5}"+y)+"?\\:\\:"+y),k=r(r(r(y+"\\:")+"{0,6}"+y)+"?\\:\\:"),T=r([b,_,w,x,O,E,j,S,k].join("|")),P=r(r(h+"|"+a)+"+"),A=(r(T+"\\%25"+P),r(T+r("\\%25|\\%(?!"+o+"{2})")+P)),I=r("[vV]"+o+"+\\."+t(h,u,"[\\:]")+"+"),C=r("\\["+r(A+"|"+T+"|"+I)+"\\]"),R=r(r(a+"|"+t(h,u))+"*"),M=r(C+"|"+m+"(?!"+R+")|"+R),L=r(i+"*"),D=r(r(d+"@")+"?"+M+r("\\:"+L)+"?"),N=r(a+"|"+t(h,u,"[\\:\\@]")),F=r(N+"*"),z=r(N+"+"),B=r(r(a+"|"+t(h,u,"[\\@]"))+"+"),U=r(r("\\/"+F)+"*"),V=r("\\/"+r(z+U)+"?"),G=r(B+U),q=r(z+U),W="(?!"+N+")",H=(r(U+"|"+V+"|"+G+"|"+q+"|"+W),r(r(N+"|"+t("[\\/\\?]",f))+"*")),Z=r(r(N+"|[\\/\\?]")+"*"),X=r(r("\\/\\/"+D+U)+"|"+V+"|"+q+"|"+W),$=r(p+"\\:"+X+r("\\?"+H)+"?"+r("\\#"+Z)+"?"),Y=r(r("\\/\\/"+D+U)+"|"+V+"|"+G+"|"+W),K=r(Y+r("\\?"+H)+"?"+r("\\#"+Z)+"?");r($+"|"+K),r(p+"\\:"+X+r("\\?"+H)+"?"),r(r("\\/\\/("+r("("+d+")@")+"?("+M+")"+r("\\:("+L+")")+"?)")+"?("+U+"|"+V+"|"+q+"|"+W+")"),r("\\?("+H+")"),r("\\#("+Z+")"),r(r("\\/\\/("+r("("+d+")@")+"?("+M+")"+r("\\:("+L+")")+"?)")+"?("+U+"|"+V+"|"+G+"|"+W+")"),r("\\?("+H+")"),r("\\#("+Z+")"),r(r("\\/\\/("+r("("+d+")@")+"?("+M+")"+r("\\:("+L+")")+"?)")+"?("+U+"|"+V+"|"+q+"|"+W+")"),r("\\?("+H+")"),r("\\#("+Z+")"),r("("+d+")@"),r("\\:("+L+")");return{NOT_SCHEME:new RegExp(t("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",h,u),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",h,u),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",h,u),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",h,u),"g"),NOT_QUERY:new RegExp(t("[^\\%]",h,u,"[\\:\\@\\/\\?]",f),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",h,u,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",h,u),"g"),UNRESERVED:new RegExp(h,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",h,c),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+m+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+P+")")+"?\\]?$")}}var u=s(!1),c=s(!0),l=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},h=2147483647,p=36,d=1,v=26,m=38,y=700,g=72,b=128,_="-",w=/^xn--/,x=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=p-d,S=Math.floor,k=String.fromCharCode;function T(e){throw new RangeError(E[e])}function P(e,t){var r=[],n=e.length;while(n--)r[n]=t(e[n]);return r}function A(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(O,".");var i=e.split("."),o=P(i,t).join(".");return n+o}function I(e){var t=[],r=0,n=e.length;while(r<n){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var C=function(e){return String.fromCodePoint.apply(String,f(e))},R=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p},M=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},L=function(e,t,r){var n=0;for(e=r?S(e/y):e>>1,e+=S(e/t);e>j*v>>1;n+=p)e=S(e/j);return S(n+(j+1)*e/(e+m))},D=function(e){var t=[],r=e.length,n=0,i=b,o=g,a=e.lastIndexOf(_);a<0&&(a=0);for(var s=0;s<a;++s)e.charCodeAt(s)>=128&&T("not-basic"),t.push(e.charCodeAt(s));for(var u=a>0?a+1:0;u<r;){for(var c=n,l=1,f=p;;f+=p){u>=r&&T("invalid-input");var m=R(e.charCodeAt(u++));(m>=p||m>S((h-n)/l))&&T("overflow"),n+=m*l;var y=f<=o?d:f>=o+v?v:f-o;if(m<y)break;var w=p-y;l>S(h/w)&&T("overflow"),l*=w}var x=t.length+1;o=L(n-c,x,0==c),S(n/x)>h-i&&T("overflow"),i+=S(n/x),n%=x,t.splice(n++,0,i)}return String.fromCodePoint.apply(String,t)},N=function(e){var t=[];e=I(e);var r=e.length,n=b,i=0,o=g,a=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;f<128&&t.push(k(f))}}catch(H){s=!0,u=H}finally{try{!a&&l["return"]&&l["return"]()}finally{if(s)throw u}}var m=t.length,y=m;m&&t.push(_);while(y<r){var w=h,x=!0,O=!1,E=void 0;try{for(var j,P=e[Symbol.iterator]();!(x=(j=P.next()).done);x=!0){var A=j.value;A>=n&&A<w&&(w=A)}}catch(H){O=!0,E=H}finally{try{!x&&P["return"]&&P["return"]()}finally{if(O)throw E}}var C=y+1;w-n>S((h-i)/C)&&T("overflow"),i+=(w-n)*C,n=w;var R=!0,D=!1,N=void 0;try{for(var F,z=e[Symbol.iterator]();!(R=(F=z.next()).done);R=!0){var B=F.value;if(B<n&&++i>h&&T("overflow"),B==n){for(var U=i,V=p;;V+=p){var G=V<=o?d:V>=o+v?v:V-o;if(U<G)break;var q=U-G,W=p-G;t.push(k(M(G+q%W,0))),U=S(q/W)}t.push(k(M(U,0))),o=L(i,C,y==m),i=0,++y}}}catch(H){D=!0,N=H}finally{try{!R&&z["return"]&&z["return"]()}finally{if(D)throw N}}++i,++n}return t.join("")},F=function(e){return A(e,(function(e){return w.test(e)?D(e.slice(4).toLowerCase()):e}))},z=function(e){return A(e,(function(e){return x.test(e)?"xn--"+N(e):e}))},B={version:"2.1.0",ucs2:{decode:I,encode:C},decode:D,encode:N,toASCII:z,toUnicode:F},U={};function V(e){var t=e.charCodeAt(0),r=void 0;return r=t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase(),r}function G(e){var t="",r=0,n=e.length;while(r<n){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function q(e,t){function r(e){var r=G(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,V).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,V).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,V).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,V).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,V).replace(t.PCT_ENCODED,i)),e}function W(e){return e.replace(/^0*(.*)/,"$1")||"0"}function H(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=l(r,2),i=n[1];return i?i.split(".").map(W).join("."):e}function Z(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=l(r,3),i=n[1],o=n[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=l(a,2),u=s[0],c=s[1],f=c?c.split(":").map(W):[],h=u.split(":").map(W),p=t.IPV4ADDRESS.test(h[h.length-1]),d=p?7:8,v=h.length-d,m=Array(d),y=0;y<d;++y)m[y]=f[y]||h[v+y]||"";p&&(m[d-1]=H(m[d-1],t));var g=m.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]),b=g.sort((function(e,t){return t.length-e.length}))[0],_=void 0;if(b&&b.length>1){var w=m.slice(0,b.index),x=m.slice(b.index+b.length);_=w.join(":")+"::"+x.join(":")}else _=m.join(":");return o&&(_+="%"+o),_}return e}var X=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,$=void 0==="".match(/(){0}/)[1];function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?c:u;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(X);if(i){$?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=Z(H(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=U[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)q(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=B.toASCII(r.host.replace(n.PCT_ENCODED,G).toLowerCase())}catch(a){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+a}q(r,u)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function K(e,t){var r=!1!==t.iri?c:u,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(Z(H(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var J=/^\.\.?\//,Q=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function re(e){var t=[];while(e.length)if(e.match(J))e=e.replace(J,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(ee))e=e.replace(ee,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(te);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?c:u,n=[],i=U[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?B.toUnicode(e.host):B.toASCII(e.host.replace(r.PCT_ENCODED,G).toLowerCase())}catch(s){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+s}q(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=K(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var a=e.path;t.absolutePath||i&&i.absolutePath||(a=re(a)),void 0===o&&(a=a.replace(/^\/\//,"/%2F")),n.push(a)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=Y(ne(e,r),r),t=Y(ne(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=re(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=re(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=re(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=re(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function oe(e,t,r){var n=a({scheme:"null"},r);return ne(ie(Y(e,n),Y(t,n),n,!0),n)}function ae(e,t){return"string"===typeof e?e=ne(Y(e,t),t):"object"===n(e)&&(e=Y(ne(e,t),t)),e}function se(e,t,r){return"string"===typeof e?e=ne(Y(e,r),r):"object"===n(e)&&(e=ne(e,r)),"string"===typeof t?t=ne(Y(t,r),r):"object"===n(t)&&(t=ne(t,r)),e===t}function ue(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:u.ESCAPE,V)}function ce(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:u.PCT_ENCODED,G)}var le={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},fe={scheme:"https",domainHost:le.domainHost,parse:le.parse,serialize:le.serialize};function he(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var pe={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=he(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(he(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=l(r,2),i=n[0],o=n[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},de={scheme:"wss",domainHost:pe.domainHost,parse:pe.parse,serialize:pe.serialize},ve={},me=!0,ye="[A-Za-z0-9\\-\\.\\_\\~"+(me?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",ge="[0-9A-Fa-f]",be=r(r("%[EFef]"+ge+"%"+ge+ge+"%"+ge+ge)+"|"+r("%[89A-Fa-f]"+ge+"%"+ge+ge)+"|"+r("%"+ge+ge)),_e="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",we="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",xe=t(we,'[\\"\\\\]'),Oe="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ee=new RegExp(ye,"g"),je=new RegExp(be,"g"),Se=new RegExp(t("[^]",_e,"[\\.]",'[\\"]',xe),"g"),ke=new RegExp(t("[^]",ye,Oe),"g"),Te=ke;function Pe(e){var t=G(e);return t.match(Ee)?t:e}var Ae={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},a=r.query.split("&"),s=0,u=a.length;s<u;++s){var c=a[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),f=0,h=l.length;f<h;++f)n.push(l[f]);break;case"subject":r.subject=ce(c[1],t);break;case"body":r.body=ce(c[1],t);break;default:i=!0,o[ce(c[0],t)]=ce(c[1],t);break}}i&&(r.headers=o)}r.query=void 0;for(var p=0,d=n.length;p<d;++p){var v=n[p].split("@");if(v[0]=ce(v[0]),t.unicodeSupport)v[1]=ce(v[1],t).toLowerCase();else try{v[1]=B.toASCII(ce(v[1],t).toLowerCase())}catch(m){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+m}n[p]=v.join("@")}return r},serialize:function(e,t){var r=e,n=o(e.to);if(n){for(var a=0,s=n.length;a<s;++a){var u=String(n[a]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(je,Pe).replace(je,i).replace(Se,V),f=u.slice(c+1);try{f=t.iri?B.toUnicode(f):B.toASCII(ce(f,t).toLowerCase())}catch(v){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+v}n[a]=l+"@"+f}r.path=n.join(",")}var h=e.headers=e.headers||{};e.subject&&(h["subject"]=e.subject),e.body&&(h["body"]=e.body);var p=[];for(var d in h)h[d]!==ve[d]&&p.push(d.replace(je,Pe).replace(je,i).replace(ke,V)+"="+h[d].replace(je,Pe).replace(je,i).replace(Te,V));return p.length&&(r.query=p.join("&")),r}},Ie=/^([^\:]+)\:(.*)/,Ce={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(Ie),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),a=r[2],s=i+":"+(t.nid||o),u=U[s];n.nid=o,n.nss=a,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=U[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(n||t.nid)+":"+s,a}},Re=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Me={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(Re)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};U[le.scheme]=le,U[fe.scheme]=fe,U[pe.scheme]=pe,U[de.scheme]=de,U[Ae.scheme]=Ae,U[Ce.scheme]=Ce,U[Me.scheme]=Me,e.SCHEMES=U,e.pctEncChar=V,e.pctDecChars=G,e.parse=Y,e.removeDotSegments=re,e.serialize=ne,e.resolveComponents=ie,e.resolve=oe,e.normalize=ae,e.equal=se,e.escapeComponent=ue,e.unescapeComponent=ce,Object.defineProperty(e,"__esModule",{value:!0})}))},Thag:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e,r){if(n(r,e,t))return u.stop()}),void 0,!0,!0).stopped}})},ToJy:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HAuM"),o=r("ewvW"),a=r("0Dky"),s=r("pkCn"),u=[],c=u.sort,l=a((function(){u.sort(void 0)})),f=a((function(){u.sort(null)})),h=s("sort"),p=l||!f||!h;n({target:"Array",proto:!0,forced:p},{sort:function(e){return void 0===e?c.call(o(this)):c.call(o(this),i(e))}})},TqRt:function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},Tskq:function(e,t,r){"use strict";var n=r("bWFh"),i=r("ZWaQ");e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},Ty5D:function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return T})),r.d(t,"d",(function(){return M})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return U})),r.d(t,"g",(function(){return V})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return R})),r.d(t,"j",(function(){return W})),r.d(t,"k",(function(){return H})),r.d(t,"l",(function(){return Z})),r.d(t,"m",(function(){return X})),r.d(t,"n",(function(){return G}));var n=r("dI71"),i=r("q1tI"),o=r.n(i),a=r("YS25"),s=r("tEiQ"),u=r("9R94"),c=r("wx14"),l=r("vRGJ"),f=r.n(l),h=(r("TOwV"),r("zLVn")),p=r("2mql"),d=r.n(p),v=function(e){var t=Object(s["a"])();return t.displayName=e,t},m=v("Router-History"),y=function(e){var t=Object(s["a"])();return t.displayName=e,t},g=y("Router"),b=function(e){function t(t){var r;return r=e.call(this,t)||this,r.state={location:t.history.location},r._isMounted=!1,r._pendingLocation=null,t.staticContext||(r.unlisten=t.history.listen((function(e){r._isMounted?r.setState({location:e}):r._pendingLocation=e}))),r}Object(n["a"])(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return o.a.createElement(g.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);var _=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,t.history=Object(a["d"])(t.props),t}Object(n["a"])(t,e);var r=t.prototype;return r.render=function(){return o.a.createElement(b,{history:this.history,children:this.props.children})},t}(o.a.Component);var w=function(e){function t(){return e.apply(this,arguments)||this}Object(n["a"])(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(o.a.Component);function x(e){var t=e.message,r=e.when,n=void 0===r||r;return o.a.createElement(g.Consumer,null,(function(e){if(e||Object(u["a"])(!1),!n||e.staticContext)return null;var r=e.history.block;return o.a.createElement(w,{onMount:function(e){e.release=r(t)},onUpdate:function(e,n){n.message!==t&&(e.release(),e.release=r(t))},onUnmount:function(e){e.release()},message:t})}))}var O={},E=1e4,j=0;function S(e){if(O[e])return O[e];var t=f.a.compile(e);return j<E&&(O[e]=t,j++),t}function k(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:S(e)(t,{pretty:!0})}function T(e){var t=e.computedMatch,r=e.to,n=e.push,i=void 0!==n&&n;return o.a.createElement(g.Consumer,null,(function(e){e||Object(u["a"])(!1);var n=e.history,s=e.staticContext,l=i?n.push:n.replace,f=Object(a["c"])(t?"string"===typeof r?k(r,t.params):Object(c["a"])({},r,{pathname:k(r.pathname,t.params)}):r);return s?(l(f),null):o.a.createElement(w,{onMount:function(){l(f)},onUpdate:function(e,t){var r=Object(a["c"])(t.to);Object(a["f"])(r,Object(c["a"])({},f,{key:r.key}))||l(f)},to:r})}))}var P={},A=1e4,I=0;function C(e,t){var r=""+t.end+t.strict+t.sensitive,n=P[r]||(P[r]={});if(n[e])return n[e];var i=[],o=f()(e,i,t),a={regexp:o,keys:i};return I<A&&(n[e]=a,I++),a}function R(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,i=r.exact,o=void 0!==i&&i,a=r.strict,s=void 0!==a&&a,u=r.sensitive,c=void 0!==u&&u,l=[].concat(n);return l.reduce((function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=C(r,{end:o,strict:s,sensitive:c}),i=n.regexp,a=n.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:r,url:"/"===r&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,r){return e[t.name]=f[r],e}),{})}}),null)}var M=function(e){function t(){return e.apply(this,arguments)||this}Object(n["a"])(t,e);var r=t.prototype;return r.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(u["a"])(!1);var r=e.props.location||t.location,n=e.props.computedMatch?e.props.computedMatch:e.props.path?R(r.pathname,e.props):t.match,i=Object(c["a"])({},t,{location:r,match:n}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(g.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function D(e,t){return e?Object(c["a"])({},t,{pathname:L(e)+t.pathname}):t}function N(e,t){if(!e)return t;var r=L(e);return 0!==t.pathname.indexOf(r)?t:Object(c["a"])({},t,{pathname:t.pathname.substr(r.length)})}function F(e){return"string"===typeof e?e:Object(a["e"])(e)}function z(e){return function(){Object(u["a"])(!1)}}function B(){}var U=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,t.handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return B},t.handleBlock=function(){return B},t}Object(n["a"])(t,e);var r=t.prototype;return r.navigateTo=function(e,t){var r=this.props,n=r.basename,i=void 0===n?"":n,o=r.context,s=void 0===o?{}:o;s.action=t,s.location=D(i,Object(a["c"])(e)),s.url=F(s.location)},r.render=function(){var e=this.props,t=e.basename,r=void 0===t?"":t,n=e.context,i=void 0===n?{}:n,s=e.location,u=void 0===s?"/":s,l=Object(h["a"])(e,["basename","context","location"]),f={createHref:function(e){return L(r+F(e))},action:"POP",location:N(r,Object(a["c"])(u)),push:this.handlePush,replace:this.handleReplace,go:z("go"),goBack:z("goBack"),goForward:z("goForward"),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(b,Object(c["a"])({},l,{history:f,staticContext:i}))},t}(o.a.Component);var V=function(e){function t(){return e.apply(this,arguments)||this}Object(n["a"])(t,e);var r=t.prototype;return r.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(u["a"])(!1);var r,n,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==n&&o.a.isValidElement(e)){r=e;var a=e.props.path||e.props.from;n=a?R(i.pathname,Object(c["a"])({},e.props,{path:a})):t.match}})),n?o.a.cloneElement(r,{location:i,computedMatch:n}):null}))},t}(o.a.Component);function G(e){var t="withRouter("+(e.displayName||e.name)+")",r=function(t){var r=t.wrappedComponentRef,n=Object(h["a"])(t,["wrappedComponentRef"]);return o.a.createElement(g.Consumer,null,(function(t){return t||Object(u["a"])(!1),o.a.createElement(e,Object(c["a"])({},n,t,{ref:r}))}))};return r.displayName=t,r.WrappedComponent=e,d()(r,e)}var q=o.a.useContext;function W(){return q(m)}function H(){return q(g).location}function Z(){var e=q(g).match;return e?e.params:{}}function X(e){var t=H(),r=q(g).match;return e?R(t.pathname,e):r}},"U/TZ":function(e,t,r){"use strict";function n(){var e=r("q1tI");return n=function(){return e},e}function i(e,t){return c(e)||u(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function c(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=function(e,t){var r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n={};return Object.keys(t[1]).forEach((function(e){var r=(e.match(/^(.+)\.([^_]+)$/)||[]).slice(1),o=i(r,2),a=o[0],s=o[1];s&&s!==t[0]||(n[a||e]=t[1][e])})),n},o=(0,n().useState)(r(e,t)),a=i(o,2),s=a[0],u=a[1];return(0,n().useEffect)((function(){u(r(e,t))}),[e,t]),s};t["default"]=l},"U/mq":function(e,t,r){"use strict";function n(e,t){var r=new Set(e.map(t));return Array.from(r)}function i(e,t){var r=[].concat(e);return r[0]>t&&(r[0]=t),r[r.length-1]<t&&(r[r.length-1]=t),r}function o(e){return"[object Date]"===Object.prototype.toString.call(e)?e.toDateString():e}Object.defineProperty(t,"__esModule",{value:!0}),t.getUniquePropertyValues=n,t.addValueToArray=i,t.transformValueToString=o},U0Km:function(e,t,r){"use strict";function n(e){return e+3&-4}r.d(t,"a",(function(){return n}))},U3f4:function(e,t,r){var n=r("g6v/"),i=r("m/L8"),o=r("rW0t"),a=r("n3/R").UNSUPPORTED_Y;n&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},U8pU:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,"a",(function(){return n}))},UMSQ:function(e,t,r){var n=r("ppGB"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},"UNi/":function(e,t){function r(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}e.exports=r},UTVS:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},UVaH:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r("FpZJ");e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},Ud7J:function(e,t,r){"use strict";function n(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}r.d(t,"b",(function(){return n})),t["a"]=function(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(r=0;r<n;++r)i[r]=e[r]*(1-o)+t[r]*o;return i}}},UesL:function(e,t,r){"use strict";var n=r("glrk"),i=r("wE6v");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!==e)}},UhzQ:function(e,t,r){"use strict";(function(e){function r(t,r){var n;n="undefined"!==typeof r?r:"undefined"!==typeof window?window:"undefined"!==typeof self?self:e;var i="undefined"!==typeof n.document&&n.document.attachEvent;if(!i){var o=function(){var e=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)};return function(t){return e(t)}}(),a=function(){var e=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout;return function(t){return e(t)}}(),s=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,i=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=r.offsetWidth+1+"px",i.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},u=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},c=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=o((function(){u(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}},l=!1,f="",h="animationstart",p="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v="",m=n.document.createElement("fakeelement");if(void 0!==m.style.animationName&&(l=!0),!1===l)for(var y=0;y<p.length;y++)if(void 0!==m.style[p[y]+"AnimationName"]){v=p[y],f="-"+v.toLowerCase()+"-",h=d[y],l=!0;break}var g="resizeanim",b="@"+f+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",_=f+"animation: 1ms "+g+"; "}var w=function(e){if(!e.getElementById("detectElementResize")){var r=(b||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(e.createTextNode(r)),n.appendChild(i)}},x=function(e,t){if(i)e.attachEvent("onresize",t);else{if(!e.__resizeTriggers__){var r=e.ownerDocument,o=n.getComputedStyle(e);o&&"static"==o.position&&(e.style.position="relative"),w(r),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=r.createElement("div")).className="resize-triggers";var a='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var u=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return a}});e.__resizeTriggers__.innerHTML=u.createHTML("")}else e.__resizeTriggers__.innerHTML=a;e.appendChild(e.__resizeTriggers__),s(e),e.addEventListener("scroll",c,!0),h&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==g&&s(e)},e.__resizeTriggers__.addEventListener(h,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(t)}},O=function(e,t){if(i)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(h,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(r){}}};return{addResizeListener:x,removeResizeListener:O}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r}).call(this,r("IyRk"))},"Uwo/":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=Math.PI/180,i=180/Math.PI},UxlC:function(e,t,r){"use strict";var n=r("14Sl"),i=r("glrk"),o=r("ewvW"),a=r("UMSQ"),s=r("ppGB"),u=r("HYAF"),c=r("iqWW"),l=r("FMNM"),f=Math.max,h=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var y=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=n.REPLACE_KEEPS_$0,b=y?"$":"$0";return[function(r,n){var i=u(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!y&&g||"string"===typeof n&&-1===n.indexOf(b)){var o=r(t,e,this,n);if(o.done)return o.value}var u=i(e),p=String(this),d="function"===typeof n;d||(n=String(n));var v=u.global;if(v){var w=u.unicode;u.lastIndex=0}var x=[];while(1){var O=l(u,p);if(null===O)break;if(x.push(O),!v)break;var E=String(O[0]);""===E&&(u.lastIndex=c(p,a(u.lastIndex),w))}for(var j="",S=0,k=0;k<x.length;k++){O=x[k];for(var T=String(O[0]),P=f(h(s(O.index),p.length),0),A=[],I=1;I<O.length;I++)A.push(m(O[I]));var C=O.groups;if(d){var R=[T].concat(A,P,p);void 0!==C&&R.push(C);var M=String(n.apply(void 0,R))}else M=_(T,p,P,A,C,n);P>=S&&(j+=p.slice(S,P)+M,S=P+T.length)}return j+p.slice(S)}];function _(e,r,n,i,a,s){var u=n+e.length,c=i.length,l=v;return void 0!==a&&(a=o(a),l=d),t.call(s,l,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return t;if(l>c){var f=p(l/10);return 0===f?t:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[l-1]}return void 0===s?"":s}))}}))},Uydy:function(e,t,r){var n=r("I+eb"),i=r("HsHA"),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2,c=!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0;n({target:"Math",stat:!0,forced:c},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+u:i(e-1+s(e-1)*s(e+1))}})},UzNg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ntOU"),o=r("HYAF"),a=r("afO8"),s=r("ZUd8"),u=s.codeAt,c=s.charAt,l="String Iterator",f=a.set,h=a.getterFor(l),p=i((function(e){f(this,{type:l,string:e,index:0})}),"String",(function(){var e,t=h(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=c(r,n),t.index+=e.length,{value:{codePoint:u(e,0),position:n},done:!1})}));n({target:"String",proto:!0},{codePoints:function(){return new p(String(o(this)))}})},"V+xs":function(e,t,r){"use strict";var n=r("VwiP"),i=r("82c2").supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},"V/vL":function(e,t,r){"use strict";r.r(t),r.d(t,"matchRoutes",(function(){return s})),r.d(t,"renderRoutes",(function(){return u}));var n=r("Ty5D"),i=r("wx14"),o=r("q1tI"),a=r.n(o);function s(e,t,r){return void 0===r&&(r=[]),e.some((function(e){var i=e.path?Object(n["i"])(t,e):r.length?r[r.length-1].match:n["e"].computeRootMatch(t);return i&&(r.push({route:e,match:i}),e.routes&&s(e.routes,t,r)),i})),r}function u(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),e?a.a.createElement(n["g"],r,e.map((function(e,r){return a.a.createElement(n["d"],{key:e.key||r,path:e.path,exact:e.exact,strict:e.strict,render:function(r){return e.render?e.render(Object(i["a"])({},r,{},t,{route:e})):a.a.createElement(e.component,Object(i["a"])({},r,t,{route:e}))}})}))):null}},V66O:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.DISCRETE_COLOR_RANGE=["#12939A","#79C7E3","#1A3177","#FF9833","#EF5D28"];t.EXTENDED_DISCRETE_COLOR_RANGE=["#19CDD7","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#12939A","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"],t.CONTINUOUS_COLOR_RANGE=["#EF5D28","#FF9833"],t.SIZE_RANGE=[1,10],t.OPACITY_RANGE=[.1,1],t.OPACITY_TYPE="literal",t.DEFAULT_OPACITY=1,t.DEFAULT_SIZE=5,t.DEFAULT_COLOR=n[0],t.DEFAULT_TICK_SIZE=7},V6Ve:function(e,t,r){var n=r("kekF"),i=n(Object.keys,Object);e.exports=i},V93i:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},VCL8:function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){function t(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}this.setState(t.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;l.call(this,e,t,n)}}return e}r.r(t),r.d(t,"polyfill",(function(){return a})),n.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},VCU9:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("LtsZ"),i=new n["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange","__mfsu"]})},VF6F:function(e,t,r){"use strict";var n=r("AM7I"),i=r("PrET"),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&o(e,".prototype.")>-1?i(r):r}},VKpO:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r("bl9R");function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(e,t){var r=n["n"]([],t,e);return n["k"](r,r,1/r[3]),r}},VOz1:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),r=s(t),n=arguments.length<2,i=n?void 0:arguments[1];if(a(e),u(r,(function(r,o){n?(n=!1,i=o):i=e(i,o,r,t)}),void 0,!0,!0),n)throw TypeError("Reduce of empty map with no initial value");return i}})},VTBJ:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("rePB");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},VWci:function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new T(n||[]);return o._invoke=E(e,r,a),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",p="completed",d={};function v(){}function m(){}function y(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==r&&n.call(_,o)&&(g=_);var w=y.prototype=v.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function O(e,t){function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;function o(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function E(e,t,r){var n=l;return function(i,o){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return A()}r.method=i,r.arg=o;while(1){var a=r.delegate;if(a){var s=j(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=c(e,t,r);if("normal"===u.type){if(n=r.done?p:f,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}function j(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var r=e[o];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){while(++i<e.length)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=w.constructor=y,y.constructor=m,y[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(O.prototype),O.prototype[a]=function(){return this},e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},VZmc:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=n(r("QILm")),o=n(r("lwsE")),a=n(r("W8MJ")),s=n(r("lSNA")),u=n(r("E261")),c=r("LpdB"),l=(r("uUy6"),function(){function e(t){var r=t.maxScrollSize,n=void 0===r?(0,c.getMaxElementSize)():r,a=(0,i["default"])(t,["maxScrollSize"]);(0,o["default"])(this,e),(0,s["default"])(this,"_cellSizeAndPositionManager",void 0),(0,s["default"])(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new u["default"](a),this._maxScrollSize=n}return(0,a["default"])(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:i});return Math.round(o*(i-n))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,r=void 0===t?"auto":t,n=e.containerSize,i=e.currentOffset,o=e.targetIndex;i=this._safeOffsetToOffset({containerSize:n,offset:i});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n,currentOffset:i,targetIndex:o});return this._offsetToSafeOffset({containerSize:n,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,r=e.offset;return r=this._safeOffsetToOffset({containerSize:t,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:r})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,r=e.offset,n=e.totalSize;return n<=t?0:r/(n-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(n===i)return r;var o=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:n});return Math.round(o*(i-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(n===i)return r;var o=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:i});return Math.round(o*(n-t))}}]),e}());t["default"]=l},VaNO:function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},Valy:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var n=r("rePB"),i=r("1OyB"),o=r("vuIU"),a=r("Ji7U"),s=r("md7G"),u=r("foSv"),c=!1,l=!0;function f(e){var t=y(e);return h(t)||v(t)||p(t)||d(t)}function h(e){var t=y(e),r=t.byteLength>=24&&2303741511===t.getUint32(0,c);return r?{mimeType:"image/png",width:t.getUint32(16,c),height:t.getUint32(20,c)}:null}function p(e){var t=y(e),r=t.byteLength>=10&&1195984440===t.getUint32(0,c);return r?{mimeType:"image/gif",width:t.getUint16(6,l),height:t.getUint16(8,l)}:null}function d(e){var t=y(e),r=t.byteLength>=14&&16973===t.getUint16(0,c)&&t.getUint32(2,l)===t.byteLength;return r?{mimeType:"image/bmp",width:t.getUint32(18,l),height:t.getUint32(22,l)}:null}function v(e){var t=y(e),r=t.byteLength>=3&&65496===t.getUint16(0,c)&&255===t.getUint8(2);if(!r)return null;var n=m(),i=n.tableMarkers,o=n.sofMarkers,a=2;while(a+9<t.byteLength){var s=t.getUint16(a,c);if(o.has(s))return{mimeType:"image/jpeg",height:t.getUint16(a+5,c),width:t.getUint16(a+7,c)};if(!i.has(s))return null;a+=2,a+=t.getUint16(a,c)}return null}function m(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}function y(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}var g=r("DfUM"),b=r("oHhm"),_=r("U8pU");r("8j2W"),r(1);function w(e){return e+3&-4}function x(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var i=e.byteOffset,o=e.byteLength;n=new Uint8Array(e.buffer,i,o)}return t.set(n,r),r+w(n.byteLength)}function O(e){return Boolean(E(e))}function E(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===Object(_["a"])(e)&&e.data&&e.width&&e.height?"data":null}var j=r("XwUM"),S=r("U0Km");function k(e,t,r){var n=w(r.byteLength),i=n-r.byteLength;if(e){var o=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),a=new Uint8Array(r);o.set(a);for(var s=0;s<i;++s)e.setUint8(t+r.byteLength+s,32)}return t+=n,t}function T(e,t,r){var n=new TextEncoder,i=n.encode(r);return t=k(e,t,i),t}var P=1179937895,A=1313821514,I=5130562,C=!0;function R(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.magic,i=void 0===n?P:n,o=e.version,a=void 0===o?2:o,s=e.json,u=void 0===s?{}:s,c=e.binary,l=r;t&&(t.setUint32(r+0,i,C),t.setUint32(r+4,a,C),t.setUint32(r+8,0,C));var f=r+8;r+=12;var h=r;t&&(t.setUint32(r+0,0,C),t.setUint32(r+4,A,C)),r+=8;var p=JSON.stringify(u);if(r=T(t,r,p,4),t){var d=r-h-8;t.setUint32(h+0,d,C)}if(c){var v=r;if(t&&(t.setUint32(r+0,0,C),t.setUint32(r+4,I,C)),r+=8,r=k(t,r,c,4),t){var m=r-v-8;t.setUint32(v+0,m,C)}}if(t){var y=r-l;t.setUint32(f,y,C)}return r}var M=r("qlE0"),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i["a"])(this,e),this.byteLength=0,this.json={buffers:[{byteLength:0}],bufferViews:[],accessors:[],images:[],meshes:[]},this.sourceBuffers=[],this.log=t.log||console}return Object(o["a"])(e,[{key:"getByteLength",value:function(){return this.byteLength}},{key:"isImage",value:function(e){return O(e)}},{key:"encodeSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.encodeAsGLB(e)}},{key:"encodeAsGLB",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._packBinaryChunk(),e.magic&&console.warn("Custom glTF magic number no longer supported");var t={version:2,json:this.json,binary:this.arrayBuffer},r=R(t,null,0,e),n=new ArrayBuffer(r),i=new DataView(n);return R(t,i,0,e),n}},{key:"addApplicationData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:Object(M["a"])(t,this,null,r);return this.json[e]=n,this}},{key:"addBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},r=this.addBufferView(e),n={size:t.size,componentType:Object(j["f"])(e),count:Math.round(e.length/t.size)};return this.addAccessor(r,Object.assign(n,t))}},{key:"addBufferView",value:function(e){var t=e.byteLength||e.length;return this.json.bufferViews.push({buffer:0,byteOffset:this.byteLength,byteLength:t}),this.byteLength+=Object(S["a"])(t),this.sourceBuffers.push(e),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){return this.json.accessors.push({bufferView:e,type:Object(j["e"])(t.size),componentType:t.componentType,count:t.count}),this.json.accessors.length-1}},{key:"_pack",value:function(){return this._packBinaryChunk(),{arrayBuffer:this.arrayBuffer,json:this.json}}},{key:"_packBinaryChunk",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),n=0,i=0;i<this.sourceBuffers.length;i++){var o=this.sourceBuffers[i];n=x(o,r,n)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:"_getInternalCounts",value:function(){return{buffers:this.json.buffers.length,bufferViews:this.json.bufferViews.length,accessors:this.json.accessors.length,images:this.json.images.length}}}]),e}();function D(e){var t=N();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var F=function(e){Object(a["a"])(r,e);var t=D(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])(this,r),e=t.call(this,n),e.DracoWriter=n.DracoWriter,e.DracoLoader=n.DracoLoader,e}return Object(o["a"])(r,[{key:"addApplicationData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:Object(M["a"])(t,this,null,r);return this.json[e]=n,this}},{key:"addExtraData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:Object(M["a"])(t,this,null,r);return this.json.extras=this.json.extras||{},this.json.extras[e]=n,this}},{key:"addExtension",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(g["a"])(t);var n=r.nopack?t:Object(M["a"])(t,this,null,r);return this.json.extensions=this.json.extensions||{},this.json.extensions[e]=n,this.registerUsedExtension(e),this}},{key:"addRequiredExtension",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(g["a"])(t);var n=r.nopack?t:Object(M["a"])(t,this,null,r);return this.addExtension(e,n),this.registerRequiredExtension(e),this}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"addMesh",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=this._addAttributes(e),i={primitives:[{attributes:n,indices:t,mode:r}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t=this._addAttributes(e),r={primitives:[{attributes:t,mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(r),this.json.meshes.length-1}},{key:"addCompressedMesh",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(!this.DracoWriter||!this.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");this.registerRequiredExtension(b["a"]);var i=this.DracoWriter.encodeSync({attributes:e}),o=this.DracoLoader.parseSync({attributes:e}),a=this._addFauxAttributes(o.attributes),s=this.addBufferView(i),u={primitives:[{attributes:a,mode:r,extensions:Object(n["a"])({},b["a"],{bufferView:s,attributes:a})}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(u),this.json.meshes.length-1}},{key:"addCompressedPointCloud",value:function(e){if(!this.DracoWriter||!this.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");e.mode=0;var t=this.DracoWriter.encodeSync(e,{pointcloud:!0}),r=this.addBufferView(t),i={primitives:[{attributes:{},mode:0,extensions:Object(n["a"])({},b["b"],{bufferView:r})}]};return this.registerRequiredExtension(b["b"]),this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}},{key:"addImage",value:function(e){var t=this.addBufferView(e),r=f(e)||{};if(r){var n=r.mimeType,i=r.width,o=r.height;this.json.images.push({bufferView:t,mimeType:n,width:i,height:o})}else this.json.images.push({bufferView:t});return this.json.images.length-1}}]),r}(L)},Vame:function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o}));var n="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!==typeof window?window:e,o=("undefined"!==typeof e||window,"undefined"!==typeof document&&document,!1);try{var a={get passive(){return o=!0,!0}};i.addEventListener("test",null,a),i.removeEventListener("test",null)}catch(s){o=!1}}).call(this,r("IyRk"))},VbXa:function(e,t,r){var n=r("SksO");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},VciW:function(e,t,r){(function(t){(function(){var r,n,i;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-i)/1e6},n=t.hrtime,r=function(){var e;return e=n(),1e9*e[0]+e[1]},i=r()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,r("Q2Ig"))},VmRL:function(e,t,r){"use strict";function n(e,t,r){r=r||2;var n,o,s,u,c,l,h,p=t&&t.length,d=p?t[0]*r:e.length,v=i(e,0,d,r,!0),m=[];if(!v||v.next===v.prev)return m;if(p&&(v=f(e,t,v,r)),e.length>80*r){n=s=e[0],o=u=e[1];for(var y=r;y<d;y+=r)c=e[y],l=e[y+1],c<n&&(n=c),l<o&&(o=l),c>s&&(s=c),l>u&&(u=l);h=Math.max(s-n,u-o),h=0!==h?32767/h:0}return a(v,m,r,n,o,h,0),m}function i(e,t,r,n,i){var o,a;if(i===M(e,t,r,n)>0)for(o=t;o<r;o+=n)a=I(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=I(o,e[o],e[o+1],a);return a&&O(a,a.next)&&(C(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!O(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(C(n),n=t=n.prev,n===n.next)break;r=!0}}while(r||n!==t);return t}function a(e,t,r,n,i,f,h){if(e){!h&&f&&m(e,n,i,f);var p,d,v=e;while(e.prev!==e.next)if(p=e.prev,d=e.next,f?u(e,n,i,f):s(e))t.push(p.i/r|0),t.push(e.i/r|0),t.push(d.i/r|0),C(e),e=d.next,v=d.next;else if(e=d,e===v){h?1===h?(e=c(o(e),t,r),a(e,t,r,n,i,f,2)):2===h&&l(e,t,r,n,i,f):a(o(e),t,r,n,i,f,1);break}}}function s(e){var t=e.prev,r=e,n=e.next;if(x(t,r,n)>=0)return!1;var i=t.x,o=r.x,a=n.x,s=t.y,u=r.y,c=n.y,l=i<o?i<a?i:a:o<a?o:a,f=s<u?s<c?s:c:u<c?u:c,h=i>o?i>a?i:a:o>a?o:a,p=s>u?s>c?s:c:u>c?u:c,d=n.next;while(d!==t){if(d.x>=l&&d.x<=h&&d.y>=f&&d.y<=p&&_(i,s,o,u,a,c,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function u(e,t,r,n){var i=e.prev,o=e,a=e.next;if(x(i,o,a)>=0)return!1;var s=i.x,u=o.x,c=a.x,l=i.y,f=o.y,h=a.y,p=s<u?s<c?s:c:u<c?u:c,d=l<f?l<h?l:h:f<h?f:h,v=s>u?s>c?s:c:u>c?u:c,m=l>f?l>h?l:h:f>h?f:h,y=g(p,d,t,r,n),b=g(v,m,t,r,n),w=e.prevZ,O=e.nextZ;while(w&&w.z>=y&&O&&O.z<=b){if(w.x>=p&&w.x<=v&&w.y>=d&&w.y<=m&&w!==i&&w!==a&&_(s,l,u,f,c,h,w.x,w.y)&&x(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,O.x>=p&&O.x<=v&&O.y>=d&&O.y<=m&&O!==i&&O!==a&&_(s,l,u,f,c,h,O.x,O.y)&&x(O.prev,O,O.next)>=0)return!1;O=O.nextZ}while(w&&w.z>=y){if(w.x>=p&&w.x<=v&&w.y>=d&&w.y<=m&&w!==i&&w!==a&&_(s,l,u,f,c,h,w.x,w.y)&&x(w.prev,w,w.next)>=0)return!1;w=w.prevZ}while(O&&O.z<=b){if(O.x>=p&&O.x<=v&&O.y>=d&&O.y<=m&&O!==i&&O!==a&&_(s,l,u,f,c,h,O.x,O.y)&&x(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function c(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!O(i,a)&&E(i,n,n.next,a)&&T(i,a)&&T(a,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(a.i/r|0),C(n),C(n.next),n=e=a),n=n.next}while(n!==e);return o(n)}function l(e,t,r,n,i,s){var u=e;do{var c=u.next.next;while(c!==u.prev){if(u.i!==c.i&&w(u,c)){var l=A(u,c);return u=o(u,u.next),l=o(l,l.next),a(u,t,r,n,i,s,0),void a(l,t,r,n,i,s,0)}c=c.next}u=u.next}while(u!==e)}function f(e,t,r,n){var o,a,s,u,c,l=[];for(o=0,a=t.length;o<a;o++)s=t[o]*n,u=o<a-1?t[o+1]*n:e.length,c=i(e,s,u,n,!1),c===c.next&&(c.steiner=!0),l.push(b(c));for(l.sort(h),o=0;o<l.length;o++)r=p(l[o],r);return r}function h(e,t){return e.x-t.x}function p(e,t){var r=d(e,t);if(!r)return t;var n=A(r,e);return o(n,n.next),o(r,r.next)}function d(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a&&(a=s,r=n.x<n.next.x?n:n.next,s===i))return r}n=n.next}while(n!==t);if(!r)return null;var u,c=r,l=r.x,f=r.y,h=1/0;n=r;do{i>=n.x&&n.x>=l&&i!==n.x&&_(o<f?i:a,o,l,f,o<f?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),T(n,e)&&(u<h||u===h&&(n.x>r.x||n.x===r.x&&v(r,n)))&&(r=n,h=u)),n=n.next}while(n!==c);return r}function v(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function m(e,t,r,n){var i=e;do{0===i.z&&(i.z=g(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(e){var t,r,n,i,o,a,s,u,c=1;do{r=e,e=null,o=null,a=0;while(r){for(a++,n=r,s=0,t=0;t<c;t++)if(s++,n=n.nextZ,!n)break;u=c;while(s>0||u>0&&n)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1);return e}function g(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function b(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function _(e,t,r,n,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(n-s)>=(r-a)*(t-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function w(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!k(e,t)&&(T(e,t)&&T(t,e)&&P(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||O(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function O(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,r,n){var i=S(x(e,t,r)),o=S(x(e,t,n)),a=S(x(r,n,e)),s=S(x(r,n,t));return i!==o&&a!==s||(!(0!==i||!j(e,r,t))||(!(0!==o||!j(e,n,t))||(!(0!==a||!j(r,e,n))||!(0!==s||!j(r,t,n)))))}function j(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function S(e){return e>0?1:e<0?-1:0}function k(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&E(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function T(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function P(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!==r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}function A(e,t){var r=new R(e.i,e.x,e.y),n=new R(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function I(e,t,r,n){var i=new R(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function C(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=n,e.exports["default"]=n,n.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(M(e,0,o,r));if(i)for(var s=0,u=t.length;s<u;s++){var c=t[s]*r,l=s<u-1?t[s+1]*r:e.length;a-=Math.abs(M(e,c,l,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((e[h]-e[d])*(e[p+1]-e[h+1])-(e[h]-e[p])*(e[d+1]-e[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},n.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}},Vnov:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("Sssf"),s=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(a(o(this)),(function(t,r){if(r===e)return s.stop(t)}),void 0,!0,!0).result}})},VpIT:function(e,t,r){var n=r("xDBR"),i=r("xs3f");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},Vu81:function(e,t,r){var n=r("0GbY"),i=r("JBy8"),o=r("dBg+"),a=r("glrk");e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},VvNH:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d["a"]})),r.d(t,"a",(function(){return v["a"]})),r.d(t,"f",(function(){return c["c"]})),r.d(t,"e",(function(){return c["a"]})),r.d(t,"d",(function(){return J}));var n,i=r("fWQN"),o=r("mtLc"),a=r("yKVA"),s=r("879j"),u=r("sYR6"),c=r("a3TU"),l=r("+H0l"),f=r("ZxFD"),h=r("sSh/"),p=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(i["a"])(this,r),e=t.call(this,2),Object(c["f"])(n)&&1===arguments.length?e.copy(n):(c["b"].debug&&(Object(l["a"])(n),Object(l["a"])(o)),e[0]=n,e[1]=o),e}return Object(o["a"])(r,[{key:"set",value:function(e,t){return this[0]=e,this[1]=t,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this.check()}},{key:"fromObject",value:function(e){return c["b"].debug&&(Object(l["a"])(e.x),Object(l["a"])(e.y)),this[0]=e.x,this[1]=e.y,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e}},{key:"ELEMENTS",get:function(){return 2}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return f["j"](this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(h["a"])(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return f["i"](this,this,e),this.check()}},{key:"transformByMatrix2x3",value:function(e){return f["h"](this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return f["g"](this,this,e),this.check()}}]),r}(u["a"]),d=r("zXfU"),v=r("Nw31"),m=r("rePB"),y=r("tJVT"),g=r("41X0"),b=r("n+fv"),_=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(i["a"])(this,r),e=t.call(this,-0,-0,-0,-0),Object(c["f"])(n)&&1===arguments.length?e.copy(n):(c["b"].debug&&(Object(l["a"])(n),Object(l["a"])(o),Object(l["a"])(a),Object(l["a"])(s)),e[0]=n,e[1]=o,e[2]=a,e[3]=s),e}return Object(o["a"])(r,[{key:"set",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"fromObject",value:function(e){return c["b"].debug&&(Object(l["a"])(e.x),Object(l["a"])(e.y),Object(l["a"])(e.z),Object(l["a"])(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}},{key:"ELEMENTS",get:function(){return 4}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l["a"])(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(l["a"])(e)}},{key:"transform",value:function(e){return b["q"](this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return Object(h["e"])(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(h["d"])(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return b["r"](this,this,e),this.check()}},{key:"applyMatrix4",value:function(e){return e.transform(this,this),this}}],[{key:"ZERO",get:function(){return n||(n=new r(0,0,0,0),Object.freeze(n)),n}}]),r}(u["a"]),w=r("yU0y");function x(){var e=new w["a"](9);return w["a"]!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}var O=r("bl9R");function E(){var e=new w["a"](4);return w["a"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function j(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function S(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function k(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],l=r[3];return e[0]=n*l+a*s+i*c-o*u,e[1]=i*l+a*u+o*s-n*c,e[2]=o*l+a*c+n*u-i*s,e[3]=a*l-n*s-i*u-o*c,e}function T(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-n*s,e}function P(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-o*s,e[1]=i*u+a*s,e[2]=o*u+n*s,e[3]=a*u-i*s,e}function A(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=o*u+a*s,e[3]=a*u-o*s,e}function I(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function C(e,t,r,n){var i,o,a,s,u,c=t[0],l=t[1],f=t[2],h=t[3],p=r[0],d=r[1],v=r[2],m=r[3];return o=c*p+l*d+f*v+h*m,o<0&&(o=-o,p=-p,d=-d,v=-v,m=-m),1-o>w["b"]?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-n)*i)/a,u=Math.sin(n*i)/a):(s=1-n,u=n),e[0]=s*c+u*p,e[1]=s*l+u*d,e[2]=s*f+u*v,e[3]=s*h+u*m,e}function R(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o,s=a?1/a:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=o*s,e}function M(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function L(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*o+a]-t[3*a+o])*r,e[o]=(t[3*o+i]+t[3*i+o])*r,e[a]=(t[3*a+i]+t[3*i+a])*r}return e}O["b"],O["g"],O["c"],O["l"];var D,N=O["a"],F=O["k"],z=O["d"],B=O["i"],U=O["h"],V=O["m"],G=O["j"],q=(O["f"],O["e"],function(){var e=b["c"](),t=b["f"](1,0,0),r=b["f"](0,1,0);return function(n,i,o){var a=b["e"](i,o);return a<-.999999?(b["d"](e,t,i),b["g"](e)<1e-6&&b["d"](e,r,i),b["k"](e,e),S(n,e,Math.PI),n):a>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(b["d"](e,i,o),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+a,G(n,n))}}()),W=(function(){var e=E(),t=E()}(),function(){var e=x()}(),[0,0,0,1]),H=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(i["a"])(this,r),e=t.call(this,-0,-0,-0,-0),Array.isArray(n)&&1===arguments.length?e.copy(n):e.set(n,o,a,s),e}return Object(o["a"])(r,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:"fromObject",value:function(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}},{key:"fromMatrix3",value:function(e){return L(this,e),this.check()}},{key:"fromAxisRotation",value:function(e,t){return S(this,e,t),this.check()}},{key:"identity",value:function(){return j(this),this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(l["a"])(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(l["a"])(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l["a"])(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(l["a"])(e)}},{key:"len",value:function(){return U(this)}},{key:"lengthSquared",value:function(){return V(this)}},{key:"dot",value:function(e){return z(this,e)}},{key:"rotationTo",value:function(e,t){return q(this,e,t),this.check()}},{key:"add",value:function(e){return N(this,this,e),this.check()}},{key:"calculateW",value:function(){return I(this,this),this.check()}},{key:"conjugate",value:function(){return M(this,this),this.check()}},{key:"invert",value:function(){return R(this,this),this.check()}},{key:"lerp",value:function(e,t,r){return void 0===r?this.lerp(this,e,t):(B(this,e,t,r),this.check())}},{key:"multiplyRight",value:function(e){return k(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e){return k(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return T(this,this,e),this.check()}},{key:"rotateY",value:function(e){return P(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return A(this,this,e),this.check()}},{key:"scale",value:function(e){return F(this,this,e),this.check()}},{key:"slerp",value:function(e,t,r){var n,i,o;switch(arguments.length){case 1:var a=e.start;n=void 0===a?W:a,i=e.target,o=e.ratio;break;case 2:n=this,i=e,o=t;break;default:n=e,i=t,o=r}return C(this,n,i,o),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _;return O["o"](t,e,this),Object(l["b"])(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e){return this.multiplyLeft(e)}},{key:"multiply",value:function(e){return this.multiplyRight(e)}}]),r}(g["a"]),Z="Unknown Euler angle order",X=.99999;(function(e){e[e["ZYX"]=0]="ZYX",e[e["YXZ"]=1]="YXZ",e[e["XZY"]=2]="XZY",e[e["ZXY"]=3]="ZXY",e[e["YZX"]=4]="YZX",e[e["XYZ"]=5]="XYZ"})(D||(D={}));var $=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){var e,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.DefaultOrder;(Object(i["a"])(this,r),e=t.call(this,-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0]))?(n=e).fromVector3.apply(n,arguments):e.set(o,a,s,u);return e}return Object(o["a"])(r,[{key:"ELEMENTS",get:function(){return 4}},{key:"fromQuaternion",value:function(e){var t=Object(y["a"])(e,4),n=t[0],i=t[1],o=t[2],a=t[3],s=i*i,u=-2*(s+o*o)+1,c=2*(n*i+a*o),l=-2*(n*o-a*i),f=2*(i*o+a*n),h=-2*(n*n+s)+1;l=l>1?1:l,l=l<-1?-1:l;var p=Math.atan2(f,h),d=Math.asin(l),v=Math.atan2(c,u);return this.set(p,d,v,r.RollPitchYaw)}},{key:"fromObject",value:function(e){throw new Error("not implemented")}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}},{key:"validate",value:function(){return Y(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}},{key:"toArray4",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}},{key:"toVector3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(l["a"])(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(l["a"])(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l["a"])(e)}},{key:"alpha",get:function(){return this[0]},set:function(e){this[0]=Object(l["a"])(e)}},{key:"beta",get:function(){return this[1]},set:function(e){this[1]=Object(l["a"])(e)}},{key:"gamma",get:function(){return this[2]},set:function(e){this[2]=Object(l["a"])(e)}},{key:"phi",get:function(){return this[0]},set:function(e){this[0]=Object(l["a"])(e)}},{key:"theta",get:function(){return this[1]},set:function(e){this[1]=Object(l["a"])(e)}},{key:"psi",get:function(){return this[2]},set:function(e){this[2]=Object(l["a"])(e)}},{key:"roll",get:function(){return this[0]},set:function(e){this[0]=Object(l["a"])(e)}},{key:"pitch",get:function(){return this[1]},set:function(e){this[1]=Object(l["a"])(e)}},{key:"yaw",get:function(){return this[2]},set:function(e){this[2]=Object(l["a"])(e)}},{key:"order",get:function(){return this[3]},set:function(e){this[3]=K(e)}},{key:"fromVector3",value:function(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}},{key:"fromRollPitchYaw",value:function(e,t,r){return this.set(e,t,r,D.ZYX)}},{key:"fromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DefaultOrder;return this._fromRotationMatrix(e,t),this.check()}},{key:"getRotationMatrix",value:function(e){return this._getRotationMatrix(e)}},{key:"getQuaternion",value:function(){var e=new H;switch(this[4]){case D.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case D.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case D.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case D.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case D.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case D.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(Z)}}},{key:"_fromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DefaultOrder,n=e[0],i=e[4],o=e[8],a=e[1],s=e[5],u=e[9],l=e[2],f=e[6],h=e[10];switch(t=t||this[3],t){case r.XYZ:this[1]=Math.asin(Object(c["a"])(o,-1,1)),Math.abs(o)<X?(this[0]=Math.atan2(-u,h),this[2]=Math.atan2(-i,n)):(this[0]=Math.atan2(f,s),this[2]=0);break;case r.YXZ:this[0]=Math.asin(-Object(c["a"])(u,-1,1)),Math.abs(u)<X?(this[1]=Math.atan2(o,h),this[2]=Math.atan2(a,s)):(this[1]=Math.atan2(-l,n),this[2]=0);break;case r.ZXY:this[0]=Math.asin(Object(c["a"])(f,-1,1)),Math.abs(f)<X?(this[1]=Math.atan2(-l,h),this[2]=Math.atan2(-i,s)):(this[1]=0,this[2]=Math.atan2(a,n));break;case r.ZYX:this[1]=Math.asin(-Object(c["a"])(l,-1,1)),Math.abs(l)<X?(this[0]=Math.atan2(f,h),this[2]=Math.atan2(a,n)):(this[0]=0,this[2]=Math.atan2(-i,s));break;case r.YZX:this[2]=Math.asin(Object(c["a"])(a,-1,1)),Math.abs(a)<X?(this[0]=Math.atan2(-u,s),this[1]=Math.atan2(-l,n)):(this[0]=0,this[1]=Math.atan2(o,h));break;case r.XZY:this[2]=Math.asin(-Object(c["a"])(i,-1,1)),Math.abs(i)<X?(this[0]=Math.atan2(f,s),this[1]=Math.atan2(o,n)):(this[0]=Math.atan2(-u,h),this[1]=0);break;default:throw new Error(Z)}return this[3]=t,this}},{key:"_getRotationMatrix",value:function(e){var t=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=this.x,i=this.y,o=this.z,a=Math.cos(n),s=Math.cos(i),u=Math.cos(o),c=Math.sin(n),l=Math.sin(i),f=Math.sin(o);switch(this[3]){case r.XYZ:var h=a*u,p=a*f,d=c*u,v=c*f;t[0]=s*u,t[4]=-s*f,t[8]=l,t[1]=p+d*l,t[5]=h-v*l,t[9]=-c*s,t[2]=v-h*l,t[6]=d+p*l,t[10]=a*s;break;case r.YXZ:var m=s*u,y=s*f,g=l*u,b=l*f;t[0]=m+b*c,t[4]=g*c-y,t[8]=a*l,t[1]=a*f,t[5]=a*u,t[9]=-c,t[2]=y*c-g,t[6]=b+m*c,t[10]=a*s;break;case r.ZXY:var _=s*u,w=s*f,x=l*u,O=l*f;t[0]=_-O*c,t[4]=-a*f,t[8]=x+w*c,t[1]=w+x*c,t[5]=a*u,t[9]=O-_*c,t[2]=-a*l,t[6]=c,t[10]=a*s;break;case r.ZYX:var E=a*u,j=a*f,S=c*u,k=c*f;t[0]=s*u,t[4]=S*l-j,t[8]=E*l+k,t[1]=s*f,t[5]=k*l+E,t[9]=j*l-S,t[2]=-l,t[6]=c*s,t[10]=a*s;break;case r.YZX:var T=a*s,P=a*l,A=c*s,I=c*l;t[0]=s*u,t[4]=I-T*f,t[8]=A*f+P,t[1]=f,t[5]=a*u,t[9]=-c*u,t[2]=-l*u,t[6]=P*f+A,t[10]=T-I*f;break;case r.XZY:var C=a*s,R=a*l,M=c*s,L=c*l;t[0]=s*u,t[4]=-f,t[8]=l*u,t[1]=C*f+L,t[5]=a*u,t[9]=R*f-M,t[2]=M*f-R,t[6]=c*u,t[10]=L*f+C;break;default:throw new Error(Z)}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"toQuaternion",value:function(){var e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),i=Math.cos(.5*this.pitch),o=Math.sin(.5*this.pitch),a=e*r*i+t*n*o,s=e*n*i-t*r*o,u=e*r*o+t*n*i,c=t*r*i-e*n*o;return new H(s,u,c,a)}}],[{key:"ZYX",get:function(){return D.ZYX}},{key:"YXZ",get:function(){return D.YXZ}},{key:"XZY",get:function(){return D.XZY}},{key:"ZXY",get:function(){return D.ZXY}},{key:"YZX",get:function(){return D.YZX}},{key:"XYZ",get:function(){return D.XYZ}},{key:"RollPitchYaw",get:function(){return D.ZYX}},{key:"DefaultOrder",get:function(){return D.ZYX}},{key:"RotationOrders",get:function(){return D}},{key:"rotationOrder",value:function(e){return D[e]}}]),r}(g["a"]);function Y(e){return e>=0&&e<6}function K(e){if(e<0&&e>=6)throw new Error(Z);return e}var J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,n=void 0===r?0:r,o=t.y,a=void 0===o?0:o,s=t.z,u=void 0===s?0:s,c=t.roll,l=void 0===c?0:c,f=t.pitch,h=void 0===f?0:f,p=t.yaw,v=void 0===p?0:p,y=t.position,g=t.orientation;Object(i["a"])(this,e),Object(m["a"])(this,"position",void 0),Object(m["a"])(this,"orientation",void 0),Array.isArray(y)&&3===y.length?this.position=new d["a"](y):this.position=new d["a"](n,a,u),Array.isArray(g)&&4===g.length?this.orientation=new $(g,g[3]):this.orientation=new $(l,h,v,$.RollPitchYaw)}return Object(o["a"])(e,[{key:"x",get:function(){return this.position.x},set:function(e){this.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.position.y=e}},{key:"z",get:function(){return this.position.z},set:function(e){this.position.z=e}},{key:"roll",get:function(){return this.orientation.roll},set:function(e){this.orientation.roll=e}},{key:"pitch",get:function(){return this.orientation.pitch},set:function(e){this.orientation.pitch=e}},{key:"yaw",get:function(){return this.orientation.yaw},set:function(e){this.orientation.yaw=e}},{key:"getPosition",value:function(){return this.position}},{key:"getOrientation",value:function(){return this.orientation}},{key:"equals",value:function(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}},{key:"exactEquals",value:function(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}},{key:"getTransformationMatrix",value:function(){var e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),n=Math.cos(this.roll),i=Math.cos(this.pitch),o=Math.cos(this.yaw);return(new v["a"]).setRowMajor(o*i,-r*n+o*t*e,r*e+o*t*n,this.x,r*i,o*n+r*t*e,-o*e+r*t*n,this.y,-t,i*e,i*n,this.z,0,0,0,1)}},{key:"getTransformationMatrixFromPose",value:function(e){return(new v["a"]).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}},{key:"getTransformationMatrixToPose",value:function(e){return(new v["a"]).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}]),e}()},VwiP:function(e,t,r){"use strict";var n=r("JQAW").functionsHaveConfigurableNames(),i=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},"W/eh":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("wE6v"),u=r("4WOD"),c=r("Bs8V").f;i&&n({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,r=a(this),n=s(e,!0);do{if(t=c(r,n))return t.set}while(r=u(r))}})},W8MJ:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},WDQk:function(e,t,r){"use strict";var n=r("1u+m");e.exports=function(){return"function"===typeof Object.is?Object.is:n}},WFeF:function(e,t,r){"use strict";t["a"]=function(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}},WFqU:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("IyRk"))},WGBp:function(e,t,r){var n=r("xDBR"),i=r("mh/w");e.exports=n?i:function(e){return Set.prototype.values.call(e)}},WJkJ:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},WKiH:function(e,t,r){var n=r("HYAF"),i=r("WJkJ"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},WPzJ:function(e,t,r){var n=r("I+eb"),i=r("voyM");n({target:"Math",stat:!0},{scale:i})},WWur:function(e,t,r){"use strict";var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.target,n=void 0===r?document.body:r,i=document.createElement("textarea"),o=document.activeElement;i.value=e,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var a=document.getSelection(),s=!1;a.rangeCount>0&&(s=a.getRangeAt(0)),n.append(i),i.select(),i.selectionStart=0,i.selectionEnd=e.length;var u=!1;try{u=document.execCommand("copy")}catch(c){}return i.remove(),s&&(a.removeAllRanges(),a.addRange(s)),o&&o.focus(),u};e.exports=n,e.exports["default"]=n},WbBG:function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},WjRb:function(e,t,r){var n=r("ROdP");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},WpQk:function(e,t,r){},X7LM:function(e,t,r){"use strict";var n=2147483647,i=36,o=1,a=26,s=38,u=700,c=72,l=128,f="-",h=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",v=i-o,m=Math.floor,y=String.fromCharCode,g=function(e){var t=[],r=0,n=e.length;while(r<n){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},_=function(e,t,r){var n=0;for(e=r?m(e/u):e>>1,e+=m(e/t);e>v*a>>1;n+=i)e=m(e/v);return m(n+(v+1)*e/(e+s))},w=function(e){var t=[];e=g(e);var r,s,u=e.length,h=l,p=0,v=c;for(r=0;r<e.length;r++)s=e[r],s<128&&t.push(y(s));var w=t.length,x=w;w&&t.push(f);while(x<u){var O=n;for(r=0;r<e.length;r++)s=e[r],s>=h&&s<O&&(O=s);var E=x+1;if(O-h>m((n-p)/E))throw RangeError(d);for(p+=(O-h)*E,h=O,r=0;r<e.length;r++){if(s=e[r],s<h&&++p>n)throw RangeError(d);if(s==h){for(var j=p,S=i;;S+=i){var k=S<=v?o:S>=v+a?a:S-v;if(j<k)break;var T=j-k,P=i-k;t.push(y(b(k+T%P))),j=m(T/P)}t.push(y(b(j))),v=_(p,E,x==w),p=0,++x}}++p,++h}return t.join("")};e.exports=function(e){var t,r,n=[],i=e.toLowerCase().replace(p,".").split(".");for(t=0;t<i.length;t++)r=i[t],n.push(h.test(r)?"xn--"+w(r):r);return n.join(".")}},"X9+P":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r("q1tI"),o=f(i),a=r("17x9"),s=f(a),u=r("PImj"),c=f(u),l=r("2Vc7");function f(e){return e&&e.__esModule?e:{default:e}}var h=l.DIRECTION.VERTICAL,p=n({},c["default"].propTypes,{direction:s["default"].oneOf([h])}),d={direction:h,attr:"x"};function v(e){return o["default"].createElement(c["default"],e)}v.displayName="VerticalGridLines",v.propTypes=p,v.defaultProps=d,v.requiresSVG=!0,t["default"]=v},XBMD:function(e,t,r){"use strict";e.exports=g;var n=r("hEtX");((g.prototype=Object.create(n.prototype)).constructor=g).className="Type";var i=r("Jkyt"),o=r("ye7q"),a=r("OuHM"),s=r("M2kn"),u=r("AQxW"),c=r("aEl4"),l=r("mQ2N"),f=r("2R+z"),h=r("CzZC"),p=r("TVbE"),d=r("0cTh"),v=r("dPXm"),m=r("++0Y"),y=r("GHqs");function g(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),g.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},g.fromJSON=function(e,t){var r=new g(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),l=0;l<c.length;++l)r.add(("undefined"!==typeof t.fields[c[l]].keyType?s.fromJSON:a.fromJSON)(c[l],t.fields[c[l]]));if(t.oneofs)for(c=Object.keys(t.oneofs),l=0;l<c.length;++l)r.add(o.fromJSON(c[l],t.oneofs[c[l]]));if(t.nested)for(c=Object.keys(t.nested),l=0;l<c.length;++l){var f=t.nested[c[l]];r.add((void 0!==f.id?a.fromJSON:void 0!==f.fields?g.fromJSON:void 0!==f.values?i.fromJSON:void 0!==f.methods?u.fromJSON:n.fromJSON)(c[l],f))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},g.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return h.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},g.prototype.resolveAll=function(){var e=this.fieldsArray,t=0;while(t<e.length)e[t++].resolve();var r=this.oneofsArray;t=0;while(t<r.length)r[t++].resolve();return n.prototype.resolveAll.call(this)},g.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},g.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},g.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},g.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},g.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},g.prototype.create=function(e){return new this.ctor(e)},g.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=p(this)({Writer:f,types:t,util:h}),this.decode=d(this)({Reader:l,types:t,util:h}),this.verify=v(this)({types:t,util:h}),this.fromObject=m.fromObject(this)({types:t,util:h}),this.toObject=m.toObject(this)({types:t,util:h});var n=y[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},g.prototype.encode=function(e,t){return this.setup().encode(e,t)},g.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},g.prototype.decode=function(e,t){return this.setup().decode(e,t)},g.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},g.prototype.verify=function(e){return this.setup().verify(e)},g.prototype.fromObject=function(e){return this.setup().fromObject(e)},g.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},g.d=function(e){return function(t){h.decorateType(t,e)}}},XD0j:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),n}},XGwC:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},XMab:function(e,t,r){var n=r("dOgj");n("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},XOFf:function(e,t,r){"use strict";(function(e){var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r("MFts"),n.base64=r("bnU+"),n.EventEmitter=r("aJe0"),n["float"]=r("KwGI"),n.inquire=r("1Giq"),n.utf8=r("yNTq"),n.pool=r("BEY9"),n.LongBits=r("zjNn"),n.global="undefined"!==typeof window&&window||"undefined"!==typeof e&&e||"undefined"!==typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(n.global.process&&n.global.process.versions&&n.global.process.versions.node),n.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"===typeof e||e instanceof String},n.isObject=function(e){return e&&"object"===typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"===typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,r("IyRk"))},XPXQ:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,p=e.util.copy(e),d="";p.level++;var v="valid"+p.level,m="i"+i,y=p.dataLevel=e.dataLevel+1,g="data"+y,b=e.baseId,_=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all);if(n+="var "+h+" = errors;var "+f+";",_){var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+v+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var x=l+"["+m+"]";p.dataPathArr[y]=m;var O=e.validate(p);p.baseId=b,e.util.varOccurences(O,g)<2?n+=" "+e.util.varReplace(O,g,x)+" ":n+=" var "+g+" = "+x+"; "+O+" ",n+=" if ("+v+") break; }  ",e.compositeRule=p.compositeRule=w,n+=" "+d+" if (!"+v+") {"}else n+=" if ("+l+".length == 0) {";var E=E||[];E.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var j=n;return n=E.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",_&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},XWE6:function(e,t){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},XbcX:function(e,t,r){"use strict";var n=r("I+eb"),i=r("or9q"),o=r("ewvW"),a=r("UMSQ"),s=r("HAuM"),u=r("ZfDv");n({target:"Array",proto:!0},{flatMap:function(e){var t,r=o(this),n=a(r.length);return s(e),t=u(r,0),t.length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},Xi0B:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r("q1tI"),a=b(o),s=r("17x9"),u=b(s),c=r("8d86"),l=g(c),f=r("e+5M"),h=b(f),p=r("V66O"),d=r("c/BZ"),v=r("s33p"),m=r("MLCA"),y=b(m);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O="rv-xy-plot__series rv-xy-plot__series--line",E=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),i(t,[{key:"_renderArea",value:function(e,t,r,n,i,o){var a=l.area();return null!==i&&("string"===typeof i&&l[i]?a=a.curve(l[i]):"function"===typeof i&&(a=a.curve(i))),a=a.defined(o),a=a.x(t).y0(r).y1(n),a(e)}},{key:"render",value:function(){var e=this.props,r=e.animation,i=e.className,o=e.curve,s=e.data,u=e.marginLeft,c=e.marginTop,l=e.style;if(this.props.nullAccessor&&(0,v.warning)("nullAccessor has been renamed to getNull",!0),!s)return null;if(r)return a["default"].createElement(h["default"],n({},this.props,{animatedProps:d.ANIMATED_SERIES_PROPS}),a["default"].createElement(t,n({},this.props,{animation:null})));var f=this._getAttributeFunctor("x"),m=this._getAttributeFunctor("y"),y=this._getAttr0Functor("y"),g=this._getAttributeValue("stroke")||this._getAttributeValue("color"),b=this._getAttributeValue("fill")||this._getAttributeValue("color"),_=this._getAttributeValue("opacity"),w=Number.isFinite(_)?_:p.DEFAULT_OPACITY,x=this.props.nullAccessor||this.props.getNull,E=this._renderArea(s,f,y,m,o,x);return a["default"].createElement("path",{d:E,className:O+" "+i,transform:"translate("+u+","+c+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:n({opacity:w,stroke:g,fill:b},l)})}}]),t}(y["default"]);E.displayName="AreaSeries",E.propTypes=n({},y["default"].propTypes,{getNull:u["default"].func}),E.defaultProps=n({},y["default"].defaultProps,{getNull:function(){return!0}}),t["default"]=E},Xi7e:function(e,t,r){var n=r("KMkd"),i=r("adU4"),o=r("tMB7"),a=r("+6XX"),s=r("Z8oC");function u(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},XwUM:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"d",(function(){return f})),r.d(t,"g",(function(){return h}));var n=r("DfUM"),i=["SCALAR","VEC2","VEC3","VEC4"],o=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),a={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},s={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},u={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function c(e){var t=i[e-1];return t||i[0]}function l(e){var t=o.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function f(e,t){var r=u[e.componentType],i=a[e.type],o=s[e.componentType],c=e.count*i,l=e.count*i*o;return Object(n["a"])(l>=0&&l<=t.byteLength),{ArrayType:r,length:c,byteLength:l}}function h(e,t){var r=e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:");return r?e:t.substr(0,t.lastIndexOf("/")+1)+e}},"Y+p1":function(e,t,r){var n=r("wF/u");function i(e,t){return n(e,t)}e.exports=i},Y3YA:function(e,t,r){"use strict";e.exports={$ref:r("bvhh"),allOf:r("6gcW"),anyOf:r("YPXT"),$comment:r("XD0j"),const:r("AwJw"),contains:r("XPXQ"),dependencies:r("uSCx"),enum:r("6MIY"),format:r("AK1u"),if:r("3ZNU"),items:r("eY4P"),maximum:r("v43d"),minimum:r("v43d"),maxItems:r("2jsQ"),minItems:r("2jsQ"),maxLength:r("mQYA"),minLength:r("mQYA"),maxProperties:r("d+r/"),minProperties:r("d+r/"),multipleOf:r("qTHO"),not:r("APWh"),oneOf:r("TbEC"),pattern:r("cUtX"),properties:r("vVvC"),propertyNames:r("bWPq"),required:r("t+aO"),uniqueItems:r("0w4r"),validate:r("1QhW")}},Y4C7:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.toKey,s=i.getMap,u=i.store;n({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var r=arguments.length<3?void 0:a(arguments[2]),n=s(o(t),r,!1);if(void 0===n||!n["delete"](e))return!1;if(n.size)return!0;var i=u.get(t);return i["delete"](r),!!i.size||u["delete"](t)}})},Y62N:function(e,t,r){"use strict";function n(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}r.d(t,"b",(function(){return n})),t["a"]=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e}},YESw:function(e,t,r){var n=r("Cwc5"),i=n(Object,"create");e.exports=i},YGK4:function(e,t,r){"use strict";var n=r("bWFh"),i=r("ZWaQ");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},YJ9l:function(e,t,r){"use strict";var n=r("5wUe")["default"],i=r("bfL6")["default"],o=r("R5yR")["default"],a=r("V93i"),s=r("8jRI"),u=r("8yz6"),c=r("c0go"),l=function(e){return null===e||void 0===e};function f(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(n,e)].join("")])}};case"comma":case"separator":return function(t){return function(r,n){return null===n||void 0===n||0===n.length?r:0===r.length?[[d(t,e),"=",d(n,e)].join("")]:[[r,d(n,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[d(t,e)]:[[d(t,e),"=",d(n,e)].join("")])}}}}function h(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var i="string"===typeof r&&r.includes(e.arrayFormatSeparator),o="string"===typeof r&&!i&&v(r,e).includes(e.arrayFormatSeparator);r=o?v(r,e):r;var a=i||o?r.split(e.arrayFormatSeparator).map((function(t){return v(t,e)})):null===r?r:v(r,e);n[t]=a};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}function p(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function v(e,t){return t.decode?s(e):e}function m(e){return Array.isArray(e)?e.sort():"object"===typeof e?m(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function y(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function g(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}function b(e){e=y(e);var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function _(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function w(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),p(t.arrayFormatSeparator);var r=h(t),o=Object.create(null);if("string"!==typeof e)return o;if(e=e.trim().replace(/^[?#&]/,""),!e)return o;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(""!==c){var l=u(t.decode?c.replace(/\+/g," "):c,"="),f=n(l,2),d=f[0],y=f[1];y=void 0===y?null:["comma","separator"].includes(t.arrayFormat)?y:v(y,t),r(v(d,t),y,o)}}}catch(S){s.e(S)}finally{s.f()}for(var g=0,b=Object.keys(o);g<b.length;g++){var w=b[g],x=o[w];if("object"===typeof x&&null!==x)for(var O=0,E=Object.keys(x);O<E.length;O++){var j=E[O];x[j]=_(x[j],t)}else o[w]=_(x,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var r=o[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=m(r):e[t]=r,e}),Object.create(null))}t.extract=b,t.parse=w,t.stringify=function(e,t){if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),p(t.arrayFormatSeparator);for(var r=function(r){return t.skipNull&&l(e[r])||t.skipEmptyString&&""===e[r]},n=f(t),i={},o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];r(s)||(i[s]=e[s])}var u=Object.keys(i);return!1!==t.sort&&u.sort(t.sort),u.map((function(r){var i=e[r];return void 0===i?"":null===i?d(r,t):Array.isArray(i)?i.reduce(n(r),[]).join("&"):d(r,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=u(e,"#"),i=n(r,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:w(b(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:v(a,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign({encode:!0,strict:!0},r);var n=y(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,r);s&&(s="?".concat(s));var u=g(e.url);return e.fragmentIdentifier&&(u="#".concat(d(e.fragmentIdentifier,r))),"".concat(n).concat(s).concat(u)},t.pick=function(e,r,n){n=Object.assign({parseFragmentIdentifier:!0},n);var i=t.parseUrl(e,n),o=i.url,a=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:o,query:c(a,r),fragmentIdentifier:s},n)},t.exclude=function(e,r,n){var i=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return t.pick(e,i,n)}},YL0P:function(e,t,r){"use strict";var n=r("2oRo"),i=r("67WC"),o=r("4mDm"),a=r("tiKp"),s=a("iterator"),u=n.Uint8Array,c=o.values,l=o.keys,f=o.entries,h=i.aTypedArray,p=i.exportTypedArrayMethod,d=u&&u.prototype[s],v=!!d&&("values"==d.name||void 0==d.name),m=function(){return c.call(h(this))};p("entries",(function(){return f.call(h(this))})),p("keys",(function(){return l.call(h(this))})),p("values",m,!v),p(s,m,!v)},YLrB:function(e,t,r){"use strict";r.d(t,"a",(function(){return Te}));var n=r("U8pU"),i=r("rePB"),o=r("HaE+"),a=r("1OyB"),s=r("vuIU"),u=r("o0o1"),c=r.n(u),l=(r("BS1C"),""),f={};function h(e){for(var t in f)if(e.startsWith(t)){var r=f[t];e=e.replace(t,r)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(l).concat(e)),e}var p=function(e){return"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},d=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},v=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,m=/^([-\w.]+\/[-\w.+]+)/;function y(e){if("string"!==typeof e)return"";var t=e.match(m);return t?t[1]:e}function g(e){if("string"!==typeof e)return"";var t=e.match(v);return t?t[1]:""}var b=/\?.*/;function _(e){if(p(e)){var t=y(e.headers.get("content-type")),r=g(e.url);return{url:x(e.url||""),type:t||r||null}}return d(e)?{url:x(e.name||""),type:e.type||""}:"string"===typeof e?{url:x(e),type:g(e)}:{url:"",type:""}}function w(e){return p(e)?e.headers["content-length"]||-1:d(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function x(e){return e.replace(b,"")}function O(e){return E.apply(this,arguments)}function E(){return E=Object(o["a"])(c.a.mark((function e(t){var r,n,i,o,a,s,u;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p(t)){e.next=2;break}return e.abrupt("return",t);case 2:return r={},n=w(t),n>=0&&(r["content-length"]=String(n)),i=_(t),o=i.url,a=i.type,a&&(r["content-type"]=a),e.next=9,j(t);case 9:return s=e.sent,s&&(r["x-first-bytes"]=s),"string"===typeof t&&(t=(new TextEncoder).encode(t)),u=new Response(t,{headers:r}),Object.defineProperty(u,"url",{value:o}),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function j(e){return S.apply(this,arguments)}function S(){return S=Object(o["a"])(c.a.mark((function e(t){var r,n,i,o;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=5,"string"!==typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,r)));case 3:if(!(t instanceof Blob)){e.next=8;break}return n=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){return e(t.target&&t.target.result)},t.readAsDataURL(n)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,r),o=k(i),e.abrupt("return","data:base64,".concat(o));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function k(e){for(var t="",r=new Uint8Array(e),n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}function T(e){return P.apply(this,arguments)}function P(){return P=Object(o["a"])(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,n=t.headers.get("Content-Type"),!n.includes("application/json")){e.next=10;break}return e.t0=r,e.next=7,t.text();case 7:r=e.t0+=e.sent,e.next=11;break;case 10:r+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e["catch"](1),e.abrupt("return",r);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),P.apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return I=Object(o["a"])(c.a.mark((function e(t){var r,n,i=arguments;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},"string"===typeof t){e.next=5;break}return e.next=4,O(t);case 4:return e.abrupt("return",e.sent);case 5:return t=h(t),e.next=8,fetch(t,r);case 8:if(n=e.sent,n.ok||!r["throws"]){e.next=15;break}return e.t0=Error,e.next=13,T(n);case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}var C=r("XwUM");function R(e){var t={};for(var r in e){var n=e[r];if("indices"!==r){var i=M(n);t[r]=i}}return t}function M(e,t){var r=L(e,t),n=r.buffer,i=r.size,o=r.count,a={value:n,size:i,bufferView:null,byteOffset:0,count:o,type:Object(C["e"])(i),componentType:Object(C["f"])(n)};return a}function L(e,t){var r=e,n=1,i=0;return e&&e.value&&(r=e.value,n=e.size||1),r&&(ArrayBuffer.isView(r)||(r=D(r,Float32Array)),i=r.length/n),{buffer:r,size:n,count:i}}function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?Array.isArray(e)?new t(e):!r||e instanceof t?e:new t(e):null}var N=r("oHhm"),F=r("DfUM"),z=r("8j2W"),B=r("U0Km"),U=1735152710,V=12,G=8,q=1313821514,W=5130562,H=!0;function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new DataView(e),i=r.magic,o=void 0===i?U:i,a=n.getUint32(t,!1);return a===o||a===U}function $(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new DataView(t);e.type=Z(i,r+0),e.version=i.getUint32(r+4,H);var o=i.getUint32(r+8,H);return e.header={byteOffset:r,byteLength:o},"glTF"!==e.type&&console.warn("Invalid GLB magic string ".concat(e.type)),Object(z["a"])(2===e.version,"Invalid GLB version ".concat(e.version,". Only .glb v2 supported")),Object(z["a"])(e.header.byteLength>V+G),e.json={},e.hasBinChunk=!1,e.binChunks=[],Y(e,i,r+12,n),Q(e),r+e.header.byteLength}function Y(e,t,r,n){while(r+8<=e.header.byteLength){var i=t.getUint32(r+0,H),o=t.getUint32(r+4,H);switch(r+=G,o){case q:K(e,t,r,i,n);break;case W:J(e,t,r,i,n);break;default:break}switch(o){case 0:n.strict||K(e,t,r,i,n);break;case 1:n.strict||J(e,t,r,i,n);break;default:}r+=Object(B["a"])(i)}return r}function K(e,t,r,n,i){var o=new Uint8Array(t.buffer,r,n),a=new TextDecoder("utf8"),s=a.decode(o);e.json=JSON.parse(s)}function J(e,t,r,n,i){e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:r,byteLength:n,arrayBuffer:t.buffer})}function Q(e){e.byteOffset=e.header.byteOffset,e.magic=e.header.magic,e.version=e.header.version,e.byteLength=e.header.byteLength,e.hasBinChunk=e.binChunks.length>=1,e.binChunkByteOffset=e.header.hasBinChunk?e.binChunks[0].byteOffset:0,e.binChunkLength=e.header.hasBinChunk?e.binChunks[0].byteLength:0}var ee=r("ODXe");function te(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return re(e,e,t,r)}function re(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e,a=ne(o,r);if(a)return a;if(Array.isArray(o))return o.map((function(e){return re(e,t,r,i)}));if(null!==o&&"object"===Object(n["a"])(o)){var s={};for(var u in o)s[u]=re(o[u],t,r,i);return s}return o}function ne(e,t){var r=ie(e);if(r){var n=Object(ee["a"])(r,2),i=n[0],o=n[1],a=t[i]&&t[i][o];if(a)return a;console.error("Invalid JSON pointer ".concat(e,": #/").concat(i,"/").concat(o))}return null}function ie(e){if("string"===typeof e){if(0===e.indexOf("##/"))return e.slice(1);var t=e.match(/#\/([a-z]+)\/([0-9]+)/);if(t){var r=parseInt(t[2],10);return[t[1],r]}if(t=e.match(/\$\$\$([0-9]+)/),t){var n=parseInt(t[1],10);return["accessors",n]}}return null}function oe(e,t,r){r&&(e=ue(e,r));for(var n=t.bufferViews||[],i=0;i<n.length;++i){var o=n[i];Object(F["a"])(o.byteLength>=0)}return{accessors:ae(e,n,t),images:se(e,n,t)}}function ae(e,t,r){for(var n=r.accessors||[],i=[],o=0;o<n.length;++o){var a=n[o];Object(F["a"])(a);var s=t[a.bufferView];if(s){var u=Object(C["d"])(a,s),c=u.ArrayType,l=u.length,f=new c(e,s.byteOffset,l);f.accessor=a,i.push(f)}}return i}function se(e,t,r){for(var n=r.images||[],i=[],o=0;o<n.length;++o){var a=n[o];Object(F["a"])(a);var s=t[a.bufferView];Object(F["a"])(s);var u=new Uint8Array(e,s.byteOffset,s.byteLength);u.imate=a,i.push(u)}return i}function ue(e,t){for(var r=e.byteLength-t,n=new ArrayBuffer(r),i=new Uint8Array(e),o=new Uint8Array(n),a=0;a<r;a++)o[a]=i[t+a];return n}var ce,le=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.parseSync(e,t)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.glbArrayBuffer=e,this.binaryByteOffset=null,this.packedJson=null,this.json=null,null===this.json&&null===this.binaryByteOffset){var r=0;$(this,this.glbArrayBuffer,r,t),this.binaryByteOffset=this.binChunkByteOffset,this.packedJson=this.json;var n=oe(this.glbArrayBuffer,this.json,this.binaryByteOffset);this.json=te(this.json,n),this.unpackedBuffers=n}return this}},{key:"getApplicationData",value:function(e){return this.json?this.json[e]:null}},{key:"getJSON",value:function(){return this.json}},{key:"getArrayBuffer",value:function(){return this.glbArrayBuffer}},{key:"getBinaryByteOffset",value:function(){return this.binaryByteOffset}},{key:"getBufferView",value:function(e){var t=(e.byteOffset||0)+this.binaryByteOffset;return new Uint8Array(this.glbArrayBuffer,t,e.byteLength)}},{key:"getBuffer",value:function(e){var t=C["a"][e.componentType],r=C["c"][e.type],n=C["b"][e.componentType],i=e.count*r,o=e.count*r*n,a=this.json.bufferViews[e.bufferView];Object(F["a"])(o>=0&&e.byteOffset+o<=a.byteLength);var s=a.byteOffset+this.binaryByteOffset+e.byteOffset;return new t(this.glbArrayBuffer,s,i)}},{key:"getImageData",value:function(e){return{typedArray:this.getBufferView(e.bufferView),mimeType:e.mimeType||"image/jpeg"}}},{key:"getImage",value:function(e){var t=this.getBufferView(e.bufferView),r=e.mimeType||"image/jpeg",n=new Blob([t],{type:r}),i=self.URL||self.webkitURL,o=i.createObjectURL(n),a=new Image;return a.src=o,a}},{key:"getImageAsync",value:function(e){var t=this;return new Promise((function(r){var n=t.getBufferView(e.bufferView),i=e.mimeType||"image/jpeg",o=new Blob([n],{type:i}),a=self.URL||self.webkitURL,s=a.createObjectURL(o),u=new Image;u.onload=function(){return r(u)},u.src=s}))}}],[{key:"isGLB",value:function(e){var t=0;return X(e,t)}}]),e}();function fe(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=he(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function he(e,t){if(e){if("string"===typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var de={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ve={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},me={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},ye={magFilter:me.TEXTURE_MAG_FILTER,minFilter:me.TEXTURE_MIN_FILTER,wrapS:me.TEXTURE_WRAP_S,wrapT:me.TEXTURE_WRAP_T},ge=(ce={},Object(i["a"])(ce,me.TEXTURE_MAG_FILTER,me.LINEAR),Object(i["a"])(ce,me.TEXTURE_MIN_FILTER,me.NEAREST_MIPMAP_LINEAR),Object(i["a"])(ce,me.TEXTURE_WRAP_S,me.REPEAT),Object(i["a"])(ce,me.TEXTURE_WRAP_,me.REPEAT),ce);function be(e){return ve[e]}function _e(e){return de[e]}var we=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,[{key:"postProcess",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.gltf=e,this.glbParser=t,this._resolveToTree(r),this.gltf}},{key:"_resolveToTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.gltf;return(r.bufferViews||[]).forEach((function(t,r){return e._resolveBufferView(t,r)})),(r.images||[]).forEach((function(r,n){return e._resolveImage(r,n,t)})),(r.samplers||[]).forEach((function(t,r){return e._resolveSampler(t,r)})),(r.textures||[]).forEach((function(t,r){return e._resolveTexture(t,r)})),(r.accessors||[]).forEach((function(t,r){return e._resolveAccessor(t,r)})),(r.materials||[]).forEach((function(t,r){return e._resolveMaterial(t,r)})),(r.meshes||[]).forEach((function(t,r){return e._resolveMesh(t,r)})),(r.nodes||[]).forEach((function(t,r){return e._resolveNode(t,r)})),(r.skins||[]).forEach((function(t,r){return e._resolveSkin(t,r)})),(r.scenes||[]).forEach((function(t,r){return e._resolveScene(t,r)})),void 0!==r.scene&&(r.scene=r.scenes[this.gltf.scene]),this._process_extension_KHR_lights_punctual(),r}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===Object(n["a"])(t))return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),r}},{key:"_resolveScene",value:function(e,t){var r=this;e.id="scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return r.getNode(e)}))}},{key:"_resolveNode",value:function(e,t){var r=this;e.id="node-".concat(t),e.children=(e.children||[]).map((function(e){return r.getNode(e)})),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin))}},{key:"_resolveSkin",value:function(e,t){e.id="skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices)}},{key:"_resolveMesh",value:function(e,t){e.id="mesh-".concat(t);var r,n=fe(e.primitives);try{for(n.s();!(r=n.n()).done;){var i=r.value;for(var o in i.attributes)i.attributes[o]=this.getAccessor(i.attributes[o]);void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material))}}catch(a){n.e(a)}finally{n.f()}}},{key:"_resolveMaterial",value:function(e,t){if(e.id="material-".concat(t),e.normalTexture&&(e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}}},{key:"_resolveAccessor",value:function(e,t){e.id="accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=be(e),e.components=_e(e),e.bytesPerElement=e.bytesPerComponent*e.components}},{key:"_resolveTexture",value:function(e,t){e.id="texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):ge,e.source=this.getImage(e.source)}},{key:"_resolveSampler",value:function(e,t){for(var r in e.id="sampler-".concat(t),e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}}},{key:"_enumSamplerParameter",value:function(e){return ye[e]}},{key:"_resolveImage",value:function(e,t,r){var n=this;e.id="image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var i=r.createImages,o=void 0===i||i;o?e.image=this.glbParser.getImage(e):e.getImageAsync=function(){return n.glbParser?n.glbParser.getImageAsync(e):e.uri?new Promise((function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){return t(n)},n.src=Object(C["g"])(e.uri,r.uri)})):null}}},{key:"_resolveBufferView",value:function(e,t){if(e.id="bufferView-".concat(t),e.buffer=this.getBuffer(e.buffer),this.glbParser)e.data=this.glbParser.getBufferView(e);else{var r=e.byteOffset||0;e.data=new Uint8Array(e.buffer.data,r,e.byteLength)}}},{key:"_resolveCamera",value:function(e){e.perspective,e.orthographic}},{key:"_process_extension_KHR_lights_punctual",value:function(){var e=this.gltf,t=e.extensions&&e.extensions.KHR_lights_punctual;t&&(e.lights=t.lights),this._removeExtension("KHR_lights_punctual");var r,n=fe(e.nodes||[]);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i.extensions&&i.extensions.KHR_lights_punctual;o&&(i.light=this._get("lights",o.light),delete i.extensions.KHR_lights_punctual)}}catch(a){n.e(a)}finally{n.f()}delete e.lights}},{key:"_removeExtension",value:function(e){this.gltf.extensionsRequired&&this._removeStringFromArray(this.gltf.extensionsRequired,e),this.gltf.extensionsUsed&&this._removeStringFromArray(this.gltf.extensionsUsed,e),this.gltf.extensions&&delete this.gltf.extensions[e]}},{key:"_removeStringFromArray",value:function(e,t){var r=!0;while(r){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}}]),e}();function xe(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Oe(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function Oe(e,t){if(e){if("string"===typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ke={fetchLinkedResources:!0,fetch:A,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},Te=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,[{key:"parse",value:function(){var e=Object(o["a"])(c.a.mark((function e(t){var r,n,i=arguments;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},r=Object.assign({},ke,r),this.parseSync(t,Se(Se({},r),{},{postProcess:!1,decompress:!1})),!r.fetchLinkedResources){e.next=6;break}return e.next=6,this._loadLinkedAssets(r);case 6:return r.decompress&&this._decompressMeshes(r),r.postProcess&&(n=new we,n.postProcess(this.gltf,this.glbParser,r)),e.abrupt("return",this.gltf);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Object.assign({},ke,t),e instanceof ArrayBuffer&&!le.isGLB(e,t)){var r=new TextDecoder;e=r.decode(e)}if("string"===typeof e&&(e=JSON.parse(e)),e instanceof ArrayBuffer?(this.glbParser=new le,this.gltf=this.glbParser.parseSync(e).json,this.json=this.gltf):(this.glbParser=null,this.gltf=e,this.json=e),t.decompress&&this._decompressMeshes(t),t.postProcess){var n=new we;n.postProcess(this.gltf,this.glbParser,t)}return this.gltf}},{key:"getApplicationData",value:function(e){return this.json?this.json[e]:this.glbParser?this.glbParser.getApplicationData(e):null}},{key:"getExtraData",value:function(e){var t=this.json.extras||{};return t[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),r=this.json.extensions||{};return t?r[e]||!0:null}},{key:"getRequiredExtension",value:function(e){var t=this.getRequiredExtensions().find((function(t){return t===e}));return t?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===Object(n["a"])(t))return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),r}},{key:"_loadLinkedAssets",value:function(){var e=Object(o["a"])(c.a.mark((function e(t){var r=this;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.gltf.buffers.map((function(e){return r._loadBuffer(e,t)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_loadBuffer",value:function(){var e=Object(o["a"])(c.a.mark((function e(t,r){var n,i,o,a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.uri||!r.uri){e.next=11;break}return n=r.fetch||window.fetch,i=Object(C["g"])(t.uri,r.uri),e.next=5,n(i);case 5:return o=e.sent,e.next=8,o.arrayBuffer();case 8:a=e.sent,t.data=a,t.uri=null;case 11:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_decompressMeshes",value:function(e){if(e.DracoLoader&&e.decompress){var t,r=xe(this.gltf.meshes||[]);try{for(r.s();!(t=r.n()).done;){var n,i=t.value,o=xe(i.primitives);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(this._decompressKhronosDracoPrimitive(a,e),this._decompressUberDracoPrimitive(a,e),!a.attributes||0===Object.keys(a.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}this._removeExtension(N["a"]),this._removeExtension(N["b"])}}},{key:"_decompressKhronosDracoPrimitive",value:function(e,t){var r=e.extensions&&e.extensions[N["a"]];if(r){delete e.extensions[N["a"]];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=R(i.attributes),i.indices&&(e.indices=M(i.indices))}}},{key:"_decompressUberDracoPrimitive",value:function(e,t){var r=e.extensions&&e.extensions[N["b"]];if(r){if(0!==e.mode)throw new Error(N["b"]);delete e.extensions[N["b"]];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=i.attributes}}},{key:"_getBufferViewArray",value:function(e){var t=this.gltf.bufferViews[e];if(this.glbParser)return this.glbParser.getBufferView(t);var r=this.gltf.buffers[t.buffer].data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)}},{key:"_removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"_removeStringFromArray",value:function(e,t){var r=!0;while(r){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}}]),e}()},YNrV:function(e,t,r){"use strict";var n=r("g6v/"),i=r("0Dky"),o=r("33Wh"),a=r("dBg+"),s=r("0eef"),u=r("ewvW"),c=r("RK3t"),l=Object.assign,f=Object.defineProperty;e.exports=!l||i((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||o(l({},t)).join("")!=i}))?function(e,t){var r=u(e),i=arguments.length,l=1,f=a.f,h=s.f;while(i>l){var p,d=c(arguments[l++]),v=f?o(d).concat(f(d)):o(d),m=v.length,y=0;while(m>y)p=v[y++],n&&!h.call(d,p)||(r[p]=d[p])}return r}:l},YPXT:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,p=e.util.copy(e),d="";p.level++;var v="valid"+p.level,m=a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(m){var y=p.baseId;n+=" var "+h+" = errors; var "+f+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=a;if(b){var _,w=-1,x=b.length-1;while(w<x)_=b[w+=1],p.schema=_,p.schemaPath=s+"["+w+"]",p.errSchemaPath=u+"/"+w,n+="  "+e.validate(p)+" ",p.baseId=y,n+=" "+f+" = "+f+" || "+v+"; if (!"+f+") { ",d+="}"}e.compositeRule=p.compositeRule=g,n+=" "+d+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else c&&(n+=" if (true) { ");return n}},YS25:function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"b",(function(){return B})),r.d(t,"d",(function(){return V})),r.d(t,"c",(function(){return w})),r.d(t,"f",(function(){return x})),r.d(t,"e",(function(){return _}));var n=r("wx14");function i(e){return"/"===e.charAt(0)}function o(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function a(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";if(a.length){var l=a[a.length-1];r="."===l||".."===l||""===l}else r=!1;for(var f=0,h=a.length;h>=0;h--){var p=a[h];"."===p?o(a,h):".."===p?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return r&&"/"!==d.substr(-1)&&(d+="/"),d}var s=a;function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function c(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,r){return c(e,t[r])}));if("object"===typeof e||"object"===typeof t){var r=u(e),n=u(t);return r!==e||n!==t?c(r,n):Object.keys(Object.assign({},e,t)).every((function(r){return c(e[r],t[r])}))}return!1}var l=c,f=r("YJ9l"),h=r.n(f),p=r("9R94");function d(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function y(e,t){return m(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(r=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}function _(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i}function w(e,t,r,i){var o;"string"===typeof e?(o=b(e),o.query=o.search?h.a.parse(o.search):{},o.state=t):(o=Object(n["a"])({},e),void 0===o.pathname&&(o.pathname=""),o.search?("?"!==o.search.charAt(0)&&(o.search="?"+o.search),o.query=h.a.parse(o.search)):(o.search=o.query?h.a.stringify(o.query):"",o.query=o.query||{}),o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return r&&(o.key=r),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function x(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function O(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function r(t,r,n,i){if(null!=e){var o="function"===typeof e?e(t,r):e;"string"===typeof o?"function"===typeof n?n(o,i):i(!0):i(!1!==o)}else i(!0)}var n=[];function i(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}return{setPrompt:t,confirmTransitionTo:r,appendListener:i,notifyListeners:o}}var E=!("undefined"===typeof window||!window.document||!window.document.createElement);function j(e,t){t(window.confirm(e))}function S(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function k(){return-1===window.navigator.userAgent.indexOf("Trident")}function T(){return-1===window.navigator.userAgent.indexOf("Firefox")}function P(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var A="popstate",I="hashchange";function C(){try{return window.history.state||{}}catch(e){return{}}}function R(e){void 0===e&&(e={}),E||Object(p["a"])(!1);var t=window.history,r=S(),i=!k(),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,c=void 0===u?j:u,l=o.keyLength,f=void 0===l?6:l,h=e.basename?g(d(e.basename)):"";function v(e){var t=e||{},r=t.key,n=t.state,i=window.location,o=i.pathname,a=i.search,s=i.hash,u=o+a+s;return h&&(u=y(u,h)),w(u,n,r)}function m(){return Math.random().toString(36).substr(2,f)}var b=O();function x(e){Object(n["a"])(Y,e),Y.length=t.length,b.notifyListeners(Y.location,Y.action)}function T(e){P(e)||L(v(e.state))}function R(){L(v(C()))}var M=!1;function L(e){if(M)M=!1,x();else{var t="POP";b.confirmTransitionTo(e,t,c,(function(r){r?x({action:t,location:e}):D(e)}))}}function D(e){var t=Y.location,r=F.indexOf(t.key);-1===r&&(r=0);var n=F.indexOf(e.key);-1===n&&(n=0);var i=r-n;i&&(M=!0,V(i))}var N=v(C()),F=[N.key];function z(e){return h+_(e)}function B(e,n){var i="PUSH",o=w(e,n,m(),Y.location);b.confirmTransitionTo(o,i,c,(function(e){if(e){var n=z(o),a=o.key,u=o.state;if(r)if(t.pushState({key:a,state:u},null,n),s)window.location.href=n;else{var c=F.indexOf(Y.location.key),l=F.slice(0,c+1);l.push(o.key),F=l,x({action:i,location:o})}else window.location.href=n}}))}function U(e,n){var i="REPLACE",o=w(e,n,m(),Y.location);b.confirmTransitionTo(o,i,c,(function(e){if(e){var n=z(o),a=o.key,u=o.state;if(r)if(t.replaceState({key:a,state:u},null,n),s)window.location.replace(n);else{var c=F.indexOf(Y.location.key);-1!==c&&(F[c]=o.key),x({action:i,location:o})}else window.location.replace(n)}}))}function V(e){t.go(e)}function G(){V(-1)}function q(){V(1)}var W=0;function H(e){W+=e,1===W&&1===e?(window.addEventListener(A,T),i&&window.addEventListener(I,R)):0===W&&(window.removeEventListener(A,T),i&&window.removeEventListener(I,R))}var Z=!1;function X(e){void 0===e&&(e=!1);var t=b.setPrompt(e);return Z||(H(1),Z=!0),function(){return Z&&(Z=!1,H(-1)),t()}}function $(e){var t=b.appendListener(e);return H(1),function(){H(-1),t()}}var Y={length:t.length,action:"POP",location:N,createHref:z,push:B,replace:U,go:V,goBack:G,goForward:q,block:X,listen:$};return Y}var M="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:d},slash:{encodePath:d,decodePath:d}};function D(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function F(e){window.location.hash=e}function z(e){window.location.replace(D(window.location.href)+"#"+e)}function B(e){void 0===e&&(e={}),E||Object(p["a"])(!1);var t=window.history,r=(T(),e),i=r.getUserConfirmation,o=void 0===i?j:i,a=r.hashType,s=void 0===a?"slash":a,u=e.basename?g(d(e.basename)):"",c=L[s],l=c.encodePath,f=c.decodePath;function h(){var e=f(N());return u&&(e=y(e,u)),w(e)}var v=O();function m(e){Object(n["a"])(J,e),J.length=t.length,v.notifyListeners(J.location,J.action)}var b=!1,x=null;function S(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function k(){var e=N(),t=l(e);if(e!==t)z(t);else{var r=h(),n=J.location;if(!b&&S(n,r))return;if(x===_(r))return;x=null,P(r)}}function P(e){if(b)b=!1,m();else{var t="POP";v.confirmTransitionTo(e,t,o,(function(r){r?m({action:t,location:e}):A(e)}))}}function A(e){var t=J.location,r=B.lastIndexOf(_(t));-1===r&&(r=0);var n=B.lastIndexOf(_(e));-1===n&&(n=0);var i=r-n;i&&(b=!0,q(i))}var I=N(),C=l(I);I!==C&&z(C);var R=h(),B=[_(R)];function U(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&(r=D(window.location.href)),r+"#"+l(u+_(e))}function V(e,t){var r="PUSH",n=w(e,void 0,void 0,J.location);v.confirmTransitionTo(n,r,o,(function(e){if(e){var t=_(n),i=l(u+t),o=N()!==i;if(o){x=t,F(i);var a=B.lastIndexOf(_(J.location)),s=B.slice(0,a+1);s.push(t),B=s,m({action:r,location:n})}else m()}}))}function G(e,t){var r="REPLACE",n=w(e,void 0,void 0,J.location);v.confirmTransitionTo(n,r,o,(function(e){if(e){var t=_(n),i=l(u+t),o=N()!==i;o&&(x=t,z(i));var a=B.indexOf(_(J.location));-1!==a&&(B[a]=t),m({action:r,location:n})}}))}function q(e){t.go(e)}function W(){q(-1)}function H(){q(1)}var Z=0;function X(e){Z+=e,1===Z&&1===e?window.addEventListener(M,k):0===Z&&window.removeEventListener(M,k)}var $=!1;function Y(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return $||(X(1),$=!0),function(){return $&&($=!1,X(-1)),t()}}function K(e){var t=v.appendListener(e);return X(1),function(){X(-1),t()}}var J={length:t.length,action:"POP",location:R,createHref:U,push:V,replace:G,go:q,goBack:W,goForward:H,block:Y,listen:K};return J}function U(e,t,r){return Math.min(Math.max(e,t),r)}function V(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=O();function f(e){Object(n["a"])(k,e),k.length=k.entries.length,l.notifyListeners(k.location,k.action)}function h(){return Math.random().toString(36).substr(2,c)}var p=U(s,0,o.length-1),d=o.map((function(e){return w(e,void 0,"string"===typeof e?h():e.key||h())})),v=_;function m(e,t){var n="PUSH",i=w(e,t,h(),k.location);l.confirmTransitionTo(i,n,r,(function(e){if(e){var t=k.index,r=t+1,o=k.entries.slice(0);o.length>r?o.splice(r,o.length-r,i):o.push(i),f({action:n,location:i,index:r,entries:o})}}))}function y(e,t){var n="REPLACE",i=w(e,t,h(),k.location);l.confirmTransitionTo(i,n,r,(function(e){e&&(k.entries[k.index]=i,f({action:n,location:i}))}))}function g(e){var t=U(k.index+e,0,k.entries.length-1),n="POP",i=k.entries[t];l.confirmTransitionTo(i,n,r,(function(e){e?f({action:n,location:i,index:t}):f()}))}function b(){g(-1)}function x(){g(1)}function E(e){var t=k.index+e;return t>=0&&t<k.entries.length}function j(e){return void 0===e&&(e=!1),l.setPrompt(e)}function S(e){return l.appendListener(e)}var k={length:d.length,action:"POP",location:d[p],index:p,entries:d,createHref:v,push:m,replace:y,go:g,goBack:b,goForward:x,canGo:E,block:j,listen:S};return k}},Yhre:function(e,t,r){"use strict";var n=r("2oRo"),i=r("g6v/"),o=r("qYE9"),a=r("kRJp"),s=r("4syw"),u=r("0Dky"),c=r("GarU"),l=r("ppGB"),f=r("UMSQ"),h=r("CyXQ"),p=r("d6cI"),d=r("4WOD"),v=r("0rvr"),m=r("JBy8").f,y=r("m/L8").f,g=r("gdVl"),b=r("1E5z"),_=r("afO8"),w=_.get,x=_.set,O="ArrayBuffer",E="DataView",j="prototype",S="Wrong length",k="Wrong index",T=n[O],P=T,A=n[E],I=A&&A[j],C=Object.prototype,R=n.RangeError,M=p.pack,L=p.unpack,D=function(e){return[255&e]},N=function(e){return[255&e,e>>8&255]},F=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return M(e,23,4)},U=function(e){return M(e,52,8)},V=function(e,t){y(e[j],t,{get:function(){return w(this)[t]}})},G=function(e,t,r,n){var i=h(r),o=w(e);if(i+t>o.byteLength)throw R(k);var a=w(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+t);return n?u:u.reverse()},q=function(e,t,r,n,i,o){var a=h(r),s=w(e);if(a+t>s.byteLength)throw R(k);for(var u=w(s.buffer).bytes,c=a+s.byteOffset,l=n(+i),f=0;f<t;f++)u[c+f]=l[o?f:t-f-1]};if(o){if(!u((function(){T(1)}))||!u((function(){new T(-1)}))||u((function(){return new T,new T(1.5),new T(NaN),T.name!=O}))){P=function(e){return c(this,P),new T(h(e))};for(var W,H=P[j]=T[j],Z=m(T),X=0;Z.length>X;)(W=Z[X++])in P||a(P,W,T[W]);H.constructor=P}v&&d(I)!==C&&v(I,C);var $=new A(new P(2)),Y=I.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(I,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},{unsafe:!0})}else P=function(e){c(this,P,O);var t=h(e);x(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},A=function(e,t,r){c(this,A,E),c(e,P,E);var n=w(e).byteLength,o=l(t);if(o<0||o>n)throw R("Wrong offset");if(r=void 0===r?n-o:f(r),o+r>n)throw R(S);x(this,{buffer:e,byteLength:r,byteOffset:o}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=o)},i&&(V(P,"byteLength"),V(A,"buffer"),V(A,"byteLength"),V(A,"byteOffset")),s(A[j],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){q(this,1,e,D,t)},setUint8:function(e,t){q(this,1,e,D,t)},setInt16:function(e,t){q(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){q(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){q(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){q(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){q(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){q(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});b(P,O),b(A,E),e.exports={ArrayBuffer:P,DataView:A}},YrtM:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("q1tI");function i(e,t,r){var i=n["useRef"]({});return"value"in i.current&&!r(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}},YvDT:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return m})),r.d(t,"d",(function(){return O})),r.d(t,"c",(function(){return E}));var n=r("Y62N"),i=r("FmoU"),o=r("Uwo/"),a=18,s=.96422,u=1,c=.82521,l=4/29,f=6/29,h=3*f*f,p=f*f*f;function d(e){if(e instanceof y)return new y(e.l,e.a,e.b,e.opacity);if(e instanceof j)return S(e);e instanceof i["b"]||(e=Object(i["h"])(e));var t,r,n=w(e.r),o=w(e.g),a=w(e.b),l=g((.2225045*n+.7168786*o+.0606169*a)/u);return n===o&&o===a?t=r=l:(t=g((.4360747*n+.3850649*o+.1430804*a)/s),r=g((.0139322*n+.0971045*o+.7141733*a)/c)),new y(116*l-16,500*(t-l),200*(l-r),e.opacity)}function v(e,t){return new y(e,0,0,null==t?1:t)}function m(e,t,r,n){return 1===arguments.length?d(e):new y(e,t,r,null==n?1:n)}function y(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function g(e){return e>p?Math.pow(e,1/3):e/h+l}function b(e){return e>f?e*e*e:h*(e-l)}function _(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function x(e){if(e instanceof j)return new j(e.h,e.c,e.l,e.opacity);if(e instanceof y||(e=d(e)),0===e.a&&0===e.b)return new j(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*o["b"];return new j(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function O(e,t,r,n){return 1===arguments.length?x(e):new j(r,t,e,null==n?1:n)}function E(e,t,r,n){return 1===arguments.length?x(e):new j(e,t,r,null==n?1:n)}function j(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function S(e){if(isNaN(e.h))return new y(e.l,0,0,e.opacity);var t=e.h*o["a"];return new y(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Object(n["a"])(y,m,Object(n["b"])(i["a"],{brighter:function(e){return new y(this.l+a*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new y(this.l-a*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=s*b(t),e=u*b(e),r=c*b(r),new i["b"](_(3.1338561*t-1.6168667*e-.4906146*r),_(-.9787684*t+1.9161415*e+.033454*r),_(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),Object(n["a"])(j,E,Object(n["b"])(i["a"],{brighter:function(e){return new j(this.h,this.c,this.l+a*(null==e?1:e),this.opacity)},darker:function(e){return new j(this.h,this.c,this.l-a*(null==e?1:e),this.opacity)},rgb:function(){return S(this).rgb()}}))},Z0cm:function(e,t){var r=Array.isArray;e.exports=r},Z4nd:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("fXLg");n({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},Z6NN:function(e,t,r){"use strict";function n(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=0);return t}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},Z8oC:function(e,t,r){var n=r("y1pI");function i(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}e.exports=i},ZLCw:function(e,t,r){"use strict";var n=r("AM7I"),i=n("%Object.defineProperty%",!0),o=function(){if(i)try{return i({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},ZUd8:function(e,t,r){var n=r("ppGB"),i=r("HYAF"),o=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},ZWaQ:function(e,t,r){"use strict";var n=r("m/L8").f,i=r("fHMY"),o=r("4syw"),a=r("A2ZE"),s=r("GarU"),u=r("ImZN"),c=r("fdAy"),l=r("JiZb"),f=r("g6v/"),h=r("8YOa").fastKey,p=r("afO8"),d=p.set,v=p.getterFor;e.exports={getConstructor:function(e,t,r,c){var l=e((function(e,n){s(e,l,t),d(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=n&&u(n,e[c],e,r)})),p=v(t),m=function(e,t,r){var n,i,o=p(e),a=y(e,t);return a?a.value=r:(o.last=a={index:i=h(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var r,n=p(e),i=h(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return o(l.prototype,{clear:function(){var e=this,t=p(e),r=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,r=p(t),n=y(t,e);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),f?r.size--:t.size--}return!!n},forEach:function(e){var t,r=p(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:r.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),o(l.prototype,r?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&n(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",i=v(t),o=v(n);c(e,t,(function(e,t){d(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},ZY7T:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),c=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),r=new(u(t,o("Set"))),n=s(t.has),i=s(r.add);return c(e,(function(e){n.call(t,e)&&i.call(r,e)})),r}})},ZaHm:function(e,t,r){"use strict";r.d(t,"p",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"g",(function(){return u})),r.d(t,"o",(function(){return c})),r.d(t,"n",(function(){return l})),r.d(t,"j",(function(){return f})),r.d(t,"k",(function(){return h})),r.d(t,"l",(function(){return p})),r.d(t,"m",(function(){return d})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return m})),r.d(t,"i",(function(){return g})),r.d(t,"h",(function(){return _})),r.d(t,"f",(function(){return w})),r.d(t,"b",(function(){return x}));var n=r("yU0y");function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function o(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function a(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],p=t[11],d=t[12],v=t[13],m=t[14],y=t[15],g=r*s-n*a,b=r*u-i*a,_=r*c-o*a,w=n*u-i*s,x=n*c-o*s,O=i*c-o*u,E=l*v-f*d,j=l*m-h*d,S=l*y-p*d,k=f*m-h*v,T=f*y-p*v,P=h*y-p*m,A=g*P-b*T+_*k+w*S-x*j+O*E;return A?(A=1/A,e[0]=(s*P-u*T+c*k)*A,e[1]=(i*T-n*P-o*k)*A,e[2]=(v*O-m*x+y*w)*A,e[3]=(h*x-f*O-p*w)*A,e[4]=(u*S-a*P-c*j)*A,e[5]=(r*P-i*S+o*j)*A,e[6]=(m*_-d*O-y*b)*A,e[7]=(l*O-h*_+p*b)*A,e[8]=(a*T-s*S+c*E)*A,e[9]=(n*S-r*T-o*E)*A,e[10]=(d*x-v*_+y*g)*A,e[11]=(f*_-l*x-p*g)*A,e[12]=(s*j-a*k-u*E)*A,e[13]=(r*k-n*j+i*E)*A,e[14]=(v*b-d*w-m*g)*A,e[15]=(l*w-f*b+h*g)*A,e):null}function s(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11],p=e[12],d=e[13],v=e[14],m=e[15],y=t*a-r*o,g=t*s-n*o,b=t*u-i*o,_=r*s-n*a,w=r*u-i*a,x=n*u-i*s,O=c*d-l*p,E=c*v-f*p,j=c*m-h*p,S=l*v-f*d,k=l*m-h*d,T=f*m-h*v;return y*T-g*k+b*S+_*j-w*E+x*O}function u(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],p=t[10],d=t[11],v=t[12],m=t[13],y=t[14],g=t[15],b=r[0],_=r[1],w=r[2],x=r[3];return e[0]=b*n+_*s+w*f+x*v,e[1]=b*i+_*u+w*h+x*m,e[2]=b*o+_*c+w*p+x*y,e[3]=b*a+_*l+w*d+x*g,b=r[4],_=r[5],w=r[6],x=r[7],e[4]=b*n+_*s+w*f+x*v,e[5]=b*i+_*u+w*h+x*m,e[6]=b*o+_*c+w*p+x*y,e[7]=b*a+_*l+w*d+x*g,b=r[8],_=r[9],w=r[10],x=r[11],e[8]=b*n+_*s+w*f+x*v,e[9]=b*i+_*u+w*h+x*m,e[10]=b*o+_*c+w*p+x*y,e[11]=b*a+_*l+w*d+x*g,b=r[12],_=r[13],w=r[14],x=r[15],e[12]=b*n+_*s+w*f+x*v,e[13]=b*i+_*u+w*h+x*m,e[14]=b*o+_*c+w*p+x*y,e[15]=b*a+_*l+w*d+x*g,e}function c(e,t,r){var n,i,o,a,s,u,c,l,f,h,p,d,v=r[0],m=r[1],y=r[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],p=t[10],d=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=p,e[11]=d,e[12]=n*v+s*m+f*y+t[12],e[13]=i*v+u*m+h*y+t[13],e[14]=o*v+c*m+p*y+t[14],e[15]=a*v+l*m+d*y+t[15]),e}function l(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t,r,i){var o,a,s,u,c,l,f,h,p,d,v,m,y,g,b,_,w,x,O,E,j,S,k,T,P=i[0],A=i[1],I=i[2],C=Math.hypot(P,A,I);return C<n["b"]?null:(C=1/C,P*=C,A*=C,I*=C,o=Math.sin(r),a=Math.cos(r),s=1-a,u=t[0],c=t[1],l=t[2],f=t[3],h=t[4],p=t[5],d=t[6],v=t[7],m=t[8],y=t[9],g=t[10],b=t[11],_=P*P*s+a,w=A*P*s+I*o,x=I*P*s-A*o,O=P*A*s-I*o,E=A*A*s+a,j=I*A*s+P*o,S=P*I*s+A*o,k=A*I*s-P*o,T=I*I*s+a,e[0]=u*_+h*w+m*x,e[1]=c*_+p*w+y*x,e[2]=l*_+d*w+g*x,e[3]=f*_+v*w+b*x,e[4]=u*O+h*E+m*j,e[5]=c*O+p*E+y*j,e[6]=l*O+d*E+g*j,e[7]=f*O+v*E+b*j,e[8]=u*S+h*k+m*T,e[9]=c*S+p*k+y*T,e[10]=l*S+d*k+g*T,e[11]=f*S+v*k+b*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function h(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+l*n,e[6]=s*i+f*n,e[7]=u*i+h*n,e[8]=c*i-o*n,e[9]=l*i-a*n,e[10]=f*i-s*n,e[11]=h*i-u*n,e}function p(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=a*i-l*n,e[2]=s*i-f*n,e[3]=u*i-h*n,e[8]=o*n+c*i,e[9]=a*n+l*i,e[10]=s*n+f*i,e[11]=u*n+h*i,e}function d(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+l*n,e[2]=s*i+f*n,e[3]=u*i+h*n,e[4]=c*i-o*n,e[5]=l*i-a*n,e[6]=f*i-s*n,e[7]=h*i-u*n,e}function v(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,l=n*a,f=n*s,h=i*a,p=i*s,d=i*u,v=o*a,m=o*s,y=o*u;return e[0]=1-f-d,e[1]=l+y,e[2]=h-m,e[3]=0,e[4]=l-y,e[5]=1-c-d,e[6]=p+v,e[7]=0,e[8]=h+m,e[9]=p-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,r,n,i,o,a){var s=1/(r-t),u=1/(i-n),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function y(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}var g=y;function b(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*c,e[15]=1,e}var _=b;function w(e,t,r,o){var a,s,u,c,l,f,h,p,d,v,m=t[0],y=t[1],g=t[2],b=o[0],_=o[1],w=o[2],x=r[0],O=r[1],E=r[2];return Math.abs(m-x)<n["b"]&&Math.abs(y-O)<n["b"]&&Math.abs(g-E)<n["b"]?i(e):(h=m-x,p=y-O,d=g-E,v=1/Math.hypot(h,p,d),h*=v,p*=v,d*=v,a=_*d-w*p,s=w*h-b*d,u=b*p-_*h,v=Math.hypot(a,s,u),v?(v=1/v,a*=v,s*=v,u*=v):(a=0,s=0,u=0),c=p*u-d*s,l=d*a-h*u,f=h*s-p*a,v=Math.hypot(c,l,f),v?(v=1/v,c*=v,l*=v,f*=v):(c=0,l=0,f=0),e[0]=a,e[1]=c,e[2]=h,e[3]=0,e[4]=s,e[5]=l,e[6]=p,e[7]=0,e[8]=u,e[9]=f,e[10]=d,e[11]=0,e[12]=-(a*m+s*y+u*g),e[13]=-(c*m+l*y+f*g),e[14]=-(h*m+p*y+d*g),e[15]=1,e)}function x(e,t){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],p=e[10],d=e[11],v=e[12],m=e[13],y=e[14],g=e[15],b=t[0],_=t[1],w=t[2],x=t[3],O=t[4],E=t[5],j=t[6],S=t[7],k=t[8],T=t[9],P=t[10],A=t[11],I=t[12],C=t[13],R=t[14],M=t[15];return Math.abs(r-b)<=n["b"]*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=n["b"]*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=n["b"]*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=n["b"]*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-O)<=n["b"]*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(u-E)<=n["b"]*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-j)<=n["b"]*Math.max(1,Math.abs(c),Math.abs(j))&&Math.abs(l-S)<=n["b"]*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-k)<=n["b"]*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(h-T)<=n["b"]*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-P)<=n["b"]*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(d-A)<=n["b"]*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(v-I)<=n["b"]*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(m-C)<=n["b"]*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(y-R)<=n["b"]*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-M)<=n["b"]*Math.max(1,Math.abs(g),Math.abs(M))}},ZfDv:function(e,t,r){var n=r("hh1v"),i=r("6LWA"),o=r("tiKp"),a=o("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},Zkgb:function(e,t,r){},Zm9Q:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("q1tI"),i=r.n(n),o=r("TOwV");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return i.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?r=r.concat(a(e)):Object(o["isFragment"])(e)&&e.props?r=r.concat(a(e.props.children,t)):r.push(e))})),r}},Zs1V:function(e){e.exports=JSON.parse('{"Test":{"default":[{"identifier":"title","description":"\u4e5f\u53ef\u4ee5\u663e\u5f0f\u52a0\u4e0a\u63cf\u8ff0\u540d","description.zh-CN":"\u8fd8\u652f\u6301\u4e0d\u540c\u7684 locale \u540e\u7f00\u6765\u5b9e\u73b0\u591a\u8bed\u8a00\u63cf\u8ff0\uff0c\u4f7f\u7528 description \u515c\u5e95","type":"string","default":"\u652f\u6301\u5b9a\u4e49\u9ed8\u8ba4\u503c"}]}}')},ZsDt:function(e,t,r){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,o=t[r].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<n.length;i++){var s=n[i],u=a[s];u&&(a[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},ZsH6:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=r("4WOD"),s=i.has,u=i.get,c=i.toKey,l=function(e,t,r){var n=s(e,t,r);if(n)return u(e,t,r);var i=a(t);return null!==i?l(e,i,r):void 0};n({target:"Reflect",stat:!0},{getMetadata:function(e,t){var r=arguments.length<3?void 0:c(arguments[2]);return l(e,o(t),r)}})},ZxFD:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"g",(function(){return f})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return d})),r.d(t,"f",(function(){return v}));var n=r("yU0y");function i(){var e=new n["a"](2);return n["a"]!=Float32Array&&(e[0]=0,e[1]=0),e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function a(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function s(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function u(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function c(e,t){return e[0]=-t[0],e[1]=-t[1],e}function l(e,t,r,n){var i=t[0],o=t[1];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e}function f(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function h(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function p(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function d(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}var v=a;(function(){var e=i()})()},Zxc8:function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),i=r.n(n),o=r("wx14"),a=r("rePB"),s=r("ODXe"),u=r("U8pU"),c=r("Ff2n"),l=r("VTBJ"),f=r("TSYQ"),h=r.n(f),p=r("Zm9Q"),d=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function v(e){var t=n["useRef"]();t.current=e;var r=n["useCallback"]((function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}),[]);return r}var m,y=r("TNol"),g=r("dm2S");function b(e){return void 0!==e}function _(e,t){var r=t||{},i=r.defaultValue,o=r.value,a=r.onChange,u=r.postState,c=Object(g["a"])((function(){var t,r=void 0;return b(o)?(r=o,t=m.PROP):b(i)?(r="function"===typeof i?i():i,t=m.PROP):(r="function"===typeof e?e():e,t=m.INNER),[r,t,r]})),l=Object(s["a"])(c,2),f=l[0],h=l[1],p=b(o)?o:f[0],d=u?u(p):p;Object(y["b"])((function(){h((function(e){var t=Object(s["a"])(e,1),r=t[0];return[o,m.PROP,r]}))}),[o]);var _=n["useRef"](),w=v((function(e,t){h((function(t){var r=Object(s["a"])(t,3),n=r[0],i=r[1],o=r[2],a="function"===typeof e?e(n):e;if(a===n)return t;var u=i===m.INNER&&_.current!==o?o:n;return[a,m.INNER,u]}),t)})),x=v(a);return Object(y["a"])((function(){var e=Object(s["a"])(f,3),t=e[0],r=e[1],n=e[2];t!==n&&r===m.INNER&&(x(t,n),_.current=n)}),[f]),[d,w]}(function(e){e[e["INNER"]=0]="INNER",e[e["PROP"]=1]="PROP"})(m||(m={}));var w=r("KQm4"),x=r("wgJM"),O=r("t23M");function E(e){var t=Object(n["useRef"])(),r=Object(n["useRef"])(!1);function i(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.current||(x["a"].cancel(t.current),t.current=Object(x["a"])((function(){e.apply(void 0,i)})))}return Object(n["useEffect"])((function(){return r.current=!1,function(){r.current=!0,x["a"].cancel(t.current)}}),[]),i}function j(e){var t=Object(n["useRef"])([]),r=Object(n["useState"])({}),i=Object(s["a"])(r,2),o=i[1],a=Object(n["useRef"])("function"===typeof e?e():e),u=E((function(){var e=a.current;t.current.forEach((function(t){e=t(e)})),t.current=[],a.current=e,o({})}));function c(e){t.current.push(e),u()}return[a.current,c]}var S=r("4IlW");function k(e,t){var r,i=e.prefixCls,o=e.id,s=e.active,u=e.tab,c=u.key,l=u.tab,f=u.disabled,p=u.closeIcon,d=e.closable,v=e.renderWrapper,m=e.removeAriaLabel,y=e.editable,g=e.onClick,b=e.onRemove,_=e.onFocus,w=e.style,x="".concat(i,"-tab");n["useEffect"]((function(){return b}),[]);var O=y&&!1!==d&&!f;function E(e){f||g(e)}function j(e){e.preventDefault(),e.stopPropagation(),y.onEdit("remove",{key:c,event:e})}var k=n["createElement"]("div",{key:c,ref:t,className:h()(x,(r={},Object(a["a"])(r,"".concat(x,"-with-remove"),O),Object(a["a"])(r,"".concat(x,"-active"),s),Object(a["a"])(r,"".concat(x,"-disabled"),f),r)),style:w,onClick:E},n["createElement"]("div",{role:"tab","aria-selected":s,id:o&&"".concat(o,"-tab-").concat(c),className:"".concat(x,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(c),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),E(e)},onKeyDown:function(e){[S["a"].SPACE,S["a"].ENTER].includes(e.which)&&(e.preventDefault(),E(e))},onFocus:_},l),O&&n["createElement"]("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(x,"-remove"),onClick:function(e){e.stopPropagation(),j(e)}},p||y.removeIcon||"\xd7"));return v?v(k):k}var T=n["forwardRef"](k),P={width:0,height:0,left:0,top:0};function A(e,t,r){return Object(n["useMemo"])((function(){for(var r,n=new Map,i=t.get(null===(r=e[0])||void 0===r?void 0:r.key)||P,o=i.left+i.width,a=0;a<e.length;a+=1){var s,u=e[a].key,c=t.get(u);if(!c)c=t.get(null===(s=e[a-1])||void 0===s?void 0:s.key)||P;var f=n.get(u)||Object(l["a"])({},c);f.right=o-f.left-f.width,n.set(u,f)}return n}),[e.map((function(e){return e.key})).join("_"),t,r])}var I={width:0,height:0,left:0,top:0,right:0};function C(e,t,r,i,o){var a,s,u,c=o.tabs,l=o.tabPosition,f=o.rtl;["top","bottom"].includes(l)?(a="width",s=f?"right":"left",u=Math.abs(t.left)):(a="height",s="top",u=-t.top);var h=t[a],p=r[a],d=i[a],v=h;return p+d>h&&p<h&&(v=h-d),Object(n["useMemo"])((function(){if(!c.length)return[0,0];for(var t=c.length,r=t,n=0;n<t;n+=1){var i=e.get(c[n].key)||I;if(i[s]+i[a]>u+v){r=n-1;break}}for(var o=0,l=t-1;l>=0;l-=1){var f=e.get(c[l].key)||I;if(f[s]<u){o=l+1;break}}return[o,r]}),[e,u,v,l,c.map((function(e){return e.key})).join("_"),f])}var R=r("Gytx"),M=r.n(R),L=r("Kwbf"),D=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],N=void 0;function F(e,t){var r=e.prefixCls,i=e.invalidate,a=e.item,s=e.renderItem,u=e.responsive,f=e.responsiveDisabled,p=e.registerSize,d=e.itemKey,v=e.className,m=e.style,y=e.children,g=e.display,b=e.order,_=e.component,w=void 0===_?"div":_,x=Object(c["a"])(e,D),E=u&&!g;function j(e){p(d,e)}n["useEffect"]((function(){return function(){j(null)}}),[]);var S,k=s&&a!==N?s(a):y;i||(S={opacity:E?0:1,height:E?0:N,overflowY:E?"hidden":N,order:u?b:N,pointerEvents:E?"none":N,position:E?"absolute":N});var T={};E&&(T["aria-hidden"]=!0);var P=n["createElement"](w,Object(o["a"])({className:h()(!i&&r,v),style:Object(l["a"])(Object(l["a"])({},S),m)},T,x,{ref:t}),k);return u&&(P=n["createElement"](O["a"],{onResize:function(e){var t=e.offsetWidth;j(t)},disabled:f},P)),P}var z=n["forwardRef"](F);z.displayName="Item";var B=z;function U(){var e=Object(g["a"])({}),t=Object(s["a"])(e,2),r=t[1],i=Object(n["useRef"])([]),o=0,a=0;function u(e){var t=o;o+=1,i.current.length<t+1&&(i.current[t]=e);var n=i.current[t];function s(e){i.current[t]="function"===typeof e?e(i.current[t]):e,x["a"].cancel(a),a=Object(x["a"])((function(){r({},!0)}))}return[n,s]}return u}var V=["component"],G=["className"],q=["className"],W=function(e,t){var r=n["useContext"]($);if(!r){var i=e.component,a=void 0===i?"div":i,s=Object(c["a"])(e,V);return n["createElement"](a,Object(o["a"])({},s,{ref:t}))}var u=r.className,l=Object(c["a"])(r,G),f=e.className,p=Object(c["a"])(e,q);return n["createElement"]($.Provider,{value:null},n["createElement"](B,Object(o["a"])({ref:t,className:h()(u,f)},l,p)))},H=n["forwardRef"](W);H.displayName="RawItem";var Z=H,X=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],$=n["createContext"](null),Y="responsive",K="invalidate";function J(e){return"+ ".concat(e.length," ...")}function Q(e,t){var r=e.prefixCls,i=void 0===r?"rc-overflow":r,a=e.data,u=void 0===a?[]:a,f=e.renderItem,p=e.renderRawItem,d=e.itemKey,v=e.itemWidth,m=void 0===v?10:v,g=e.ssr,b=e.style,_=e.className,w=e.maxCount,x=e.renderRest,E=e.renderRawRest,j=e.suffix,S=e.component,k=void 0===S?"div":S,T=e.itemComponent,P=e.onVisibleChange,A=Object(c["a"])(e,X),I=U(),C="full"===g,R=I(null),M=Object(s["a"])(R,2),L=M[0],D=M[1],N=L||0,F=I(new Map),z=Object(s["a"])(F,2),V=z[0],G=z[1],q=I(0),W=Object(s["a"])(q,2),H=W[0],Z=W[1],Q=I(0),ee=Object(s["a"])(Q,2),te=ee[0],re=ee[1],ne=I(0),ie=Object(s["a"])(ne,2),oe=ie[0],ae=ie[1],se=Object(n["useState"])(null),ue=Object(s["a"])(se,2),ce=ue[0],le=ue[1],fe=Object(n["useState"])(null),he=Object(s["a"])(fe,2),pe=he[0],de=he[1],ve=n["useMemo"]((function(){return null===pe&&C?Number.MAX_SAFE_INTEGER:pe||0}),[pe,L]),me=Object(n["useState"])(!1),ye=Object(s["a"])(me,2),ge=ye[0],be=ye[1],_e="".concat(i,"-item"),we=Math.max(H,te),xe=w===Y,Oe=u.length&&xe,Ee=w===K,je=Oe||"number"===typeof w&&u.length>w,Se=Object(n["useMemo"])((function(){var e=u;return Oe?e=null===L&&C?u:u.slice(0,Math.min(u.length,N/m)):"number"===typeof w&&(e=u.slice(0,w)),e}),[u,m,L,w,Oe]),ke=Object(n["useMemo"])((function(){return Oe?u.slice(ve+1):u.slice(Se.length)}),[u,Se,Oe,ve]),Te=Object(n["useCallback"])((function(e,t){var r;return"function"===typeof d?d(e):null!==(r=d&&(null===e||void 0===e?void 0:e[d]))&&void 0!==r?r:t}),[d]),Pe=Object(n["useCallback"])(f||function(e){return e},[f]);function Ae(e,t,r){(pe!==e||void 0!==t&&t!==ce)&&(de(e),r||(be(e<u.length-1),null===P||void 0===P||P(e)),void 0!==t&&le(t))}function Ie(e,t){D(t.clientWidth)}function Ce(e,t){G((function(r){var n=new Map(r);return null===t?n["delete"](e):n.set(e,t),n}))}function Re(e,t){re(t),Z(te)}function Me(e,t){ae(t)}function Le(e){return V.get(Te(Se[e],e))}Object(y["a"])((function(){if(N&&we&&Se){var e=oe,t=Se.length,r=t-1;if(!t)return void Ae(0,null);for(var n=0;n<t;n+=1){var i=Le(n);if(C&&(i=i||0),void 0===i){Ae(n-1,void 0,!0);break}if(e+=i,0===r&&e<=N||n===r-1&&e+Le(r)<=N){Ae(r,null);break}if(e+we>N){Ae(n-1,e-i-oe+te);break}}j&&Le(0)+oe>N&&le(null)}}),[N,V,te,oe,Te,Se]);var De=ge&&!!ke.length,Ne={};null!==ce&&Oe&&(Ne={position:"absolute",left:ce,top:0});var Fe,ze={prefixCls:_e,responsive:Oe,component:T,invalidate:Ee},Be=p?function(e,t){var r=Te(e,t);return n["createElement"]($.Provider,{key:r,value:Object(l["a"])(Object(l["a"])({},ze),{},{order:t,item:e,itemKey:r,registerSize:Ce,display:t<=ve})},p(e,t))}:function(e,t){var r=Te(e,t);return n["createElement"](B,Object(o["a"])({},ze,{order:t,key:r,item:e,renderItem:Pe,itemKey:r,registerSize:Ce,display:t<=ve}))},Ue={order:De?ve:Number.MAX_SAFE_INTEGER,className:"".concat(_e,"-rest"),registerSize:Re,display:De};if(E)E&&(Fe=n["createElement"]($.Provider,{value:Object(l["a"])(Object(l["a"])({},ze),Ue)},E(ke)));else{var Ve=x||J;Fe=n["createElement"](B,Object(o["a"])({},ze,Ue),"function"===typeof Ve?Ve(ke):Ve)}var Ge=n["createElement"](k,Object(o["a"])({className:h()(!Ee&&i,_),style:b,ref:t},A),Se.map(Be),je?Fe:null,j&&n["createElement"](B,Object(o["a"])({},ze,{responsive:xe,responsiveDisabled:!Oe,order:ve,className:"".concat(_e,"-suffix"),registerSize:Me,display:!0,style:Ne}),j));return xe&&(Ge=n["createElement"](O["a"],{onResize:Ie,disabled:!Oe},Ge)),Ge}var ee=n["forwardRef"](Q);ee.displayName="Overflow",ee.Item=Z,ee.RESPONSIVE=Y,ee.INVALIDATE=K;var te=ee,re=te,ne=r("1OyB"),ie=r("vuIU"),oe=r("Ji7U"),ae=r("LK+K"),se=r("bT9E"),ue=r("YrtM"),ce=["children","locked"],le=n["createContext"](null);function fe(e,t){var r=Object(l["a"])({},e);return Object.keys(t).forEach((function(e){var n=t[e];void 0!==n&&(r[e]=n)})),r}function he(e){var t=e.children,r=e.locked,i=Object(c["a"])(e,ce),o=n["useContext"](le),a=Object(ue["a"])((function(){return fe(o,i)}),[o,i],(function(e,t){return!r&&(e[0]!==t[0]||!M()(e[1],t[1]))}));return n["createElement"](le.Provider,{value:a},t)}function pe(e,t,r,i){var o=n["useContext"](le),a=o.activeKey,s=o.onActive,u=o.onInactive,c={active:a===e};return t||(c.onMouseEnter=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),u(e)}),c}var de=["item"];function ve(e){var t=e.item,r=Object(c["a"])(e,de);return Object.defineProperty(r,"item",{get:function(){return Object(L["a"])(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),r}function me(e){var t,r=e.icon,i=e.props,o=e.children;return t="function"===typeof r?n["createElement"](r,Object(l["a"])({},i)):r,t||o||null}function ye(e){var t=n["useContext"](le),r=t.mode,i=t.rtl,o=t.inlineIndent;if("inline"!==r)return null;var a=e;return i?{paddingRight:a*o}:{paddingLeft:a*o}}var ge=[],be=n["createContext"](null);function _e(){return n["useContext"](be)}var we=n["createContext"](ge);function xe(e){var t=n["useContext"](we);return n["useMemo"]((function(){return void 0!==e?[].concat(Object(w["a"])(t),[e]):t}),[t,e])}var Oe=n["createContext"](null),Ee=n["createContext"](null);function je(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Se(e){var t=n["useContext"](Ee);return je(t,e)}var ke=n["createContext"]({}),Te=ke,Pe=["title","attribute","elementRef"],Ae=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Ie=["active"],Ce=function(e){Object(oe["a"])(r,e);var t=Object(ae["a"])(r);function r(){return Object(ne["a"])(this,r),t.apply(this,arguments)}return Object(ie["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.title,r=e.attribute,i=e.elementRef,a=Object(c["a"])(e,Pe),s=Object(se["a"])(a,["eventKey"]);return Object(L["a"])(!r,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),n["createElement"](re.Item,Object(o["a"])({},r,{title:"string"===typeof t?t:void 0},s,{ref:i}))}}]),r}(n["Component"]),Re=function(e){var t,r=e.style,i=e.className,s=e.eventKey,u=(e.warnKey,e.disabled),f=e.itemIcon,p=e.children,d=e.role,v=e.onMouseEnter,m=e.onMouseLeave,y=e.onClick,g=e.onKeyDown,b=e.onFocus,_=Object(c["a"])(e,Ae),x=Se(s),O=n["useContext"](le),E=O.prefixCls,j=O.onItemClick,k=O.disabled,T=O.overflowDisabled,P=O.itemIcon,A=O.selectedKeys,I=O.onActive,C=n["useContext"](Te),R=C._internalRenderMenuItem,M="".concat(E,"-item"),L=n["useRef"](),D=n["useRef"](),N=k||u,F=xe(s);var z=function(e){return{key:s,keyPath:Object(w["a"])(F).reverse(),item:L.current,domEvent:e}},B=f||P,U=pe(s,N,v,m),V=U.active,G=Object(c["a"])(U,Ie),q=A.includes(s),W=ye(F.length),H=function(e){if(!N){var t=z(e);null===y||void 0===y||y(ve(t)),j(t)}},Z=function(e){if(null===g||void 0===g||g(e),e.which===S["a"].ENTER){var t=z(e);null===y||void 0===y||y(ve(t)),j(t)}},X=function(e){I(s),null===b||void 0===b||b(e)},$={};"option"===e.role&&($["aria-selected"]=q);var Y=n["createElement"](Ce,Object(o["a"])({ref:L,elementRef:D,role:null===d?"none":d||"menuitem",tabIndex:u?null:-1,"data-menu-id":T&&x?null:x},_,G,$,{component:"li","aria-disabled":u,style:Object(l["a"])(Object(l["a"])({},W),r),className:h()(M,(t={},Object(a["a"])(t,"".concat(M,"-active"),V),Object(a["a"])(t,"".concat(M,"-selected"),q),Object(a["a"])(t,"".concat(M,"-disabled"),N),t),i),onClick:H,onKeyDown:Z,onFocus:X}),p,n["createElement"](me,{props:Object(l["a"])(Object(l["a"])({},e),{},{isSelected:q}),icon:B}));return R&&(Y=R(Y,e,{selected:q})),Y};function Me(e){var t=e.eventKey,r=_e(),i=xe(t);return n["useEffect"]((function(){if(r)return r.registerPath(t,i),function(){r.unregisterPath(t,i)}}),[i]),r?null:n["createElement"](Re,e)}var Le=Me,De=["label","children","key","type"];function Ne(e,t){return Object(p["a"])(e).map((function(e,r){if(n["isValidElement"](e)){var i,o,a=e.key,s=null!==(i=null===(o=e.props)||void 0===o?void 0:o.eventKey)&&void 0!==i?i:a,u=null===s||void 0===s;u&&(s="tmp_key-".concat([].concat(Object(w["a"])(t),[r]).join("-")));var c={key:s,eventKey:s};return n["cloneElement"](e,c)}return e}))}function Fe(e){return(e||[]).map((function(e,t){if(e&&"object"===Object(u["a"])(e)){var r=e.label,i=e.children,a=e.key,s=e.type,l=Object(c["a"])(e,De),f=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===s?"group"===s?n["createElement"](ei,Object(o["a"])({key:f},l,{title:r}),Fe(i)):n["createElement"](_n,Object(o["a"])({key:f},l,{title:r}),Fe(i)):"divider"===s?n["createElement"](ti,Object(o["a"])({key:f},l)):n["createElement"](Le,Object(o["a"])({key:f},l),r)}return null})).filter((function(e){return e}))}function ze(e,t,r){var n=e;return t&&(n=Fe(t)),Ne(n,r)}function Be(e){var t=n["useRef"](e);t.current=e;var r=n["useCallback"]((function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}),[]);return e?r:void 0}var Ue=["className","children"],Ve=function(e,t){var r=e.className,i=e.children,a=Object(c["a"])(e,Ue),s=n["useContext"](le),u=s.prefixCls,l=s.mode,f=s.rtl;return n["createElement"]("ul",Object(o["a"])({className:h()(u,f&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===l?"inline":"vertical"),r)},a,{"data-menu-list":!0,ref:t}),i)},Ge=n["forwardRef"](Ve);Ge.displayName="SubMenuList";var qe=Ge,We=r("JX7q"),He=r("i8i4"),Ze=r.n(He);function Xe(e,t){if(!e)return!1;if(e.contains)return e.contains(t);var r=t;while(r){if(r===e)return!0;r=r.parentNode}return!1}var $e=r("m+aA"),Ye=r("c+Xe");function Ke(e,t,r,n){var i=Ze.a.unstable_batchedUpdates?function(e){Ze.a.unstable_batchedUpdates(r,e)}:r;return e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,n)}}}var Je=r("MNnm"),Qe=Object(n["forwardRef"])((function(e,t){var r=e.didUpdate,i=e.getContainer,o=e.children,a=Object(n["useRef"])(),s=Object(n["useRef"])();Object(n["useImperativeHandle"])(t,(function(){return{}}));var u=Object(n["useRef"])(!1);return!u.current&&Object(Je["a"])()&&(s.current=i(),a.current=s.current.parentNode,u.current=!0),Object(n["useEffect"])((function(){null===r||void 0===r||r(e)})),Object(n["useEffect"])((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?Ze.a.createPortal(o,s.current):null})),et=Qe;function tt(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function rt(e,t,r){var n=e[t]||{};return Object(l["a"])(Object(l["a"])({},n),r)}function nt(e,t,r,n){for(var i=r.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(tt(e[s].points,i,n))return"".concat(t,"-placement-").concat(s)}return""}var it=r("8XRh");function ot(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function at(e){var t=e.prefixCls,r=e.visible,i=e.zIndex,a=e.mask,s=e.maskMotion,u=e.maskAnimation,c=e.maskTransitionName;if(!a)return null;var f={};return(s||c||u)&&(f=Object(l["a"])({motionAppear:!0},ot({motion:s,prefixCls:t,transitionName:c,animation:u}))),n["createElement"](it["a"],Object(o["a"])({},f,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return n["createElement"]("div",{style:{zIndex:i},className:h()("".concat(t,"-mask"),r)})}))}var st,ut=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}return!1};function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pt={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function dt(){if(void 0!==st)return st;st="";var e=document.createElement("p").style,t="Transform";for(var r in pt)r+t in e&&(st=r);return st}function vt(){return dt()?"".concat(dt(),"TransitionProperty"):"transitionProperty"}function mt(){return dt()?"".concat(dt(),"Transform"):"transform"}function yt(e,t){var r=vt();r&&(e.style[r]=t,"transitionProperty"!==r&&(e.style.transitionProperty=t))}function gt(e,t){var r=mt();r&&(e.style[r]=t,"transform"!==r&&(e.style.transform=t))}function bt(e){return e.style.transitionProperty||e.style[vt()]}function _t(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(mt());if(r&&"none"!==r){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var wt=/matrix\((.*)\)/,xt=/matrix3d\((.*)\)/;function Ot(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(mt());if(n&&"none"!==n){var i,o=n.match(wt);if(o)o=o[1],i=o.split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,gt(e,"matrix(".concat(i.join(","),")"));else{var a=n.match(xt)[1];i=a.split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,gt(e,"matrix3d(".concat(i.join(","),")"))}}else gt(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var Et,jt=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function St(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function kt(e,t,r){var n=r;if("object"!==ft(t))return"undefined"!==typeof n?("number"===typeof n&&(n="".concat(n,"px")),void(e.style[t]=n)):Et(e,t);for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function Tt(e){var t,r,n,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=a.clientLeft||o.clientLeft||0,n-=a.clientTop||o.clientTop||0,{left:r,top:n}}function Pt(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!==typeof r){var i=e.document;r=i.documentElement[n],"number"!==typeof r&&(r=i.body[n])}return r}function At(e){return Pt(e)}function It(e){return Pt(e,!0)}function Ct(e){var t=Tt(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=At(n),t.top+=It(n),t}function Rt(e){return null!==e&&void 0!==e&&e==e.window}function Mt(e){return Rt(e)?e.document:9===e.nodeType?e:e.ownerDocument}function Lt(e,t,r){var n=r,i="",o=Mt(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var Dt=new RegExp("^(".concat(jt,")(?!px)[a-z%]+$"),"i"),Nt=/^(top|right|bottom|left)$/,Ft="currentStyle",zt="runtimeStyle",Bt="left",Ut="px";function Vt(e,t){var r=e[Ft]&&e[Ft][t];if(Dt.test(r)&&!Nt.test(t)){var n=e.style,i=n[Bt],o=e[zt][Bt];e[zt][Bt]=e[Ft][Bt],n[Bt]="fontSize"===t?"1em":r||0,r=n.pixelLeft+Ut,n[Bt]=i,e[zt][Bt]=o}return""===r?"auto":r}function Gt(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function qt(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Wt(e,t,r){"static"===kt(e,"position")&&(e.style.position="relative");var n=-999,i=-999,o=Gt("left",r),a=Gt("top",r),s=qt(o),u=qt(a);"left"!==o&&(n=999),"top"!==a&&(i=999);var c="",l=Ct(e);("left"in t||"top"in t)&&(c=bt(e)||"",yt(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),St(e);var f=Ct(e),h={};for(var p in t)if(t.hasOwnProperty(p)){var d=Gt(p,r),v="left"===p?n:i,m=l[p]-f[p];h[d]=d===p?v+m:v-m}kt(e,h),St(e),("left"in t||"top"in t)&&yt(e,c);var y={};for(var g in t)if(t.hasOwnProperty(g)){var b=Gt(g,r),_=t[g]-l[g];y[b]=g===b?h[b]+_:h[b]-_}kt(e,y)}function Ht(e,t){var r=Ct(e),n=_t(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),Ot(e,i)}function Zt(e,t,r){if(r.ignoreShake){var n=Ct(e),i=n.left.toFixed(0),o=n.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}r.useCssRight||r.useCssBottom?Wt(e,t,r):r.useCssTransform&&mt()in document.body.style?Ht(e,t):Wt(e,t,r)}function Xt(e,t){for(var r=0;r<e.length;r++)t(e[r])}function $t(e){return"border-box"===Et(e,"boxSizing")}"undefined"!==typeof window&&(Et=window.getComputedStyle?Lt:Vt);var Yt=["margin","border","padding"],Kt=-1,Jt=2,Qt=1,er=0;function tr(e,t,r){var n,i={},o=e.style;for(n in t)t.hasOwnProperty(n)&&(i[n]=o[n],o[n]=t[n]);for(n in r.call(e),t)t.hasOwnProperty(n)&&(o[n]=i[n])}function rr(e,t,r){var n,i,o,a=0;for(i=0;i<t.length;i++)if(n=t[i],n)for(o=0;o<r.length;o++){var s=void 0;s="border"===n?"".concat(n).concat(r[o],"Width"):n+r[o],a+=parseFloat(Et(e,s))||0}return a}var nr={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function ir(e,t,r){var n=r;if(Rt(e))return"width"===t?nr.viewportWidth(e):nr.viewportHeight(e);if(9===e.nodeType)return"width"===t?nr.docWidth(e):nr.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=$t(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,s=Et(e,t),(null===s||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===n&&(n=a?Qt:Kt);var u=void 0!==o||a,c=o||s;return n===Kt?u?c-rr(e,["border","padding"],i):s:u?n===Qt?c:c+(n===Jt?-rr(e,["border"],i):rr(e,["margin"],i)):s+rr(e,Yt.slice(n),i)}Xt(["Width","Height"],(function(e){nr["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],nr["viewport".concat(e)](r))},nr["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,a=o[r];return"CSS1Compat"===n.compatMode&&a||i&&i[r]||a}}));var or={position:"absolute",visibility:"hidden",display:"block"};function ar(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return 0!==i.offsetWidth?n=ir.apply(void 0,t):tr(i,or,(function(){n=ir.apply(void 0,t)})),n}function sr(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}Xt(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);nr["outer".concat(t)]=function(t,r){return t&&ar(t,e,r?er:Qt)};var r="width"===e?["Left","Right"]:["Top","Bottom"];nr[e]=function(t,n){var i=n;if(void 0===i)return t&&ar(t,e,Kt);if(t){var o=$t(t);return o&&(i+=rr(t,["padding","border"],r)),kt(t,e,i)}}}));var ur={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Mt,offset:function(e,t,r){if("undefined"===typeof t)return Ct(e);Zt(e,t,r||{})},isWindow:Rt,each:Xt,css:kt,clone:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);var n=e.overflow;if(n)for(t in e)e.hasOwnProperty(t)&&(r.overflow[t]=e.overflow[t]);return r},mix:sr,getWindowScrollLeft:function(e){return At(e)},getWindowScrollTop:function(e){return It(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)ur.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};sr(ur,nr);var cr=ur.getParent;function lr(e){if(ur.isWindow(e)||9===e.nodeType)return null;var t,r=ur.getDocument(e),n=r.body,i=ur.css(e,"position"),o="fixed"===i||"absolute"===i;if(!o)return"html"===e.nodeName.toLowerCase()?null:cr(e);for(t=cr(e);t&&t!==n&&9!==t.nodeType;t=cr(t))if(i=ur.css(t,"position"),"static"!==i)return t;return null}var fr=ur.getParent;function hr(e){if(ur.isWindow(e)||9===e.nodeType)return!1;var t=ur.getDocument(e),r=t.body,n=null;for(n=fr(e);n&&n!==r&&n!==t;n=fr(n)){var i=ur.css(n,"position");if("fixed"===i)return!0}return!1}function pr(e,t){var r={left:0,right:1/0,top:0,bottom:1/0},n=lr(e),i=ur.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;while(n){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===a||n===s||"visible"===ur.css(n,"overflow")){if(n===a||n===s)break}else{var u=ur.offset(n);u.left+=n.clientLeft,u.top+=n.clientTop,r.top=Math.max(r.top,u.top),r.right=Math.min(r.right,u.left+n.clientWidth),r.bottom=Math.min(r.bottom,u.top+n.clientHeight),r.left=Math.max(r.left,u.left)}n=lr(n)}var c=null;if(!ur.isWindow(e)&&9!==e.nodeType){c=e.style.position;var l=ur.css(e,"position");"absolute"===l&&(e.style.position="fixed")}var f=ur.getWindowScrollLeft(o),h=ur.getWindowScrollTop(o),p=ur.viewportWidth(o),d=ur.viewportHeight(o),v=s.scrollWidth,m=s.scrollHeight,y=window.getComputedStyle(a);if("hidden"===y.overflowX&&(v=o.innerWidth),"hidden"===y.overflowY&&(m=o.innerHeight),e.style&&(e.style.position=c),t||hr(e))r.left=Math.max(r.left,f),r.top=Math.max(r.top,h),r.right=Math.min(r.right,f+p),r.bottom=Math.min(r.bottom,h+d);else{var g=Math.max(v,f+p);r.right=Math.min(r.right,g);var b=Math.max(m,h+d);r.bottom=Math.min(r.bottom,b)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function dr(e,t,r,n){var i=ur.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),ur.mix(i,o)}function vr(e){var t,r,n;if(ur.isWindow(e)||9===e.nodeType){var i=ur.getWindow(e);t={left:ur.getWindowScrollLeft(i),top:ur.getWindowScrollTop(i)},r=ur.viewportWidth(i),n=ur.viewportHeight(i)}else t=ur.offset(e),r=ur.outerWidth(e),n=ur.outerHeight(e);return t.width=r,t.height=n,t}function mr(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===r?s+=o/2:"b"===r&&(s+=o),"c"===n?a+=i/2:"r"===n&&(a+=i),{left:a,top:s}}function yr(e,t,r,n,i){var o=mr(t,r[1]),a=mr(e,r[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+n[0]-i[0]),top:Math.round(e.top-s[1]+n[1]-i[1])}}function gr(e,t,r){return e.left<r.left||e.left+t.width>r.right}function br(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function _r(e,t,r){return e.left>r.right||e.left+t.width<r.left}function wr(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function xr(e,t,r){var n=[];return ur.each(e,(function(e){n.push(e.replace(t,(function(e){return r[e]})))})),n}function Or(e,t){return e[t]=-e[t],e}function Er(e,t){var r;return r=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),r||0}function jr(e,t){e[0]=Er(e[0],t.width),e[1]=Er(e[1],t.height)}function Sr(e,t,r,n){var i=r.points,o=r.offset||[0,0],a=r.targetOffset||[0,0],s=r.overflow,u=r.source||e;o=[].concat(o),a=[].concat(a),s=s||{};var c={},l=0,f=!(!s||!s.alwaysByViewport),h=pr(u,f),p=vr(u);jr(o,p),jr(a,t);var d=yr(p,t,i,o,a),v=ur.merge(p,d);if(h&&(s.adjustX||s.adjustY)&&n){if(s.adjustX&&gr(d,p,h)){var m=xr(i,/[lr]/gi,{l:"r",r:"l"}),y=Or(o,0),g=Or(a,0),b=yr(p,t,m,y,g);_r(b,p,h)||(l=1,i=m,o=y,a=g)}if(s.adjustY&&br(d,p,h)){var _=xr(i,/[tb]/gi,{t:"b",b:"t"}),w=Or(o,1),x=Or(a,1),O=yr(p,t,_,w,x);wr(O,p,h)||(l=1,i=_,o=w,a=x)}l&&(d=yr(p,t,i,o,a),ur.mix(v,d));var E=gr(d,p,h),j=br(d,p,h);if(E||j){var S=i;E&&(S=xr(i,/[lr]/gi,{l:"r",r:"l"})),j&&(S=xr(i,/[tb]/gi,{t:"b",b:"t"})),i=S,o=r.offset||[0,0],a=r.targetOffset||[0,0]}c.adjustX=s.adjustX&&E,c.adjustY=s.adjustY&&j,(c.adjustX||c.adjustY)&&(v=dr(d,p,h,c))}return v.width!==p.width&&ur.css(u,"width",ur.width(u)+v.width-p.width),v.height!==p.height&&ur.css(u,"height",ur.height(u)+v.height-p.height),ur.offset(u,{left:v.left,top:v.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function kr(e,t){var r=pr(e,t),n=vr(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function Tr(e,t,r){var n=r.target||t,i=vr(n),o=!kr(n,r.overflow&&r.overflow.alwaysByViewport);return Sr(e,i,r,o)}function Pr(e,t,r){var n,i,o=ur.getDocument(e),a=o.defaultView||o.parentWindow,s=ur.getWindowScrollLeft(a),u=ur.getWindowScrollTop(a),c=ur.viewportWidth(a),l=ur.viewportHeight(a);n="pageX"in t?t.pageX:s+t.clientX,i="pageY"in t?t.pageY:u+t.clientY;var f={left:n,top:i,width:0,height:0},h=n>=0&&n<=s+c&&i>=0&&i<=u+l,p=[r.points[0],"cc"];return Sr(e,f,lt(lt({},r),{},{points:p}),h)}Tr.__getOffsetParent=lr,Tr.__getVisibleRectForElement=pr;var Ar=r("Y+p1"),Ir=r.n(Ar),Cr=r("bdgK");function Rr(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&(e.clientX===t.clientX&&e.clientY===t.clientY))}function Mr(e,t){e!==document.activeElement&&Xe(t,e)&&"function"===typeof e.focus&&e.focus()}function Lr(e,t){var r=null,n=null;function i(e){var i=Object(s["a"])(e,1),o=i[0].target;if(document.documentElement.contains(o)){var a=o.getBoundingClientRect(),u=a.width,c=a.height,l=Math.floor(u),f=Math.floor(c);r===l&&n===f||Promise.resolve().then((function(){t({width:l,height:f})})),r=l,n=f}}var o=new Cr["a"](i);return e&&o.observe(e),function(){o.disconnect()}}var Dr=function(e,t){var r=i.a.useRef(!1),n=i.a.useRef(null);function o(){window.clearTimeout(n.current)}function a(i){if(o(),r.current&&!0!==i)n.current=window.setTimeout((function(){r.current=!1,a()}),t);else{if(!1===e())return;r.current=!0,n.current=window.setTimeout((function(){r.current=!1}),t)}}return[a,function(){r.current=!1,o()}]};function Nr(e){return"function"!==typeof e?null:e()}function Fr(e){return"object"===Object(u["a"])(e)&&e?e:null}var zr=function(e,t){var r=e.children,n=e.disabled,o=e.target,a=e.align,u=e.onAlign,c=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,h=i.a.useRef({}),p=i.a.useRef(),d=i.a.Children.only(r),v=i.a.useRef({});v.current.disabled=n,v.current.target=o,v.current.align=a,v.current.onAlign=u;var m=Dr((function(){var e=v.current,t=e.disabled,r=e.target,n=e.align,i=e.onAlign;if(!t&&r){var o,a=p.current,s=Nr(r),u=Fr(r);h.current.element=s,h.current.point=u,h.current.align=n;var c=document,l=c.activeElement;return s&&ut(s)?o=Tr(a,s,n):u&&(o=Pr(a,u,n)),Mr(l,a),i&&o&&i(a,o),!0}return!1}),f),y=Object(s["a"])(m,2),g=y[0],b=y[1],_=i.a.useRef({cancel:function(){}}),w=i.a.useRef({cancel:function(){}});i.a.useEffect((function(){var e=Nr(o),t=Fr(o);p.current!==w.current.element&&(w.current.cancel(),w.current.element=p.current,w.current.cancel=Lr(p.current,g)),h.current.element===e&&Rr(h.current.point,t)&&Ir()(h.current.align,a)||(g(),_.current.element!==e&&(_.current.cancel(),_.current.element=e,_.current.cancel=Lr(e,g)))})),i.a.useEffect((function(){n?b():g()}),[n]);var x=i.a.useRef(null);return i.a.useEffect((function(){c?x.current||(x.current=Ke(window,"resize",g)):x.current&&(x.current.remove(),x.current=null)}),[c]),i.a.useEffect((function(){return function(){_.current.cancel(),w.current.cancel(),x.current&&x.current.remove(),b()}}),[]),i.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),i.a.isValidElement(d)&&(d=i.a.cloneElement(d,{ref:Object(Ye["a"])(d.ref,p)})),d},Br=i.a.forwardRef(zr);Br.displayName="Align";var Ur=Br,Vr=Ur;function Gr(){Gr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new S(i||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var h={};function p(){}function d(){}function v(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var b=v.prototype=p.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(n,o,a,s){var c=f(e[n],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Object(u["a"])(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var qr=r("HaE+"),Wr=["measure","alignPre","align",null,"motion"],Hr=function(e,t){var r=Object(g["a"])(null),i=Object(s["a"])(r,2),o=i[0],a=i[1],u=Object(n["useRef"])();function c(e){a(e,!0)}function l(){x["a"].cancel(u.current)}function f(e){l(),u.current=Object(x["a"])((function(){c((function(e){switch(o){case"align":return"motion";case"motion":return"stable";default:}return e})),null===e||void 0===e||e()}))}return Object(n["useEffect"])((function(){c("measure")}),[e]),Object(n["useEffect"])((function(){switch(o){case"measure":t();break;default:}o&&(u.current=Object(x["a"])(Object(qr["a"])(Gr().mark((function e(){var t,r;return Gr().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Wr.indexOf(o),r=Wr[t+1],r&&-1!==t&&c(r);case 3:case"end":return e.stop()}}),e)})))))}),[o]),Object(n["useEffect"])((function(){return function(){l()}}),[]),[o,f]},Zr=function(e){var t=n["useState"]({width:0,height:0}),r=Object(s["a"])(t,2),i=r[0],o=r[1];function a(e){o({width:e.offsetWidth,height:e.offsetHeight})}var u=n["useMemo"]((function(){var t={};if(e){var r=i.width,n=i.height;-1!==e.indexOf("height")&&n?t.height=n:-1!==e.indexOf("minHeight")&&n&&(t.minHeight=n),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,i]);return[u,a]},Xr=n["forwardRef"]((function(e,t){var r=e.visible,i=e.prefixCls,a=e.className,u=e.style,c=e.children,f=e.zIndex,p=e.stretch,d=e.destroyPopupOnHide,v=e.forceRender,m=e.align,g=e.point,b=e.getRootDomNode,_=e.getClassNameFromAlign,w=e.onAlign,x=e.onMouseEnter,O=e.onMouseLeave,E=e.onMouseDown,j=e.onTouchStart,S=e.onClick,k=Object(n["useRef"])(),T=Object(n["useRef"])(),P=Object(n["useState"])(),A=Object(s["a"])(P,2),I=A[0],C=A[1],R=Zr(p),M=Object(s["a"])(R,2),L=M[0],D=M[1];function N(){p&&D(b())}var F=Hr(r,N),z=Object(s["a"])(F,2),B=z[0],U=z[1],V=Object(n["useState"])(0),G=Object(s["a"])(V,2),q=G[0],W=G[1],H=Object(n["useRef"])();function Z(){return g||b}function X(){var e;null===(e=k.current)||void 0===e||e.forceAlign()}function $(e,t){var r=_(t);I!==r&&C(r),W((function(e){return e+1})),"align"===B&&(null===w||void 0===w||w(e,t))}Object(y["a"])((function(){"alignPre"===B&&W(0)}),[B]),Object(y["a"])((function(){"align"===B&&(q<3?X():U((function(){var e;null===(e=H.current)||void 0===e||e.call(H)})))}),[q]);var Y=Object(l["a"])({},ot(e));function K(){return new Promise((function(e){H.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Y[e];Y[e]=function(e,r){return U(),null===t||void 0===t?void 0:t(e,r)}})),n["useEffect"]((function(){Y.motionName||"motion"!==B||U()}),[Y.motionName,B]),n["useImperativeHandle"](t,(function(){return{forceAlign:X,getElement:function(){return T.current}}}));var J=Object(l["a"])(Object(l["a"])({},L),{},{zIndex:f,opacity:"motion"!==B&&"stable"!==B&&r?0:void 0,pointerEvents:r||"stable"===B?void 0:"none"},u),Q=!0;null===m||void 0===m||!m.points||"align"!==B&&"stable"!==B||(Q=!1);var ee=c;return n["Children"].count(c)>1&&(ee=n["createElement"]("div",{className:"".concat(i,"-content")},c)),n["createElement"](it["a"],Object(o["a"])({visible:r,ref:T,leavedClassName:"".concat(i,"-hidden")},Y,{onAppearPrepare:K,onEnterPrepare:K,removeOnLeave:d,forceRender:v}),(function(e,t){var r=e.className,o=e.style,s=h()(i,a,I,r);return n["createElement"](Vr,{target:Z(),key:"popup",ref:k,monitorWindowResize:!0,disabled:Q,align:m,onAlign:$},n["createElement"]("div",{ref:t,className:s,onMouseEnter:x,onMouseLeave:O,onMouseDownCapture:E,onTouchStartCapture:j,onClick:S,style:Object(l["a"])(Object(l["a"])({},o),J)},ee))}))}));Xr.displayName="PopupInner";var $r=Xr,Yr=n["forwardRef"]((function(e,t){var r=e.prefixCls,i=e.visible,a=e.zIndex,s=e.children,u=e.mobile;u=void 0===u?{}:u;var c=u.popupClassName,f=u.popupStyle,p=u.popupMotion,d=void 0===p?{}:p,v=u.popupRender,m=e.onClick,y=n["useRef"]();n["useImperativeHandle"](t,(function(){return{forceAlign:function(){},getElement:function(){return y.current}}}));var g=Object(l["a"])({zIndex:a},f),b=s;return n["Children"].count(s)>1&&(b=n["createElement"]("div",{className:"".concat(r,"-content")},s)),v&&(b=v(b)),n["createElement"](it["a"],Object(o["a"])({visible:i,ref:y,removeOnLeave:!0},d),(function(e,t){var i=e.className,o=e.style,a=h()(r,c,i);return n["createElement"]("div",{ref:t,className:a,onClick:m,style:Object(l["a"])(Object(l["a"])({},o),g)},b)}))}));Yr.displayName="MobilePopupInner";var Kr=Yr,Jr=["visible","mobile"],Qr=n["forwardRef"]((function(e,t){var r=e.visible,i=e.mobile,a=Object(c["a"])(e,Jr),u=Object(n["useState"])(r),f=Object(s["a"])(u,2),h=f[0],p=f[1],v=Object(n["useState"])(!1),m=Object(s["a"])(v,2),y=m[0],g=m[1],b=Object(l["a"])(Object(l["a"])({},a),{},{visible:h});Object(n["useEffect"])((function(){p(r),r&&i&&g(d())}),[r,i]);var _=y?n["createElement"](Kr,Object(o["a"])({},b,{mobile:i,ref:t})):n["createElement"]($r,Object(o["a"])({},b,{ref:t}));return n["createElement"]("div",null,n["createElement"](at,b),_)}));Qr.displayName="Popup";var en=Qr,tn=n["createContext"](null),rn=tn;function nn(){}function on(){return""}function an(e){return e?e.ownerDocument:window.document}var sn=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function un(e){var t=function(t){Object(oe["a"])(i,t);var r=Object(ae["a"])(i);function i(e){var t,s;return Object(ne["a"])(this,i),t=r.call(this,e),Object(a["a"])(Object(We["a"])(t),"popupRef",n["createRef"]()),Object(a["a"])(Object(We["a"])(t),"triggerRef",n["createRef"]()),Object(a["a"])(Object(We["a"])(t),"portalContainer",void 0),Object(a["a"])(Object(We["a"])(t),"attachId",void 0),Object(a["a"])(Object(We["a"])(t),"clickOutsideHandler",void 0),Object(a["a"])(Object(We["a"])(t),"touchOutsideHandler",void 0),Object(a["a"])(Object(We["a"])(t),"contextMenuOutsideHandler1",void 0),Object(a["a"])(Object(We["a"])(t),"contextMenuOutsideHandler2",void 0),Object(a["a"])(Object(We["a"])(t),"mouseDownTimeout",void 0),Object(a["a"])(Object(We["a"])(t),"focusTime",void 0),Object(a["a"])(Object(We["a"])(t),"preClickTime",void 0),Object(a["a"])(Object(We["a"])(t),"preTouchTime",void 0),Object(a["a"])(Object(We["a"])(t),"delayTimer",void 0),Object(a["a"])(Object(We["a"])(t),"hasPopupMouseDown",void 0),Object(a["a"])(Object(We["a"])(t),"onMouseEnter",(function(e){var r=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,r,r?null:e)})),Object(a["a"])(Object(We["a"])(t),"onMouseMove",(function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)})),Object(a["a"])(Object(We["a"])(t),"onMouseLeave",(function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)})),Object(a["a"])(Object(We["a"])(t),"onPopupMouseEnter",(function(){t.clearDelayTimer()})),Object(a["a"])(Object(We["a"])(t),"onPopupMouseLeave",(function(e){var r;e.relatedTarget&&!e.relatedTarget.setTimeout&&Xe(null===(r=t.popupRef.current)||void 0===r?void 0:r.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)})),Object(a["a"])(Object(We["a"])(t),"onFocus",(function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))})),Object(a["a"])(Object(We["a"])(t),"onMouseDown",(function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()})),Object(a["a"])(Object(We["a"])(t),"onTouchStart",(function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()})),Object(a["a"])(Object(We["a"])(t),"onBlur",(function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)})),Object(a["a"])(Object(We["a"])(t),"onContextMenu",(function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)})),Object(a["a"])(Object(We["a"])(t),"onContextMenuClose",(function(){t.isContextMenuToShow()&&t.close()})),Object(a["a"])(Object(We["a"])(t),"onClick",(function(e){if(t.fireEvents("onClick",e),t.focusTime){var r;if(t.preClickTime&&t.preTouchTime?r=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?r=t.preClickTime:t.preTouchTime&&(r=t.preTouchTime),Math.abs(r-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!t.state.popupVisible;(t.isClickToHide()&&!n||n&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)})),Object(a["a"])(Object(We["a"])(t),"onPopupMouseDown",(function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)})),Object(a["a"])(Object(We["a"])(t),"onDocumentClick",(function(e){if(!t.props.mask||t.props.maskClosable){var r=e.target,n=t.getRootDomNode(),i=t.getPopupDomNode();Xe(n,r)&&!t.isContextMenuOnly()||Xe(i,r)||t.hasPopupMouseDown||t.close()}})),Object(a["a"])(Object(We["a"])(t),"getRootDomNode",(function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var r=Object($e["a"])(t.triggerRef.current);if(r)return r}catch(n){}return Ze.a.findDOMNode(Object(We["a"])(t))})),Object(a["a"])(Object(We["a"])(t),"getPopupClassNameFromAlign",(function(e){var r=[],n=t.props,i=n.popupPlacement,o=n.builtinPlacements,a=n.prefixCls,s=n.alignPoint,u=n.getPopupClassNameFromAlign;return i&&o&&r.push(nt(o,a,e,s)),u&&r.push(u(e)),r.join(" ")})),Object(a["a"])(Object(We["a"])(t),"getComponent",(function(){var e=t.props,r=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,s=e.onPopupAlign,u=e.popupMotion,c=e.popupAnimation,l=e.popupTransitionName,f=e.popupStyle,h=e.mask,p=e.maskAnimation,d=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,y=e.popup,g=e.stretch,b=e.alignPoint,_=e.mobile,w=e.forceRender,x=e.onPopupClick,O=t.state,E=O.popupVisible,j=O.point,S=t.getPopupAlign(),k={};return t.isMouseEnterToShow()&&(k.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(k.onMouseLeave=t.onPopupMouseLeave),k.onMouseDown=t.onPopupMouseDown,k.onTouchStart=t.onPopupMouseDown,n["createElement"](en,Object(o["a"])({prefixCls:r,destroyPopupOnHide:i,visible:E,point:b&&j,className:a,align:S,onAlign:s,animation:c,getClassNameFromAlign:t.getPopupClassNameFromAlign},k,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:h,zIndex:m,transitionName:l,maskAnimation:p,maskTransitionName:d,maskMotion:v,ref:t.popupRef,motion:u,mobile:_,forceRender:w,onClick:x}),"function"===typeof y?y():y)})),Object(a["a"])(Object(We["a"])(t),"attachParent",(function(e){x["a"].cancel(t.attachId);var r,n=t.props,i=n.getPopupContainer,o=n.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(r=i(a)):r=o(t.getRootDomNode()).body,r?r.appendChild(e):t.attachId=Object(x["a"])((function(){t.attachParent(e)}))})),Object(a["a"])(Object(We["a"])(t),"getContainer",(function(){if(!t.portalContainer){var e=t.props.getDocument,r=e(t.getRootDomNode()).createElement("div");r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",t.portalContainer=r}return t.attachParent(t.portalContainer),t.portalContainer})),Object(a["a"])(Object(We["a"])(t),"setPoint",(function(e){var r=t.props.alignPoint;r&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),Object(a["a"])(Object(We["a"])(t),"handlePortalUpdate",(function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)})),Object(a["a"])(Object(We["a"])(t),"triggerContextValue",{onPopupMouseDown:t.onPopupMouseDown}),s="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:s,popupVisible:s},sn.forEach((function(e){t["fire".concat(e)]=function(r){t.fireEvents(e,r)}})),t}return Object(ie["a"])(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props,r=this.state;if(r.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Ke(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Ke(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Ke(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Ke(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),x["a"].cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,r=e.popupAlign,n=e.builtinPlacements;return t&&n?rt(n,t,r):r}},{key:"setPopupVisible",value:function(e,t){var r=this.props.alignPoint,n=this.state.popupVisible;this.clearDelayTimer(),n!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:n}),this.props.onPopupVisibleChange(e)),r&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,r){var n=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=window.setTimeout((function(){n.setPopupVisible(e,o),n.clearDelayTimer()}),i)}else this.setPopupVisible(e,r)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,r=this.props;return t[e]&&r[e]?this["fire".concat(e)]:t[e]||r[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("click")||-1!==r.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==r.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("click")||-1!==r.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("hover")||-1!==r.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("hover")||-1!==r.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("focus")||-1!==r.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("focus")||-1!==r.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var r=this.props.children.props[e];r&&r(t);var n=this.props[e];n&&n(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,r=this.props,i=r.children,o=r.forceRender,a=r.alignPoint,s=r.className,u=r.autoDestroy,c=n["Children"].only(i),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,a&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var p=h()(c&&c.props&&c.props.className,s);p&&(f.className=p);var d=Object(l["a"])({},f);Object(Ye["c"])(c)&&(d.ref=Object(Ye["a"])(this.triggerRef,c.ref));var v,m=n["cloneElement"](c,d);return(t||this.popupRef.current||o)&&(v=n["createElement"](e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&u&&(v=null),n["createElement"](rn.Provider,{value:this.triggerContextValue},m,v)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.popupVisible,n={};return void 0!==r&&t.popupVisible!==r&&(n.popupVisible=r,n.prevPopupVisible=t.popupVisible),n}}]),i}(n["Component"]);return Object(a["a"])(t,"contextType",rn),Object(a["a"])(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:on,getDocument:an,onPopupVisibleChange:nn,afterPopupVisibleChange:nn,onPopupAlign:nn,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}var cn=un(et),ln={adjustX:1,adjustY:1},fn={topLeft:{points:["bl","tl"],overflow:ln,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ln,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ln,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ln,offset:[4,0]}},hn={topLeft:{points:["bl","tl"],overflow:ln,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ln,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ln,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ln,offset:[4,0]}};function pn(e,t,r){return t||(r?r[e]||r.other:void 0)}var dn={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function vn(e){var t=e.prefixCls,r=e.visible,i=e.children,o=e.popup,u=e.popupClassName,c=e.popupOffset,f=e.disabled,p=e.mode,d=e.onVisibleChange,v=n["useContext"](le),m=v.getPopupContainer,y=v.rtl,g=v.subMenuOpenDelay,b=v.subMenuCloseDelay,_=v.builtinPlacements,w=v.triggerSubMenuAction,O=v.forceSubMenuRender,E=v.rootClassName,j=v.motion,S=v.defaultMotions,k=n["useState"](!1),T=Object(s["a"])(k,2),P=T[0],A=T[1],I=y?Object(l["a"])(Object(l["a"])({},hn),_):Object(l["a"])(Object(l["a"])({},fn),_),C=dn[p],R=pn(p,j,S),M=Object(l["a"])(Object(l["a"])({},R),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),L=n["useRef"]();return n["useEffect"]((function(){return L.current=Object(x["a"])((function(){A(r)})),function(){x["a"].cancel(L.current)}}),[r]),n["createElement"](cn,{prefixCls:t,popupClassName:h()("".concat(t,"-popup"),Object(a["a"])({},"".concat(t,"-rtl"),y),u,E),stretch:"horizontal"===p?"minWidth":null,getPopupContainer:m,builtinPlacements:I,popupPlacement:C,popupVisible:P,popup:o,popupAlign:c&&{offset:c},action:f?[]:[w],mouseEnterDelay:g,mouseLeaveDelay:b,onPopupVisibleChange:d,forceRender:O,popupMotion:M},i)}function mn(e){var t=e.id,r=e.open,i=e.keyPath,a=e.children,u="inline",c=n["useContext"](le),f=c.prefixCls,h=c.forceSubMenuRender,p=c.motion,d=c.defaultMotions,v=c.mode,m=n["useRef"](!1);m.current=v===u;var y=n["useState"](!m.current),g=Object(s["a"])(y,2),b=g[0],_=g[1],w=!!m.current&&r;n["useEffect"]((function(){m.current&&_(!1)}),[v]);var x=Object(l["a"])({},pn(u,p,d));i.length>1&&(x.motionAppear=!1);var O=x.onVisibleChanged;return x.onVisibleChanged=function(e){return m.current||e||_(!0),null===O||void 0===O?void 0:O(e)},b?null:n["createElement"](he,{mode:u,locked:!m.current},n["createElement"](it["a"],Object(o["a"])({visible:w},x,{forceRender:h,removeOnLeave:!1,leavedClassName:"".concat(f,"-hidden")}),(function(e){var r=e.className,i=e.style;return n["createElement"](qe,{id:t,className:r,style:i},a)})))}var yn=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],gn=["active"],bn=function(e){var t,r=e.style,i=e.className,u=e.title,f=e.eventKey,p=(e.warnKey,e.disabled),d=e.internalPopupClose,v=e.children,m=e.itemIcon,y=e.expandIcon,g=e.popupClassName,b=e.popupOffset,_=e.onClick,w=e.onMouseEnter,x=e.onMouseLeave,O=e.onTitleClick,E=e.onTitleMouseEnter,j=e.onTitleMouseLeave,S=Object(c["a"])(e,yn),k=Se(f),T=n["useContext"](le),P=T.prefixCls,A=T.mode,I=T.openKeys,C=T.disabled,R=T.overflowDisabled,M=T.activeKey,L=T.selectedKeys,D=T.itemIcon,N=T.expandIcon,F=T.onItemClick,z=T.onOpenChange,B=T.onActive,U=n["useContext"](Te),V=U._internalRenderSubMenuItem,G=n["useContext"](Oe),q=G.isSubPathKey,W=xe(),H="".concat(P,"-submenu"),Z=C||p,X=n["useRef"](),$=n["useRef"]();var Y=m||D,K=y||N,J=I.includes(f),Q=!R&&J,ee=q(L,f),te=pe(f,Z,E,j),ne=te.active,ie=Object(c["a"])(te,gn),oe=n["useState"](!1),ae=Object(s["a"])(oe,2),se=ae[0],ue=ae[1],ce=function(e){Z||ue(e)},fe=function(e){ce(!0),null===w||void 0===w||w({key:f,domEvent:e})},de=function(e){ce(!1),null===x||void 0===x||x({key:f,domEvent:e})},ge=n["useMemo"]((function(){return ne||"inline"!==A&&(se||q([M],f))}),[A,ne,M,se,f,q]),be=ye(W.length),_e=function(e){Z||(null===O||void 0===O||O({key:f,domEvent:e}),"inline"===A&&z(f,!J))},we=Be((function(e){null===_||void 0===_||_(ve(e)),F(e)})),Ee=function(e){"inline"!==A&&z(f,e)},je=function(){B(f)},ke=k&&"".concat(k,"-popup"),Pe=n["createElement"]("div",Object(o["a"])({role:"menuitem",style:be,className:"".concat(H,"-title"),tabIndex:Z?null:-1,ref:X,title:"string"===typeof u?u:null,"data-menu-id":R&&k?null:k,"aria-expanded":Q,"aria-haspopup":!0,"aria-controls":ke,"aria-disabled":Z,onClick:_e,onFocus:je},ie),u,n["createElement"](me,{icon:"horizontal"!==A?K:null,props:Object(l["a"])(Object(l["a"])({},e),{},{isOpen:Q,isSubMenu:!0})},n["createElement"]("i",{className:"".concat(H,"-arrow")}))),Ae=n["useRef"](A);if("inline"!==A&&(Ae.current=W.length>1?"vertical":A),!R){var Ie=Ae.current;Pe=n["createElement"](vn,{mode:Ie,prefixCls:H,visible:!d&&Q&&"inline"!==A,popupClassName:g,popupOffset:b,popup:n["createElement"](he,{mode:"horizontal"===Ie?"vertical":Ie},n["createElement"](qe,{id:ke,ref:$},v)),disabled:Z,onVisibleChange:Ee},Pe)}var Ce=n["createElement"](re.Item,Object(o["a"])({role:"none"},S,{component:"li",style:r,className:h()(H,"".concat(H,"-").concat(A),i,(t={},Object(a["a"])(t,"".concat(H,"-open"),Q),Object(a["a"])(t,"".concat(H,"-active"),ge),Object(a["a"])(t,"".concat(H,"-selected"),ee),Object(a["a"])(t,"".concat(H,"-disabled"),Z),t)),onMouseEnter:fe,onMouseLeave:de}),Pe,!R&&n["createElement"](mn,{id:ke,open:Q,keyPath:W},v));return V&&(Ce=V(Ce,e,{selected:ee,active:ge,open:Q,disabled:Z})),n["createElement"](he,{onItemClick:we,mode:"horizontal"===A?"vertical":A,itemIcon:Y,expandIcon:K},Ce)};function _n(e){var t,r=e.eventKey,i=e.children,o=xe(r),a=Ne(i,o),s=_e();return n["useEffect"]((function(){if(s)return s.registerPath(r,o),function(){s.unregisterPath(r,o)}}),[o]),t=s?a:n["createElement"](bn,e,a),n["createElement"](we.Provider,{value:o},t)}function wn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ut(e)){var r=e.nodeName.toLowerCase(),n=["input","select","textarea","button"].includes(r)||e.isContentEditable||"a"===r&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:n&&null===a&&(a=0),n&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function xn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(w["a"])(e.querySelectorAll("*")).filter((function(e){return wn(e,t)}));return wn(e,t)&&r.unshift(e),r}var On=S["a"].LEFT,En=S["a"].RIGHT,jn=S["a"].UP,Sn=S["a"].DOWN,kn=S["a"].ENTER,Tn=S["a"].ESC,Pn=S["a"].HOME,An=S["a"].END,In=[jn,Sn,On,En];function Cn(e,t,r,n){var i,o,s,u,c="prev",l="next",f="children",h="parent";if("inline"===e&&n===kn)return{inlineTrigger:!0};var p=(i={},Object(a["a"])(i,jn,c),Object(a["a"])(i,Sn,l),i),d=(o={},Object(a["a"])(o,On,r?l:c),Object(a["a"])(o,En,r?c:l),Object(a["a"])(o,Sn,f),Object(a["a"])(o,kn,f),o),v=(s={},Object(a["a"])(s,jn,c),Object(a["a"])(s,Sn,l),Object(a["a"])(s,kn,f),Object(a["a"])(s,Tn,h),Object(a["a"])(s,On,r?f:h),Object(a["a"])(s,En,r?h:f),s),m={inline:p,horizontal:d,vertical:v,inlineSub:p,horizontalSub:v,verticalSub:v},y=null===(u=m["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[n];switch(y){case c:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case h:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}function Rn(e){var t=e;while(t){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Mn(e,t){var r=e||document.activeElement;while(r){if(t.has(r))return r;r=r.parentElement}return null}function Ln(e,t){var r=xn(e,!0);return r.filter((function(e){return t.has(e)}))}function Dn(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Ln(e,t),o=i.length,a=i.findIndex((function(e){return r===e}));return n<0?-1===a?a=o-1:a-=1:n>0&&(a+=1),a=(a+o)%o,i[a]}function Nn(e,t,r,i,o,a,s,u,c,l){var f=n["useRef"](),h=n["useRef"]();h.current=t;var p=function(){x["a"].cancel(f.current)};return n["useEffect"]((function(){return function(){p()}}),[]),function(n){var d=n.which;if([].concat(In,[kn,Tn,Pn,An]).includes(d)){var v,m,y,g=function(){v=new Set,m=new Map,y=new Map;var e=a();return e.forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(je(i,e),"']"));t&&(v.add(t),y.set(t,e),m.set(e,t))})),v};g();var b=m.get(t),_=Mn(b,v),w=y.get(_),O=Cn(e,1===s(w,!0).length,r,d);if(!O&&d!==Pn&&d!==An)return;(In.includes(d)||[Pn,An].includes(d))&&n.preventDefault();var E=function(e){if(e){var t=e,r=e.querySelector("a");(null===r||void 0===r?void 0:r.getAttribute("href"))&&(t=r);var n=y.get(e);u(n),p(),f.current=Object(x["a"])((function(){h.current===n&&t.focus()}))}};if([Pn,An].includes(d)||O.sibling||!_){var j,S;j=_&&"inline"!==e?Rn(_):o.current;var k=Ln(j,v);S=d===Pn?k[0]:d===An?k[k.length-1]:Dn(j,v,_,O.offset),E(S)}else if(O.inlineTrigger)c(w);else if(O.offset>0)c(w,!0),p(),f.current=Object(x["a"])((function(){g();var e=_.getAttribute("aria-controls"),t=document.getElementById(e),r=Dn(t,v);E(r)}),5);else if(O.offset<0){var T=s(w,!0),P=T[T.length-2],A=m.get(P);c(P,!1),E(A)}}null===l||void 0===l||l(n)}}var Fn=Math.random().toFixed(5).toString().slice(2),zn=0;function Bn(e){var t=_(e,{value:e}),r=Object(s["a"])(t,2),i=r[0],o=r[1];return n["useEffect"]((function(){zn+=1;var e="".concat(Fn,"-").concat(zn);o("rc-menu-uuid-".concat(e))}),[]),i}function Un(e){Promise.resolve().then(e)}var Vn="__RC_UTIL_PATH_SPLIT__",Gn=function(e){return e.join(Vn)},qn=function(e){return e.split(Vn)},Wn="rc-menu-more";function Hn(){var e=n["useState"]({}),t=Object(s["a"])(e,2),r=t[1],i=Object(n["useRef"])(new Map),o=Object(n["useRef"])(new Map),a=n["useState"]([]),u=Object(s["a"])(a,2),c=u[0],l=u[1],f=Object(n["useRef"])(0),h=Object(n["useRef"])(!1),p=function(){h.current||r({})},d=Object(n["useCallback"])((function(e,t){var r=Gn(t);o.current.set(r,e),i.current.set(e,r),f.current+=1;var n=f.current;Un((function(){n===f.current&&p()}))}),[]),v=Object(n["useCallback"])((function(e,t){var r=Gn(t);o.current["delete"](r),i.current["delete"](e)}),[]),m=Object(n["useCallback"])((function(e){l(e)}),[]),y=Object(n["useCallback"])((function(e,t){var r=i.current.get(e)||"",n=qn(r);return t&&c.includes(n[0])&&n.unshift(Wn),n}),[c]),g=Object(n["useCallback"])((function(e,t){return e.some((function(e){var r=y(e,!0);return r.includes(t)}))}),[y]),b=function(){var e=Object(w["a"])(i.current.keys());return c.length&&e.push(Wn),e},_=Object(n["useCallback"])((function(e){var t="".concat(i.current.get(e)).concat(Vn),r=new Set;return Object(w["a"])(o.current.keys()).forEach((function(e){e.startsWith(t)&&r.add(o.current.get(e))})),r}),[]);return n["useEffect"]((function(){return function(){h.current=!0}}),[]),{registerPath:d,unregisterPath:v,refreshOverflowKeys:m,isSubPathKey:g,getKeyPath:y,getKeys:b,getSubPathKeys:_}}var Zn=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Xn=[],$n=n["forwardRef"]((function(e,t){var r,i,u=e.prefixCls,f=void 0===u?"rc-menu":u,p=e.rootClassName,d=e.style,v=e.className,m=e.tabIndex,y=void 0===m?0:m,g=e.items,b=e.children,x=e.direction,O=e.id,E=e.mode,j=void 0===E?"vertical":E,S=e.inlineCollapsed,k=e.disabled,T=e.disabledOverflow,P=e.subMenuOpenDelay,A=void 0===P?.1:P,I=e.subMenuCloseDelay,C=void 0===I?.1:I,R=e.forceSubMenuRender,L=e.defaultOpenKeys,D=e.openKeys,N=e.activeKey,F=e.defaultActiveFirst,z=e.selectable,B=void 0===z||z,U=e.multiple,V=void 0!==U&&U,G=e.defaultSelectedKeys,q=e.selectedKeys,W=e.onSelect,H=e.onDeselect,Z=e.inlineIndent,X=void 0===Z?24:Z,$=e.motion,Y=e.defaultMotions,K=e.triggerSubMenuAction,J=void 0===K?"hover":K,Q=e.builtinPlacements,ee=e.itemIcon,te=e.expandIcon,ne=e.overflowedIndicator,ie=void 0===ne?"...":ne,oe=e.overflowedIndicatorPopupClassName,ae=e.getPopupContainer,se=e.onClick,ue=e.onOpenChange,ce=e.onKeyDown,le=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),fe=e._internalRenderSubMenuItem,pe=Object(c["a"])(e,Zn),de=n["useMemo"]((function(){return ze(b,g,Xn)}),[b,g]),me=n["useState"](!1),ye=Object(s["a"])(me,2),ge=ye[0],_e=ye[1],we=n["useRef"](),xe=Bn(O),Se="rtl"===x;var ke=n["useMemo"]((function(){return"inline"!==j&&"vertical"!==j||!S?[j,!1]:["vertical",S]}),[j,S]),Pe=Object(s["a"])(ke,2),Ae=Pe[0],Ie=Pe[1],Ce=n["useState"](0),Re=Object(s["a"])(Ce,2),Me=Re[0],De=Re[1],Ne=Me>=de.length-1||"horizontal"!==Ae||T,Fe=_(L,{value:D,postState:function(e){return e||Xn}}),Ue=Object(s["a"])(Fe,2),Ve=Ue[0],Ge=Ue[1],qe=function(e){Ge(e),null===ue||void 0===ue||ue(e)},We=n["useState"](Ve),He=Object(s["a"])(We,2),Ze=He[0],Xe=He[1],$e="inline"===Ae,Ye=n["useRef"](!1);n["useEffect"]((function(){$e&&Xe(Ve)}),[Ve]),n["useEffect"]((function(){Ye.current&&($e?Ge(Ze):qe(Xn))}),[$e]),n["useEffect"]((function(){return Ye.current=!0,function(){Ye.current=!1}}),[]);var Ke=Hn(),Je=Ke.registerPath,Qe=Ke.unregisterPath,et=Ke.refreshOverflowKeys,tt=Ke.isSubPathKey,rt=Ke.getKeyPath,nt=Ke.getKeys,it=Ke.getSubPathKeys,ot=n["useMemo"]((function(){return{registerPath:Je,unregisterPath:Qe}}),[Je,Qe]),at=n["useMemo"]((function(){return{isSubPathKey:tt}}),[tt]);n["useEffect"]((function(){et(Ne?Xn:de.slice(Me+1).map((function(e){return e.key})))}),[Me,Ne]);var st=_(N||F&&(null===(r=de[0])||void 0===r?void 0:r.key),{value:N}),ut=Object(s["a"])(st,2),ct=ut[0],lt=ut[1],ft=Be((function(e){lt(e)})),ht=Be((function(){lt(void 0)}));Object(n["useImperativeHandle"])(t,(function(){return{list:we.current,focus:function(e){var t,r,n,i,o=null!==ct&&void 0!==ct?ct:null===(t=de.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;o&&(null===(r=we.current)||void 0===r||null===(n=r.querySelector("li[data-menu-id='".concat(je(xe,o),"']")))||void 0===n||null===(i=n.focus)||void 0===i||i.call(n,e))}}}));var pt=_(G||[],{value:q,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Xn:[e]}}),dt=Object(s["a"])(pt,2),vt=dt[0],mt=dt[1],yt=function(e){if(B){var t,r=e.key,n=vt.includes(r);t=V?n?vt.filter((function(e){return e!==r})):[].concat(Object(w["a"])(vt),[r]):[r],mt(t);var i=Object(l["a"])(Object(l["a"])({},e),{},{selectedKeys:t});n?null===H||void 0===H||H(i):null===W||void 0===W||W(i)}!V&&Ve.length&&"inline"!==Ae&&qe(Xn)},gt=Be((function(e){null===se||void 0===se||se(ve(e)),yt(e)})),bt=Be((function(e,t){var r=Ve.filter((function(t){return t!==e}));if(t)r.push(e);else if("inline"!==Ae){var n=it(e);r=r.filter((function(e){return!n.has(e)}))}M()(Ve,r)||qe(r)})),_t=Be(ae),wt=function(e,t){var r=null!==t&&void 0!==t?t:!Ve.includes(e);bt(e,r)},xt=Nn(Ae,ct,Se,xe,we,nt,rt,lt,wt,ce);n["useEffect"]((function(){_e(!0)}),[]);var Ot=n["useMemo"]((function(){return{_internalRenderMenuItem:le,_internalRenderSubMenuItem:fe}}),[le,fe]),Et="horizontal"!==Ae||T?de:de.map((function(e,t){return n["createElement"](he,{key:e.key,overflowDisabled:t>Me},e)})),jt=n["createElement"](re,Object(o["a"])({id:O,ref:we,prefixCls:"".concat(f,"-overflow"),component:"ul",itemComponent:Le,className:h()(f,"".concat(f,"-root"),"".concat(f,"-").concat(Ae),v,(i={},Object(a["a"])(i,"".concat(f,"-inline-collapsed"),Ie),Object(a["a"])(i,"".concat(f,"-rtl"),Se),i),p),dir:x,style:d,role:"menu",tabIndex:y,data:Et,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,r=t?de.slice(-t):null;return n["createElement"](_n,{eventKey:Wn,title:ie,disabled:Ne,internalPopupClose:0===t,popupClassName:oe},r)},maxCount:"horizontal"!==Ae||T?re.INVALIDATE:re.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){De(e)},onKeyDown:xt},pe));return n["createElement"](Te.Provider,{value:Ot},n["createElement"](Ee.Provider,{value:xe},n["createElement"](he,{prefixCls:f,rootClassName:p,mode:Ae,openKeys:Ve,rtl:Se,disabled:k,motion:ge?$:null,defaultMotions:ge?Y:null,activeKey:ct,onActive:ft,onInactive:ht,selectedKeys:vt,inlineIndent:X,subMenuOpenDelay:A,subMenuCloseDelay:C,forceSubMenuRender:R,builtinPlacements:Q,triggerSubMenuAction:J,getPopupContainer:_t,itemIcon:ee,expandIcon:te,onItemClick:gt,onOpenChange:bt},n["createElement"](Oe.Provider,{value:at},jt),n["createElement"]("div",{style:{display:"none"},"aria-hidden":!0},n["createElement"](be.Provider,{value:ot},de)))))})),Yn=$n,Kn=["className","title","eventKey","children"],Jn=["children"],Qn=function(e){var t=e.className,r=e.title,i=(e.eventKey,e.children),a=Object(c["a"])(e,Kn),s=n["useContext"](le),u=s.prefixCls,l="".concat(u,"-item-group");return n["createElement"]("li",Object(o["a"])({},a,{onClick:function(e){return e.stopPropagation()},className:h()(l,t)}),n["createElement"]("div",{className:"".concat(l,"-title"),title:"string"===typeof r?r:void 0},r),n["createElement"]("ul",{className:"".concat(l,"-list")},i))};function ei(e){var t=e.children,r=Object(c["a"])(e,Jn),i=xe(r.eventKey),o=Ne(t,i),a=_e();return a?o:n["createElement"](Qn,Object(se["a"])(r,["warnKey"]),o)}function ti(e){var t=e.className,r=e.style,i=n["useContext"](le),o=i.prefixCls,a=_e();return a?null:n["createElement"]("li",{className:h()("".concat(o,"-item-divider"),t),style:r})}var ri=Yn;ri.Item=Le,ri.SubMenu=_n,ri.ItemGroup=ei,ri.Divider=ti;var ni=ri,ii={adjustX:1,adjustY:1},oi=[0,0],ai={topLeft:{points:["bl","tl"],overflow:ii,offset:[0,-4],targetOffset:oi},topCenter:{points:["bc","tc"],overflow:ii,offset:[0,-4],targetOffset:oi},topRight:{points:["br","tr"],overflow:ii,offset:[0,-4],targetOffset:oi},bottomLeft:{points:["tl","bl"],overflow:ii,offset:[0,4],targetOffset:oi},bottomCenter:{points:["tc","bc"],overflow:ii,offset:[0,4],targetOffset:oi},bottomRight:{points:["tr","br"],overflow:ii,offset:[0,4],targetOffset:oi}},si=ai,ui=S["a"].ESC,ci=S["a"].TAB;function li(e){var t=e.visible,r=e.setTriggerVisible,i=e.triggerRef,o=e.onVisibleChange,a=e.autoFocus,s=n["useRef"](!1),u=function(){var e,n,a,s;t&&i.current&&(null===(e=i.current)||void 0===e||null===(n=e.triggerRef)||void 0===n||null===(a=n.current)||void 0===a||null===(s=a.focus)||void 0===s||s.call(a),r(!1),"function"===typeof o&&o(!1))},c=function(){var e,t,r,n,o=xn(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(r=t.current)||void 0===r||null===(n=r.getElement)||void 0===n?void 0:n.call(r)),a=o[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),s.current=!0,!0)},l=function(e){switch(e.keyCode){case ui:u();break;case ci:var t=!1;s.current||(t=c()),t?e.preventDefault():u();break}};n["useEffect"]((function(){return t?(window.addEventListener("keydown",l),a&&Object(x["a"])(c,3),function(){window.removeEventListener("keydown",l),s.current=!1}):function(){s.current=!1}}),[t])}var fi=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function hi(e,t){var r=e.arrow,i=void 0!==r&&r,o=e.prefixCls,u=void 0===o?"rc-dropdown":o,f=e.transitionName,p=e.animation,d=e.align,v=e.placement,m=void 0===v?"bottomLeft":v,y=e.placements,g=void 0===y?si:y,b=e.getPopupContainer,_=e.showAction,w=e.hideAction,x=e.overlayClassName,O=e.overlayStyle,E=e.visible,j=e.trigger,S=void 0===j?["hover"]:j,k=e.autoFocus,T=Object(c["a"])(e,fi),P=n["useState"](),A=Object(s["a"])(P,2),I=A[0],C=A[1],R="visible"in e?E:I,M=n["useRef"](null);n["useImperativeHandle"](t,(function(){return M.current})),li({visible:R,setTriggerVisible:C,triggerRef:M,onVisibleChange:e.onVisibleChange,autoFocus:k});var L=function(){var t,r=e.overlay;return t="function"===typeof r?r():r,t},D=function(t){var r=e.onOverlayClick;C(!1),r&&r(t)},N=function(t){var r=e.onVisibleChange;C(t),"function"===typeof r&&r(t)},F=function(){var e=L();return n["createElement"](n["Fragment"],null,i&&n["createElement"]("div",{className:"".concat(u,"-arrow")}),e)},z=function(){var t=e.overlay;return"function"===typeof t?F:F()},B=function(){var t=e.minOverlayWidthMatchTrigger,r=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!r},U=function(){var t=e.openClassName;return void 0!==t?t:"".concat(u,"-open")},V=function(){var t=e.children,r=t.props?t.props:{},i=h()(r.className,U());return R&&t?n["cloneElement"](t,{className:i}):t},G=w;return G||-1===S.indexOf("contextMenu")||(G=["click"]),n["createElement"](cn,Object(l["a"])(Object(l["a"])({builtinPlacements:g},T),{},{prefixCls:u,ref:M,popupClassName:h()(x,Object(a["a"])({},"".concat(u,"-show-arrow"),i)),popupStyle:O,action:S,showAction:_,hideAction:G||[],popupPlacement:m,popupAlign:d,popupTransitionName:f,popupAnimation:p,popupVisible:R,stretch:B()?"minWidth":"",popup:z(),onPopupVisibleChange:N,onPopupClick:D,getPopupContainer:b}),V())}var pi=n["forwardRef"](hi),di=pi;function vi(e,t){var r=e.prefixCls,i=e.editable,o=e.locale,a=e.style;return i&&!1!==i.showAdd?n["createElement"]("button",{ref:t,type:"button",className:"".concat(r,"-nav-add"),style:a,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var mi=n["forwardRef"](vi);function yi(e,t){var r=e.prefixCls,i=e.id,o=e.tabs,u=e.locale,c=e.mobile,l=e.moreIcon,f=void 0===l?"More":l,p=e.moreTransitionName,d=e.style,v=e.className,m=e.editable,y=e.tabBarGutter,g=e.rtl,b=e.removeAriaLabel,_=e.onTabClick,w=e.getPopupContainer,x=e.popupClassName,O=Object(n["useState"])(!1),E=Object(s["a"])(O,2),j=E[0],k=E[1],T=Object(n["useState"])(null),P=Object(s["a"])(T,2),A=P[0],I=P[1],C="".concat(i,"-more-popup"),R="".concat(r,"-dropdown"),M=null!==A?"".concat(C,"-").concat(A):null,L=null===u||void 0===u?void 0:u.dropdownAriaLabel;function D(e,t){e.preventDefault(),e.stopPropagation(),m.onEdit("remove",{key:t,event:e})}var N=n["createElement"](ni,{onClick:function(e){var t=e.key,r=e.domEvent;_(t,r),k(!1)},prefixCls:"".concat(R,"-menu"),id:C,tabIndex:-1,role:"listbox","aria-activedescendant":M,selectedKeys:[A],"aria-label":void 0!==L?L:"expanded dropdown"},o.map((function(e){var t=m&&!1!==e.closable&&!e.disabled;return n["createElement"](Le,{key:e.key,id:"".concat(C,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},n["createElement"]("span",null,e.tab),t&&n["createElement"]("button",{type:"button","aria-label":b||"remove",tabIndex:0,className:"".concat(R,"-menu-item-remove"),onClick:function(t){t.stopPropagation(),D(t,e.key)}},e.closeIcon||m.removeIcon||"\xd7"))})));function F(e){for(var t=o.filter((function(e){return!e.disabled})),r=t.findIndex((function(e){return e.key===A}))||0,n=t.length,i=0;i<n;i+=1){r=(r+e+n)%n;var a=t[r];if(!a.disabled)return void I(a.key)}}function z(e){var t=e.which;if(j)switch(t){case S["a"].UP:F(-1),e.preventDefault();break;case S["a"].DOWN:F(1),e.preventDefault();break;case S["a"].ESC:k(!1);break;case S["a"].SPACE:case S["a"].ENTER:null!==A&&_(A,e);break}else[S["a"].DOWN,S["a"].SPACE,S["a"].ENTER].includes(t)&&(k(!0),e.preventDefault())}Object(n["useEffect"])((function(){var e=document.getElementById(M);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[A]),Object(n["useEffect"])((function(){j||I(null)}),[j]);var B=Object(a["a"])({},g?"marginRight":"marginLeft",y);o.length||(B.visibility="hidden",B.order=1);var U=h()(Object(a["a"])({},"".concat(R,"-rtl"),g)),V=c?null:n["createElement"](di,{prefixCls:R,overlay:N,trigger:["hover"],visible:!!o.length&&j,transitionName:p,onVisibleChange:k,overlayClassName:h()(U,x),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:w},n["createElement"]("button",{type:"button",className:"".concat(r,"-nav-more"),style:B,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":C,id:"".concat(i,"-more"),"aria-expanded":j,onKeyDown:z},f));return n["createElement"]("div",{className:h()("".concat(r,"-nav-operations"),v),style:d,ref:t},V,n["createElement"](mi,{prefixCls:r,locale:u,editable:m}))}var gi=n["memo"](n["forwardRef"](yi),(function(e,t){return t.tabMoving})),bi=Object(n["createContext"])(null),_i=.1,wi=.01,xi=20,Oi=Math.pow(.995,xi);function Ei(e,t){var r=Object(n["useState"])(),i=Object(s["a"])(r,2),o=i[0],a=i[1],u=Object(n["useState"])(0),c=Object(s["a"])(u,2),l=c[0],f=c[1],h=Object(n["useState"])(0),p=Object(s["a"])(h,2),d=p[0],v=p[1],m=Object(n["useState"])(),y=Object(s["a"])(m,2),g=y[0],b=y[1],_=Object(n["useRef"])();function w(e){var t=e.touches[0],r=t.screenX,n=t.screenY;a({x:r,y:n}),window.clearInterval(_.current)}function x(e){if(o){e.preventDefault();var r=e.touches[0],n=r.screenX,i=r.screenY;a({x:n,y:i});var s=n-o.x,u=i-o.y;t(s,u);var c=Date.now();f(c),v(c-l),b({x:s,y:u})}}function O(){if(o&&(a(null),b(null),g)){var e=g.x/d,r=g.y/d,n=Math.abs(e),i=Math.abs(r);if(Math.max(n,i)<_i)return;var s=e,u=r;_.current=window.setInterval((function(){Math.abs(s)<wi&&Math.abs(u)<wi?window.clearInterval(_.current):(s*=Oi,u*=Oi,t(s*xi,u*xi))}),xi)}}var E=Object(n["useRef"])();function j(e){var r=e.deltaX,n=e.deltaY,i=0,o=Math.abs(r),a=Math.abs(n);o===a?i="x"===E.current?r:n:o>a?(i=r,E.current="x"):(i=n,E.current="y"),t(-i,-i)&&e.preventDefault()}var S=Object(n["useRef"])(null);S.current={onTouchStart:w,onTouchMove:x,onTouchEnd:O,onWheel:j},n["useEffect"]((function(){function t(e){S.current.onTouchStart(e)}function r(e){S.current.onTouchMove(e)}function n(e){S.current.onTouchEnd(e)}function i(e){S.current.onWheel(e)}return document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",t,{passive:!1}),e.current.addEventListener("wheel",i),function(){document.removeEventListener("touchmove",r),document.removeEventListener("touchend",n)}}),[])}function ji(){var e=Object(n["useRef"])(new Map);function t(t){return e.current.has(t)||e.current.set(t,n["createRef"]()),e.current.get(t)}function r(t){e.current["delete"](t)}return[t,r]}function Si(e,t){var r=n["useRef"](e),i=n["useState"]({}),o=Object(s["a"])(i,2),a=o[1];function u(e){var n="function"===typeof e?e(r.current):e;n!==r.current&&t(n,r.current),r.current=n,a({})}return[r.current,u]}var ki=function(e){var t,r=e.position,i=e.prefixCls,o=e.extra;if(!o)return null;var a={};return o&&"object"===Object(u["a"])(o)&&!n["isValidElement"](o)?a=o:a.right=o,"right"===r&&(t=a.right),"left"===r&&(t=a.left),t?n["createElement"]("div",{className:"".concat(i,"-extra-content")},t):null};function Ti(e,t){var r,i=n["useContext"](bi),u=i.prefixCls,c=i.tabs,f=e.className,p=e.style,d=e.id,v=e.animated,m=e.activeKey,y=e.rtl,g=e.extra,b=e.editable,_=e.locale,S=e.tabPosition,k=e.tabBarGutter,P=e.children,I=e.onTabClick,R=e.onTabScroll,M=Object(n["useRef"])(),L=Object(n["useRef"])(),D=Object(n["useRef"])(),N=Object(n["useRef"])(),F=ji(),z=Object(s["a"])(F,2),B=z[0],U=z[1],V="top"===S||"bottom"===S,G=Si(0,(function(e,t){V&&R&&R({direction:e>t?"left":"right"})})),q=Object(s["a"])(G,2),W=q[0],H=q[1],Z=Si(0,(function(e,t){!V&&R&&R({direction:e>t?"top":"bottom"})})),X=Object(s["a"])(Z,2),$=X[0],Y=X[1],K=Object(n["useState"])(0),J=Object(s["a"])(K,2),Q=J[0],ee=J[1],te=Object(n["useState"])(0),re=Object(s["a"])(te,2),ne=re[0],ie=re[1],oe=Object(n["useState"])(null),ae=Object(s["a"])(oe,2),se=ae[0],ue=ae[1],ce=Object(n["useState"])(null),le=Object(s["a"])(ce,2),fe=le[0],he=le[1],pe=Object(n["useState"])(0),de=Object(s["a"])(pe,2),ve=de[0],me=de[1],ye=Object(n["useState"])(0),ge=Object(s["a"])(ye,2),be=ge[0],_e=ge[1],we=j(new Map),xe=Object(s["a"])(we,2),Oe=xe[0],Ee=xe[1],je=A(c,Oe,Q),Se="".concat(u,"-nav-operations-hidden"),ke=0,Te=0;function Pe(e){return e<ke?ke:e>Te?Te:e}V?y?(ke=0,Te=Math.max(0,Q-se)):(ke=Math.min(0,se-Q),Te=0):(ke=Math.min(0,fe-ne),Te=0);var Ae=Object(n["useRef"])(),Ie=Object(n["useState"])(),Ce=Object(s["a"])(Ie,2),Re=Ce[0],Me=Ce[1];function Le(){Me(Date.now())}function De(){window.clearTimeout(Ae.current)}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=je.get(e)||{width:0,height:0,left:0,right:0,top:0};if(V){var r=W;y?t.right<W?r=t.right:t.right+t.width>W+se&&(r=t.right+t.width-se):t.left<-W?r=-t.left:t.left+t.width>-W+se&&(r=-(t.left+t.width-se)),Y(0),H(Pe(r))}else{var n=$;t.top<-$?n=-t.top:t.top+t.height>-$+fe&&(n=-(t.top+t.height-fe)),H(0),Y(Pe(n))}}Ei(M,(function(e,t){function r(e,t){e((function(e){var r=Pe(e+t);return r}))}if(V){if(se>=Q)return!1;r(H,e)}else{if(fe>=ne)return!1;r(Y,t)}return De(),Le(),!0})),Object(n["useEffect"])((function(){return De(),Re&&(Ae.current=window.setTimeout((function(){Me(0)}),100)),De}),[Re]);var Fe=C(je,{width:se,height:fe,left:W,top:$},{width:Q,height:ne},{width:ve,height:be},Object(l["a"])(Object(l["a"])({},e),{},{tabs:c})),ze=Object(s["a"])(Fe,2),Be=ze[0],Ue=ze[1],Ve={};"top"===S||"bottom"===S?Ve[y?"marginRight":"marginLeft"]=k:Ve.marginTop=k;var Ge=c.map((function(e,t){var r=e.key;return n["createElement"](T,{id:d,prefixCls:u,key:r,tab:e,style:0===t?void 0:Ve,closable:e.closable,editable:b,active:r===m,renderWrapper:P,removeAriaLabel:null===_||void 0===_?void 0:_.removeAriaLabel,ref:B(r),onClick:function(e){I(r,e)},onRemove:function(){U(r)},onFocus:function(){Ne(r),Le(),M.current&&(y||(M.current.scrollLeft=0),M.current.scrollTop=0)}})})),qe=E((function(){var e,t,r,n,i,o,a=(null===(e=M.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=M.current)||void 0===t?void 0:t.offsetHeight)||0,u=(null===(r=N.current)||void 0===r?void 0:r.offsetWidth)||0,l=(null===(n=N.current)||void 0===n?void 0:n.offsetHeight)||0;ue(a),he(s),me(u),_e(l);var f=((null===(i=L.current)||void 0===i?void 0:i.offsetWidth)||0)-u,h=((null===(o=L.current)||void 0===o?void 0:o.offsetHeight)||0)-l;ee(f),ie(h),Ee((function(){var e=new Map;return c.forEach((function(t){var r=t.key,n=B(r).current;n&&e.set(r,{width:n.offsetWidth,height:n.offsetHeight,left:n.offsetLeft,top:n.offsetTop})})),e}))})),We=c.slice(0,Be),He=c.slice(Ue+1),Ze=[].concat(Object(w["a"])(We),Object(w["a"])(He)),Xe=Object(n["useState"])(),$e=Object(s["a"])(Xe,2),Ye=$e[0],Ke=$e[1],Je=je.get(m),Qe=Object(n["useRef"])();function et(){x["a"].cancel(Qe.current)}Object(n["useEffect"])((function(){var e={};return Je&&(V?(y?e.right=Je.right:e.left=Je.left,e.width=Je.width):(e.top=Je.top,e.height=Je.height)),et(),Qe.current=Object(x["a"])((function(){Ke(e)})),et}),[Je,V,y]),Object(n["useEffect"])((function(){Ne()}),[m,Je,je,V]),Object(n["useEffect"])((function(){qe()}),[y,k,m,c.map((function(e){return e.key})).join("_")]);var tt,rt,nt,it,ot=!!Ze.length,at="".concat(u,"-nav-wrap");return V?y?(rt=W>0,tt=W+se<Q):(tt=W<0,rt=-W+se<Q):(nt=$<0,it=-$+fe<ne),n["createElement"]("div",{ref:t,role:"tablist",className:h()("".concat(u,"-nav"),f),style:p,onKeyDown:function(){Le()}},n["createElement"](ki,{position:"left",extra:g,prefixCls:u}),n["createElement"](O["a"],{onResize:qe},n["createElement"]("div",{className:h()(at,(r={},Object(a["a"])(r,"".concat(at,"-ping-left"),tt),Object(a["a"])(r,"".concat(at,"-ping-right"),rt),Object(a["a"])(r,"".concat(at,"-ping-top"),nt),Object(a["a"])(r,"".concat(at,"-ping-bottom"),it),r)),ref:M},n["createElement"](O["a"],{onResize:qe},n["createElement"]("div",{ref:L,className:"".concat(u,"-nav-list"),style:{transform:"translate(".concat(W,"px, ").concat($,"px)"),transition:Re?"none":void 0}},Ge,n["createElement"](mi,{ref:N,prefixCls:u,locale:_,editable:b,style:Object(l["a"])(Object(l["a"])({},0===Ge.length?void 0:Ve),{},{visibility:ot?"hidden":null})}),n["createElement"]("div",{className:h()("".concat(u,"-ink-bar"),Object(a["a"])({},"".concat(u,"-ink-bar-animated"),v.inkBar)),style:Ye}))))),n["createElement"](gi,Object(o["a"])({},e,{removeAriaLabel:null===_||void 0===_?void 0:_.removeAriaLabel,ref:D,prefixCls:u,tabs:Ze,className:!ot&&Se,tabMoving:!!Re})),n["createElement"](ki,{position:"right",extra:g,prefixCls:u}))}var Pi=n["forwardRef"](Ti);function Ai(e){var t=e.id,r=e.activeKey,i=e.animated,o=e.tabPosition,s=e.rtl,u=e.destroyInactiveTabPane,c=n["useContext"](bi),l=c.prefixCls,f=c.tabs,p=i.tabPane,d=f.findIndex((function(e){return e.key===r}));return n["createElement"]("div",{className:h()("".concat(l,"-content-holder"))},n["createElement"]("div",{className:h()("".concat(l,"-content"),"".concat(l,"-content-").concat(o),Object(a["a"])({},"".concat(l,"-content-animated"),p)),style:d&&p?Object(a["a"])({},s?"marginRight":"marginLeft","-".concat(d,"00%")):null},f.map((function(e){return n["cloneElement"](e.node,{key:e.key,prefixCls:l,tabKey:e.key,id:t,animated:p,active:e.key===r,destroyInactiveTabPane:u})}))))}function Ii(e){var t=e.prefixCls,r=e.forceRender,i=e.className,o=e.style,a=e.id,u=e.active,c=e.animated,f=e.destroyInactiveTabPane,p=e.tabKey,d=e.children,v=n["useState"](r),m=Object(s["a"])(v,2),y=m[0],g=m[1];n["useEffect"]((function(){u?g(!0):f&&g(!1)}),[u,f]);var b={};return u||(c?(b.visibility="hidden",b.height=0,b.overflowY="hidden"):b.display="none"),n["createElement"]("div",{id:a&&"".concat(a,"-panel-").concat(p),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(p),"aria-hidden":!u,style:Object(l["a"])(Object(l["a"])({},b),o),className:h()("".concat(t,"-tabpane"),u&&"".concat(t,"-tabpane-active"),i)},(u||y||r)&&d)}var Ci=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Ri=0;function Mi(e){return Object(p["a"])(e).map((function(e){if(n["isValidElement"](e)){var t=void 0!==e.key?String(e.key):void 0;return Object(l["a"])(Object(l["a"])({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}function Li(e,t){var r,i,f=e.id,p=e.prefixCls,v=void 0===p?"rc-tabs":p,m=e.className,y=e.children,g=e.direction,b=e.activeKey,w=e.defaultActiveKey,x=e.editable,O=e.animated,E=void 0===O?{inkBar:!0,tabPane:!1}:O,j=e.tabPosition,S=void 0===j?"top":j,k=e.tabBarGutter,T=e.tabBarStyle,P=e.tabBarExtraContent,A=e.locale,I=e.moreIcon,C=e.moreTransitionName,R=e.destroyInactiveTabPane,M=e.renderTabBar,L=e.onChange,D=e.onTabClick,N=e.onTabScroll,F=e.getPopupContainer,z=e.popupClassName,B=Object(c["a"])(e,Ci),U=Mi(y),V="rtl"===g;i=!1===E?{inkBar:!1,tabPane:!1}:!0===E?{inkBar:!0,tabPane:!0}:Object(l["a"])({inkBar:!0,tabPane:!1},"object"===Object(u["a"])(E)?E:{});var G=Object(n["useState"])(!1),q=Object(s["a"])(G,2),W=q[0],H=q[1];Object(n["useEffect"])((function(){H(d())}),[]);var Z=_((function(){var e;return null===(e=U[0])||void 0===e?void 0:e.key}),{value:b,defaultValue:w}),X=Object(s["a"])(Z,2),$=X[0],Y=X[1],K=Object(n["useState"])((function(){return U.findIndex((function(e){return e.key===$}))})),J=Object(s["a"])(K,2),Q=J[0],ee=J[1];Object(n["useEffect"])((function(){var e,t=U.findIndex((function(e){return e.key===$}));-1===t&&(t=Math.max(0,Math.min(Q,U.length-1)),Y(null===(e=U[t])||void 0===e?void 0:e.key));ee(t)}),[U.map((function(e){return e.key})).join("_"),$,Q]);var te=_(null,{value:f}),re=Object(s["a"])(te,2),ne=re[0],ie=re[1],oe=S;function ae(e,t){null===D||void 0===D||D(e,t);var r=e!==$;Y(e),r&&(null===L||void 0===L||L(e))}W&&!["left","right"].includes(S)&&(oe="top"),Object(n["useEffect"])((function(){f||(ie("rc-tabs-".concat(Ri)),Ri+=1)}),[]);var se,ue={id:ne,activeKey:$,animated:i,tabPosition:oe,rtl:V,mobile:W},ce=Object(l["a"])(Object(l["a"])({},ue),{},{editable:x,locale:A,moreIcon:I,moreTransitionName:C,tabBarGutter:k,onTabClick:ae,onTabScroll:N,extra:P,style:T,panes:y,getPopupContainer:F,popupClassName:z});return se=M?M(ce,Pi):n["createElement"](Pi,ce),n["createElement"](bi.Provider,{value:{tabs:U,prefixCls:v}},n["createElement"]("div",Object(o["a"])({ref:t,id:f,className:h()(v,"".concat(v,"-").concat(oe),(r={},Object(a["a"])(r,"".concat(v,"-mobile"),W),Object(a["a"])(r,"".concat(v,"-editable"),x),Object(a["a"])(r,"".concat(v,"-rtl"),V),r),m)},B),se,n["createElement"](Ai,Object(o["a"])({destroyInactiveTabPane:R},ue,{animated:i}))))}var Di=n["forwardRef"](Li);Di.TabPane=Ii;var Ni=Di,Fi=Ni,zi=r("6JX1"),Bi=r("MZF8"),Ui=r("dEAq"),Vi=r("H1Ra"),Gi=r("M/Q6");r("RZMt");function qi(e,t){return $i(e)||Xi(e,t)||Hi(e,t)||Wi()}function Wi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hi(e,t){if(e){if("string"===typeof e)return Zi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zi(e,t):void 0}}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xi(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function $i(e){if(Array.isArray(e))return e}function Yi(e,t){var r,n=null===(r=e.match(/\.(\w+)$/))||void 0===r?void 0:r[1];return n||(n=t.tsx?"tsx":"jsx"),n}var Ki=function(e){var t,r,o,a=Object(n["useRef"])(),s=Object(n["useContext"])(Ui["context"]),u=s.locale,c=Object(Ui["useLocaleProps"])(u,e),l=Object(Ui["useDemoUrl"])(c.identifier),f=c.demoUrl||l,h=(null===Bi["a"]||void 0===Bi["a"]?void 0:Bi["a"].location.hash)==="#".concat(c.identifier),p=1===Object.keys(c.sources).length,d=Object(Ui["useCodeSandbox"])((null===(t=c.hideActions)||void 0===t?void 0:t.includes("CSB"))?null:c),v=Object(Ui["useRiddle"])((null===(r=c.hideActions)||void 0===r?void 0:r.includes("RIDDLE"))?null:c),m=Object(Ui["useMotions"])(c.motions||[],a.current),y=qi(m,2),g=y[0],b=y[1],_=Object(Ui["useCopy"])(),w=qi(_,2),x=w[0],O=w[1],E=Object(n["useState"])((function(){return c.sources._?"_":Object.keys(c.sources)[0]})),j=qi(E,2),S=j[0],k=j[1],T=Object(n["useState"])(Yi(S,c.sources[S])),P=qi(T,2),A=P[0],I=P[1],C=Object(n["useState"])(Boolean(c.defaultShowCode)),R=qi(C,2),M=R[0],L=R[1],D=Object(n["useState"])(Math.random()),N=qi(D,2),F=N[0],z=N[1],B=c.sources[S][A]||c.sources[S].content,U=Object(Ui["useTSPlaygroundUrl"])(u,B),V=Object(n["useRef"])(),G=Object(Ui["usePrefersColor"])(),q=qi(G,1),W=q[0],H=c.actionBarRender,Z=void 0===H?function(e){return e}:H;function X(e){k(e),I(Yi(e,c.sources[e]))}return Object(n["useEffect"])((function(){z(Math.random())}),[W]),i.a.createElement("div",{style:c.style,className:[c.className,"__dumi-default-previewer",h?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:c.identifier,"data-debug":c.debug||void 0,"data-iframe":c.iframe||void 0},c.iframe&&i.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),i.a.createElement("div",{ref:a,className:"__dumi-default-previewer-demo",style:{transform:c.transform?"translate(0, 0)":void 0,padding:c.compact||c.iframe&&!1!==c.compact?"0":void 0,background:c.background}},c.iframe?i.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(c.iframe).replace(/(\d)$/,"$1px")},key:F,src:f,ref:V}):i.a.createElement(zi["ErrorBoundary"],{fallbackRender:function(e){var t=e.error;return i.a.createElement(Gi["a"],{type:"error"},i.a.createElement("h4",null,t.message||"This demo has been crashed."),t.stack&&i.a.createElement("details",null,i.a.createElement("summary",null,"Error stack"),i.a.createElement("pre",null,t.stack)))}},c.children)),i.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":c.title},c.title&&i.a.createElement(Ui["AnchorLink"],{to:"#".concat(c.identifier)},c.title),c.description&&i.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.description}})),i.a.createElement("div",{className:"__dumi-default-previewer-actions"},Z(i.a.createElement(i.a.Fragment,null,d&&i.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:d}),v&&i.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:v}),c.motions&&i.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:b,onClick:function(){return g()}}),c.iframe&&i.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return z(Math.random())}}),!(null===(o=c.hideActions)||void 0===o?void 0:o.includes("EXTERNAL"))&&i.a.createElement(Ui["Link"],{target:"_blank",to:f},i.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),i.a.createElement("span",null),i.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":O,onClick:function(){return x(B)}}),"tsx"===A&&M&&i.a.createElement(Ui["Link"],{target:"_blank",to:U},i.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),i.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(M?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return L(!M)}})))),M&&i.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!p&&i.a.createElement(Fi,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:S,onChange:X},Object.keys(c.sources).map((function(e){return i.a.createElement(Ii,{tab:"_"===e?"index.".concat(Yi(e,c.sources[e])):e,key:e})}))),i.a.createElement("div",{className:"__dumi-default-previewer-source"},i.a.createElement(Vi["a"],{code:B,lang:A,showCopy:!1}))))};t["default"]=Ki},ZzDG:function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r("6h3Y"),i=r("Ud7J");function o(e,t){var r,i=t?t.length:0,o=e?Math.min(i,e.length):0,a=new Array(o),s=new Array(i);for(r=0;r<o;++r)a[r]=Object(n["a"])(e[r],t[r]);for(;r<i;++r)s[r]=t[r];return function(e){for(r=0;r<o;++r)s[r]=a[r](e);return s}}t["a"]=function(e,t){return(Object(i["b"])(t)?i["a"]:o)(e,t)}},a1gu:function(e,t,r){var n=r("cDf5")["default"],i=r("PJYZ");function o(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},a3TU:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"h",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"g",(function(){return f})),r.d(t,"d",(function(){return h}));r("tS8E");var n=1/Math.PI*180,i=1/180*Math.PI,o={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.precision,n=void 0===r?o.precision:r;return e=p(e),"".concat(parseFloat(e.toPrecision(n)))}function s(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function u(e,t){return v(e,(function(e){return e*i}),t)}function c(e,t){return v(e,(function(e){return e*n}),t)}function l(e,t,r){return v(e,(function(e){return Math.max(t,Math.min(r,e))}))}function f(e,t,r){return s(e)?e.map((function(e,n){return f(e,t[n],r)})):r*t+(1-r)*e}function h(e,t,r){var n=o.EPSILON;r&&(o.EPSILON=r);try{if(e===t)return!0;if(s(e)&&s(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!h(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):"number"===typeof e&&"number"===typeof t&&Math.abs(e-t)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{o.EPSILON=n}}function p(e){return Math.round(e/o.EPSILON)*o.EPSILON}function d(e){return e.clone?e.clone():new Array(e.length)}function v(e,t,r){if(s(e)){var n=e;r=r||d(n);for(var i=0;i<r.length&&i<n.length;++i)r[i]=t(e[i],i,r);return r}return t(e)}},a3WO:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},"a5/B":function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{umulh:function(e,t){var r=65535,n=+e,i=+t,o=n&r,a=i&r,s=n>>>16,u=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>>16)+((o*u>>>0)+(c&r)>>>16)}})},a57n:function(e,t,r){var n=r("dG/n");n("search")},aEl4:function(e,t,r){"use strict";e.exports=i;var n=r("XOFf");function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},aI7X:function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!==typeof t||o.call(t)!==a)throw new TypeError(n+t);for(var r,s=i.call(arguments,1),u=function(){if(this instanceof r){var n=t.apply(this,s.concat(i.call(arguments)));return Object(n)===n?n:this}return t.apply(e,s.concat(i.call(arguments)))},c=Math.max(0,t.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(r=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var h=function(){};h.prototype=t.prototype,r.prototype=new h,h.prototype=null}return r}},aJe0:function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},aSns:function(e,t,r){"use strict";var n=r("GrlX"),i=r("uxXc"),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var u={};function c(e,t){if(!(this instanceof c))return new c(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,l;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof c)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var f=n.get(e);if(null===f)throw new Error("Unable to parse color from string: "+e);this.model=f.model,l=i[this.model].channels,this.color=f.value.slice(0,l),this.valpha="number"===typeof f.value[l]?f.value[l]:1}else if(e.length){this.model=t||"rgb",l=i[this.model].channels;var h=o.call(e,0,l);this.color=v(h,l),this.valpha="number"===typeof e[l]?e[l]:1}else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var d=p.sort().join("");if(!(d in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[d];var m=i[this.model].labels,y=[];for(r=0;r<m.length;r++)y.push(e[m[r]]);this.color=v(y)}if(u[this.model])for(l=i[this.model].channels,r=0;r<l;r++){var g=u[this.model][r];g&&(this.color[r]=g(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t){return Number(e.toFixed(t))}function f(e){return function(t){return l(t,e)}}function h(e,t,r){return e=Array.isArray(e)?e:[e],e.forEach((function(e){(u[e]||(u[e]=[]))[t]=r})),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[e](),i.color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function p(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e){return Array.isArray(e)?e:[e]}function v(e,t){for(var r=0;r<t;r++)"number"!==typeof e[r]&&(e[r]=0);return e}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb();t=t.round("number"===typeof e?e:1);var r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new c(this.color.map(f(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:h("rgb",0,p(255)),green:h("rgb",1,p(255)),blue:h("rgb",2,p(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:h("hsl",1,p(100)),lightness:h("hsl",2,p(100)),saturationv:h("hsv",1,p(100)),value:h("hsv",2,p(100)),chroma:h("hcg",1,p(100)),gray:h("hcg",2,p(100)),white:h("hwb",1,p(100)),wblack:h("hwb",2,p(100)),cyan:h("cmyk",0,p(100)),magenta:h("cmyk",1,p(100)),yellow:h("cmyk",2,p(100)),black:h("cmyk",3,p(100)),x:h("xyz",0,p(100)),y:h("xyz",1,p(100)),z:h("xyz",2,p(100)),l:h("lab",0,p(100)),a:h("lab",1),b:h("lab",2),keyword:function(e){return arguments.length?new c(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new c(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return c.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=r.alpha()-n.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return c.rgb(s*r.red()+u*n.red(),s*r.green()+u*n.green(),s*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;c.prototype[e]=function(){if(this.model===e)return new c(this);if(arguments.length)return new c(arguments,e);var r="number"===typeof arguments[t]?t:this.valpha;return new c(d(i[this.model][e].raw(this.color)).concat(r),e)},c[e]=function(r){return"number"===typeof r&&(r=v(o.call(arguments),t)),new c(r,e)}}})),e.exports=c},aUsF:function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}},adU4:function(e,t,r){var n=r("y1pI"),i=Array.prototype,o=i.splice;function a(e){var t=this.__data__,r=n(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():o.call(t,r,1),--this.size,!0}e.exports=a},afO8:function(e,t,r){var n,i,o,a=r("f5p1"),s=r("2oRo"),u=r("hh1v"),c=r("kRJp"),l=r("UTVS"),f=r("93I0"),h=r("0BK2"),p=s.WeakMap,d=function(e){return o(e)?i(e):n(e,{})},v=function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(a){var m=new p,y=m.get,g=m.has,b=m.set;n=function(e,t){return b.call(m,e,t),t},i=function(e){return y.call(m,e)||{}},o=function(e){return g.call(m,e)}}else{var _=f("state");h[_]=!0,n=function(e,t){return c(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:n,get:i,has:o,enforce:d,getterFor:v}},apDx:function(e,t,r){var n=r("dG/n");n("dispose")},avXi:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var n=r("1OyB"),i=r("vuIU"),o=r("ia4Z"),a=r("A9bQ"),s=r("BS1C"),u=r("A4jd"),c=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(n["a"])(this,t),this._data=e,this._opts=r,this._dataFormat=void 0,this._xvizType=void 0,this._message=void 0,this._determineFormat(),!this._dataFormat)throw new Error("Unknown XVIZ data format")}return Object(i["a"])(t,[{key:"buffer",get:function(){return this._data}},{key:"format",get:function(){return this._dataFormat}},{key:"type",get:function(){if(this._message)return this._message.type;if(!this._xvizType){var e=this._opts.messageType||Object(o["b"])(this._data);if(e){var t=e.split("/");this._xvizType={namespace:t[0],type:t[1]}}}return this._xvizType.type}},{key:"hasMessage",value:function(){return void 0!==this._message}},{key:"message",value:function(){var t=null;if(this._message)return this._message;var r=this._data;switch(this._dataFormat){case u["a"].BINARY_GLB:r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),t=Object(o["g"])(r);break;case u["a"].BINARY_PBE:r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),t=Object(o["g"])(r,this._opts);break;case u["a"].JSON_BUFFER:var n=null;r instanceof e?n=r.toString():(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r=new Uint8Array(r),n=new s["TextDecoder"]("utf8").decode(r)),t=JSON.parse(n);break;case u["a"].JSON_STRING:t=JSON.parse(r);break;case u["a"].OBJECT:t=r;break;default:throw new Error("Unsupported format ".concat(this._dataFormat))}var i=new a["a"](t);return i.data?(this._message=i,this._message):null}},{key:"_determineFormat",value:function(){var t=this._opts.messageFormat;if(t)this._dataFormat=t;else{var r=this._data;switch(Object(o["a"])(r)){case"binary":r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),Object(o["f"])(r)?this._dataFormat=u["a"].BINARY_PBE:Object(o["d"])(r)?this._dataFormat=u["a"].BINARY_GLB:(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),Object(o["e"])(r)&&(this._dataFormat=u["a"].JSON_BUFFER));break;case"string":Object(o["e"])(r)&&(this._dataFormat=u["a"].JSON_STRING);break;case"object":this._dataFormat=u["a"].OBJECT;break;default:}}}}]),t}()}).call(this,r("HDXh").Buffer)},b1O7:function(e,t,r){var n=r("g6v/"),i=r("33Wh"),o=r("/GqU"),a=r("0eef").f,s=function(e){return function(t){var r,s=o(t),u=i(s),c=u.length,l=0,f=[];while(c>l)r=u[l++],n&&!a.call(s,r)||f.push(e?[r,s[r]]:s[r]);return f}};e.exports={entries:s(!0),values:s(!1)}},b80T:function(e,t,r){var n=r("UNi/"),i=r("03A+"),o=r("Z0cm"),a=r("DSRE"),s=r("wJg7"),u=r("c6wG"),c=Object.prototype,l=c.hasOwnProperty;function f(e,t){var r=o(e),c=!r&&i(e),f=!r&&!c&&a(e),h=!r&&!c&&!f&&u(e),p=r||c||f||h,d=p?n(e.length,String):[],v=d.length;for(var m in e)!t&&!l.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||d.push(m);return d}e.exports=f},b9ZJ:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"bpfrpt_proptype_RowRendererParams",{enumerable:!0,get:function(){return o.bpfrpt_proptype_RowRendererParams}});var i=n(r("HDaX")),o=r("5SuN")},"bB+V":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("1OyB"),i=r("vuIU"),o=function(){function e(t){if(Object(n["a"])(this,e),!t)throw new Error("Writer must be provided a sink");this.sink=t}return Object(i["a"])(e,[{key:"_checkValid",value:function(){if(!this.sink)throw new Error('Cannot use this Writer after "close()" has been called.')}},{key:"close",value:function(){this.sink&&(this.sink.close(),this.sink=null)}}]),e}()},bFeb:function(e,t,r){var n=r("I+eb"),i=r("2oRo");n({global:!0},{globalThis:i})},bKjm:function(e,t,r){"use strict";r.r(t),r.d(t,"voronoi",(function(){return H}));var n=function(e){return function(){return e}};function i(e){return e[0]}function o(e){return e[1]}function a(){this._=null}function s(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function u(e,t){var r=t,n=t.R,i=r.U;i?i.L===r?i.L=n:i.R=n:e._=n,n.U=i,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function c(e,t){var r=t,n=t.L,i=r.U;i?i.L===r?i.L=n:i.R=n:e._=n,n.U=i,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function l(e){while(e.L)e=e.L;return e}a.prototype={constructor:a,insert:function(e,t){var r,n,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){e=e.R;while(e.L)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=l(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);t.L=t.R=null,t.U=r,t.C=!0,e=t;while(r&&r.C)n=r.U,r===n.L?(i=n.R,i&&i.C?(r.C=i.C=!1,n.C=!0,e=n):(e===r.R&&(u(this,r),e=r,r=e.U),r.C=!1,n.C=!0,c(this,n))):(i=n.L,i&&i.C?(r.C=i.C=!1,n.C=!0,e=n):(e===r.L&&(c(this,r),e=r,r=e.U),r.C=!1,n.C=!0,u(this,n))),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,r,n,i=e.U,o=e.L,a=e.R;if(r=o?a?l(a):o:a,i?i.L===e?i.L=r:i.R=r:this._=r,o&&a?(n=r.C,r.C=e.C,r.L=o,o.U=r,r!==a?(i=r.U,r.U=e.U,e=r.R,i.L=e,r.R=a,a.U=r):(r.U=i,i=r,e=r.R)):(n=e.C,e=r),e&&(e.U=i),!n)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,u(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,c(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,u(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,c(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,u(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,c(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var f=a;function h(e,t,r,n){var i=[null,null],o=B.push(i)-1;return i.left=e,i.right=t,r&&d(i,e,t,r),n&&d(i,t,e,n),F[e.index].halfedges.push(o),F[t.index].halfedges.push(o),i}function p(e,t,r){var n=[t,r];return n.left=e,n}function d(e,t,r,n){e[0]||e[1]?e.left===r?e[1]=n:e[0]=n:(e[0]=n,e.left=t,e.right=r)}function v(e,t,r,n,i){var o,a=e[0],s=e[1],u=a[0],c=a[1],l=s[0],f=s[1],h=0,p=1,d=l-u,v=f-c;if(o=t-u,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=n-u,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<p&&(p=o)}if(o=r-c,v||!(o>0)){if(o/=v,v<0){if(o<h)return;o<p&&(p=o)}else if(v>0){if(o>p)return;o>h&&(h=o)}if(o=i-c,v||!(o<0)){if(o/=v,v<0){if(o>p)return;o>h&&(h=o)}else if(v>0){if(o<h)return;o<p&&(p=o)}return!(h>0||p<1)||(h>0&&(e[0]=[u+h*d,c+h*v]),p<1&&(e[1]=[u+p*d,c+p*v]),!0)}}}}}function m(e,t,r,n,i){var o=e[1];if(o)return!0;var a,s,u=e[0],c=e.left,l=e.right,f=c[0],h=c[1],p=l[0],d=l[1],v=(f+p)/2,m=(h+d)/2;if(d===h){if(v<t||v>=n)return;if(f>p){if(u){if(u[1]>=i)return}else u=[v,r];o=[v,i]}else{if(u){if(u[1]<r)return}else u=[v,i];o=[v,r]}}else if(a=(f-p)/(d-h),s=m-a*v,a<-1||a>1)if(f>p){if(u){if(u[1]>=i)return}else u=[(r-s)/a,r];o=[(i-s)/a,i]}else{if(u){if(u[1]<r)return}else u=[(i-s)/a,i];o=[(r-s)/a,r]}else if(h<d){if(u){if(u[0]>=n)return}else u=[t,a*t+s];o=[n,a*n+s]}else{if(u){if(u[0]<t)return}else u=[n,a*n+s];o=[t,a*t+s]}return e[0]=u,e[1]=o,!0}function y(e,t,r,n){var i,o=B.length;while(o--)m(i=B[o],e,t,r,n)&&v(i,e,t,r,n)&&(Math.abs(i[0][0]-i[1][0])>U||Math.abs(i[0][1]-i[1][1])>U)||delete B[o]}function g(e){return F[e.index]={site:e,halfedges:[]}}function b(e,t){var r=e.site,n=t.left,i=t.right;return r===i&&(i=n,n=r),i?Math.atan2(i[1]-n[1],i[0]-n[0]):(r===n?(n=t[1],i=t[0]):(n=t[0],i=t[1]),Math.atan2(n[0]-i[0],i[1]-n[1]))}function _(e,t){return t[+(t.left!==e.site)]}function w(e,t){return t[+(t.left===e.site)]}function x(){for(var e,t,r,n,i=0,o=F.length;i<o;++i)if((e=F[i])&&(n=(t=e.halfedges).length)){var a=new Array(n),s=new Array(n);for(r=0;r<n;++r)a[r]=r,s[r]=b(e,B[t[r]]);for(a.sort((function(e,t){return s[t]-s[e]})),r=0;r<n;++r)s[r]=t[a[r]];for(r=0;r<n;++r)t[r]=s[r]}}function O(e,t,r,n){var i,o,a,s,u,c,l,f,h,d,v,m,y=F.length,g=!0;for(i=0;i<y;++i)if(o=F[i]){a=o.site,u=o.halfedges,s=u.length;while(s--)B[u[s]]||u.splice(s,1);s=0,c=u.length;while(s<c)d=w(o,B[u[s]]),v=d[0],m=d[1],l=_(o,B[u[++s%c]]),f=l[0],h=l[1],(Math.abs(v-f)>U||Math.abs(m-h)>U)&&(u.splice(s,0,B.push(p(a,d,Math.abs(v-e)<U&&n-m>U?[e,Math.abs(f-e)<U?h:n]:Math.abs(m-n)<U&&r-v>U?[Math.abs(h-n)<U?f:r,n]:Math.abs(v-r)<U&&m-t>U?[r,Math.abs(f-r)<U?h:t]:Math.abs(m-t)<U&&v-e>U?[Math.abs(h-t)<U?f:e,t]:null))-1),++c);c&&(g=!1)}if(g){var b,x,O,E=1/0;for(i=0,g=null;i<y;++i)(o=F[i])&&(a=o.site,b=a[0]-e,x=a[1]-t,O=b*b+x*x,O<E&&(E=O,g=o));if(g){var j=[e,t],S=[e,n],k=[r,n],T=[r,t];g.halfedges.push(B.push(p(a=g.site,j,S))-1,B.push(p(a,S,k))-1,B.push(p(a,k,T))-1,B.push(p(a,T,j))-1)}}for(i=0;i<y;++i)(o=F[i])&&(o.halfedges.length||delete F[i])}var E,j=[];function S(){s(this),this.x=this.y=this.arc=this.site=this.cy=null}function k(e){var t=e.P,r=e.N;if(t&&r){var n=t.site,i=e.site,o=r.site;if(n!==o){var a=i[0],s=i[1],u=n[0]-a,c=n[1]-s,l=o[0]-a,f=o[1]-s,h=2*(u*f-c*l);if(!(h>=-V)){var p=u*u+c*c,d=l*l+f*f,v=(f*p-c*d)/h,m=(u*d-l*p)/h,y=j.pop()||new S;y.arc=e,y.site=i,y.x=v+a,y.y=(y.cy=m+s)+Math.sqrt(v*v+m*m),e.circle=y;var g=null,b=z._;while(b)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}z.insert(g,y),g||(E=y)}}}}function T(e){var t=e.circle;t&&(t.P||(E=t.N),z.remove(t),j.push(t),s(t),e.circle=null)}var P=[];function A(){s(this),this.edge=this.site=this.circle=null}function I(e){var t=P.pop()||new A;return t.site=e,t}function C(e){T(e),N.remove(e),P.push(e),s(e)}function R(e){var t=e.circle,r=t.x,n=t.cy,i=[r,n],o=e.P,a=e.N,s=[e];C(e);var u=o;while(u.circle&&Math.abs(r-u.circle.x)<U&&Math.abs(n-u.circle.cy)<U)o=u.P,s.unshift(u),C(u),u=o;s.unshift(u),T(u);var c=a;while(c.circle&&Math.abs(r-c.circle.x)<U&&Math.abs(n-c.circle.cy)<U)a=c.N,s.push(c),C(c),c=a;s.push(c),T(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],d(c.edge,u.site,c.site,i);u=s[0],c=s[f-1],c.edge=h(u.site,c.site,null,i),k(u),k(c)}function M(e){var t,r,n,i,o=e[0],a=e[1],s=N._;while(s)if(n=L(s,a)-o,n>U)s=s.L;else{if(i=o-D(s,a),!(i>U)){n>-U?(t=s.P,r=s):i>-U?(t=s,r=s.N):t=r=s;break}if(!s.R){t=s;break}s=s.R}g(e);var u=I(e);if(N.insert(t,u),t||r){if(t===r)return T(t),r=I(t.site),N.insert(u,r),u.edge=r.edge=h(t.site,u.site),k(t),void k(r);if(r){T(t),T(r);var c=t.site,l=c[0],f=c[1],p=e[0]-l,v=e[1]-f,m=r.site,y=m[0]-l,b=m[1]-f,_=2*(p*b-v*y),w=p*p+v*v,x=y*y+b*b,O=[(b*w-v*x)/_+l,(p*x-y*w)/_+f];d(r.edge,c,m,O),u.edge=h(c,e,null,O),r.edge=h(e,m,null,O),k(t),k(r)}else u.edge=h(t.site,u.site)}}function L(e,t){var r=e.site,n=r[0],i=r[1],o=i-t;if(!o)return n;var a=e.P;if(!a)return-1/0;r=a.site;var s=r[0],u=r[1],c=u-t;if(!c)return s;var l=s-n,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+n:(n+s)/2}function D(e,t){var r=e.N;if(r)return L(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var N,F,z,B,U=1e-6,V=1e-12;function G(e,t,r){return(e[0]-r[0])*(t[1]-e[1])-(e[0]-t[0])*(r[1]-e[1])}function q(e,t){return t[1]-e[1]||t[0]-e[0]}function W(e,t){var r,n,i,o=e.sort(q).pop();B=[],F=new Array(e.length),N=new f,z=new f;while(1)if(i=E,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===r&&o[1]===n||(M(o),r=o[0],n=o[1]),o=e.pop();else{if(!i)break;R(i.arc)}if(x(),t){var a=+t[0][0],s=+t[0][1],u=+t[1][0],c=+t[1][1];y(a,s,u,c),O(a,s,u,c)}this.edges=B,this.cells=F,N=z=B=F=null}W.prototype={constructor:W,polygons:function(){var e=this.edges;return this.cells.map((function(t){var r=t.halfedges.map((function(r){return _(t,e[r])}));return r.data=t.site.data,r}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(r,n){if(o=(i=r.halfedges).length){var i,o,a,s=r.site,u=-1,c=t[i[o-1]],l=c.left===s?c.right:c.left;while(++u<o)a=l,c=t[i[u]],l=c.left===s?c.right:c.left,a&&l&&n<a.index&&n<l.index&&G(s,a,l)<0&&e.push([s.data,a.data,l.data])}})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,r){var n,i,o=this,a=o._found||0,s=o.cells.length;while(!(i=o.cells[a]))if(++a>=s)return null;var u=e-i.site[0],c=t-i.site[1],l=u*u+c*c;do{i=o.cells[n=a],a=null,i.halfedges.forEach((function(r){var n=o.edges[r],s=n.left;if(s!==i.site&&s||(s=n.right)){var u=e-s[0],c=t-s[1],f=u*u+c*c;f<l&&(l=f,a=s.index)}}))}while(null!==a);return o._found=n,null==r||l<=r*r?i.site:null}};var H=function(){var e=i,t=o,r=null;function a(n){return new W(n.map((function(r,i){var o=[Math.round(e(r,i,n)/U)*U,Math.round(t(r,i,n)/U)*U];return o.index=i,o.data=r,o})),r)}return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(t){return arguments.length?(e="function"===typeof t?t:n(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:n(+e),a):t},a.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},a.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],a):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},a}},bQgK:function(e,t,r){(function(t){(function(){var r,n,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,r=function(){var e;return e=n(),1e9*e[0]+e[1]},o=r(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,r("Q2Ig"))},bT9E:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("VTBJ");function i(e,t){var r=Object(n["a"])({},e);return Array.isArray(t)&&t.forEach((function(e){delete r[e]})),r}},bWFh:function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("lMq5"),a=r("busE"),s=r("8YOa"),u=r("ImZN"),c=r("GarU"),l=r("hh1v"),f=r("0Dky"),h=r("HH4o"),p=r("1E5z"),d=r("cVYH");e.exports=function(e,t,r){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),y=v?"set":"add",g=i[e],b=g&&g.prototype,_=g,w={},x=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(o(e,"function"!=typeof g||!(m||b.forEach&&!f((function(){(new g).entries().next()})))))_=r.getConstructor(t,e,v,y),s.REQUIRED=!0;else if(o(e,!0)){var O=new _,E=O[y](m?{}:-0,1)!=O,j=f((function(){O.has(1)})),S=h((function(e){new g(e)})),k=!m&&f((function(){var e=new g,t=5;while(t--)e[y](t,t);return!e.has(-0)}));S||(_=t((function(t,r){c(t,_,e);var n=d(new g,t,_);return void 0!=r&&u(r,n[y],n,v),n})),_.prototype=b,b.constructor=_),(j||k)&&(x("delete"),x("has"),v&&x("get")),(k||E)&&x(y),m&&b.clear&&delete b.clear}return w[e]=_,n({global:!0,forced:_!=g},w),p(_,e),m||r.setStrong(_,e,v),_}},bWPq:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=e.util.copy(e),p="";h.level++;var d="valid"+h.level;if(n+="var "+f+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u;var v="key"+i,m="idx"+i,y="i"+i,g="' + "+v+" + '",b=h.dataLevel=e.dataLevel+1,_="data"+b,w="dataProperties"+i,x=e.opts.ownProperties,O=e.baseId;x&&(n+=" var "+w+" = undefined; "),n+=x?" "+w+" = "+w+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+w+".length; "+m+"++) { var "+v+" = "+w+"["+m+"]; ":" for (var "+v+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var E=v,j=e.compositeRule;e.compositeRule=h.compositeRule=!0;var S=e.validate(h);h.baseId=O,e.util.varOccurences(S,_)<2?n+=" "+e.util.varReplace(S,_,E)+" ":n+=" var "+_+" = "+E+"; "+S+" ",e.compositeRule=h.compositeRule=j,n+=" if (!"+d+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+v+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+=" "+p+" if ("+f+" == errors) {"),n}},bYHP:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=c(r("q1tI")),o=r("LtsZ"),a=s(r("hKI/"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i["default"]=e,r&&r.set(e,i),i}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function f(e,t){return m(e)||v(e,t)||p(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function m(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var _=new(function(){function e(){y(this,e),this.anchors=[],this.listeners=[],this.listener=void 0,this.listener=(0,a["default"])(this._matchActiveAnchor.bind(this),200)}return b(e,[{key:"_matchActiveAnchor",value:function(){var e=this,t=this.anchors.findIndex((function(t,r){return t.getBoundingClientRect().top>128||r===e.anchors.length-1})),r=this.anchors[Math.max(0,t-1)],n=r.parentElement.id;this.listeners.forEach((function(e){return e(n)}))}},{key:"watch",value:function(e){0===this.anchors.length&&"undefined"!==typeof window&&window.addEventListener("scroll",this.listener),this.anchors.push(e),this.listener()}},{key:"unwatch",value:function(e){this.anchors.splice(this.anchors.findIndex((function(t){return t===e})),1),0===this.anchors.length&&"undefined"!==typeof window&&window.removeEventListener("scroll",this.listener)}},{key:"listen",value:function(e){this.listeners.push(e)}},{key:"unlisten",value:function(e){this.listeners.splice(this.listeners.findIndex((function(t){return t===e})),1)}}]),e}());function w(e){return e.offsetTop+(e.offsetParent?w(e.offsetParent):0)}var x=function e(t){var r,n=(null===(r=t.to.match(/(#[^&?]*)/))||void 0===r?void 0:r[1])||"",a=(0,i.useRef)(null),s=(0,i.useState)(!1),u=f(s,2),c=u[0],h=u[1];return(0,i.useEffect)((function(){var e,t;if(["H1","H2","H3"].includes(null===(e=a.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.tagName)&&a.current.parentElement.id){var r=a.current;return _.watch(r),function(){_.unwatch(r)}}var i=function(e){h(n==="#".concat(e))};return _.listen(i),function(){return _.unlisten(i)}}),[]),i["default"].createElement(o.NavLink,l({},t,{ref:a,onClick:function(){return e.scrollToAnchor(n.substring(1))},isActive:function(){return c}}))};x.scrollToAnchor=function(e){window.requestAnimationFrame((function(){var t=document.getElementById(decodeURIComponent(e));t&&window.scrollTo(0,w(t)-100)}))};var O=x;t["default"]=O},bbcx:function(e,t,r){"use strict";var n=r("82c2"),i=r("PrET"),o=r("1u+m"),a=r("WDQk"),s=r("wVpn"),u=i(a(),Object);n(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},bbyY:function(e,t,r){"use strict";e.exports=a;var n=r("2R+z");(a.prototype=Object.create(n.prototype)).constructor=a;var i=r("XOFf"),o=i.Buffer;function a(){n.call(this)}a.alloc=function(e){return(a.alloc=i._Buffer_allocUnsafe)(e)};var s=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]};function u(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write(e,r)}a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(u,t,e),this}},bdZi:function(e,t,r){var n=r("cyIc");t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&e.forever,unref:e&&e.unref})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout),n},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"===typeof e[i]&&n.push(i);for(var o=0;o<n.length;o++){var a=n[o],s=e[a];e[a]=function(){var n=t.operation(r),i=Array.prototype.slice.call(arguments),o=i.pop();i.push((function(e){n.retry(e)||(e&&(arguments[0]=n.mainError()),o.apply(this,arguments))})),n.attempt((function(){s.apply(e,i)}))},e[a].options=r}}},bdeN:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=r("4WOD"),s=i.has,u=i.toKey,c=function(e,t,r){var n=s(e,t,r);if(n)return!0;var i=a(t);return null!==i&&c(e,i,r)};n({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var r=arguments.length<3?void 0:u(arguments[2]);return c(e,o(t),r)}})},bdgK:function(e,t,r){"use strict";(function(e){var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype["delete"]=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),a=2;function s(e,t){var r=!1,n=!1,i=0;function s(){r&&(r=!1,e()),n&&c()}function u(){o(s)}function c(){var e=Date.now();if(r){if(e-i<a)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=e}return c}var u=20,c=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t,n=c.some((function(e){return!!~r.indexOf(e)}));n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),h=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},d=E(0,0,0,0);function v(e){return parseFloat(e)||0}function m(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){var n=e["border-"+r+"-width"];return t+v(n)}),0)}function y(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],a=e["padding-"+o];r[o]=v(a)}return r}function g(e){var t=e.getBBox();return E(0,0,t.width,t.height)}function b(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=p(e).getComputedStyle(e),i=y(n),o=i.left+i.right,a=i.top+i.bottom,s=v(n.width),u=v(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==t&&(s-=m(n,"left","right")+o),Math.round(u+a)!==r&&(u-=m(n,"top","bottom")+a)),!w(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return E(i.left,i.top,s,u)}var _=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"===typeof e.getBBox}}();function w(e){return e===p(e).document.documentElement}function x(e){return n?_(e)?g(e):b(e):d}function O(e){var t=e.x,r=e.y,n=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return h(a,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),a}function E(e,t,r,n){return{x:e,y:t,width:r,height:n}}var j=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=x(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),S=function(){function e(e,t){var r=O(t);h(this,{target:e,contentRect:r})}return e}(),k=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new j(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new S(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),T="undefined"!==typeof WeakMap?new WeakMap:new r,P=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=f.getInstance(),n=new k(t,r,this);T.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach((function(e){P.prototype[e]=function(){var t;return(t=T.get(this))[e].apply(t,arguments)}}));var A=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:P}();t["a"]=A}).call(this,r("IyRk"))},beRK:function(e,t,r){"use strict";function n(){var e=r("q1tI");return n=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.getDemoUrl=t.getDemoRouteName=t["default"]=void 0;var i=o(r("nLCz"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}function h(){return"BASEMENT"===Object({NODE_ENV:"production"}).PLATFORM_TYPE}var p=function(){return h()?"_demos":"~demos"};t.getDemoRouteName=p;var d=function(e,t){var r,n=window,i=n.location,o=i.href,s=i.origin,u=o.split(/#\//),c=a(u,2),l=c[0],f=c[1],h="string"===typeof f;return[h?"".concat(l,"#"):s,"".concat((null===(r=window)||void 0===r?void 0:r.routerBase)||"","/").replace(/\/\/$/,"/"),p(),"/",e,"".concat(t?".html":"")].join("")};t.getDemoUrl=d;var v=function(e){var t=(0,n().useContext)(i["default"]),r=t.config,o=(0,n().useState)(""),s=a(o,2),u=s[0],c=s[1];return(0,n().useEffect)((function(){c(e?d(e,r.exportStatic&&r.exportStatic.htmlSuffix):null)}),[e,r]),u};t["default"]=v},bfL6:function(e,t,r){var n=r("mGKP");function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(u)throw a}}}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},bl9R:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"l",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"k",(function(){return l})),r.d(t,"h",(function(){return f})),r.d(t,"m",(function(){return h})),r.d(t,"j",(function(){return p})),r.d(t,"d",(function(){return d})),r.d(t,"i",(function(){return v})),r.d(t,"n",(function(){return m})),r.d(t,"o",(function(){return y})),r.d(t,"f",(function(){return g})),r.d(t,"e",(function(){return b}));var n=r("yU0y");function i(){var e=new n["a"](4);return n["a"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function o(e){var t=new n["a"](4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t,r,i){var o=new n["a"](4);return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function l(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function h(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function p(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function d(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function v(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=s+n*(r[3]-s),e}function m(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function y(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2],c=r[3],l=c*n+s*o-u*i,f=c*i+u*n-a*o,h=c*o+a*i-s*n,p=-a*n-s*i-u*o;return e[0]=l*c+p*-a+f*-u-h*-s,e[1]=f*c+p*-s+h*-a-l*-u,e[2]=h*c+p*-u+l*-s-f*-a,e[3]=t[3],e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function b(e,t){var r=e[0],i=e[1],o=e[2],a=e[3],s=t[0],u=t[1],c=t[2],l=t[3];return Math.abs(r-s)<=n["b"]*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=n["b"]*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=n["b"]*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-l)<=n["b"]*Math.max(1,Math.abs(a),Math.abs(l))}(function(){var e=i()})()},"bnU+":function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;var r=0;while(--t%4>1&&"="===e.charAt(t))++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){var n,o=null,a=[],s=0,u=0;while(t<r){var c=e[t++];switch(u){case 0:a[s++]=i[c>>2],n=(3&c)<<4,u=1;break;case 1:a[s++]=i[n|c>>4],n=(15&c)<<2,u=2;break;case 2:a[s++]=i[n|c>>6],a[s++]=i[63&c],u=0;break}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=i[n],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var s="invalid encoding";n.decode=function(e,t,r){for(var n,i=r,a=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=o[c]))throw Error(s);switch(a){case 0:n=c,a=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[r++]=(3&n)<<6|c,a=0;break}}if(1===a)throw Error(s);return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},bnbC:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},busE:function(e,t,r){var n=r("2oRo"),i=r("kRJp"),o=r("UTVS"),a=r("zk60"),s=r("iSVu"),u=r("afO8"),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),l(r).source=f.join("string"==typeof t?t:"")),e!==n?(u?!h&&e[t]&&(c=!0):delete e[t],c?e[t]=r:i(e,t,r)):c?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},bvhh:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o=" ",a=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(s||""),h="valid"+a;if("#"==u||"#/"==u)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===p){var d=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(d);var v=v||[];v.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var m=o;o=v.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,d);e.logger.warn(d),l&&(o+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var g="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=u;var b=e.validate(y).replace(/validate\.schema/g,p.code);o+=" "+b+" ",l&&(o+=" if ("+g+") { ")}else n=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){v=v||[];v.push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var _=s?"data"+(s-1||""):"parentData",w=s?e.dataPathArr[s]:"parentDataProperty";o+=" , "+_+" , "+w+", rootData)  ";var x=o;if(o=v.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+h+"; "),o+=" try { await "+x+"; ",l&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+h+" = false; "),o+=" } ",l&&(o+=" if ("+h+") { ")}else o+=" if (!"+x+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}},bwSX:function(e,t,r){"use strict";r.r(t),r.d(t,"nest",(function(){return s})),r.d(t,"set",(function(){return v})),r.d(t,"map",(function(){return a})),r.d(t,"keys",(function(){return m})),r.d(t,"values",(function(){return y})),r.d(t,"entries",(function(){return g}));var n="$";function i(){}function o(e,t){var r=new i;if(e instanceof i)e.each((function(e,t){r.set(t,e)}));else if(Array.isArray(e)){var n,o=-1,a=e.length;if(null==t)while(++o<a)r.set(o,e[o]);else while(++o<a)r.set(t(n=e[o],o,e),n)}else if(e)for(var s in e)r.set(s,e[s]);return r}i.prototype=o.prototype={constructor:i,has:function(e){return n+e in this},get:function(e){return this[n+e]},set:function(e,t){return this[n+e]=t,this},remove:function(e){var t=n+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===n&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===n&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===n&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===n&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===n&&++e;return e},empty:function(){for(var e in this)if(e[0]===n)return!1;return!0},each:function(e){for(var t in this)t[0]===n&&e(this[t],t.slice(1),this)}};var a=o,s=function(){var e,t,r,n=[],i=[];function o(r,i,s,u){if(i>=n.length)return null!=e&&r.sort(e),null!=t?t(r):r;var c,l,f,h=-1,p=r.length,d=n[i++],v=a(),m=s();while(++h<p)(f=v.get(c=d(l=r[h])+""))?f.push(l):v.set(c,[l]);return v.each((function(e,t){u(m,t,o(e,i,s,u))})),m}function s(e,r){if(++r>n.length)return e;var o,a=i[r-1];return null!=t&&r>=n.length?o=e.entries():(o=[],e.each((function(e,t){o.push({key:t,values:s(e,r)})}))),null!=a?o.sort((function(e,t){return a(e.key,t.key)})):o}return r={object:function(e){return o(e,0,u,c)},map:function(e){return o(e,0,l,f)},entries:function(e){return s(o(e,0,l,f),0)},key:function(e){return n.push(e),r},sortKeys:function(e){return i[n.length-1]=e,r},sortValues:function(t){return e=t,r},rollup:function(e){return t=e,r}}};function u(){return{}}function c(e,t,r){e[t]=r}function l(){return a()}function f(e,t,r){e.set(t,r)}function h(){}var p=a.prototype;function d(e,t){var r=new h;if(e instanceof h)e.each((function(e){r.add(e)}));else if(e){var n=-1,i=e.length;if(null==t)while(++n<i)r.add(e[n]);else while(++n<i)r.add(t(e[n],n,e))}return r}h.prototype=d.prototype={constructor:h,has:p.has,add:function(e){return e+="",this[n+e]=e,this},remove:p.remove,clear:p.clear,values:p.keys,size:p.size,empty:p.empty,each:p.each};var v=d,m=function(e){var t=[];for(var r in e)t.push(r);return t},y=function(e){var t=[];for(var r in e)t.push(e[r]);return t},g=function(e){var t=[];for(var r in e)t.push({key:r,value:e[r]});return t}},"c+Xe":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return s}));var n=r("U8pU"),i=r("TOwV");r("YrtM");function o(e,t){"function"===typeof e?e(t):"object"===Object(n["a"])(e)&&e&&"current"in e&&(e.current=t)}function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return n.length<=1?n[0]:function(e){t.forEach((function(t){o(t,e)}))}}function s(e){var t,r,n=Object(i["isMemo"])(e)?e.type.type:e.type;return!("function"===typeof n&&!(null===(t=n.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(r=e.prototype)||void 0===r?void 0:r.render))}},"c/BZ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ANIMATED_SERIES_PROPS=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.isSeriesChild=f,t.getSeriesChildren=h,t.getStackedData=m,t.getSeriesPropsFromChildren=y,t.getRadialDomain=g,t.getStackParams=b;var i=r("q1tI"),o=c(i),a=r("MLCA"),s=c(a),u=r("V66O");function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=e.type.prototype;return t instanceof s["default"]}function h(e){return o["default"].Children.toArray(e).filter((function(e){return e&&f(e)}))}function p(e){var t={};return e.filter(f).forEach((function(e){var r=e.type.displayName,n=e.props.cluster;t[r]||(t[r]={sameTypeTotal:0,sameTypeIndex:0,clusters:new Set}),t[r].clusters.add(n),t[r].sameTypeTotal++})),t}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e&&e.some((function(e){return e.radius&&e.angle}))}function v(e){return d(e)?e.map((function(e){return n({},e,{x:e.radius*Math.cos(e.angle),y:e.radius*Math.sin(e.angle)})})):e}function m(e,t){var r=e.some((function(e){return e&&e.props.stack})),i={};return e.reduce((function(e,o,a){if(!o)return e.push(null),e;var s=o.type.displayName,u=o.props,c=u.data,f=u.cluster,h=void 0===f?"default":f,p=u.stack,d=v(c,t);if(!t||!d||!d.length||r&&!p)return e.push(d),e;var m=t+"0",y="y"===t?"x":"y";return e.push(d.map((function(e,r){var o,a;i[h]||(i[h]={}),i[h][s]||(i[h][s]={});var u,c=i[h][s][e[y]];if(!c)return i[h][s][e[y]]=(u={},l(u,m,e[m]),l(u,t,e[t]),u),n({},e);var f=n({},e,(o={},l(o,m,c[t]),l(o,t,c[t]+e[t]-(e[m]||0)),o));return i[h][s][e[y]]=(a={},l(a,m,f[m]),l(a,t,f[t]),a),f}))),e}),[])}function y(e){var t=[],r=p(e),i=0,o=u.DEFAULT_OPACITY;return e.forEach((function(e){var a=void 0;if(f(e)){var s=r[e.type.displayName],c=u.DISCRETE_COLOR_RANGE[i%u.DISCRETE_COLOR_RANGE.length];a=n({},s,{seriesIndex:i,_colorValue:c,_opacityValue:o}),s.sameTypeIndex++,i++,e.props.cluster&&(a.cluster=e.props.cluster,a.clusters=Array.from(s.clusters),a.sameTypeTotal=a.clusters.length,a.sameTypeIndex=a.clusters.indexOf(e.props.cluster))}t.push(a)})),t}function g(e){return e.reduce((function(e,t){return Math.max(t.radius,e)}),0)}t.ANIMATED_SERIES_PROPS=["xRange","xDomain","x","yRange","yDomain","y","colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","strokeRange","strokeDomain","stroke","fillRange","fillDomain","fill","width","height","marginLeft","marginTop","marginRight","marginBottom","data","angleDomain","angleRange","angle","radiusDomain","radiusRange","radius","innerRadiusDomain","innerRadiusRange","innerRadius"];function b(e){var t=e._stackBy,r=e.valuePosAttr,n=e.cluster,i=e.sameTypeTotal,o=void 0===i?1:i,a=e.sameTypeIndex,s=void 0===a?0:a;return t!==r||n||(o=1,s=0),{sameTypeTotal:o,sameTypeIndex:s}}},c0go:function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(r[a]=s)}return r}},c162:function(e,t,r){"use strict";var n=r("67WC"),i=r("gdVl"),o=n.aTypedArray,a=n.exportTypedArrayMethod;a("fill",(function(e){return i.apply(o(this),arguments)}))},c6wG:function(e,t,r){var n=r("dD9F"),i=r("sEf8"),o=r("mdPL"),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},c9N0:function(e,t,r){"use strict";var n=r("VvNH");r.d(t,"a",(function(){return n["a"]})),r.d(t,"b",(function(){return n["b"]})),r.d(t,"c",(function(){return n["c"]})),r.d(t,"d",(function(){return n["d"]})),r.d(t,"e",(function(){return n["e"]})),r.d(t,"f",(function(){return n["f"]}))},c9m3:function(e,t,r){var n=r("RNIs");n("flatMap")},cDf5:function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},cHpt:function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,"a",(function(){return n}))},cL0a:function(e,t,r){"use strict";var n=t;n.Service=r("GS+E")},cOPa:function(e,t,r){var n=r("I+eb"),i=Math.min,o=Math.max;n({target:"Math",stat:!0},{clamp:function(e,t,r){return i(r,o(t,e))}})},cRqx:function(e,t,r){"use strict";function n(e){var t=e.cellCount,r=e.cellSize,n=e.computeMetadataCallback,i=e.computeMetadataCallbackProps,o=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,u=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===o&&("number"!==typeof r&&"number"!==typeof a||r===a)||(n(i),u>=0&&u===s&&c())}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},cUtX:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s;var p=h?"(new RegExp("+n+"))":e.usePattern(s);i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+p+".test("+f+") ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=h?""+n:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+n+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},cVYH:function(e,t,r){var n=r("hh1v"),i=r("0rvr");e.exports=function(e,t,r){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(e,a),e}},cb2h:function(e,t,r){"use strict";var n=r("6h3Y");t["a"]=function(e,t){var r,i={},o={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?i[r]=Object(n["a"])(e[r],t[r]):o[r]=t[r];return function(e){for(r in i)o[r]=i[r](e);return o}}},cfiF:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},chBw:function(e,t,r){"use strict";e.exports=f;var n=r("hEtX");((f.prototype=Object.create(n.prototype)).constructor=f).className="Root";var i,o,a,s=r("OuHM"),u=r("Jkyt"),c=r("ye7q"),l=r("CzZC");function f(e){n.call(this,"",e),this.deferred=[],this.files=[]}function h(){}f.fromJSON=function(e,t){return t||(t=new f),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},f.prototype.resolvePath=l.path.resolve,f.prototype.load=function e(t,r,n){"function"===typeof r&&(n=r,r=void 0);var i=this;if(!n)return l.asPromise(e,i,t,r);var s=n===h;function u(e,t){if(n){var r=n;if(n=null,s)throw e;r(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function f(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){o.filename=e;var n,a=o(t,i,r),f=0;if(a.imports)for(;f<a.imports.length;++f)(n=c(a.imports[f])||i.resolvePath(e,a.imports[f]))&&p(n);if(a.weakImports)for(f=0;f<a.weakImports.length;++f)(n=c(a.weakImports[f])||i.resolvePath(e,a.weakImports[f]))&&p(n,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(h){u(h)}s||d||u(null,i)}function p(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)s?f(e,a[e]):(++d,setTimeout((function(){--d,f(e,a[e])})));else if(s){var r;try{r=l.fs.readFileSync(e).toString("utf8")}catch(o){return void(t||u(o))}f(e,r)}else++d,l.fetch(e,(function(r,o){--d,n&&(r?t?d||u(null,i):u(r):f(e,o))}))}var d=0;l.isString(t)&&(t=[t]);for(var v,m=0;m<t.length;++m)(v=i.resolvePath("",t[m]))&&p(v);if(s)return i;d||u(null,i)},f.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,h)},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function d(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}f.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||d(this,e)||this.deferred.push(e);else if(e instanceof u)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof i)for(var t=0;t<this.deferred.length;)d(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p.test(e.name)&&(e.parent[e.name]=e)}},f.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p.test(e.name)&&delete e.parent[e.name]}},f._configure=function(e,t,r){i=e,o=t,a=r}},cjZW:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o=" ",a=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(s||""),p="valid"+a,d="errs__"+a,v=e.opts.$data&&u&&u.$data;v?(o+=" var schema"+a+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=u;var m,y,g,b,_,w=this,x="definition"+a,O=w.definition,E="";if(v&&O.$data){_="keywordValidate"+a;var j=O.validateSchema;o+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+_+" = "+x+".validate;"}else{if(b=e.useCustomRule(w,u,e.schema,e),!b)return;i="validate.schema"+c,_=b.code,m=O.compile,y=O.inline,g=O.macro}var S=_+".errors",k="i"+a,T="ruleErr"+a,P=O.async;if(P&&!e.async)throw new Error("async keyword in sync schema");if(y||g||(o+=S+" = null;"),o+="var "+d+" = errors;var "+p+";",v&&O.$data&&(E+="}",o+=" if ("+i+" === undefined) { "+p+" = true; } else { ",j&&(E+="}",o+=" "+p+" = "+x+".validateSchema("+i+"); if ("+p+") { ")),y)O.statements?o+=" "+b.validate+" ":o+=" "+p+" = "+b.validate+"; ";else if(g){var A=e.util.copy(e);E="";A.level++;var I="valid"+A.level;A.schema=b.validate,A.schemaPath="";var C=e.compositeRule;e.compositeRule=A.compositeRule=!0;var R=e.validate(A).replace(/validate\.schema/g,_);e.compositeRule=A.compositeRule=C,o+=" "+R}else{var M=M||[];M.push(o),o="",o+="  "+_+".call( ",e.opts.passContext?o+="this":o+="self",m||!1===O.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var L=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty";o+=" , "+L+" , "+D+" , rootData )  ";var N=o;o=M.pop(),!1===O.errors?(o+=" "+p+" = ",P&&(o+="await "),o+=N+"; "):P?(S="customErrors"+a,o+=" var "+S+" = null; try { "+p+" = await "+N+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } "):o+=" "+S+" = null; "+p+" = "+N+"; "}if(O.modifying&&(o+=" if ("+L+") "+h+" = "+L+"["+D+"];"),o+=""+E,O.valid)f&&(o+=" if (true) { ");else{o+=" if ( ",void 0===O.valid?(o+=" !",o+=g?""+I:""+p):o+=" "+!O.valid+" ",o+=") { ",n=w.keyword;M=M||[];M.push(o),o="";M=M||[];M.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var F=o;o=M.pop(),!e.compositeRule&&f?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var z=o;o=M.pop(),y?O.errors?"full"!=O.errors&&(o+="  for (var "+k+"="+d+"; "+k+"<errors; "+k+"++) { var "+T+" = vErrors["+k+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+T+".schema = "+i+"; "+T+".data = "+h+"; "),o+=" } "):!1===O.errors?o+=" "+z+" ":(o+=" if ("+d+" == errors) { "+z+" } else {  for (var "+k+"="+d+"; "+k+"<errors; "+k+"++) { var "+T+" = vErrors["+k+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+T+".schema = "+i+"; "+T+".data = "+h+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===O.errors?o+=" "+z+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+k+"="+d+"; "+k+"<errors; "+k+"++) { var "+T+" = vErrors["+k+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(o+=" "+T+".schema = "+i+"; "+T+".data = "+h+"; "),o+=" } } else { "+z+" } "),o+=" } ",f&&(o+=" else { ")}return o}},ckSw:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r("q1tI"),o=c(i),a=r("17x9"),s=c(a),u=r("2Vc7");function c(e){return e&&e.__esModule?e:{default:e}}var l=u.ORIENTATION.LEFT,f=u.ORIENTATION.RIGHT,h=u.ORIENTATION.TOP,p=u.ORIENTATION.BOTTOM,d={height:s["default"].number.isRequired,style:s["default"].object,orientation:s["default"].oneOf([l,f,h,p]).isRequired,width:s["default"].number.isRequired},v={style:{}};function m(e){var t=e.orientation,r=e.width,i=e.height,a=e.style,s=void 0;return s=t===l?{x1:r,x2:r,y1:0,y2:i}:t===f?{x1:0,x2:0,y1:0,y2:i}:t===h?{x1:0,x2:r,y1:i,y2:i}:{x1:0,x2:r,y1:0,y2:0},o["default"].createElement("line",n({},s,{className:"rv-xy-plot__axis__line",style:a}))}m.defaultProps=v,m.displayName="AxisLine",m.propTypes=d,t["default"]=m},ctDJ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),c=r("SEBh"),l=r("WGBp"),f=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=a(this),r=l(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Set"))),h=s(i.add);return f(r,(function(e){h.call(i,n(e,e,t))}),void 0,!1,!0),i}})},cvf0:function(e,t,r){"use strict";var n=r("67WC").exportTypedArrayMethod,i=r("0Dky"),o=r("2oRo"),a=o.Uint8Array,s=a&&a.prototype||{},u=[].toString,c=[].join;i((function(){u.call({})}))&&(u=function(){return c.call(this)});var l=s.toString!=u;n("toString",u,l)},cyIc:function(e,t){function r(e,t){"boolean"===typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=r,r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var r=this,n=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),this._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),t);return this._options.unref&&n.unref(),!0},r.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._fn(this._attempts)},r.prototype["try"]=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},r.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},r.prototype.start=r.prototype["try"],r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=r&&(t=i,r=a)}return t}},"d+r/":function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxProperties"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+f+").length "+p+" "+n+") { ";var d=t,v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=v.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},"d17/":function(e,t,r){"use strict";e.exports=function(e){var t,r=0,n=e.length,i=0;while(i<n)r++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<n&&(t=e.charCodeAt(i),56320==(64512&t)&&i++);return r}},d6cI:function(e,t){var r=1/0,n=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,u=function(e,t,u){var c,l,f,h=new Array(u),p=8*u-t-1,d=(1<<p)-1,v=d>>1,m=23===t?i(2,-24)-i(2,-77):0,y=e<0||0===e&&1/e<0?1:0,g=0;for(e=n(e),e!=e||e===r?(l=e!=e?1:0,c=d):(c=o(a(e)/s),e*(f=i(2,-c))<1&&(c--,f*=2),e+=c+v>=1?m/f:m*i(2,1-v),e*f>=2&&(c++,f/=2),c+v>=d?(l=0,c=d):c+v>=1?(l=(e*f-1)*i(2,t),c+=v):(l=e*i(2,v-1)*i(2,t),c=0));t>=8;h[g++]=255&l,l/=256,t-=8);for(c=c<<t|l,p+=t;p>0;h[g++]=255&c,c/=256,p-=8);return h[--g]|=128*y,h},c=function(e,t){var n,o=e.length,a=8*o-t-1,s=(1<<a)-1,u=s>>1,c=a-7,l=o-1,f=e[l--],h=127&f;for(f>>=7;c>0;h=256*h+e[l],l--,c-=8);for(n=h&(1<<-c)-1,h>>=-c,c+=t;c>0;n=256*n+e[l],l--,c-=8);if(0===h)h=1-u;else{if(h===s)return n?NaN:f?-r:r;n+=i(2,t),h-=u}return(f?-1:1)*n*i(2,h-t)};e.exports={pack:u,unpack:c}},"dBg+":function(e,t){t.f=Object.getOwnPropertySymbols},dD9F:function(e,t,r){var n=r("NykK"),i=r("shjB"),o=r("ExA7"),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",d="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",O="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",P="[object Uint32Array]",A={};function I(e){return o(e)&&i(e.length)&&!!A[n(e)]}A[w]=A[x]=A[O]=A[E]=A[j]=A[S]=A[k]=A[T]=A[P]=!0,A[a]=A[s]=A[b]=A[u]=A[_]=A[c]=A[l]=A[f]=A[h]=A[p]=A[d]=A[v]=A[m]=A[y]=A[g]=!1,e.exports=I},dEAq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnchorLink",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"context",{enumerable:!0,get:function(){return n["default"]}}),Object.defineProperty(t,"getDemoUrl",{enumerable:!0,get:function(){return p.getDemoUrl}}),Object.defineProperty(t,"useApiData",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(t,"useCodeSandbox",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(t,"useCopy",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"useDemoUrl",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(t,"useLocaleProps",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(t,"useMotions",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(t,"usePrefersColor",{enumerable:!0,get:function(){return m["default"]}}),Object.defineProperty(t,"useRiddle",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(t,"useSearch",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"useTSPlaygroundUrl",{enumerable:!0,get:function(){return v["default"]}});var n=b(r("nLCz")),i=b(r("zqmC")),o=b(r("6asN")),a=b(r("bYHP")),s=b(r("t/kZ")),u=b(r("dfPH")),c=b(r("o0kM")),l=b(r("zYLY")),f=b(r("r1Q5")),h=b(r("U/TZ")),p=g(r("beRK")),d=b(r("3QDa")),v=b(r("7sf/")),m=b(r("2N97"));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n["default"]=e,r&&r.set(e,n),n}function b(e){return e&&e.__esModule?e:{default:e}}},"dG/n":function(e,t,r){var n=r("Qo9l"),i=r("UTVS"),o=r("5Tg+"),a=r("m/L8").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},dI71:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("s4An");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(n["a"])(e,t)}},dL5O:function(e,t,r){"use strict";(function(e,n){r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return a}));var i={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document,process:"object"===typeof n&&n},o=(globalThis,i.self||i.window||i.global,i.window||i.self||i.global),a=(i.document,i.process||{});console}).call(this,r("IyRk"),r("Q2Ig"))},"dMo/":function(e,t,r){"use strict";var n=r("q1tI"),i=r.n(n),o=r("hKI/"),a=r.n(o);r("WpQk");function s(e,t){return h(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function h(e){if(Array.isArray(e))return e}var p=function(e){var t=e.children,r=Object(n["useRef"])(),o=Object(n["useState"])(!1),u=s(o,2),c=u[0],l=u[1],f=Object(n["useState"])(!1),h=s(f,2),p=h[0],d=h[1];return Object(n["useEffect"])((function(){var e=r.current,t=a()((function(){l(e.scrollLeft>0),d(e.scrollLeft<e.scrollWidth-e.offsetWidth)}),100);return t(),e.addEventListener("scroll",t),window.addEventListener("resize",t),function(){e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}),[]),i.a.createElement("div",{className:"__dumi-default-table"},i.a.createElement("div",{className:"__dumi-default-table-content",ref:r,"data-left-folded":c||void 0,"data-right-folded":p||void 0},i.a.createElement("table",null,t)))};t["a"]=p},dNT4:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(r,(function(e){if(!n(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},dOgj:function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("g6v/"),a=r("iqeF"),s=r("67WC"),u=r("Yhre"),c=r("GarU"),l=r("XGwC"),f=r("kRJp"),h=r("UMSQ"),p=r("CyXQ"),d=r("GC2F"),v=r("wE6v"),m=r("UTVS"),y=r("9d/t"),g=r("hh1v"),b=r("fHMY"),_=r("0rvr"),w=r("JBy8").f,x=r("oHi+"),O=r("tycR").forEach,E=r("JiZb"),j=r("m/L8"),S=r("Bs8V"),k=r("afO8"),T=r("cVYH"),P=k.get,A=k.set,I=j.f,C=S.f,R=Math.round,M=i.RangeError,L=u.ArrayBuffer,D=u.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,z=s.TypedArray,B=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,V=s.isTypedArray,G="BYTES_PER_ELEMENT",q="Wrong length",W=function(e,t){var r=0,n=t.length,i=new(U(e))(n);while(n>r)i[r]=t[r++];return i},H=function(e,t){I(e,t,{get:function(){return P(this)[t]}})},Z=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},X=function(e,t){return V(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return X(e,t=v(t,!0))?l(2,e[t]):C(e,t)},Y=function(e,t,r){return!(X(e,t=v(t,!0))&&g(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?I(e,t,r):(e[t]=r.value,e)};o?(N||(S.f=$,j.f=Y,H(B,"buffer"),H(B,"byteOffset"),H(B,"byteLength"),H(B,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:$,defineProperty:Y}),e.exports=function(e,t,r){var o=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",u="get"+e,l="set"+e,v=i[s],m=v,y=m&&m.prototype,j={},S=function(e,t){var r=P(e);return r.view[u](t*o+r.byteOffset,!0)},k=function(e,t,n){var i=P(e);r&&(n=(n=R(n))<0?0:n>255?255:255&n),i.view[l](t*o+i.byteOffset,n,!0)},C=function(e,t){I(e,t,{get:function(){return S(this,t)},set:function(e){return k(this,t,e)},enumerable:!0})};N?a&&(m=t((function(e,t,r,n){return c(e,m,s),T(function(){return g(t)?Z(t)?void 0!==n?new v(t,d(r,o),n):void 0!==r?new v(t,d(r,o)):new v(t):V(t)?W(m,t):x.call(m,t):new v(p(t))}(),e,m)})),_&&_(m,z),O(w(v),(function(e){e in m||f(m,e,v[e])})),m.prototype=y):(m=t((function(e,t,r,n){c(e,m,s);var i,a,u,l=0,f=0;if(g(t)){if(!Z(t))return V(t)?W(m,t):x.call(m,t);i=t,f=d(r,o);var v=t.byteLength;if(void 0===n){if(v%o)throw M(q);if(a=v-f,a<0)throw M(q)}else if(a=h(n)*o,a+f>v)throw M(q);u=a/o}else u=p(t),a=u*o,i=new L(a);A(e,{buffer:i,byteOffset:f,byteLength:a,length:u,view:new D(i)});while(l<u)C(e,l++)})),_&&_(m,z),y=m.prototype=b(B)),y.constructor!==m&&f(y,"constructor",m),F&&f(y,F,s),j[s]=m,n({global:!0,forced:m!=v,sham:!N},j),G in m||f(m,G,o),G in y||f(y,G,o),E(s)}):e.exports=function(){}},dPXm:function(e,t,r){"use strict";e.exports=u;var n=r("Jkyt"),i=r("CzZC");function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"));break}return e}function s(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",o(t,"boolean key"));break}return e}function u(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var u=0;u<e.fieldsArray.length;++u){var c=e._fieldsArray[u].resolve(),l="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",o(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,u,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",o(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,u,l+"[i]")("}");else{if(c.partOf){var f=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",f)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",f)}a(t,c,u,l)}c.optional&&t("}")}return t("return null")}},dfPH:function(e,t,r){"use strict";function n(){var e=r("q1tI");return n=function(){return e},e}function i(){var e=o(r("WWur"));return i=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var h=function(){var e=(0,n().useState)(),t=a(e,2),r=t[0],o=t[1],s=(0,n().useState)("ready"),u=a(s,2),c=u[0],l=u[1],f=(0,n().useCallback)((function(e){(0,i()["default"])(e),l("copied"),clearTimeout(r),o(setTimeout((function(){l("ready")}),2e3))}),[]);return[f,c]};t["default"]=h},dm2S:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("ODXe"),i=r("q1tI");function o(e){var t=i["useRef"](!1),r=i["useState"](e),o=Object(n["a"])(r,2),a=o[0],s=o[1];function u(e,r){r&&t.current||s(e)}return i["useEffect"]((function(){return t.current=!1,function(){t.current=!0}}),[]),[a,u]}},dmwd:function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"e+5M":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationPropType=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.extractAnimatedPropValues=b;var o=r("q1tI"),a=f(o),s=r("17x9"),u=f(s),c=r("pD2Y"),l=r("0wEy");function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var m=u["default"].oneOfType([u["default"].string,u["default"].shape({stiffness:u["default"].number,nonAnimatedProps:u["default"].arrayOf(u["default"].string),damping:u["default"].number}),u["default"].bool]),y={animatedProps:u["default"].arrayOf(u["default"].string).isRequired,animation:m,onStart:u["default"].func,onEnd:u["default"].func};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.presets.noWobble;if("string"===typeof e)return l.presets[e]||l.presets.noWobble;var t=e.damping,r=e.stiffness;return i({damping:t||l.presets.noWobble.damping,stiffness:r||l.presets.noWobble.stiffness},e)}function b(e){var t=e.animatedProps,r=v(e,["animatedProps"]);return t.reduce((function(e,t){return r.hasOwnProperty(t)&&(e[t]=r[t]),e}),{})}var _=function(e){function t(e){h(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._motionEndHandler=function(){r.props.onEnd&&r.props.onEnd()},r._renderChildren=function(e){var t=e.i,n=r.props.children,o=r._interpolator,s=a["default"].Children.only(n),u=o?o(t):o,c=u&&u.data||null;return c&&s.props._data&&(c=c.map((function(e,t){var r=s.props._data[t];return i({},e,{parent:r.parent,children:r.children})}))),a["default"].cloneElement(s,i({},s.props,u,{data:c||s.props.data||null,_animation:Math.random()}))},r._updateInterpolator(e),r}return d(t,e),n(t,[{key:"componentWillUpdate",value:function(e){this._updateInterpolator(this.props,e),e.onStart&&e.onStart()}},{key:"_updateInterpolator",value:function(e,t){this._interpolator=(0,c.interpolate)(b(e),t?b(t):null)}},{key:"render",value:function(){var e=g(this.props.animation),t={i:0},r={i:(0,l.spring)(1,e)},n=Math.random();return a["default"].createElement(l.Motion,i({defaultStyle:t,style:r,key:n},{onRest:this._motionEndHandler}),this._renderChildren)}}]),t}(o.PureComponent);_.propTypes=y,_.displayName="Animation",t["default"]=_;t.AnimationPropType=m},e1D4:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.DEFAULT_WIDTH=t.DEFAULT_HEIGHT=void 0;var i=n(r("lwsE")),o=n(r("W8MJ")),a=n(r("lSNA")),s=(r("KrvG"),30);t.DEFAULT_HEIGHT=s;var u=100;t.DEFAULT_WIDTH=u;var c=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i["default"])(this,e),(0,a["default"])(this,"_cellHeightCache",{}),(0,a["default"])(this,"_cellWidthCache",{}),(0,a["default"])(this,"_columnWidthCache",{}),(0,a["default"])(this,"_rowHeightCache",{}),(0,a["default"])(this,"_defaultHeight",void 0),(0,a["default"])(this,"_defaultWidth",void 0),(0,a["default"])(this,"_minHeight",void 0),(0,a["default"])(this,"_minWidth",void 0),(0,a["default"])(this,"_keyMapper",void 0),(0,a["default"])(this,"_hasFixedHeight",void 0),(0,a["default"])(this,"_hasFixedWidth",void 0),(0,a["default"])(this,"_columnCount",0),(0,a["default"])(this,"_rowCount",0),(0,a["default"])(this,"columnWidth",(function(e){var r=e.index,n=t._keyMapper(0,r);return void 0!==t._columnWidthCache[n]?t._columnWidthCache[n]:t._defaultWidth})),(0,a["default"])(this,"rowHeight",(function(e){var r=e.index,n=t._keyMapper(r,0);return void 0!==t._rowHeightCache[n]?t._rowHeightCache[n]:t._defaultHeight}));var n=r.defaultHeight,o=r.defaultWidth,c=r.fixedHeight,f=r.fixedWidth,h=r.keyMapper,p=r.minHeight,d=r.minWidth;this._hasFixedHeight=!0===c,this._hasFixedWidth=!0===f,this._minHeight=p||0,this._minWidth=d||0,this._keyMapper=h||l,this._defaultHeight=Math.max(this._minHeight,"number"===typeof n?n:s),this._defaultWidth=Math.max(this._minWidth,"number"===typeof o?o:u)}return(0,o["default"])(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._keyMapper(e,t);delete this._cellHeightCache[r],delete this._cellWidthCache[r],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var r=this._keyMapper(e,t);return void 0!==this._cellHeightCache[r]?Math.max(this._minHeight,this._cellHeightCache[r]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var r=this._keyMapper(e,t);return void 0!==this._cellWidthCache[r]?Math.max(this._minWidth,this._cellWidthCache[r]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._keyMapper(e,t);return void 0!==this._cellHeightCache[r]}},{key:"set",value:function(e,t,r,n){var i=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[i]=n,this._cellWidthCache[i]=r,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var r=0,n=0;n<this._rowCount;n++)r=Math.max(r,this.getWidth(n,t));var i=this._keyMapper(0,t);this._columnWidthCache[i]=r}if(!this._hasFixedHeight){for(var o=0,a=0;a<this._columnCount;a++)o=Math.max(o,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=o}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function l(e,t){return"".concat(e,"-").concat(t)}t["default"]=c},e4Nc:function(e,t,r){var n=r("fGT3"),i=r("k+1r"),o=r("JHgL"),a=r("pSRY"),s=r("H8j4");function u(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},e5cp:function(e,t,r){var n=r("fmRc"),i=r("or5M"),o=r("HDyB"),a=r("seXi"),s=r("QqLw"),u=r("Z0cm"),c=r("DSRE"),l=r("c6wG"),f=1,h="[object Arguments]",p="[object Array]",d="[object Object]",v=Object.prototype,m=v.hasOwnProperty;function y(e,t,r,v,y,g){var b=u(e),_=u(t),w=b?p:s(e),x=_?p:s(t);w=w==h?d:w,x=x==h?d:x;var O=w==d,E=x==d,j=w==x;if(j&&c(e)){if(!c(t))return!1;b=!0,O=!1}if(j&&!O)return g||(g=new n),b||l(e)?i(e,t,r,v,y,g):o(e,t,w,r,v,y,g);if(!(r&f)){var S=O&&m.call(e,"__wrapped__"),k=E&&m.call(t,"__wrapped__");if(S||k){var T=S?e.value():e,P=k?t.value():t;return g||(g=new n),y(T,P,r,v,g)}}return!!j&&(g||(g=new n),a(e,t,r,v,y,g))}e.exports=y},e9O8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParameters=void 0;var n=r("6xEa");function i(e){return n.compressToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function o(e){return i(JSON.stringify(e))}t.getParameters=o},"eDl+":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eDuk:function(e,t,r){"use strict";var n=r("jQLo"),i=r("qXHa"),o=r("6pwk"),a=r("ugD5"),s=r("9x6x"),u=r("n+SQ"),c=r("wXyd"),l=r("ZsDt"),f=r("+9rK");e.exports=y,y.prototype.validate=g,y.prototype.compile=b,y.prototype.addSchema=_,y.prototype.addMetaSchema=w,y.prototype.validateSchema=x,y.prototype.getSchema=E,y.prototype.removeSchema=k,y.prototype.addFormat=D,y.prototype.errorsText=L,y.prototype._addSchema=P,y.prototype._compile=A,y.prototype.compileAsync=r("sagP");var h=r("//Jx");y.prototype.addKeyword=h.add,y.prototype.getKeyword=h.get,y.prototype.removeKeyword=h.remove,y.prototype.validateKeyword=h.validate;var p=r("iZoB");y.ValidationError=p.Validation,y.MissingRefError=p.MissingRef,y.$dataMetaSchema=l;var d="http://json-schema.org/draft-07/schema",v=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function y(e){if(!(this instanceof y))return new y(e);e=this._opts=f.copy(e)||{},G(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=I(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=V(this),e.formats&&z(this),e.keywords&&B(this),N(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),F(this)}function g(e,t){var r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);return!0!==r.$async&&(this.errors=r.errors),i}function b(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function _(e,t,r,n){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,r,n);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return t=i.normalizeId(t||a),U(this,t),this._schemas[t]=this._addSchema(e,r,n,!0),this}function w(e,t,r){return this.addSchema(e,t,r,!0),this}function x(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||O(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n}function O(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(d)?d:void 0,e._opts.defaultMeta}function E(e){var t=S(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return j(this,e)}}function j(e,t){var r=i.schema.call(e,{schema:{}},t);if(r){var o=r.schema,s=r.root,u=r.baseId,c=n.call(e,o,s,void 0,u);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:u,validate:c}),c}}function S(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function k(e){if(e instanceof RegExp)return T(this,this._schemas,e),T(this,this._refs,e),this;switch(typeof e){case"undefined":return T(this,this._schemas),T(this,this._refs),this._cache.clear(),this;case"string":var t=S(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this}function T(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function P(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,u=this._cache.get(s);if(u)return u;n=n||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&n&&U(this,c);var l,f=!1!==this._opts.validateSchema&&!t;f&&!(l=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),p=new a({id:c,schema:e,localRefs:h,cacheKey:s,meta:r});return"#"!=c[0]&&n&&(this._refs[c]=p),this._cache.put(s,p),f&&l&&this.validateSchema(e,!0),p}function A(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=n.call(this,e.schema,t,e.localRefs)}catch(a){throw delete e.validate,a}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,r=t.apply(this,arguments);return o.errors=t.errors,r}}function I(e){switch(e.schemaId){case"auto":return M;case"id":return C;default:return R}}function C(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function R(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function M(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function L(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var r=void 0===t.separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=n+a.dataPath+" "+a.message+r)}return i.slice(0,-r.length)}function D(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function N(e){var t;if(e._opts.$data&&(t=r("RsDv"),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var n=r("bnbC");e._opts.$data&&(n=l(n,m)),e.addMetaSchema(n,d,!0),e._refs["http://json-schema.org/schema"]=d}}function F(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function z(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function B(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}function U(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function V(e){for(var t=f.copy(e._opts),r=0;r<v.length;r++)delete t[v[r]];return t}function G(e){var t=e._opts.logger;if(!1===t)e.logger={log:q,warn:q,error:q};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function q(){}},eDxR:function(e,t,r){var n=r("Tskq"),i=r("ENF9"),o=r("VpIT"),a=o("metadata"),s=a.store||(a.store=new i),u=function(e,t,r){var i=s.get(e);if(!i){if(!r)return;s.set(e,i=new n)}var o=i.get(t);if(!o){if(!r)return;i.set(t,o=new n)}return o},c=function(e,t,r){var n=u(t,r,!1);return void 0!==n&&n.has(e)},l=function(e,t,r){var n=u(t,r,!1);return void 0===n?void 0:n.get(e)},f=function(e,t,r,n){u(r,n,!0).set(e,t)},h=function(e,t){var r=u(e,t,!1),n=[];return r&&r.forEach((function(e,t){n.push(t)})),n},p=function(e){return void 0===e||"symbol"==typeof e?e:String(e)};e.exports={store:s,getMap:u,has:c,get:l,set:f,keys:h,toKey:p}},eO0o:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{imulh:function(e,t){var r=65535,n=+e,i=+t,o=n&r,a=i&r,s=n>>16,u=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>16)+((o*u>>>0)+(c&r)>>16)}})},eXaU:function(e,t,r){"use strict";var n=r("bnbC");e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},eY4P:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h="errs__"+i,p=e.util.copy(e),d="";p.level++;var v="valid"+p.level,m="i"+i,y=p.dataLevel=e.dataLevel+1,g="data"+y,b=e.baseId;if(n+="var "+h+" = errors;var "+f+";",Array.isArray(a)){var _=e.schema.additionalItems;if(!1===_){n+=" "+f+" = "+l+".length <= "+a.length+"; ";var w=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+f+") {   ";var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var O=n;n=x.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=w,c&&(d+="}",n+=" else { ")}var E=a;if(E){var j,S=-1,k=E.length-1;while(S<k)if(j=E[S+=1],e.opts.strictKeywords?"object"==typeof j&&Object.keys(j).length>0||!1===j:e.util.schemaHasRules(j,e.RULES.all)){n+=" "+v+" = true; if ("+l+".length > "+S+") { ";var T=l+"["+S+"]";p.schema=j,p.schemaPath=s+"["+S+"]",p.errSchemaPath=u+"/"+S,p.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),p.dataPathArr[y]=S;var P=e.validate(p);p.baseId=b,e.util.varOccurences(P,g)<2?n+=" "+e.util.varReplace(P,g,T)+" ":n+=" var "+g+" = "+T+"; "+P+" ",n+=" }  ",c&&(n+=" if ("+v+") { ",d+="}")}}if("object"==typeof _&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+v+" = true; if ("+l+".length > "+a.length+") {  for (var "+m+" = "+a.length+"; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);T=l+"["+m+"]";p.dataPathArr[y]=m;P=e.validate(p);p.baseId=b,e.util.varOccurences(P,g)<2?n+=" "+e.util.varReplace(P,g,T)+" ":n+=" var "+g+" = "+T+"; "+P+" ",c&&(n+=" if (!"+v+") break; "),n+=" } }  ",c&&(n+=" if ("+v+") { ",d+="}")}}else if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+="  for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);T=l+"["+m+"]";p.dataPathArr[y]=m;P=e.validate(p);p.baseId=b,e.util.varOccurences(P,g)<2?n+=" "+e.util.varReplace(P,g,T)+" ":n+=" var "+g+" = "+T+"; "+P+" ",c&&(n+=" if (!"+v+") break; "),n+=" }"}return c&&(n+=" "+d+" if ("+h+" == errors) {"),n}},ebwN:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"Map");e.exports=o},ekgI:function(e,t,r){var n=r("YESw"),i=Object.prototype,o=i.hasOwnProperty;function a(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}e.exports=a},eroE:function(e,t,r){"use strict";e.exports=a;var n=r("MFts"),i=r("1Giq"),o=i("fs");function a(e,t,r){return"function"===typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&o&&o.readFile?o.readFile(e,(function(n,i){return n&&"undefined"!==typeof XMLHttpRequest?a.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))})):a.xhr(e,t,r):n(a,this,e,t)}a.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!==typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},ewvW:function(e,t,r){var n=r("HYAF");e.exports=function(e){return Object(n(e))}},"f/k9":function(e,t,r){"use strict";var n=r("MgzW"),i=r("q1tI");t.useSubscription=function(e){var t=e.getCurrentValue,r=e.subscribe,o=i.useState((function(){return{getCurrentValue:t,subscribe:r,value:t()}}));e=o[0];var a=o[1];return o=e.value,e.getCurrentValue===t&&e.subscribe===r||(o=t(),a({getCurrentValue:t,subscribe:r,value:o})),i.useDebugValue(o),i.useEffect((function(){function e(){if(!i){var e=t();a((function(i){return i.getCurrentValue!==t||i.subscribe!==r||i.value===e?i:n({},i,{value:e})}))}}var i=!1,o=r(e);return e(),function(){i=!0,o()}}),[t,r]),o}},f0wc:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"accessibilityOverscanIndicesGetter",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"defaultCellRangeRenderer",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"defaultOverscanIndicesGetter",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"bpfrpt_proptype_NoContentRenderer",{enumerable:!0,get:function(){return u.bpfrpt_proptype_NoContentRenderer}}),Object.defineProperty(t,"bpfrpt_proptype_Alignment",{enumerable:!0,get:function(){return u.bpfrpt_proptype_Alignment}}),Object.defineProperty(t,"bpfrpt_proptype_CellPosition",{enumerable:!0,get:function(){return u.bpfrpt_proptype_CellPosition}}),Object.defineProperty(t,"bpfrpt_proptype_CellSize",{enumerable:!0,get:function(){return u.bpfrpt_proptype_CellSize}}),Object.defineProperty(t,"bpfrpt_proptype_OverscanIndicesGetter",{enumerable:!0,get:function(){return u.bpfrpt_proptype_OverscanIndicesGetter}}),Object.defineProperty(t,"bpfrpt_proptype_RenderedSection",{enumerable:!0,get:function(){return u.bpfrpt_proptype_RenderedSection}}),Object.defineProperty(t,"bpfrpt_proptype_CellRendererParams",{enumerable:!0,get:function(){return u.bpfrpt_proptype_CellRendererParams}}),Object.defineProperty(t,"bpfrpt_proptype_Scroll",{enumerable:!0,get:function(){return u.bpfrpt_proptype_Scroll}});var i=n(r("f7UO")),o=n(r("NZIM")),a=n(r("Pcg1")),s=n(r("tudb")),u=r("uUy6")},f5p1:function(e,t,r){var n=r("2oRo"),i=r("iSVu"),o=n.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},f66B:function(e,t,r){var n=r("1seS"),i=r("45zb"),o=r("bbcx"),a=r("2Nju"),s=r("5xAX"),u=r("DmXP"),c=Date.prototype.getTime;function l(e,t,r){var n=r||{};return!!(n.strict?o(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?n.strict?o(e,t):e==t:p(e,t,n))}function f(e){return null===e||void 0===e}function h(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}function p(e,t,r){var o,p;if(typeof e!==typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var d=a(e),v=a(t);if(d!==v)return!1;if(d||v)return e.source===t.source&&s(e)===s(t);if(u(e)&&u(t))return c.call(e)===c.call(t);var m=h(e),y=h(t);if(m!==y)return!1;if(m||y){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if(typeof e!==typeof t)return!1;try{var g=n(e),b=n(t)}catch(_){return!1}if(g.length!==b.length)return!1;for(g.sort(),b.sort(),o=g.length-1;o>=0;o--)if(g[o]!=b[o])return!1;for(o=g.length-1;o>=0;o--)if(p=g[o],!l(e[p],t[p],r))return!1;return!0}e.exports=l},f7UO:function(e,t,r){"use strict";var n=r("TqRt"),i=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=void 0;var o,a,s=n(r("pVnL")),u=n(r("lwsE")),c=n(r("W8MJ")),l=n(r("a1gu")),f=n(r("Nsbk")),h=n(r("PJYZ")),p=n(r("7W2i")),d=n(r("lSNA")),v=i(r("q1tI")),m=n(r("iuhU")),y=n(r("cRqx")),g=n(r("VZmc")),b=n(r("mEWj")),_=i(r("tudb")),w=n(r("qLUp")),x=n(r("Pcg1")),O=n(r("j6jG")),E=r("VCL8"),j=r("l8Tq");r("uUy6"),n(r("17x9"));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){(0,d["default"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=150;t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=T;var P={OBSERVED:"observed",REQUESTED:"requested"},A=function(){return null},I=(a=o=function(e){function t(e){var r;(0,u["default"])(this,t),r=(0,l["default"])(this,(0,f["default"])(t).call(this,e)),(0,d["default"])((0,h["default"])(r),"_onGridRenderedMemoizer",(0,b["default"])()),(0,d["default"])((0,h["default"])(r),"_onScrollMemoizer",(0,b["default"])(!1)),(0,d["default"])((0,h["default"])(r),"_deferredInvalidateColumnIndex",null),(0,d["default"])((0,h["default"])(r),"_deferredInvalidateRowIndex",null),(0,d["default"])((0,h["default"])(r),"_recomputeScrollLeftFlag",!1),(0,d["default"])((0,h["default"])(r),"_recomputeScrollTopFlag",!1),(0,d["default"])((0,h["default"])(r),"_horizontalScrollBarSize",0),(0,d["default"])((0,h["default"])(r),"_verticalScrollBarSize",0),(0,d["default"])((0,h["default"])(r),"_scrollbarPresenceChanged",!1),(0,d["default"])((0,h["default"])(r),"_scrollingContainer",void 0),(0,d["default"])((0,h["default"])(r),"_childrenToDisplay",void 0),(0,d["default"])((0,h["default"])(r),"_columnStartIndex",void 0),(0,d["default"])((0,h["default"])(r),"_columnStopIndex",void 0),(0,d["default"])((0,h["default"])(r),"_rowStartIndex",void 0),(0,d["default"])((0,h["default"])(r),"_rowStopIndex",void 0),(0,d["default"])((0,h["default"])(r),"_renderedColumnStartIndex",0),(0,d["default"])((0,h["default"])(r),"_renderedColumnStopIndex",0),(0,d["default"])((0,h["default"])(r),"_renderedRowStartIndex",0),(0,d["default"])((0,h["default"])(r),"_renderedRowStopIndex",0),(0,d["default"])((0,h["default"])(r),"_initialScrollTop",void 0),(0,d["default"])((0,h["default"])(r),"_initialScrollLeft",void 0),(0,d["default"])((0,h["default"])(r),"_disablePointerEventsTimeoutId",void 0),(0,d["default"])((0,h["default"])(r),"_styleCache",{}),(0,d["default"])((0,h["default"])(r),"_cellCache",{}),(0,d["default"])((0,h["default"])(r),"_debounceScrollEndedCallback",(function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})})),(0,d["default"])((0,h["default"])(r),"_invokeOnGridRenderedHelper",(function(){var e=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})})),(0,d["default"])((0,h["default"])(r),"_setScrollingContainerRef",(function(e){r._scrollingContainer=e})),(0,d["default"])((0,h["default"])(r),"_onScroll",(function(e){e.target===r._scrollingContainer&&r.handleScrollEvent(e.target)}));var n=new g["default"]({cellCount:e.columnCount,cellSizeGetter:function(r){return t._wrapSizeGetter(e.columnWidth)(r)},estimatedCellSize:t._getEstimatedColumnSize(e)}),i=new g["default"]({cellCount:e.rowCount,cellSizeGetter:function(r){return t._wrapSizeGetter(e.rowHeight)(r)},estimatedCellSize:t._getEstimatedRowSize(e)});return r.state={instanceProps:{columnSizeAndPositionManager:n,rowSizeAndPositionManager:i,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:_.SCROLL_DIRECTION_FORWARD,scrollDirectionVertical:_.SCROLL_DIRECTION_FORWARD,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(e,r.state)),e.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(e,r.state)),r}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,r=void 0===t?this.props.scrollToAlignment:t,n=e.columnIndex,i=void 0===n?this.props.scrollToColumn:n,o=e.rowIndex,a=void 0===o?this.props.scrollToRow:o,s=k({},this.props,{scrollToAlignment:r,scrollToColumn:i,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,r=void 0===t?0:t,n=e.scrollTop,i=void 0===n?0:n;if(!(i<0)){this._debounceScrollEnded();var o=this.props,a=o.autoHeight,s=o.autoWidth,u=o.height,c=o.width,l=this.state.instanceProps,f=l.scrollbarSize,h=l.rowSizeAndPositionManager.getTotalSize(),p=l.columnSizeAndPositionManager.getTotalSize(),d=Math.min(Math.max(0,p-c+f),r),v=Math.min(Math.max(0,h-u+f),i);if(this.state.scrollLeft!==d||this.state.scrollTop!==v){var m=d!==this.state.scrollLeft?d>this.state.scrollLeft?_.SCROLL_DIRECTION_FORWARD:_.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionHorizontal,y=v!==this.state.scrollTop?v>this.state.scrollTop?_.SCROLL_DIRECTION_FORWARD:_.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionVertical,g={isScrolling:!0,scrollDirectionHorizontal:m,scrollDirectionVertical:y,scrollPositionChangeReason:P.OBSERVED};a||(g.scrollTop=v),s||(g.scrollLeft=d),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:v,totalColumnsWidth:p,totalRowsHeight:h})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,r):r}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,r=e.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(r-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n,o=this.props,a=o.scrollToColumn,s=o.scrollToRow,u=this.state.instanceProps;u.columnSizeAndPositionManager.resetCell(r),u.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===_.SCROLL_DIRECTION_FORWARD?r<=a:r>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===_.SCROLL_DIRECTION_FORWARD?i<=s:i>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,r=e.rowIndex,n=this.props.columnCount,i=this.props;n>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(k({},i,{scrollToColumn:t})),void 0!==r&&this._updateScrollTopForScrollToRow(k({},i,{scrollToRow:r}))}},{key:"componentDidMount",value:function(){var e=this.props,r=e.getScrollbarSize,n=e.height,i=e.scrollLeft,o=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,u=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var t=k({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=r(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"===typeof i&&i>=0||"number"===typeof a&&a>=0){var l=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:a});l&&(l.needToResetStyleCache=!1,this.setState(l))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var f=n>0&&u>0;o>=0&&f&&this._updateScrollLeftForScrollToColumn(),s>=0&&f&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var r=this,n=this.props,i=n.autoHeight,o=n.autoWidth,a=n.columnCount,s=n.height,u=n.rowCount,c=n.scrollToAlignment,l=n.scrollToColumn,f=n.scrollToRow,h=n.width,p=this.state,d=p.scrollLeft,v=p.scrollPositionChangeReason,m=p.scrollTop,y=p.instanceProps;this._handleInvalidatedGridSize();var g=a>0&&0===e.columnCount||u>0&&0===e.rowCount;v===P.REQUESTED&&(!o&&d>=0&&(d!==this._scrollingContainer.scrollLeft||g)&&(this._scrollingContainer.scrollLeft=d),!i&&m>=0&&(m!==this._scrollingContainer.scrollTop||g)&&(this._scrollingContainer.scrollTop=m));var b=(0===e.width||0===e.height)&&s>0&&h>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):(0,w["default"])({cellSizeAndPositionManager:y.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:d,scrollToAlignment:c,scrollToIndex:l,size:h,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return r._updateScrollLeftForScrollToColumn(r.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):(0,w["default"])({cellSizeAndPositionManager:y.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:m,scrollToAlignment:c,scrollToIndex:f,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return r._updateScrollTopForScrollToRow(r.props)}}),this._invokeOnGridRenderedHelper(),d!==t.scrollLeft||m!==t.scrollTop){var _=y.rowSizeAndPositionManager.getTotalSize(),x=y.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:m,totalColumnsWidth:x,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&(0,j.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,r=e.autoHeight,n=e.autoWidth,i=e.className,o=e.containerProps,a=e.containerRole,u=e.containerStyle,c=e.height,l=e.id,f=e.noContentRenderer,h=e.role,p=e.style,d=e.tabIndex,y=e.width,g=this.state,b=g.instanceProps,_=g.needToResetStyleCache,w=this._isScrolling(),x={boxSizing:"border-box",direction:"ltr",height:r?"auto":c,position:"relative",width:n?"auto":y,WebkitOverflowScrolling:"touch",willChange:"transform"};_&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var O=b.columnSizeAndPositionManager.getTotalSize(),E=b.rowSizeAndPositionManager.getTotalSize(),j=E>c?b.scrollbarSize:0,S=O>y?b.scrollbarSize:0;S===this._horizontalScrollBarSize&&j===this._verticalScrollBarSize||(this._horizontalScrollBarSize=S,this._verticalScrollBarSize=j,this._scrollbarPresenceChanged=!0),x.overflowX=O+j<=y?"hidden":"auto",x.overflowY=E+S<=c?"hidden":"auto";var T=this._childrenToDisplay,P=0===T.length&&c>0&&y>0;return v.createElement("div",(0,s["default"])({ref:this._setScrollingContainerRef},o,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:(0,m["default"])("ReactVirtualized__Grid",i),id:l,onScroll:this._onScroll,role:h,style:k({},x,{},p),tabIndex:d}),T.length>0&&v.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:k({width:t?"auto":O,height:E,maxWidth:O,maxHeight:E,overflow:"hidden",pointerEvents:w?"none":"",position:"relative"},u)},T),P&&f())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e.cellRenderer,n=e.cellRangeRenderer,i=e.columnCount,o=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,u=e.overscanIndicesGetter,c=e.overscanRowCount,l=e.rowCount,f=e.width,h=e.isScrollingOptOut,p=t.scrollDirectionHorizontal,d=t.scrollDirectionVertical,v=t.instanceProps,m=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,y=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,g=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&f>0){var b=v.columnSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:y}),_=v.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:m}),w=v.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:y}),x=v.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:m});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var O=u({direction:"horizontal",cellCount:i,overscanCellsCount:s,scrollDirection:p,startIndex:"number"===typeof b.start?b.start:0,stopIndex:"number"===typeof b.stop?b.stop:-1}),E=u({direction:"vertical",cellCount:l,overscanCellsCount:c,scrollDirection:d,startIndex:"number"===typeof _.start?_.start:0,stopIndex:"number"===typeof _.stop?_.stop:-1}),j=O.overscanStartIndex,S=O.overscanStopIndex,k=E.overscanStartIndex,T=E.overscanStopIndex;if(o){if(!o.hasFixedHeight())for(var P=k;P<=T;P++)if(!o.has(P,0)){j=0,S=i-1;break}if(!o.hasFixedWidth())for(var A=j;A<=S;A++)if(!o.has(0,A)){k=0,T=l-1;break}}this._childrenToDisplay=n({cellCache:this._cellCache,cellRenderer:r,columnSizeAndPositionManager:v.columnSizeAndPositionManager,columnStartIndex:j,columnStopIndex:S,deferredMeasurementCache:o,horizontalOffsetAdjustment:w,isScrolling:g,isScrollingOptOut:h,parent:this,rowSizeAndPositionManager:v.rowSizeAndPositionManager,rowStartIndex:k,rowStopIndex:T,scrollLeft:y,scrollTop:m,styleCache:this._styleCache,verticalOffsetAdjustment:x,visibleColumnIndices:b,visibleRowIndices:_}),this._columnStartIndex=j,this._columnStopIndex=S,this._rowStartIndex=k,this._rowStopIndex=T}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&(0,j.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(0,j.requestAnimationTimeout)(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"===typeof this._deferredInvalidateColumnIndex&&"number"===typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,r=e.scrollLeft,n=e.scrollTop,i=e.totalColumnsWidth,o=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var r=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height,u=a.onScroll,c=a.width;u({clientHeight:s,clientWidth:c,scrollHeight:o,scrollLeft:r,scrollTop:n,scrollWidth:i})},indices:{scrollLeft:r,scrollTop:n}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var r=e.scrollLeft,n=e.scrollTop,i=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:n});i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollLeftForScrollToColumnStateUpdate(e,r);n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,r)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,r=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var n=this._rowStartIndex;n<=this._rowStopIndex;n++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var o="".concat(n,"-").concat(i);this._styleCache[o]=e[o],r&&(this._cellCache[o]=t[o])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollTopForScrollToRowStateUpdate(e,r);n&&(n.needToResetStyleCache=!1,this.setState(n))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var n={};0===e.columnCount&&0!==r.scrollLeft||0===e.rowCount&&0!==r.scrollTop?(n.scrollLeft=0,n.scrollTop=0):(e.scrollLeft!==r.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==r.scrollTop&&e.scrollToRow<0)&&Object.assign(n,t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i,o,a=r.instanceProps;return n.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(n.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(n,{isScrolling:!1}),(0,y["default"])({cellCount:a.prevColumnCount,cellSize:"number"===typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"===typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollLeftForScrollToColumnStateUpdate(e,r)}}),(0,y["default"])({cellCount:a.prevRowCount,cellSize:"number"===typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"===typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollTopForScrollToRowStateUpdate(e,r)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,n.instanceProps=a,k({},n,{},i,{},o)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"===typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"===typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,r=e.scrollLeft,n=e.scrollTop,i={scrollPositionChangeReason:P.REQUESTED};return"number"===typeof r&&r>=0&&(i.scrollDirectionHorizontal=r>t.scrollLeft?_.SCROLL_DIRECTION_FORWARD:_.SCROLL_DIRECTION_BACKWARD,i.scrollLeft=r),"number"===typeof n&&n>=0&&(i.scrollDirectionVertical=n>t.scrollTop?_.SCROLL_DIRECTION_FORWARD:_.SCROLL_DIRECTION_BACKWARD,i.scrollTop=n),"number"===typeof r&&r>=0&&r!==t.scrollLeft||"number"===typeof n&&n>=0&&n!==t.scrollTop?i:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"===typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var r=e.columnCount,n=e.height,i=e.scrollToAlignment,o=e.scrollToColumn,a=e.width,s=t.scrollLeft,u=t.instanceProps;if(r>0){var c=r-1,l=o<0?c:Math.min(c,o),f=u.rowSizeAndPositionManager.getTotalSize(),h=u.scrollbarSizeMeasured&&f>n?u.scrollbarSize:0;return u.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:a-h,currentOffset:s,targetIndex:l})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,r){var n=r.scrollLeft,i=t._getCalculatedScrollLeft(e,r);return"number"===typeof i&&i>=0&&n!==i?t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:i,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var r=e.height,n=e.rowCount,i=e.scrollToAlignment,o=e.scrollToRow,a=e.width,s=t.scrollTop,u=t.instanceProps;if(n>0){var c=n-1,l=o<0?c:Math.min(c,o),f=u.columnSizeAndPositionManager.getTotalSize(),h=u.scrollbarSizeMeasured&&f>a?u.scrollbarSize:0;return u.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:r-h,currentOffset:s,targetIndex:l})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,r){var n=r.scrollTop,i=t._getCalculatedScrollTop(e,r);return"number"===typeof i&&i>=0&&n!==i?t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:i}):{}}}]),t}(v.PureComponent),(0,d["default"])(o,"propTypes",null),a);(0,d["default"])(I,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:x["default"],containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:O["default"],noContentRenderer:A,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:_["default"],overscanRowCount:10,role:"grid",scrollingResetTimeInterval:T,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),(0,E.polyfill)(I);var C=I;t["default"]=C},fGT3:function(e,t,r){var n=r("4kuk"),i=r("Xi7e"),o=r("ebwN");function a(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}e.exports=a},fHMY:function(e,t,r){var n,i=r("glrk"),o=r("N+g0"),a=r("eDl+"),s=r("0BK2"),u=r("G+Rx"),c=r("zBJ4"),l=r("93I0"),f=">",h="<",p="prototype",d="script",v=l("IE_PROTO"),m=function(){},y=function(e){return h+d+f+e+h+"/"+d+f},g=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),r="java"+d+":";return t.style.display="none",u.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},_=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=n?g(n):b();var e=a.length;while(e--)delete _[p][a[e]];return _()};s[v]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[p]=i(e),r=new m,m[p]=null,r[v]=e):r=_(),void 0===t?r:o(r,t)}},fN96:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ZUd8").charAt;n({target:"String",proto:!0},{at:function(e){return i(this,e)}})},"fR/l":function(e,t,r){var n=r("CH3K"),i=r("Z0cm");function o(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}e.exports=o},fVI1:function(e,t,r){},fWQN:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},fXKH:function(e,t,r){"use strict";t.__esModule=!0,t["default"]=i;var n=[0,0];function i(e,t,r,i,o,a,s){var u=-o*(t-i),c=-a*r,l=u+c,f=r+l*e,h=t+f*e;return Math.abs(f)<s&&Math.abs(h-i)<s?(n[0]=i,n[1]=0,n):(n[0]=h,n[1]=f,n)}e.exports=t["default"]},fXLg:function(e,t,r){"use strict";var n=r("glrk"),i=r("HAuM");e.exports=function(){for(var e=n(this),t=i(e.add),r=0,o=arguments.length;r<o;r++)t.call(e,arguments[r]);return e}},"fa/P":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("q1tI"),a=g(o),s=r("17x9"),u=g(s),c=r("f66B"),l=g(c),f=r("PAve"),h=r("c/BZ"),p=r("wbcz"),d=r("e+5M"),v=r("V66O"),m=r("tfas"),y=g(m);function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=["x","y","radius","angle","color","fill","stroke","opacity","size"];function j(e){return e.map((function(e){return Array.isArray(e)?e.map((function(e){return i({},e,{parent:null})})):e}))}function S(e,t,r){var n=i({},e,{_allData:r?j(e._allData):e._allData}),o=i({},t,{_allData:r?j(t._allData):t._allData});return(0,l["default"])(n,o)}var k=function(e){function t(e){w(this,t);var r=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));T.call(r);var n=e.stackBy,i=(0,h.getSeriesChildren)(e.children),o=(0,h.getStackedData)(i,n);return r.state={scaleMixins:r._getScaleMixins(o,e),data:o},r}return O(t,e),n(t,null,[{key:"defaultProps",get:function(){return{className:""}}},{key:"propTypes",get:function(){return{animation:d.AnimationPropType,className:u["default"].string,dontCheckIfEmpty:u["default"].bool,height:u["default"].number.isRequired,margin:p.MarginPropType,onClick:u["default"].func,onDoubleClick:u["default"].func,onMouseDown:u["default"].func,onMouseUp:u["default"].func,onMouseEnter:u["default"].func,onMouseLeave:u["default"].func,onMouseMove:u["default"].func,onTouchStart:u["default"].func,onTouchMove:u["default"].func,onTouchEnd:u["default"].func,onTouchCancel:u["default"].func,onWheel:u["default"].func,stackBy:u["default"].oneOf(E),style:u["default"].object,width:u["default"].number.isRequired}}}]),n(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,h.getSeriesChildren)(e.children),r=(0,h.getStackedData)(t,e.stackBy),n=this.state.scaleMixins,i=this._getScaleMixins(r,e);S(i,n,e.hasTreeStructure)||this.setState({scaleMixins:i,data:r})}},{key:"_getClonedChildComponents",value:function(){var e=this,t=this.props,r=this.props.animation,n=this.state,o=n.scaleMixins,s=n.data,u=(0,p.getInnerDimensions)(this.props,p.DEFAULT_MARGINS),c=a["default"].Children.toArray(this.props.children),l=(0,h.getSeriesPropsFromChildren)(c),d=(0,f.getXYPlotValues)(t,c);return c.map((function(t,n){var c=null;if(l[n]){var f=l[n].seriesIndex;c={data:s[f]}}return a["default"].cloneElement(t,i({},u,{animation:r},c&&t.type.prototype&&t.type.prototype.render?{ref:function(t){return e["series"+l[n].seriesIndex]=t}}:{},l[n],o,t.props,d[n],c))}))}},{key:"_getDefaultScaleProps",value:function(e){var t=(0,p.getInnerDimensions)(e,p.DEFAULT_MARGINS),r=t.innerWidth,n=t.innerHeight,o=["color","fill","stroke"].reduce((function(t,r){var n="category"===e[r+"Type"]?v.EXTENDED_DISCRETE_COLOR_RANGE:v.CONTINUOUS_COLOR_RANGE;return i({},t,_({},r+"Range",n))}),{});return i({xRange:[0,r],yRange:[n,0]},o,{opacityType:v.OPACITY_TYPE,sizeRange:v.SIZE_RANGE})}},{key:"_getScaleMixins",value:function(e,t){var r,n=e.filter((function(e){return e})),o=(r=[]).concat.apply(r,b(n)),a=this._getDefaultScaleProps(t),s=(0,f.getOptionalScaleProps)(t),u=(0,f.extractScalePropsFromProps)(t,E),c=(0,f.getMissingScaleProps)(i({},a,s,u),o,E),l=(0,h.getSeriesChildren)(t.children),p={},d=new Set,v=new Set;return l.forEach((function(r,n){r&&e[n]&&E.forEach((function(e){var i=r.type.getParentConfig(e,r.props),o=i.isDomainAdjustmentNeeded,a=i.zeroBaseValue;if(o&&(d.add(e),v.add(n)),a){var s=t[e+"Domain"];p[e+"BaseValue"]=s?s[0]:0}}))})),i({},a,p,u,c,{_allData:e,_adjustBy:Array.from(d),_adjustWhat:Array.from(v),_stackBy:t.stackBy})}},{key:"_isPlotEmpty",value:function(){var e=this.state.data;return!e||!e.length||!e.some((function(e){return e&&e.some((function(e){return e}))}))}},{key:"renderCanvasComponents",value:function(e,t){var r=e.filter((function(e){return e&&!e.type.requiresSVG&&e.type.isCanvas}));if(0===r.length)return null;var n=r[0].props,i=n.marginLeft,o=n.marginTop,s=n.marginBottom,u=n.marginRight,c=n.innerHeight,l=n.innerWidth;return a["default"].createElement(y["default"],{innerHeight:c,innerWidth:l,marginLeft:i,marginTop:o,marginBottom:s,marginRight:u},r)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.dontCheckIfEmpty,n=e.style,o=e.width,s=e.height;if(!r&&this._isPlotEmpty())return a["default"].createElement("div",{className:"rv-xy-plot "+t,style:i({width:o+"px",height:s+"px"},this.props.style)});var u=this._getClonedChildComponents();return a["default"].createElement("div",{style:{width:o+"px",height:s+"px"},className:"rv-xy-plot "+t},a["default"].createElement("svg",{className:"rv-xy-plot__inner",width:o,height:s,style:n,onClick:this._clickHandler,onDoubleClick:this._doubleClickHandler,onMouseDown:this._mouseDownHandler,onMouseUp:this._mouseUpHandler,onMouseMove:this._mouseMoveHandler,onMouseLeave:this._mouseLeaveHandler,onMouseEnter:this._mouseEnterHandler,onTouchStart:this._mouseDownHandler,onTouchMove:this._touchMoveHandler,onTouchEnd:this._touchEndHandler,onTouchCancel:this._touchCancelHandler,onWheel:this._wheelHandler},u.filter((function(e){return e&&e.type.requiresSVG}))),this.renderCanvasComponents(u,this.props),u.filter((function(e){return e&&!e.type.requiresSVG&&!e.type.isCanvas})))}}]),t}(a["default"].Component),T=function(){var e=this;this._clickHandler=function(t){var r=e.props.onClick;r&&r(t)},this._doubleClickHandler=function(t){var r=e.props.onDoubleClick;r&&r(t)},this._mouseDownHandler=function(t){var r=e.props,n=r.onMouseDown,i=r.children;n&&n(t);var o=(0,h.getSeriesChildren)(i);o.forEach((function(r,n){var i=e["series"+n];i&&i.onParentMouseDown&&i.onParentMouseDown(t)}))},this._mouseEnterHandler=function(t){var r=e.props,n=r.onMouseEnter,i=r.children;n&&n(t);var o=(0,h.getSeriesChildren)(i);o.forEach((function(r,n){var i=e["series"+n];i&&i.onParentMouseEnter&&i.onParentMouseEnter(t)}))},this._mouseLeaveHandler=function(t){var r=e.props,n=r.onMouseLeave,i=r.children;n&&n(t);var o=(0,h.getSeriesChildren)(i);o.forEach((function(r,n){var i=e["series"+n];i&&i.onParentMouseLeave&&i.onParentMouseLeave(t)}))},this._mouseMoveHandler=function(t){var r=e.props,n=r.onMouseMove,i=r.children;n&&n(t);var o=(0,h.getSeriesChildren)(i);o.forEach((function(r,n){var i=e["series"+n];i&&i.onParentMouseMove&&i.onParentMouseMove(t)}))},this._mouseUpHandler=function(t){var r=e.props,n=r.onMouseUp,i=r.children;n&&n(t);var o=(0,h.getSeriesChildren)(i);o.forEach((function(r,n){var i=e["series"+n];i&&i.onParentMouseUp&&i.onParentMouseUp(t)}))},this._touchCancelHandler=function(t){var r=e.props.onTouchCancel;r&&r(t)},this._touchEndHandler=function(t){var r=e.props.onTouchEnd;r&&r(t)},this._touchMoveHandler=function(t){var r=e.props,n=r.onTouchMove,i=r.children;n&&n(t);var o=(0,h.getSeriesChildren)(i);o.forEach((function(r,n){var i=e["series"+n];i&&i.onParentTouchMove&&i.onParentTouchMove(t)}))},this._touchStartHandler=function(t){var r=e.props,n=r.onTouchStart,i=r.children;n&&n(t);var o=(0,h.getSeriesChildren)(i);o.forEach((function(r,n){var i=e["series"+n];i&&i.onParentTouchStart&&i.onParentTouchStart(t)}))},this._wheelHandler=function(t){var r=e.props.onWheel;r&&r(t)}};k.displayName="XYPlot",t["default"]=k},fdAy:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ntOU"),o=r("4WOD"),a=r("0rvr"),s=r("1E5z"),u=r("kRJp"),c=r("busE"),l=r("tiKp"),f=r("xDBR"),h=r("P4y1"),p=r("rpNk"),d=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),y="keys",g="values",b="entries",_=function(){return this};e.exports=function(e,t,r,l,p,w,x){i(r,t,l);var O,E,j,S=function(e){if(e===p&&I)return I;if(!v&&e in P)return P[e];switch(e){case y:return function(){return new r(this,e)};case g:return function(){return new r(this,e)};case b:return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",T=!1,P=e.prototype,A=P[m]||P["@@iterator"]||p&&P[p],I=!v&&A||S(p),C="Array"==t&&P.entries||A;if(C&&(O=o(C.call(new e)),d!==Object.prototype&&O.next&&(f||o(O)===d||(a?a(O,d):"function"!=typeof O[m]&&u(O,m,_)),s(O,k,!0,!0),f&&(h[k]=_))),p==g&&A&&A.name!==g&&(T=!0,I=function(){return A.call(this)}),f&&!x||P[m]===I||u(P,m,I),h[t]=I,p)if(E={values:S(g),keys:w?I:S(y),entries:S(b)},x)for(j in E)(v||T||!(j in P))&&c(P,j,E[j]);else n({target:t,proto:!0,forced:v||T},E);return E}},fhKU:function(e,t,r){var n=r("2oRo"),i=r("WKiH").trim,o=r("WJkJ"),a=n.parseFloat,s=1/a(o+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),r=a(t);return 0===r&&"-"==t.charAt(0)?-0:r}:a},fmRc:function(e,t,r){var n=r("Xi7e"),i=r("77Zs"),o=r("L8xA"),a=r("gCq4"),s=r("VaNO"),u=r("0Cz8");function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype["delete"]=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},foS9:function(e,t,r){},foSv:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,"a",(function(){return n}))},fsL8:function(e,t,r){var n=r("cDf5")["default"];function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(I){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new T(n||[]);return a(o,"_invoke",{value:E(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}t.wrap=h;var d={};function v(){}function m(){}function y(){}var g={};f(g,u,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==r&&o.call(_,u)&&(g=_);var w=y.prototype=v.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(i,a,s,u){var c=p(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function E(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return A()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=j(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=p(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=y,a(w,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:m,configurable:!0}),m.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(O.prototype),f(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new O(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(w),f(w,l,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},ftKO:function(e,t){var r="__lodash_hash_undefined__";function n(e){return this.__data__.set(e,r),this}e.exports=n},ftMj:function(e,t,r){var n=r("I+eb"),i=r("glrk"),o=r("hh1v"),a=r("UTVS"),s=r("0Dky"),u=r("m/L8"),c=r("Bs8V"),l=r("4WOD"),f=r("XGwC");function h(e,t,r){var n,s,p=arguments.length<4?e:arguments[3],d=c.f(i(e),t);if(!d){if(o(s=l(e)))return h(s,t,r,p);d=f(0)}if(a(d,"value")){if(!1===d.writable||!o(p))return!1;if(n=c.f(p,t)){if(n.get||n.set||!1===n.writable)return!1;n.value=r,u.f(p,t,n)}else u.f(p,t,f(0,r));return!0}return void 0!==d.set&&(d.set.call(p,r),!0)}var p=s((function(){var e=u.f({},"a",{configurable:!0});return!1!==Reflect.set(l(e),"a",1,e)}));n({target:"Reflect",stat:!0,forced:p},{set:h})},"g6v/":function(e,t,r){var n=r("0Dky");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},gCq4:function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},gOCb:function(e,t,r){var n=r("dG/n");n("replace")},gXIK:function(e,t,r){var n=r("dG/n");n("toPrimitive")},gYJb:function(e,t,r){var n=r("I+eb"),i=r("p5mE"),o=r("0GbY"),a=r("fHMY"),s=function(){var e=o("Object","freeze");return e?e(a(null)):a(null)};n({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},gdVl:function(e,t,r){"use strict";var n=r("ewvW"),i=r("I8vh"),o=r("UMSQ");e.exports=function(e){var t=n(this),r=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);while(c>s)t[s++]=e;return t}},gg6r:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HAuM"),o=r("8GlL"),a=r("5mdu"),s=r("ImZN");n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,c=a((function(){var r=i(t.resolve),o=[],a=0,u=1;s(e,(function(e){var i=a++,s=!1;o.push(void 0),u++,r.call(t,e).then((function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--u||n(o))}),(function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--u||n(o))}))})),--u||n(o)}));return c.error&&u(c.value),r.promise}})},glrk:function(e,t,r){var n=r("hh1v");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},gvgV:function(e,t,r){"use strict";var n=r("67WC"),i=r("TWQb").includes,o=n.aTypedArray,a=n.exportTypedArrayMethod;a("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},h0XC:function(e,t){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},hBjN:function(e,t,r){"use strict";var n=r("wE6v"),i=r("m/L8"),o=r("XGwC");e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},hByQ:function(e,t,r){"use strict";var n=r("14Sl"),i=r("glrk"),o=r("HYAF"),a=r("Ep9I"),s=r("FMNM");n("search",1,(function(e,t,r){return[function(t){var r=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=i(e),u=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var l=s(o,u);return a(o.lastIndex,c)||(o.lastIndex=c),null===l?-1:l.index}]}))},hDyC:function(e,t,r){"use strict";var n=r("I+eb"),i=r("DMt2").end,o=r("mgyK");n({target:"String",proto:!0,forced:o},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},hEtX:function(e,t,r){"use strict";e.exports=l;var n=r("r7wP");((l.prototype=Object.create(n.prototype)).constructor=l).className="Namespace";var i,o,a,s=r("OuHM"),u=r("CzZC");function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function l(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function f(e){return e._nestedArray=null,e}l.fromJSON=function(e,t){return new l(e,t.options).addJSON(t.nested)},l.arrayToJSON=c,l.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!==typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},l.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),l.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},l.prototype.addJSON=function(e){var t=this;if(e)for(var r,n=Object.keys(e),u=0;u<n.length;++u)r=e[n[u]],t.add((void 0!==r.fields?i.fromJSON:void 0!==r.values?a.fromJSON:void 0!==r.methods?o.fromJSON:void 0!==r.id?s.fromJSON:l.fromJSON)(n[u],r));return this},l.prototype.get=function(e){return this.nested&&this.nested[e]||null},l.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},l.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof i||e instanceof a||e instanceof o||e instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof l&&e instanceof l)||t instanceof i||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),f(this)},l.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),f(this)},l.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");var r=this;while(e.length>0){var n=e.shift();if(r.nested&&r.nested[n]){if(r=r.nested[n],!(r instanceof l))throw Error("path conflicts with non-namespace objects")}else r.add(r=new l(n))}return t&&r.addJSON(t),r},l.prototype.resolveAll=function(){var e=this.nestedArray,t=0;while(t<e.length)e[t]instanceof l?e[t++].resolveAll():e[t++].resolve();return this.resolve()},l.prototype.lookup=function(e,t,r){if("boolean"===typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof l&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof l&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},l.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},l.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},l.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},l.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},l._configure=function(e,t,r){i=e,o=t,a=r}},hJnp:function(e,t,r){},"hKI/":function(e,t,r){(function(t){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,h=l||f||Function("return this")(),p=Object.prototype,d=p.toString,v=Math.max,m=Math.min,y=function(){return h.Date.now()};function g(e,t,n){var i,o,a,s,u,c,l=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function d(t){var r=i,n=o;return i=o=void 0,l=t,s=e.apply(n,r),s}function g(e){return l=e,u=setTimeout(x,t),f?d(e):s}function b(e){var r=e-c,n=e-l,i=t-r;return h?m(i,a-n):i}function w(e){var r=e-c,n=e-l;return void 0===c||r>=t||r<0||h&&n>=a}function x(){var e=y();if(w(e))return E(e);u=setTimeout(x,b(e))}function E(e){return u=void 0,p&&i?d(e):(i=o=void 0,s)}function j(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0}function S(){return void 0===u?s:E(y())}function k(){var e=y(),r=w(e);if(i=arguments,o=this,c=e,r){if(void 0===u)return g(c);if(h)return u=setTimeout(x,t),d(c)}return void 0===u&&(u=setTimeout(x,t)),s}return t=O(t)||0,_(n)&&(f=!!n.leading,h="maxWait"in n,a=h?v(O(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),k.cancel=j,k.flush=S,k}function b(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return _(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),g(e,t,{leading:i,maxWait:t,trailing:o})}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){return!!e&&"object"==typeof e}function x(e){return"symbol"==typeof e||w(e)&&d.call(e)==i}function O(e){if("number"==typeof e)return e;if(x(e))return n;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=b}).call(this,r("IyRk"))},hMMk:function(e,t,r){var n=r("dOgj");n("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"hOG+":function(e,t){(function(t){e.exports=function(){var e={311:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={exports:{}},o=!0;try{e[t](i,i.exports,n),o=!1}finally{o&&delete r[t]}return i.exports}return n.ab=t+"/",n(311)}()}).call(this,"/")},hcok:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),c=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),r=new(u(t,o("Set")))(t),n=s(r["delete"]);return c(e,(function(e){n.call(r,e)})),r}})},hh1v:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},hp4W:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r("q1tI"),o=f(i),a=r("17x9"),s=f(a),u=r("2Vc7"),c=r("OMEh"),l=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var h=u.ORIENTATION.TOP,p=u.ORIENTATION.BOTTOM,d=n({},l["default"].propTypes,{orientation:s["default"].oneOf([h,p])}),v={orientation:p,attr:"x",attrAxis:"y"};function m(e){return o["default"].createElement(l["default"],e)}m.displayName="XAxis",m.propTypes=d,m.defaultProps=v,m.requiresSVG=!0,t["default"]=m},i2N1:function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},i4U9:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},i8i4:function(e,t,r){"use strict";function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}}n(),e.exports=r("yl30")},iIM6:function(e,t,r){"use strict";var n=r("g6v/"),i=r("RNIs"),o=r("ewvW"),a=r("UMSQ"),s=r("m/L8").f;n&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?0:t-1}}),i("lastIndex"))},iSVu:function(e,t,r){var n=r("xs3f"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},iZoB:function(e,t,r){"use strict";var n=r("qXHa");function i(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function o(e,t,r){this.message=r||o.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:a(i),MissingRef:a(o)},o.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},iZzK:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,"a",(function(){return n}))},ia4Z:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return y})),r.d(t,"c",(function(){return b})),r.d(t,"h",(function(){return _})),r.d(t,"g",(function(){return x})),r.d(t,"d",(function(){return O})),r.d(t,"f",(function(){return S})),r.d(t,"e",(function(){return C})),r.d(t,"b",(function(){return L}));var n=r("U8pU"),i=r("YLrB"),o=r("A4jd"),a=r("BS1C"),s=r("8WtI"),u=r("0Xrt"),c=/"type":\s*"(xviz\/\w*)"/,l=/xviz\/\w*/,f=1482049882,h=1735152710,p=!0,d=!1,v=12,m=8;function y(t){return null===t||void 0===t?null:t instanceof e||t instanceof ArrayBuffer||ArrayBuffer.isView(t)?"binary":Object(n["a"])(t)}function g(e,t){var r=e.match(c);return!r&&t&&(r=t.match(c)),r?r[1]:null}function b(e){return e.type&&e.data}function _(e){var t=e.type.split("/");return{namespace:t[0],type:t.slice(1).join("/"),data:e.data}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.magic,n=t.magicAlt,i=new DataView(e),o=i.getUint32(0,d);return o===r||n&&n===o}function x(e,t){if(t&&t.messageFormat===o["a"].BINARY_PBE||w(e,{magic:s["a"]}))return A(e,t);var r=new i["a"];r.parse(e,{createImages:!1});var n=r.getApplicationData("xviz");return void 0===n&&(n=r.getExtension(o["b"])),n}function O(e){var t=e instanceof ArrayBuffer;return t&&w(e,{magic:f,magicAlt:h})}function E(e){var t=j(e);if(!t)return null;var r=new a["TextDecoder"]("utf8"),n=r.decode(t);return g(n)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new DataView(e),n={};if(n.byteOffset=t,n.magic=r.getUint32(t+0,d),n.version=r.getUint32(t+4,p),n.byteLength=r.getUint32(t+8,p),2!==n.version||n.byteLength<20)return null;n.jsonChunkLength=r.getUint32(t+12,p),n.jsonChunkFormat=r.getUint32(t+16,p);var i=1313821514,o=n.jsonChunkFormat===i||0===n.jsonChunkFormat;return o?(n.jsonChunkByteOffset=v+m,new Uint8Array(e,t+n.jsonChunkByteOffset,n.jsonChunkLength)):null}function S(e){var t=e instanceof ArrayBuffer;return t&&w(e,{magic:s["a"]})}function k(e){var t=new Uint8Array(e,4),r=s["c"].Envelope.toObject(t,{enum:String});return r.type}function T(e){if(e&&e.ui_config)for(var t=0,r=Object.keys(e.ui_config);t<r.length;t++){var n=r[t];e.ui_config[n]=s["d"].UIPanelInfo.toObject(e.ui_config[n])}}function P(e,t){var r=t||e.$type;if(e&&r&&r.fields){var n=r.fields,i=function(t){var r=n[t];if(r&&e[r.name])if(!r.resolvedType&&r.repeated&&0===e[r.name].length)e[r.name]=void 0,delete e[r.name];else if(r.resolvedType)if(r.resolvedType instanceof u["Enum"])r.repeated?0===e[r.name].length?(e[r.name]=void 0,delete e[r.name]):e[r.name]=e[r.name].map((function(e){return r.resolvedType.valuesById[e]})):e[r.name]=r.resolvedType.valuesById[e[r.name]];else if(r instanceof u["MapField"])for(var i=0,o=Object.keys(e[r.name]);i<o.length;i++){var a=o[i];e[r.name][a]=P(e[r.name][a],r.resolvedType)}else r.resolvedType instanceof u["Type"]&&(r.repeated?0===e[r.name].length?(e[r.name]=void 0,delete e[r.name]):e[r.name]=e[r.name].map((function(e){return P(e,r.resolvedType)})):e[r.name]=P(e[r.name],r.resolvedType))};for(var o in n)i(o)}return e}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.messageType,n={type:r,data:null},i=e;if(!n.type){var o=new Uint8Array(e,4),a=s["c"].Envelope.decode(o);n.type=a.type,i=a.data.value}switch(n.type){case"xviz/metadata":var u=s["c"].Metadata.decode(i);n.data=P(u),T(n.data);break;case"xviz/state_update":var c=s["c"].StateUpdate.decode(i);n.data=P(c);break;default:throw new Error("Unknown Message type ".concat(n.type))}return n}function I(t){var r=t.slice(0,5).find((function(e){return e>=32})),n=t.slice(-5);n instanceof e&&(n=e.from(n));var i=n.reverse().find((function(e){return e>=32}));return r=String.fromCharCode(r),i=String.fromCharCode(i),"{"===r&&"}"===i||"["===r&&"]"===i}function C(e){if(e instanceof Uint8Array)return I(e);if("object"===Object(n["a"])(e))return!1;var t=e.slice(0,5).trim(),r=e.slice(-5).trim();return t.startsWith("{")&&r.endsWith("}")||t.startsWith("[")&&r.endsWith("]")}function R(e){var t=e.slice(0,50),r=e.slice(-50);return Number.isFinite(t[0])&&(t=String.fromCharCode.apply(null,t),r=String.fromCharCode.apply(null,r)),g(t,r)}function M(e){var t=e.match(l);return t?t[0]:null}function L(e){switch(y(e)){case"binary":return O(e)?E(e):S(e)?k(e):(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),R(e));case"string":return R(e);case"object":return e.type?M(e.type):null;default:}return null}}).call(this,r("HDXh").Buffer)},ialn:function(e,t,r){"use strict";var n=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),r=t.cb||r;var n="function"==typeof r?r:r.pre||function(){},o=r.post||function(){};i(t,n,o,e,"",e)};function i(e,t,r,a,s,u,c,l,f,h){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var p in t(a,s,u,c,l,f,h),a){var d=a[p];if(Array.isArray(d)){if(p in n.arrayKeywords)for(var v=0;v<d.length;v++)i(e,t,r,d[v],s+"/"+p+"/"+v,u,s,p,a,v)}else if(p in n.propsKeywords){if(d&&"object"==typeof d)for(var m in d)i(e,t,r,d[m],s+"/"+p+"/"+o(m),u,s,p,a,m)}else(p in n.keywords||e.allKeys&&!(p in n.skipKeywords))&&i(e,t,r,d,s+"/"+p,u,s,p,a)}r(a,s,u,c,l,f,h)}}function o(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},ihrJ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ImZN"),o=r("HAuM");n({target:"Map",stat:!0},{groupBy:function(e,t){var r=new this;o(t);var n=o(r.has),a=o(r.get),s=o(r.set);return i(e,(function(e){var i=t(e);n.call(r,i)?a.call(r,i).push(e):s.call(r,i,[e])})),r}})},ilnZ:function(e,t,r){var n=r("dOgj");n("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},inlA:function(e,t,r){"use strict";var n=r("I+eb"),i=r("Bs8V").f,o=r("UMSQ"),a=r("WjRb"),s=r("HYAF"),u=r("qxPZ"),c=r("xDBR"),l="".endsWith,f=Math.min,h=u("endsWith"),p=!c&&!h&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!p&&!h},{endsWith:function(e){var t=String(s(this));a(e);var r=arguments.length>1?arguments[1]:void 0,n=o(t.length),i=void 0===r?n:f(o(r),n),u=String(e);return l?l.call(t,u,i):t.slice(i-u.length,i)===u}})},iqWW:function(e,t,r){"use strict";var n=r("ZUd8").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},iqeF:function(e,t,r){var n=r("2oRo"),i=r("0Dky"),o=r("HH4o"),a=r("67WC").NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},iuhU:function(e,t,r){"use strict";function n(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}r.r(t),r.d(t,"clsx",(function(){return i})),t["default"]=i},iwkZ:function(e,t,r){var n=r("dOgj");n("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"j+VE":function(e,t,r){r("bFeb")},j6jG:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n,i=!("undefined"===typeof window||!window.document||!window.document.createElement);function o(e){if((!n&&0!==n||e)&&i){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),n=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return n}},j74i:function(e,t,r){"use strict";r.d(t,"a",(function(){return w})),r.d(t,"k",(function(){return Oe})),r.d(t,"b",(function(){return tt})),r.d(t,"c",(function(){return ht})),r.d(t,"h",(function(){return Zt})),r.d(t,"i",(function(){return ir})),r.d(t,"g",(function(){return En})),r.d(t,"d",(function(){return Hn})),r.d(t,"j",(function(){return bi})),r.d(t,"l",(function(){return Ai})),r.d(t,"e",(function(){return Zi})),r.d(t,"f",(function(){return So})),r.d(t,"n",(function(){return D})),r.d(t,"m",(function(){return L}));var n=r("1OyB"),i=r("vuIU"),o=r("JX7q"),a=r("Ji7U"),s=r("md7G"),u=r("foSv"),c=r("rePB"),l=r("q1tI"),f=r.n(l),h=r("17x9"),p=r.n(h),d=r("QWsV"),v=r.n(d),m=r("sBL/"),y=r.n(m);function g(e){var t=b();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _=function(){return null},w=function(e){Object(a["a"])(r,e);var t=g(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"_onResize",(function(t){if(e.resize)e.resize(t);else if(e.props.onResize){var r=e.props,n=r.onResize,i=r.debounceTime;n(t),e.resize=i>0?y()(n,i):n}})),e}return Object(i["a"])(r,[{key:"render",value:function(){return f.a.createElement(v.a,{onResize:this._onResize},this.props.children||_)}}]),r}(l["Component"]);Object(c["a"])(w,"propTypes",{debounceTime:p.a.number});var x=r("5D9J"),O=r("wx14"),E={primary50:"#EDF3FE",primary100:"#D2E0FC",primary200:"#9CBCF8",primary300:"#548BF4",primary400:"#276EF1",primary500:"#174EB6",primary600:"#123D90",primary700:"#0C2960",negative50:"#FDF0EF",negative100:"#FADBD7",negative200:"#F4AFA7",negative300:"#EB7567",negative400:"#E54937",negative500:"#AE372A",negative600:"#892C21",negative700:"#5C1D16",warning50:"#FEF3EC",warning100:"#FBE2CF",warning200:"#F6BA8B",warning300:"#F19248",warning400:"#ED6F0E",warning500:"#B4540B",warning600:"#8E4308",warning700:"#5F2C06",positive50:"#EBF8F2",positive100:"#CDEDDE",positive200:"#88D3B0",positive300:"#43B982",positive400:"#07A35A",positive500:"#057C44",positive600:"#046236",positive700:"#034124",mono100:"#FFFFFF",mono200:"#F7F7F7",mono300:"#F0F0F0",mono400:"#E5E5E5",mono500:"#CCCCCC",mono600:"#B3B3B3",mono700:"#999999",mono800:"#666666",mono900:"#333333",mono1000:"#000000",rating200:"#FFE1A5",rating400:"#FFC043",primaryFontFamily:'"Helvetica Neue", arial, sans-serif'},j={primary50:"#EDF3FE",primary100:"#D2E0FC",primary200:"#9CBCF8",primary300:"#548BF4",primary400:"#276EF1",primary500:"#174EB6",primary600:"#123D90",primary700:"#0C2960",negative50:"#FDF0EF",negative100:"#FADBD7",negative200:"#F4AFA7",negative300:"#EB7567",negative400:"#E54937",negative500:"#AE372A",negative600:"#892C21",negative700:"#5C1D16",warning50:"#FEF3EC",warning100:"#FBE2CF",warning200:"#F6BA8B",warning300:"#F19248",warning400:"#ED6F0E",warning500:"#B4540B",warning600:"#8E4308",warning700:"#5F2C06",positive50:"#EBF8F2",positive100:"#CDEDDE",positive200:"#88D3B0",positive300:"#43B982",positive400:"#07A35A",positive500:"#057C44",positive600:"#046236",positive700:"#034124",mono100:"#CCCCCC",mono200:"#999999",mono300:"#7A7A7A",mono400:"#5C5C5C",mono500:"#3D3D3D",mono600:"#292929",mono700:"#1F1F1F",mono800:"#141414",mono900:"#111111",mono1000:"#000000",rating200:"#FFE1A5",rating400:"#FFC043",primaryFontFamily:'"Helvetica Neue", arial, sans-serif'};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=k(k({},E),{},{background:E.mono100,backgroundAlt:E.mono200,backgroundInvert:E.mono1000,controlColorPrimary:E.mono600,controlColorSecondary:E.mono500,controlColorHovered:E.mono900,controlColorActive:E.primary400,controlColorDisabled:E.mono400,textColorPrimary:E.mono900,textColorSecondary:E.mono600,textColorInvert:E.mono200,textColorDisabled:E.mono500,textColorWarning:E.warning400,textColorError:E.negative400,fontFamily:E.primaryFontFamily,fontSize:12,fontWeight:"normal",lineHeight:1.5,transitionDuration:"300ms",transitionTimingFunction:"ease",shadow:"0 2px 4px 0 rgba(0, 0, 0, 0.15)",controlSize:18,spacingTiny:4,spacingSmall:8,spacingNormal:12,spacingLarge:24,spacingHuge:48}),P=k(k({},j),{},{background:j.mono1000,backgroundAlt:j.mono800,backgroundInvert:j.mono100,controlColorPrimary:j.mono400,controlColorSecondary:j.mono500,controlColorHovered:j.mono100,controlColorActive:j.primary300,controlColorDisabled:j.mono600,textColorPrimary:j.mono100,textColorSecondary:j.mono300,textColorInvert:j.mono800,textColorDisabled:j.mono500,textColorWarning:j.warning300,textColorError:j.negative300,fontFamily:j.primaryFontFamily,fontSize:12,lineHeight:1.5,transitionDuration:"300ms",transitionTimingFunction:"ease",shadow:"0 2px 4px 0 rgba(0, 0, 0, 0.15)",controlSize:18,spacingTiny:4,spacingSmall:8,spacingNormal:12,spacingLarge:24,spacingHuge:48});function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=R();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var M=f.a.createContext(N({}));new Map;function L(e,t){return e?"function"===typeof e?e(t):e:null}function D(e){var t=function(t){Object(a["a"])(o,t);var r=C(o);function o(){return Object(n["a"])(this,o),r.apply(this,arguments)}return Object(i["a"])(o,[{key:"render",value:function(){var t=this;return f.a.createElement(M.Consumer,null,(function(r){return f.a.createElement(e,Object(O["a"])({},t.props,{theme:r}))}))}}]),o}(f.a.Component);return t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,t}function N(e){var t=null;switch(e["extends"]){case"dark":t=P;break;default:t=T;break}return e=I(I({},t),e),e.__reset__={font:"initial",cursor:"initial",pointerEvents:"initial",background:e.background,fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.textColorPrimary,textAlign:"start"},e}function F(e){var t=z();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=x["a"].div((function(e){return U({margin:-e.tolerance,padding:e.tolerance,cursor:e.isActive?"grabbing":e.isEnabled?"grab":"inherit"},L(e.userStyle,e))})),G={position:"fixed",zIndex:999,top:0,left:0,width:"100%",height:"100%"};function q(){}var W=function(e){Object(a["a"])(r,e);var t=F(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_getEventData",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.state.offset,r=i.state,n=r.dragStartPos,o=r.hasDragged,a={srcEvent:e,x:e.clientX,y:e.clientY,offsetX:e.clientX-t.left,offsetY:e.clientY-t.top,hasDragged:o};return n?(a.deltaX=a.x-n.x,a.deltaY=a.y-n.y):(a.deltaX=0,a.deltaY=0),a})),Object(c["a"])(Object(o["a"])(i),"_onMouseDown",(function(e){if(i.props.isEnabled){e.stopPropagation();var t=i._element.getBoundingClientRect(),r=i._getEventData(e,t);i.setState({isMouseDown:!0,hasDragged:!1,offset:t,dragStartPos:{x:r.x,y:r.y}}),i.props.onDragStart(r)}})),Object(c["a"])(Object(o["a"])(i),"_onMouseMove",(function(e){if(i.props.isEnabled&&(e.stopPropagation(),i.state.isMouseDown)){var t=i._getEventData(e),r=t.deltaX,n=t.deltaY;if(!i.state.hasDragged){if(!r&&!n)return;i.setState({hasDragged:!0})}i.props.onDrag(t)}})),Object(c["a"])(Object(o["a"])(i),"_onMouseUp",(function(e){i.state.isMouseDown&&(i.setState({isMouseDown:!1,dragStartPos:null}),i.props.onDragEnd(i._getEventData(e)))})),i.state={isMouseDown:!1,dragStartPos:null,hasDragged:!1},i}return Object(i["a"])(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.style,n=t.isEnabled,i=t.className,o=t.tolerance,a=this.state.isMouseDown;return f.a.createElement(V,{className:i,ref:function(t){e._element=t},tolerance:o,isEnabled:n,isActive:a,userStyle:r,onMouseDown:this._onMouseDown,onMouseMove:this._onMouseMove,onMouseLeave:this._onMouseUp,onMouseUp:this._onMouseUp},a&&f.a.createElement("div",{style:G}),this.props.children)}}]),r}(l["PureComponent"]);Object(c["a"])(W,"propTypes",{className:p.a.string,style:p.a.object,tolerance:p.a.number,isEnabled:p.a.bool,onDragStart:p.a.func,onDrag:p.a.func,onDragEnd:p.a.func}),Object(c["a"])(W,"defaultProps",{className:"",isEnabled:!0,tolerance:0,onDragStart:q,onDrag:q,onDragEnd:q});var H=r("ODXe"),Z=r("8L3F");function X(e){return e[0].toUpperCase()+e.slice(1)}function $(e){switch(e){case ie.TOP:return ie.BOTTOM;case ie.RIGHT:return ie.LEFT;case ie.BOTTOM:return ie.TOP;case ie.LEFT:return ie.RIGHT;default:return ie.BOTTOM}}function Y(e,t){for(var r=[ie.TOP,ie.RIGHT,ie.BOTTOM,ie.LEFT],n=$(e),i={position:"absolute",width:0,height:0,borderStyle:"solid"},o=0,a=r;o<a.length;o++){var s=a[o],u=X(s),c=s===n?0:t,l=s===e?void 0:"transparent";i["border".concat(u,"Width")]=c,i["border".concat(u,"Color")]=l}return i}function K(e,t){if(e===t)return!0;while(e.parentNode){if(e===t)return!0;e=e.parentNode}return!1}function J(e,t){var r=e||ie.AUTO;return t!==ie.LEFT&&t!==ie.TOP||(r="".concat(r,"-start")),t!==ie.RIGHT&&t!==ie.BOTTOM||(r="".concat(r,"-end")),r}function Q(e){var t=ee();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne="undefined"!==typeof document&&Boolean(document.createElement),ie={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",AUTO:"auto"},oe={CLICK:"click",HOVER:"hover"},ae=6,se=1,ue=x["a"].div((function(e){return re({display:"inline-flex"},L(e.userStyle,e))})),ce=x["a"].div((function(e){return re({},L(e.userStyle,e))})),le=x["a"].div((function(e){return re({},L(e.userStyle,e))})),fe=x["a"].div((function(e){var t=null;return e.position&&e.position!==ie.AUTO&&e.arrowSize&&(t=Object(c["a"])({},"margin".concat(X($(e.position))),e.arrowSize)),re(re(re(re({},e.theme.__reset__),t),{},{position:"absolute",top:0,left:0,zIndex:99,background:e.background||e.theme.background,borderStyle:"solid",borderWidth:e.borderWidth,borderColor:e.borderColor||e.theme.controlColorPrimary,boxShadow:e.theme.shadow,fontFamily:e.theme.fontFamily,fontSize:e.theme.fontSize,fontWeight:"normal"},e.popperStyles),L(e.userStyle,e))})),he=x["a"].div((function(e){var t=e.position,r=e.arrowSize,n=e.popperOffsets;if(!r)return null;var i=n.arrow||{},o=Object(c["a"])({borderColor:e.borderColor||e.theme.controlColorPrimary},$(t),-r);return i.top&&(o.top=i.top),i.left&&(o.left=i.left),Object.assign(o,L(e.userStyle,e),Y(t,r))})),pe=x["a"].div((function(e){var t=e.position,r=e.arrowSize;if(!r)return null;var n=t===ie.TOP||t===ie.BOTTOM,i={borderColor:e.background||e.theme.background};return n?(i.left=-r,i.top=t===ie.TOP?-r:0,i.marginTop=(t===ie.TOP?-1:1)*e.borderWidth):(i.top=-r,i.left=t===ie.LEFT?-r:0,i.marginLeft=(t===ie.LEFT?-1:1)*e.borderWidth),Object.assign(i,L(e.userStyle,e),Y(t,r))})),de=p.a.oneOf([ie.TOP,ie.RIGHT,ie.BOTTOM,ie.LEFT,ie.AUTO]),ve=function(e){Object(a["a"])(r,e);var t=Q(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_handleTargetClick",(function(){i._togglePopover()})),Object(c["a"])(Object(o["a"])(i),"_handleTargetMouseEnter",(function(){clearTimeout(i.hideTimer),i._showPopover()})),Object(c["a"])(Object(o["a"])(i),"_handleTargetMouseLeave",(function(){i._hidePopoverWithDelay()})),Object(c["a"])(Object(o["a"])(i),"_handlePopoverMouseEnter",(function(){clearTimeout(i.hideTimer)})),Object(c["a"])(Object(o["a"])(i),"_handlePopoverMouseLeave",(function(){i._hidePopoverWithDelay()})),Object(c["a"])(Object(o["a"])(i),"_handleKeyPress",(function(e){"Escape"===e.key&&i._hidePopover()})),Object(c["a"])(Object(o["a"])(i),"_handlePopperUpdate",(function(e){return i.setState({popperOffsets:e.offsets,popperPlacement:e.placement,popperStyles:e.styles}),e})),Object(c["a"])(Object(o["a"])(i),"_hidePopover",(function(){i.setState(i._getDefaultState(i.props)),i._destroyPopover()})),Object(c["a"])(Object(o["a"])(i),"_handleDocumentClick",(function(e){!i.$popper||K(e.target,i.$popper)||K(e.target,i.$target)||i._hidePopover()})),i.state=i._getDefaultState(e),i}return Object(i["a"])(r,[{key:"componentDidUpdate",value:function(e,t){if(this.state.isVisible&&!t.isVisible){var r=this.props.popperClass;this.popper=new r(this.$target,this.$popper,{placement:this.state.popperPlacement,modifiers:{arrow:{element:this.$arrow,enabled:!0},applyStyle:{enabled:!1},applyReactStyle:{enabled:!0,fn:this._handlePopperUpdate,order:900}}}),this.props.trigger===oe.CLICK&&this._addClickEvents()}}},{key:"componentWillUnmount",value:function(){this._destroyPopover(),this._removeClickEvents()}},{key:"_getDefaultState",value:function(e){return{isVisible:!1,popperOffsets:{},popperPlacement:J(e.position,e.arrowPosition),popperStyles:{}}}},{key:"_showPopover",value:function(){this.setState({isVisible:!0})}},{key:"_hidePopoverWithDelay",value:function(){var e=this.props.onMouseOutDelay;e?this.hideTimer=setTimeout(this._hidePopover,e):this._hidePopover()}},{key:"_addClickEvents",value:function(){ne&&(document.addEventListener("mousedown",this._handleDocumentClick),document.addEventListener("keyup",this._handleKeyPress))}},{key:"_removeClickEvents",value:function(){ne&&(document.removeEventListener("mousedown",this._handleDocumentClick),document.removeEventListener("keyup",this._handleKeyPress))}},{key:"_togglePopover",value:function(){var e=!this.state.isVisible;this.setState({isVisible:e}),e||this._destroyPopover()}},{key:"_destroyPopover",value:function(){this.popper&&(this.popper.destroy(),delete this.popper),this.props.trigger===oe.CLICK&&this._removeClickEvents()}},{key:"_renderTarget",value:function(e){var t=this,r=this.props,n=r.trigger,i=r.style,o={};return n===oe.HOVER?(o.onMouseEnter=this._handleTargetMouseEnter,o.onMouseLeave=this._handleTargetMouseLeave):n===oe.CLICK&&(o.onClick=this._handleTargetClick),f.a.createElement(ce,Object(O["a"])({},o,{userStyle:i.target},e,{ref:function(e){t.$target=e}}),this.props.children)}},{key:"_renderArrow",value:function(e){var t=this,r=this.props.style;return f.a.createElement(he,Object(O["a"])({userStyle:r.arrowBorder},e,{ref:function(e){t.$arrow=e}}),f.a.createElement(pe,Object(O["a"])({userStyle:r.arrow},e)))}},{key:"_renderBody",value:function(e){var t=this,r=this.props,n=r.className,i=r.style,o=r.trigger,a={};return o===oe.HOVER&&(a.onMouseEnter=this._handlePopoverMouseEnter,a.onMouseLeave=this._handlePopoverMouseLeave),f.a.createElement(fe,Object(O["a"])({className:n},a,{userStyle:i.body},e,{ref:function(e){t.$popper=e}}),this._renderContent(e),this._renderArrow(e))}},{key:"_renderContent",value:function(e){var t="function"===typeof this.props.content?this.props.content():this.props.content;return f.a.createElement(le,Object(O["a"])({userStyle:this.props.style.content},e),t)}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=this.state,i=n.isVisible,o=n.popperPlacement,a=n.popperStyles,s=n.popperOffsets,u=o.split("-"),c=Object(H["a"])(u,1),l=c[0],h=l===ie.AUTO?ie.TOP:l,p={theme:t,arrowSize:"arrowSize"in r?r.arrowSize:ae,background:r.background,borderWidth:"borderWidth"in r?r.borderWidth:se,borderColor:r.borderColor,position:l,arrowPosition:h,popperStyles:a,popperOffsets:s,isActive:i};return f.a.createElement(ue,Object(O["a"])({userStyle:r.popover},p),this._renderTarget(p),i&&this._renderBody(p))}}]),r}(f.a.Component);Object(c["a"])(ve,"propTypes",{className:p.a.string,style:p.a.object,content:p.a.oneOfType([p.a.node,p.a.func]).isRequired,position:de,arrowPosition:de,onMouseOutDelay:p.a.number,trigger:p.a.oneOf([oe.HOVER,oe.CLICK]),popperClass:p.a.func}),Object(c["a"])(ve,"defaultProps",{className:"",style:{},trigger:oe.CLICK,onMouseOutDelay:0,popperClass:Z["a"]});var me=D(ve);Object.assign(me,ie),Object.assign(me,oe);var ye=me;function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e){var t=we();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function we(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var xe=function(e){Object(a["a"])(r,e);var t=_e(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props.style,t=be(be({},e),{},{body:function(t){return be({maxWidth:300,paddingTop:t.theme.spacingSmall,paddingBottom:t.theme.spacingSmall,paddingLeft:t.theme.spacingNormal,paddingRight:t.theme.spacingNormal},L(e.body,t))}});return f.a.createElement(ye,Object(O["a"])({},this.props,{style:t,trigger:ye.HOVER}))}}]),r}(f.a.Component);Object(c["a"])(xe,"propTypes",ye.propTypes),Object(c["a"])(xe,"defaultProps",{style:{},position:ye.AUTO});var Oe=xe;function Ee(e){var t=je();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function je(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te={NORMAL:0,PRIMARY:1,WARNING:2,MUTED:3};function Pe(e){if(e.type===Te.MUTED)return e.theme.background;if(!e.isEnabled)return e.theme.controlColorDisabled;switch(e.type){case Te.PRIMARY:return e.isHovered?e.theme.primary500:e.theme.controlColorActive;case Te.WARNING:return e.isHovered?e.theme.warning500:e.theme.warning400;case Te.NORMAL:default:return e.isHovered?e.theme.controlColorHovered:e.theme.controlColorPrimary}}function Ae(e){return e.type!==Te.MUTED?e.theme.textColorInvert:e.isEnabled?e.isHovered?e.theme.controlColorHovered:e.theme.controlColorPrimary:e.theme.controlColorDisabled}var Ie=x["a"].button((function(e){return ke(ke({},e.theme.__reset__),{},{outline:"none",display:"inline-block",boxSizing:"border-box",border:"none",paddingLeft:e.theme.spacingNormal,paddingRight:e.theme.spacingNormal,height:e.size,lineHeight:"".concat(e.size,"px"),textAlign:"center",cursor:"pointer",pointerEvents:e.isEnabled?"all":"none",background:Pe(e),color:Ae(e)},L(e.userStyle,e))})),Ce=function(e){Object(a["a"])(r,e);var t=Ee(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{isHovered:!1}),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onFocus",(function(){return e.setState({hasFocus:!0})})),Object(c["a"])(Object(o["a"])(e),"_onBlur",(function(){return e.setState({hasFocus:!1})})),Object(c["a"])(Object(o["a"])(e),"_onClick",(function(){e.props.onChange(!e.props.value)})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.type,n=e.className,i=e.style,o=e.isEnabled,a=e.onClick,s=i.size,u=void 0===s?t.controlSize+2*t.spacingTiny:s,c={type:r,theme:t,size:u,hasFocus:this.state.hasFocus,isHovered:this.state.isHovered,isEnabled:o};return f.a.createElement(Ie,Object(O["a"])({className:n,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onFocus:this._onFocus,onBlur:this._onBlur,onClick:a,userStyle:i.wrapper},c),this.props.children)}}]),r}(l["PureComponent"]);Object(c["a"])(Ce,"propTypes",{type:p.a.oneOf(Object.values(Te)),onClick:p.a.func,className:p.a.string,style:p.a.object,isEnabled:p.a.bool}),Object(c["a"])(Ce,"defaultProps",{type:Te.NORMAL,className:"",style:{},isEnabled:!0});var Re=D(Ce);Object.assign(Re,Te);function Me(e){return function(){return f.a.createElement("svg",{width:"100%",viewBox:"0 0 24 24"},f.a.createElement("path",{d:e}))}}var Le=Me("M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"),De=Me("M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"),Ne=Me("M8 5v14l11-7z"),Fe=Me("M6 19h4V5H6v14zm8-14v14h4V5h-4z"),ze=Me("M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"),Be=Me("M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),Ue=Me("M19 13H5v-2h14v2z"),Ve=(Me("M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"),Me("M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"),Me("M7 10l5 5 5-5z")),Ge=Me("M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),qe=Me("M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z");function We(e){var t=He();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function He(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e={OFF:"off",INDETERMINATE:"indeterminate",ON:"on"},Ye=x["a"].div((function(e){return Xe(Xe({},e.theme.__reset__),{},{display:"flex",alignItems:"center",cursor:"pointer",pointerEvents:e.isEnabled?"all":"none",color:e.isEnabled?e.theme.textColorPrimary:e.theme.textColorDisabled},L(e.userStyle,e))})),Ke=x["a"].div((function(e){var t=e.theme.controlColorPrimary;return e.isEnabled?e.hasFocus?t=e.theme.controlColorActive:e.isHovered&&(t=e.theme.controlColorHovered):t=e.theme.controlColorDisabled,Xe({outline:"none",display:"inline-block",position:"relative",width:e.size,height:e.size,flexGrow:0,flexShrink:0,marginRight:e.theme.spacingSmall,borderStyle:"solid",borderWidth:2,borderColor:t,color:t},L(e.userStyle,e))})),Je=x["a"].div((function(e){return Xe({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",width:16,height:16,textAlign:"center",lineHeight:"16px",path:{fill:"currentColor"}},L(e.userStyle,e))})),Qe=function(e){Object(a["a"])(r,e);var t=We(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{hasFocus:!1,isHovered:!1}),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onFocus",(function(){return e.setState({hasFocus:!0})})),Object(c["a"])(Object(o["a"])(e),"_onBlur",(function(){return e.setState({hasFocus:!1})})),Object(c["a"])(Object(o["a"])(e),"_onKeyDown",(function(t){32===t.keyCode&&e._onClick(t)})),Object(c["a"])(Object(o["a"])(e),"_onClick",(function(t){e.props.onChange(e.props.value===$e.ON?$e.OFF:$e.ON)})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.style,n=e.className,i=e.theme,o=e.label,a=e.isEnabled,s=r.size,u=void 0===s?i.controlSize:s,c={theme:i,value:t,size:u,hasFocus:this.state.hasFocus,isHovered:this.state.isHovered,isEnabled:a};return f.a.createElement(Ye,Object(O["a"])({className:n,userStyle:r.wrapper},c,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onClick:this._onClick}),f.a.createElement(Ke,Object(O["a"])({userStyle:r.border},c,{tabIndex:a?0:-1,onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown}),f.a.createElement(Je,Object(O["a"])({userStyle:r.icon},c),t===$e.ON&&(r.iconOn||f.a.createElement(ze,null)),t===$e.OFF&&r.iconOff,t===$e.INDETERMINATE&&(r.iconIndeterminate||f.a.createElement(Ue,null)))),o)}}]),r}(l["PureComponent"]);Object(c["a"])(Qe,"propTypes",{value:p.a.oneOf([$e.OFF,$e.INDETERMINATE,$e.ON]).isRequired,onChange:p.a.func,className:p.a.string,label:p.a.node,style:p.a.object,isEnabled:p.a.bool}),Object(c["a"])(Qe,"defaultProps",{className:"",value:$e.OFF,label:"",style:{},isEnabled:!0,onChange:function(){}});var et=D(Qe);Object.assign(et,$e);var tt=et;function rt(e){var t=nt();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function nt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e){return e.isEnabled?e.hasFocus?e.theme.controlColorActive:e.isHovered?e.theme.controlColorHovered:e.theme.controlColorPrimary:e.theme.controlColorDisabled}var st=x["a"].div((function(e){return ot(ot({},e.theme.__reset__),{},{pointerEvents:e.isEnabled?"all":"none"},L(e.userStyle,e))})),ut=x["a"].div((function(e){return ot({position:"relative",width:"100%",height:e.height,borderStyle:"solid",borderWidth:1,borderColor:at(e)},L(e.userStyle,e))})),ct=x["a"].select((function(e){return ot({cursor:"pointer",boxSizing:"border-box",width:"100%",height:"100%",lineHeight:"".concat(e.height,"px"),color:e.isEnabled?e.theme.textColorPrimary:e.theme.textColorDisabled,appearance:"none",background:e.theme.background,border:"none",outline:0,paddingLeft:e.theme.spacingSmall,paddingRight:e.theme.spacingLarge},L(e.userStyle,e))})),lt=x["a"].div((function(e){return ot({pointerEvents:"none",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",color:at(e),padding:e.theme.spacingSmall,width:16,height:16,textAlign:"center",lineHeight:"16px",path:{fill:"currentColor"}},L(e.userStyle,e))})),ft=function(e){Object(a["a"])(r,e);var t=rt(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{hasFocus:!1,isHovered:!1}),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onFocus",(function(){return e.setState({hasFocus:!0})})),Object(c["a"])(Object(o["a"])(e),"_onBlur",(function(){return e.setState({hasFocus:!1})})),Object(c["a"])(Object(o["a"])(e),"_onChange",(function(t){var r=e.props.onChange;r(t.target.value)})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=e.className,i=e.data,o=e.value,a=e.isEnabled,s=r.height,u=void 0===s?t.controlSize+2*t.spacingTiny:s,c={theme:t,height:u,hasFocus:this.state.hasFocus,isHovered:this.state.isHovered,isEnabled:a};return f.a.createElement(st,Object(O["a"])({className:n,userStyle:r.wrapper},c),f.a.createElement(ut,Object(O["a"])({userStyle:r.border},c,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}),f.a.createElement(ct,Object(O["a"])({userStyle:r.select},c,{tabIndex:a?0:-1,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,value:o}),Object.keys(i).map((function(e){return f.a.createElement("option",{key:e,value:e},i[e])}))),f.a.createElement(lt,Object(O["a"])({userStyle:r.icon},c),r.iconArrow||f.a.createElement(Ve,null))))}}]),r}(l["PureComponent"]);Object(c["a"])(ft,"propTypes",{value:p.a.string.isRequired,onChange:p.a.func,data:p.a.object.isRequired,className:p.a.string,style:p.a.object,isEnabled:p.a.bool}),Object(c["a"])(ft,"defaultProps",{className:"",style:{},isEnabled:!0,onChange:function(){}});var ht=D(ft);function pt(e){var t=dt();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function dt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt=x["a"].label((function(e){return mt(mt({},e.theme.__reset__),{},{display:"flex",alignItems:"center",cursor:"inherit",color:e.isEnabled?e.theme.textColorPrimary:e.theme.textColorDisabled,">*":{marginLeft:e.theme.spacingNormal}},L(e.userStyle,e))})),gt=x["a"].div((function(e){return mt({display:"inline-block",color:e.isEnabled?e.theme.controlColorPrimary:e.theme.controlColorDisabled,cursor:"default",verticalAlign:"middle",width:16,height:16,lineHeight:"16px",textAlign:"center",path:{fill:"currentColor"}},L(e.userStyle,e))})),bt=function(e){Object(a["a"])(r,e);var t=pt(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.isEnabled,n=e["for"],i=e.style,o=e.children,a=e.tooltip,s=e.badge,u={};n&&(u.htmlFor=n);var c={theme:t,isEnabled:r};return f.a.createElement(yt,Object(O["a"])({},c,{userStyle:i.label}),o,a&&f.a.createElement(Oe,{style:i.tooltip,content:a},f.a.createElement(gt,Object(O["a"])({},c,{userStyle:i.tooltipTarget}),i.iconInfo||f.a.createElement(qe,null))),s)}}]),r}(l["PureComponent"]);Object(c["a"])(bt,"propTypes",{for:p.a.string,style:p.a.object,tooltip:p.a.string,badge:p.a.element,isEnabled:p.a.bool}),Object(c["a"])(bt,"defaultProps",{style:{},isEnabled:!0});var _t=D(bt);function wt(e){var t=xt();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function xt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jt=x["a"].div((function(e){return Et({outline:"none",cursor:"pointer",pointerEvents:e.isEnabled?"all":"none",display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",marginTop:e.theme.spacingTiny,marginBottom:e.theme.spacingTiny},L(e.userStyle,e))})),St=x["a"].div((function(e){var t=e.theme.controlColorPrimary;return e.isEnabled?e.hasFocus?t=e.theme.controlColorActive:e.isHovered&&(t=e.theme.controlColorHovered):t=e.theme.controlColorDisabled,Et({position:"relative",boxSizing:"border-box",borderRadius:"50%",width:e.size,height:e.size,marginLeft:e.theme.spacingSmall,background:e.theme.background,borderStyle:"solid",borderWidth:2,borderColor:t,color:t,flexShrink:0},L(e.userStyle,e))})),kt=x["a"].div((function(e){return Et({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",width:16,height:16,textAlign:"center",lineHeight:"16px",path:{fill:"currentColor"}},L(e.userStyle,e))})),Tt=function(e){Object(a["a"])(r,e);var t=wt(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{hasFocus:!1,isHovered:!1}),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onFocus",(function(){return e.setState({hasFocus:!0})})),Object(c["a"])(Object(o["a"])(e),"_onBlur",(function(){return e.setState({hasFocus:!1})})),Object(c["a"])(Object(o["a"])(e),"_onKeyDown",(function(t){32===t.keyCode&&e.props.onClick(t)})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=e.size,i=e.isSelected,o=e.label,a=e.isEnabled,s={theme:t,size:n,isSelected:i,hasFocus:this.state.hasFocus,isHovered:this.state.isHovered,isEnabled:a};return f.a.createElement(jt,Object(O["a"])({},s,{userStyle:r.item,tabIndex:a?0:-1,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onClick:this.props.onClick}),o,f.a.createElement(St,Object(O["a"])({},s,{userStyle:r.button}),f.a.createElement(kt,Object(O["a"])({},s,{userStyle:r.icon}),i?r.iconSelected||"\u25cf":null)))}}]),r}(l["PureComponent"]);function Pt(e){var t=At();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function At(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(c["a"])(Tt,"propTypes",{onClick:p.a.func,label:p.a.string,style:p.a.object,isEnabled:p.a.bool,isSelected:p.a.bool}),Object(c["a"])(Tt,"defaultProps",{style:{},isEnabled:!0,onClick:function(){}});var Rt=x["a"].div((function(e){return Ct(Ct({},e.theme.__reset__),{},{color:e.isEnabled?e.theme.textColorPrimary:e.theme.textColorDisabled},L(e.userStyle,e))})),Mt=function(e){Object(a["a"])(r,e);var t=Pt(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"_onClick",(function(t){e.props.onChange(t)})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.className,i=t.style,o=t.data,a=t.value,s=t.isEnabled,u=i.size,c=void 0===u?r.controlSize:u,l={theme:r,size:c,value:a,isEnabled:s};return f.a.createElement(Rt,Object(O["a"])({className:n},l,{userStyle:i.wrapper}),Object.keys(o).map((function(t){return f.a.createElement(Tt,{key:t,label:o[t],theme:r,size:c,style:i,isSelected:t===a,isEnabled:s,onClick:function(){return e._onClick(t)}})})))}}]),r}(l["PureComponent"]);Object(c["a"])(Mt,"propTypes",{value:p.a.string.isRequired,onChange:p.a.func,data:p.a.object.isRequired,className:p.a.string,style:p.a.object,isEnabled:p.a.bool}),Object(c["a"])(Mt,"defaultProps",{className:"",style:{},isEnabled:!0,onChange:function(){}});var Lt=D(Mt);function Dt(e,t,r){return e<t?t:e>r?r:e}function Nt(e){var t=Ft();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Ft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e,t,r,n){return n>0&&(e=Math.round((e-t)/n)*n+t),Dt(e,t,r)}var Vt=x["a"].div((function(e){return Bt(Bt({},e.theme.__reset__),{},{outline:"none",color:e.isEnabled?e.theme.textColorPrimary:e.theme.textColorDisabled,cursor:"pointer",pointerEvents:e.isEnabled?"all":"none",paddingTop:e.knobSize/2,paddingBottom:e.knobSize/2},L(e.userStyle,e))})),Gt=x["a"].div((function(e){return Bt({position:"relative",width:"100%",background:e.isEnabled?e.theme.controlColorPrimary:e.theme.controlColorDisabled,height:2},L(e.userStyle,e))})),qt=x["a"].div((function(e){return Bt({position:"absolute",transitionProperty:"width",transitionDuration:e.isDragging?"0s":e.theme.transitionDuration,transitionTimingFunction:e.theme.transitionTimingFunction,height:"100%",background:e.isEnabled?e.theme.controlColorActive:e.theme.controlColorDisabled},L(e.userStyle,e))})),Wt=x["a"].div((function(e){return Bt({position:"absolute",borderStyle:"solid",borderWidth:2,borderColor:e.isEnabled?e.isHovered?e.theme.controlColorHovered:e.hasFocus?e.theme.controlColorActive:e.theme.controlColorPrimary:e.theme.controlColorDisabled,background:e.theme.background,boxSizing:"border-box",width:e.knobSize,height:e.knobSize,borderRadius:"50%",margin:-e.knobSize/2,top:"50%",transitionProperty:"left",transitionDuration:e.isDragging?"0s":e.theme.transitionDuration},L(e.userStyle,e))})),Ht=function(e){Object(a["a"])(r,e);var t=Nt(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{width:1,isHovered:!1,hasFocus:!1,isDragging:!1,hasDragged:!1}),Object(c["a"])(Object(o["a"])(e),"_updateValue",(function(t,r){var n=e.props,i=n.min,o=n.max,a=n.step,s=Dt(t/r,0,1),u=Ut(i+(o-i)*s,i,o,a);e.props.onChange(u)})),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onFocus",(function(){return e.setState({hasFocus:!0})})),Object(c["a"])(Object(o["a"])(e),"_onBlur",(function(){return e.setState({hasFocus:!1})})),Object(c["a"])(Object(o["a"])(e),"_onKeyDown",(function(t){var r;switch(t.keyCode){case 37:r=-1;break;case 39:r=1;break;default:return}var n=e.props,i=n.value,o=n.min,a=n.max,s=e.props.step||(a-o)/20,u=Dt(i+s*r,o,a);u!==i&&e.props.onChange(u)})),Object(c["a"])(Object(o["a"])(e),"_onDragStart",(function(t){var r=e._track.clientWidth;e.setState({width:r}),e._updateValue(t.offsetX,r),e.setState({isDragging:!0})})),Object(c["a"])(Object(o["a"])(e),"_onDrag",(function(t){e._updateValue(t.offsetX,e.state.width),e.setState({hasDragged:t.hasDragged})})),Object(c["a"])(Object(o["a"])(e),"_onDragEnd",(function(t){e.setState({isDragging:!1,hasDragged:!1})})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.value,n=t.min,i=t.max,o=t.step,a=t.isEnabled,s=t.children,u=t.className,c=t.style,l=t.theme,h=this.state,p=h.isHovered,d=h.isDragging,v=h.hasFocus,m=h.hasDragged,y=c.tolerance,g=void 0===y?0:y,b=c.knobSize,_=void 0===b?l.controlSize:b,w=(Ut(r,n,i,o)-n)/(i-n),x={theme:l,knobSize:_,isEnabled:a,isHovered:p,hasFocus:v,isActive:d,isDragging:m};return f.a.createElement(Vt,Object(O["a"])({},x,{userStyle:c.wrapper,className:u,tabIndex:a?0:-1,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown}),f.a.createElement(W,{tolerance:_/2+g,onDragStart:this._onDragStart,onDrag:this._onDrag,onDragEnd:this._onDragEnd},f.a.createElement(Gt,Object(O["a"])({userStyle:c.track},x,{ref:function(t){e._track=t}}),s,f.a.createElement(qt,Object(O["a"])({},x,{userStyle:c.trackFill,style:{width:"".concat(100*w,"%")}})),f.a.createElement(Wt,Object(O["a"])({},x,{userStyle:c.knob,style:{left:"".concat(100*w,"%")}})))))}}]),r}(l["PureComponent"]);Object(c["a"])(Ht,"propTypes",{value:p.a.number.isRequired,min:p.a.number.isRequired,max:p.a.number.isRequired,onChange:p.a.func,className:p.a.string,style:p.a.object,step:p.a.number,label:p.a.string,tooltip:p.a.string,badge:p.a.element,isEnabled:p.a.bool}),Object(c["a"])(Ht,"defaultProps",{className:"",style:{},step:0,isEnabled:!0,onChange:function(){}});var Zt=D(Ht);function Xt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $t,Yt=r("qKvR");function Kt(e){var t=Jt();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tr=Object(Yt["b"])($t||($t=Xt(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),rr=x["a"].div((function(e){return er({width:e.size,height:e.size,marginLeft:-e.size/2,marginTop:e.theme.spacingNormal,marginBottom:e.theme.spacingNormal,left:"50%",borderRadius:"50%",position:"absolute",borderStyle:"solid",borderWidth:2,borderColor:e.theme.controlColorActive,clipPath:"polygon(50% 0%, 50% 50%, 100% 0%, 100% 100%, 0% 100%, 0% 0%)",animation:"".concat(tr," 1s ease infinite")},L(e.userStyle,e))})),nr=function(e){Object(a["a"])(r,e);var t=Kt(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=r.size,i=void 0===n?32:n;return f.a.createElement(rr,{size:i,theme:t,userStyle:r})}}]),r}(l["PureComponent"]);Object(c["a"])(nr,"propTypes",{style:p.a.object}),Object(c["a"])(nr,"defaultProps",{style:{}});var ir=D(nr);function or(e){var t=ar();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function ar(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e){return e.isEnabled?e.hasFocus?e.theme.controlColorActive:e.isHovered?e.theme.controlColorHovered:e.theme.controlColorPrimary:e.theme.controlColorDisabled}var lr=x["a"].div((function(e){return ur(ur({},e.theme.__reset__),{},{pointerEvents:e.isEnabled?"all":"none"},L(e.userStyle,e))})),fr=x["a"].div((function(e){return ur({position:"relative",width:"100%",height:e.height,borderStyle:"solid",borderWidth:1,borderColor:cr(e)},L(e.userStyle,e))})),hr=x["a"].input((function(e){return ur({boxSizing:"border-box",width:"100%",height:"100%",lineHeight:"".concat(e.height,"px"),background:e.theme.background,outline:"none",paddingLeft:e.theme.spacingSmall,paddingRight:e.theme.spacingSmall,color:e.isEnabled?e.theme.textColorPrimary:e.theme.textColorDisabled,border:"none"},L(e.userStyle,e))})),pr=x["a"].div((function(e){return ur({cursor:"pointer",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",color:e.theme.controlColorPrimary,padding:e.theme.spacingSmall,width:16,height:16,textAlign:"center",lineHeight:"16px",path:{fill:"currentColor"},"&:hover":{color:e.theme.controlColorHovered}},L(e.userStyle,e))})),dr=function(e){Object(a["a"])(r,e);var t=or(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{hasFocus:!1,isHovered:!1}),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onFocus",(function(){return e.setState({hasFocus:!0})})),Object(c["a"])(Object(o["a"])(e),"_onBlur",(function(){return e.setState({hasFocus:!1})})),Object(c["a"])(Object(o["a"])(e),"_onChange",(function(t){e.props.onChange(t.target.value)})),Object(c["a"])(Object(o["a"])(e),"_onClear",(function(t){e.props.onChange("")})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.value,n=t.className,i=t.theme,o=t.style,a=t.showClearButton,s=t.isEnabled,u=o.height,c=void 0===u?i.controlSize+2*i.spacingTiny:u,l={theme:i,height:c,isEnabled:s,isHovered:this.state.isHovered,hasFocus:this.state.hasFocus};return f.a.createElement(lr,Object(O["a"])({className:n,userStyle:o.wrapper},l),f.a.createElement(fr,Object(O["a"])({userStyle:o.border},l,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}),f.a.createElement(hr,Object(O["a"])({userStyle:o.input},l,{ref:function(t){e._input=t},type:"text",tabIndex:s?0:-1,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,value:r})),Boolean(r&&a&&s)&&f.a.createElement(pr,Object(O["a"])({userStyle:o.clear},l,{onClick:this._onClear}),o.iconClear||f.a.createElement(Ge,null))))}}]),r}(l["PureComponent"]);Object(c["a"])(dr,"propTypes",{value:p.a.string.isRequired,onChange:p.a.func,className:p.a.string,style:p.a.object,showClearButton:p.a.bool,isEnabled:p.a.bool}),Object(c["a"])(dr,"defaultProps",{className:"",style:{},showClearButton:!0,isEnabled:!0,onChange:function(){}});var vr=D(dr);function mr(e){var t=yr();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function yr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _r=x["a"].div((function(e){return br(br({},e.theme.__reset__),{},{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",cursor:"pointer",pointerEvents:e.isEnabled?"all":"none",color:e.isEnabled?e.theme.textColorPrimary:e.theme.textColorDisabled},L(e.userStyle,e))})),wr=x["a"].div((function(e){return br({outline:"none",position:"relative",height:e.knobSize,width:2*e.knobSize,flexShrink:0},L(e.userStyle,e))})),xr=x["a"].div((function(e){return br({boxSizing:"border-box",position:"absolute",width:"100%",height:2,background:e.isEnabled?e.value?e.theme.controlColorActive:e.theme.controlColorPrimary:e.theme.controlColorDisabled,top:"50%",transform:"translateY(-50%)"},L(e.userStyle,e))})),Or=x["a"].div((function(e){return br({boxSizing:"border-box",position:"absolute",width:e.knobSize,height:e.knobSize,background:e.theme.background,borderStyle:"solid",borderWidth:2,borderColor:e.isEnabled?e.isHovered?e.theme.controlColorHovered:e.hasFocus?e.theme.controlColorActive:e.theme.controlColorPrimary:e.theme.controlColorDisabled,borderRadius:"50%",left:e.value?"calc(100% - ".concat(e.knobSize,"px)"):0,transitionProperty:"left",transitionDuration:e.theme.transitionDuration,transitionTimingFunction:e.theme.transitionTimingFunction},L(e.userStyle,e))})),Er=function(e){Object(a["a"])(r,e);var t=mr(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{hasFocus:!1,isHovered:!1}),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onFocus",(function(){return e.setState({hasFocus:!0})})),Object(c["a"])(Object(o["a"])(e),"_onBlur",(function(){return e.setState({hasFocus:!1})})),Object(c["a"])(Object(o["a"])(e),"_onKeyDown",(function(t){32===t.keyCode&&e.props.onChange(!e.props.value)})),Object(c["a"])(Object(o["a"])(e),"_onClick",(function(){e.props.onChange(!e.props.value)})),e}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.className,n=e.style,i=e.value,o=e.label,a=e.isEnabled,s=n.knobSize,u=void 0===s?t.controlSize:s,c={theme:t,knobSize:u,value:i,isHovered:this.state.isHovered,hasFocus:this.state.hasFocus,isEnabled:a};return f.a.createElement(_r,Object(O["a"])({className:r,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onClick:this._onClick,userStyle:n.wrapper},c),o,f.a.createElement(wr,Object(O["a"])({userStyle:n.toggle},c,{tabIndex:a?0:-1,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onBlur:this._onBlur}),f.a.createElement(xr,Object(O["a"])({userStyle:n.track},c)),f.a.createElement(Or,Object(O["a"])({userStyle:n.knob},c))))}}]),r}(l["PureComponent"]);Object(c["a"])(Er,"propTypes",{value:p.a.bool.isRequired,onChange:p.a.func,className:p.a.string,label:p.a.node,style:p.a.object,isEnabled:p.a.bool}),Object(c["a"])(Er,"defaultProps",{className:"",value:!0,style:{},isEnabled:!0,onChange:function(){}});var jr=D(Er);function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tr=x["a"].div((function(e){return kr(kr({},e.theme.__reset__),{},{userSelect:"none"},L(e.userStyle,e))})),Pr=x["a"].div((function(e){var t=e.isActive?{boxSizing:"border-box",position:"fixed",zIndex:999,transitionProperty:"all",transitionTimingFunction:e.theme.transitionTimingFunction,transitionDuration:e.isDragging?0:e.theme.transitionDuration,boxShadow:e.theme.shadow}:{};return Object.assign(t,L(e.userStyle,e))})),Ar=x["a"].div((function(e){return kr({},L(e.userStyle,e))})),Ir=x["a"].div((function(e){return kr({boxSizing:"border-box",transitionProperty:"height",transitionTimingFunction:e.theme.transitionTimingFunction,transitionDuration:e.theme.transitionDuration,borderStyle:"dotted",borderColor:e.theme.controlColorPrimary,borderWidth:2},L(e.userStyle,e))}));function Cr(e){var t=Rr();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Rr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Mr=function(){},Lr=300,Dr=function(e){Object(a["a"])(r,e);var t=Cr(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{isHovered:!1,isDragging:!1,isActive:!1,width:0,height:0,dragStartOffset:{left:0,top:0},dragPos:{deltaX:0,deltaY:0}}),Object(c["a"])(Object(o["a"])(e),"_container",void 0),Object(c["a"])(Object(o["a"])(e),"_timer",null),Object(c["a"])(Object(o["a"])(e),"_onMouseEnter",(function(){return e.setState({isHovered:!0})})),Object(c["a"])(Object(o["a"])(e),"_onMouseLeave",(function(){return e.setState({isHovered:!1})})),Object(c["a"])(Object(o["a"])(e),"_onDragStart",(function(t){var r=e._container;e.setState({isDragging:!0,isActive:!0,width:r.offsetWidth,height:r.offsetHeight,dragStartOffset:r.getBoundingClientRect(),dragPos:t}),e.props.onDragStart(t)})),Object(c["a"])(Object(o["a"])(e),"_onDragMove",(function(t){e.setState({dragPos:t}),e.props.onDragMove(t)})),Object(c["a"])(Object(o["a"])(e),"_onDragEnd",(function(t){e.setState({isDragging:!1,dragStartOffset:e._container.getBoundingClientRect(),dragPos:{deltaX:0,deltaY:0}}),e.props.removed?e.props.onDragEnd(t):e._timer=window.setTimeout((function(){e.setState({isActive:!1}),e.props.onDragEnd(t)}),Lr)})),e}return Object(i["a"])(r,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this._timer)}},{key:"getBoundingBox",value:function(){return this._container.getBoundingClientRect()}},{key:"renderTitle",value:function(){var e=this.props.title;return"function"===typeof e?e():e}},{key:"renderMover",value:function(e){return l["createElement"](W,{onDragStart:this._onDragStart,onDrag:this._onDragMove,onDragEnd:this._onDragEnd},e)}},{key:"renderContent",value:function(){var e=this.props,t=e.className,r=e.removed,n=e.theme,i=e.style,o=this.state,a=o.isHovered,s=o.isDragging,u=o.isActive,c=o.width,f=o.height,h=o.dragPos,p=o.dragStartOffset,d={theme:n,isRemoved:r,isHovered:a,isDragging:s,isActive:u},v=this.renderTitle(),m=u?{left:p.left+h.deltaX,top:p.top+h.deltaY,width:c,height:f}:null;return v?l["createElement"](Pr,Object(O["a"])({className:t},d,{userStyle:i.item,style:m}),this.renderMover(l["createElement"](Ar,Object(O["a"])({},d,{userStyle:i.title,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}),v)),this.props.children):this.renderMover(l["createElement"](Pr,Object(O["a"])({onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,className:t},d,{userStyle:i.item,style:m}),this.props.children))}},{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.removed,i=t.style,o=this.state,a=o.isHovered,s=o.isDragging,u=o.isActive,c=o.width,f=o.height,h={theme:r,isRemoved:n,isHovered:a,isDragging:s,isActive:u},p={width:c,height:n?0:f};return l["createElement"]("div",{ref:function(t){e._container=t}},this.renderContent(),u&&l["createElement"](Ir,Object(O["a"])({},h,{userStyle:i.placeholder,style:p})))}}]),r}(l["PureComponent"]);function Nr(e,t){var r=Math.min(e.right-t.left,t.right-e.left),n=Math.min(e.bottom-t.top,t.bottom-e.top);return r<0||n<0?0:r*n}function Fr(e,t){var r=Object(H["a"])(t,2),n=r[0],i=void 0===n?0:n,o=r[1],a=void 0===o?0:o;return{left:e.left+i,top:e.top+a,right:e.right+i,bottom:e.bottom+a,width:e.width,height:e.height}}function zr(e){var t=Br();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Br(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(Dr,"propTypes",{className:p.a.string,title:p.a.oneOfType([p.a.node,p.a.string]),removed:p.a.bool,style:p.a.object.isRequired,onDragStart:p.a.func,onDragMove:p.a.func,onDragEnd:p.a.func}),Object(c["a"])(Dr,"defaultProps",{className:"",removed:!1,onDragStart:Mr,onDragMove:Mr,onDragEnd:Mr});var Ur=function(){},Vr=function(e){Object(a["a"])(r,e);var t=zr(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{items:null,targetIndex:-1}),Object(c["a"])(Object(o["a"])(e),"_onDragStart",(function(t){var r=e.props.items,n=r.map((function(e){return e.boundingBox=e.instance.getBoundingBox(),e.boundingBox}));e.setState({items:r.slice(),boundingBoxes:n,targetItem:t,targetIndex:r.indexOf(t),removedIndex:-1})})),Object(c["a"])(Object(o["a"])(e),"_onDragMove",(function(t){var r=e.state,n=r.items,i=r.targetItem,o=r.boundingBoxes,a=r.targetIndex,s=-1,u=0,c=Fr(i.boundingBox,[t.deltaX,t.deltaY]);o.forEach((function(e,t){var r=Nr(e,c);r>u&&(s=t,u=r)})),s<0?e.props.canRemoveItem&&e.setState({removedIndex:a}):(s!==a&&(n.splice(a,1),n.splice(s,0,i)),e.setState({targetIndex:s,removedIndex:-1}))})),Object(c["a"])(Object(o["a"])(e),"_onDragEnd",(function(t){var r=e.state,n=r.items,i=r.targetItem,o=r.removedIndex,a=o>=0?n.splice(o,1):[],s=Fr(i.boundingBox,[t.deltaX,t.deltaY]);e.props.onListChange({items:n,removedItems:a,targetRect:s}),e.setState({items:null})})),e}return Object(i["a"])(r,[{key:"renderContent",value:function(e){var t=e.content;return"function"===typeof t?t():t}},{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.style,i=this.state.items||this.props.items;return f.a.createElement(Tr,{theme:r,isDragging:Boolean(this.state.items),isRemoving:this.state.removedIndex>=0,userStyle:n.wrapper},i&&i.map((function(t,i){return f.a.createElement(Dr,{theme:r,key:t.key,ref:function(e){t.instance=e},style:n,title:t.title,removed:i===e.state.removedIndex,className:t.className,onDragStart:e._onDragStart.bind(e,t),onDragMove:e._onDragMove,onDragEnd:e._onDragEnd},e.renderContent(t))})))}}]),r}(l["PureComponent"]);Object(c["a"])(Vr,"propTypes",{items:p.a.arrayOf(p.a.shape({key:p.a.string,className:p.a.string,content:p.a.oneOfType([p.a.node,p.a.func]),title:p.a.oneOfType([p.a.node,p.a.string,p.a.func])})),style:p.a.object,canRemoveItem:p.a.bool,onListChange:p.a.func}),Object(c["a"])(Vr,"defaultProps",{style:{},canRemoveItem:!1,onListChange:Ur});D(Vr);function Gr(e){var t=qr();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function qr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zr=x["a"].div((function(e){return Hr(Hr({},e.theme.__reset__),{},{position:"absolute",boxSizing:"content-box",boxShadow:e.theme.shadow,borderStyle:"solid",borderWidth:1,borderColor:e.isMoving||e.isResizing?e.theme.controlColorActive:e.theme.backgroundAlt},L(e.userStyle,e))})),Xr=x["a"].div((function(e){return Hr({overflow:"hidden",lineHeight:0,boxSizing:"content-box",position:"relative"},L(e.userStyle,e))})),$r=x["a"].div((function(e){return Hr({background:e.isMoving||e.isResizing?e.theme.controlColorActive:e.theme.backgroundAlt,color:e.isMoving||e.isResizing?e.theme.textColorInvert:e.theme.textColorPrimary,textAlign:"center",fontWeight:"bold",lineHeight:2},L(e.userStyle,e))})),Yr=x["a"].div((function(e){return{position:"absolute",width:12,height:12,right:0,bottom:0,zIndex:1}})),Kr=function(e){Object(a["a"])(r,e);var t=Gr(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_onMoveStart",(function(){var e=i.props,t=e.x,r=e.y,n=e.width,o=e.height,a=e.minimized;i.setState({isMoving:!0,startProps:{x:t,y:r,width:n,height:o,minimized:a}})})),Object(c["a"])(Object(o["a"])(i),"_onMoveDrag",(function(e){var t=e.deltaX,r=e.deltaY,n=i.state.startProps;i.props.onUpdate(Hr(Hr({},n),{},{x:Math.max(0,n.x+t),y:Math.max(0,n.y+r)}))})),Object(c["a"])(Object(o["a"])(i),"_onMoveEnd",(function(e){var t=e.hasDragged;if(i.props.minimizable&&i.props.title&&!t){var r=i.state.startProps;i.props.onUpdate(Hr(Hr({},r),{},{minimized:!r.minimized}))}i.setState({isMoving:!1}),i.props.onMoveEnd()})),Object(c["a"])(Object(o["a"])(i),"_onResizeStart",(function(){var e=i.props,t=e.x,r=e.y,n=e.width,o=e.height,a=e.minimized;i.setState({isResizing:!0,startProps:{x:t,y:r,width:n,height:o,minimized:a}})})),Object(c["a"])(Object(o["a"])(i),"_onResizeDrag",(function(e){var t=e.deltaX,r=e.deltaY,n=i.state.startProps;i.props.onUpdate(Hr(Hr({},n),{},{width:Math.max(0,n.width+t),height:Math.max(0,n.height+r)}))})),Object(c["a"])(Object(o["a"])(i),"_onResizeEnd",(function(){i.setState({isResizing:!1}),i.props.onResizeEnd()})),i.state={isMoving:!1,isResizing:!1,startProps:null},i}return Object(i["a"])(r,[{key:"renderMover",value:function(e){var t=this.props.movable;return t?f.a.createElement(W,{onDragStart:this._onMoveStart,onDrag:this._onMoveDrag,onDragEnd:this._onMoveEnd},e):e}},{key:"renderContent",value:function(e){var t=this.props,r=t.style,n=t.height,i=t.minimized,o=t.minimizable,a=t.resizable;return o&&i?null:f.a.createElement(Xr,Object(O["a"])({},e,{userStyle:r.content,style:{height:n}}),this.props.children,a&&f.a.createElement(W,{onDragStart:this._onResizeStart,onDrag:this._onResizeDrag,onDragEnd:this._onResizeEnd,style:{cursor:"nwse-resize"}},f.a.createElement(Yr,Object(O["a"])({},e,{userStyle:r.resizer}))))}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=e.title,i=e.x,o=e.y,a=e.width,s=e.height,u=e.className,c=e.parentWidth,l=e.parentHeight,h=this.state,p=h.isMoving,d=h.isResizing,v={theme:t,isMoving:p,isResizing:d},m={left:Math.min(i,Math.max(0,c-a)),top:Math.min(o,Math.max(0,l-s)),width:a};return f.a.createElement(Zr,Object(O["a"])({className:u},v,{userStyle:r.wrapper,style:m}),n?this.renderMover(f.a.createElement($r,Object(O["a"])({},v,{userStyle:r.title}),n)):this.renderMover(this.renderContent(v)),n&&this.renderContent(v))}}]),r}(l["PureComponent"]);Object(c["a"])(Kr,"propTypes",{className:p.a.string,style:p.a.object,parentWidth:p.a.number,parentHeight:p.a.number,title:p.a.oneOfType([p.a.string,p.a.element]),x:p.a.number.isRequired,y:p.a.number.isRequired,width:p.a.number.isRequired,height:p.a.number.isRequired,minimized:p.a.bool,movable:p.a.bool,resizable:p.a.bool,minimizable:p.a.bool,onUpdate:p.a.func,onMoveEnd:p.a.func,onResizeEnd:p.a.func}),Object(c["a"])(Kr,"defaultProps",{style:{},parentWidth:1/0,parentHeight:1/0,className:"",title:"",minimized:!1,movable:!0,resizable:!1,minimizable:!0,onUpdate:function(){},onMoveEnd:function(){},onResizeEnd:function(){}});D(Kr);function Jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{hh}:{mm}:{ss}.{SSS}",r={h:(t.match(/\{(h+)\}/)||[])[1],m:(t.match(/\{(m+)\}/)||[])[1],s:(t.match(/\{(s+)\}/)||[])[1],S:(t.match(/\{(S+)\}/)||[])[1]},n={h:function(e){return Math.floor(e/3600)},m:function(e){return Math.floor(e/60)%60},s:function(e){return Math.floor(e%60)},S:function(e,t){return Math.floor(e%1*Math.pow(10,t))}},i=t;for(var o in n){var a=r[o]||"";if(a){var s=a.length;i=i.replace("{".concat(a,"}"),String(n[o](e,s)).padStart(s,"0"))}}return i}function Qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0,n=e.range(),i=e.domain(),o=Math.floor((n[1]-n[0])/t)+1;e.domain([0,i[1]-i[0]]);var a=e.ticks(o);return e.domain(i),a.map((function(t){return{x:e(t+i[0]),label:r(t+i[0])}}))}var en=r("4jaM");function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nn=x["a"].div((function(e){var t=rn(rn({},e.theme.__reset__),{},{boxSizing:"border-box"});return e.isPlaying&&(t.div={transitionDuration:"0s !important"}),Object.assign(t,L(e.userStyle,e))})),on=x["a"].div((function(e){return rn({display:"flex",alignItems:"center",marginTop:e.theme.spacingTiny},L(e.userStyle,e))})),an=x["a"].div((function(e){return rn({width:16,height:16,marginLeft:e.compact?0:-8,marginRight:e.theme.spacingSmall,cursor:"pointer",color:e.theme.controlColorPrimary,"&:hover":{color:e.theme.controlColorHovered},path:{fill:"currentColor"}},L(e.userStyle,e))})),sn=x["a"].div((function(e){return rn({},L(e.userStyle,e))})),un=x["a"].div((function(e){return rn({position:"relative",height:20},L(e.userStyle,e))})),cn=x["a"].div((function(e){return rn({height:4,bottom:0,borderLeftStyle:"solid",borderLeftWidth:1,borderLeftColor:e.theme.controlColorSecondary},L(e.userStyle,e))})),ln=x["a"].div((function(e){return rn({transform:"translate(-50%, -18px)"},L(e.userStyle,e))})),fn=x["a"].div((function(e){return rn({position:"relative",height:3},L(e.userStyle,e))})),hn=x["a"].div((function(e){return rn({height:"100%"},L(e.userStyle,e))})),pn=x["a"].div((function(e){return rn({height:"100%",background:e.theme.controlColorHovered},L(e.userStyle,e))}));function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mn(e){var t=yn();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var gn=24,bn={display:"flex",alignItems:"flex-end"};function _n(){}function wn(e){return e=e||0,Number.isFinite(e)?{right:e,left:e}:Object.assign({right:0,left:0},e)}var xn=function(e){Object(a["a"])(r,e);var t=mn(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_play",(function(){i.props.onPlay()})),Object(c["a"])(Object(o["a"])(i),"_pause",(function(){i.props.onPause()})),Object(c["a"])(Object(o["a"])(i),"_seek",(function(e){var t=i.props.currentTime;e!==t&&i.props.onSeek(e)})),Object(c["a"])(Object(o["a"])(i),"_onResize",(function(e){var t=e.width,r=i.props.style.padding,n=void 0===r?24:r;n=wn(n),i.scale.range([0,t-n.left-n.right]),i.setState({width:t})})),i.scale=Object(en["scaleLinear"])(),i}return Object(i["a"])(r,[{key:"componentDidUpdate",value:function(e){var t=this.props;e.step===t.step&&e.startTime===t.startTime&&e.endTime===t.endTime||(this._pause(),this._seek(t.startTime))}},{key:"componentWillUnmount",value:function(){this._pause()}},{key:"_renderMarker",value:function(e,t,r,n,i){var o=this.scale,a=e.startTime,s=void 0===a?e.time:a,u=e.endTime,c=void 0===u?e.time:u,l=e.style,h=e.content,p=o(s),d=o(c),v=vn(vn({},l),{},{position:"absolute",left:p,width:d-p});return f.a.createElement(r,Object(O["a"])({key:t},n,{style:v,userStyle:i}),h)}},{key:"_renderTimeline",value:function(e){var t=this,r=this.props,n=r.style,i=r.tickSpacing,o=r.formatTick,a=r.markers,s=this.scale,u=Qr(s,i,o);return f.a.createElement("div",null,f.a.createElement(un,Object(O["a"])({},e,{userStyle:n.ticks}),u.map((function(t,r){var i={position:"absolute",left:t.x};return f.a.createElement(cn,Object(O["a"])({key:r},e,{userStyle:n.tick,style:i}),f.a.createElement(ln,Object(O["a"])({},e,{userStyle:n.tickLabel}),t.label))}))),a&&f.a.createElement(fn,Object(O["a"])({},e,{userStyle:n.markers}),a.map((function(r,i){return t._renderMarker(r,i,hn,e,n.marker)}))))}},{key:"_renderSlider",value:function(e){var t=this,r=this.props,n=r.style,i=r.currentTime,o=r.startTime,a=r.endTime,s=r.step,u=r.bufferRange,c=void 0===u?[]:u,l=Array.isArray(c)?c:[c];return f.a.createElement(Zt,{style:n.slider,value:i,onChange:this._seek,knobSize:18,step:s,min:o,max:a},l.map((function(r,i){return t._renderMarker(r,i,pn,e,n.buffer)})))}},{key:"_renderPlayPauseButton",value:function(e){var t=this.props,r=t.isPlaying,n=t.style;return f.a.createElement(an,Object(O["a"])({},e,{userStyle:n.playPauseButton,onClick:r?this._pause:this._play}),r?n.iconPause||f.a.createElement(Fe,null):n.iconPlay||f.a.createElement(Ne,null))}},{key:"_renderTimestamp",value:function(e){var t=this.props,r=t.style,n=t.currentTime,i=t.formatTimestamp;return f.a.createElement(sn,Object(O["a"])({},e,{userStyle:r.timestamp}),i(n))}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.compact,n=e.width,i=e.style,o=e.className,a=e.isPlaying,s=e.startTime,u=e.endTime,c=i.padding,l=void 0===c?gn:c;l=wn(l),this.scale.domain([s,u]);var h={theme:t,compact:r,isPlaying:a},p={width:n};if(r){var d={flexGrow:1,paddingLeft:l.left,paddingRight:l.right};return f.a.createElement(nn,Object(O["a"])({className:o},h,{userStyle:i.wrapper,style:p}),f.a.createElement("div",{style:bn},this._renderPlayPauseButton(h),f.a.createElement("div",{style:d},f.a.createElement(w,{disableHeight:!0,onResize:this._onResize}),this._renderTimeline(h),this._renderSlider(h)),this._renderTimestamp(h)),f.a.createElement(on,Object(O["a"])({},h,{userStyle:i.controls}),this.props.children))}return Object.assign(p,{paddingLeft:l.left,paddingRight:l.right}),f.a.createElement(nn,Object(O["a"])({className:o},h,{userStyle:i.wrapper,style:p}),f.a.createElement(w,{disableHeight:!0,onResize:this._onResize}),this._renderTimeline(h),this._renderSlider(h),f.a.createElement(on,Object(O["a"])({},h,{userStyle:i.controls}),this._renderPlayPauseButton(h),this._renderTimestamp(h),this.props.children))}}]),r}(l["PureComponent"]);Object(c["a"])(xn,"propTypes",{width:p.a.oneOfType([p.a.string,p.a.number]),style:p.a.object,compact:p.a.bool,currentTime:p.a.number.isRequired,startTime:p.a.number,endTime:p.a.number.isRequired,isPlaying:p.a.bool.isRequired,className:p.a.string,step:p.a.number,tickSpacing:p.a.number,bufferRange:p.a.arrayOf(p.a.object),markers:p.a.arrayOf(p.a.object),formatTick:p.a.func,formatTimestamp:p.a.func,onPlay:p.a.func,onPause:p.a.func,onSeek:p.a.func}),Object(c["a"])(xn,"defaultProps",{style:{},compact:!1,className:"",startTime:0,step:.1,tickSpacing:100,formatTick:function(e){return Jr(e,"{mm}:{ss}")},formatTimestamp:function(e){return Jr(e,"{mm}:{ss}.{S}")},onPlay:_n,onPause:_n,onSeek:_n});var On=D(xn);On.formatTimeCode=Jr;var En=On,jn=r("Ff2n");function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tn=x["a"].div((function(e){return kn(kn({},e.theme.__reset__),L(e.userStyle,e))})),Pn=x["a"].div((function(e){return kn({position:"absolute",cursor:"pointer",left:-20,top:4,width:16,height:16,color:e.theme.controlColorPrimary,"&:hover":{color:e.theme.controlColorHovered},path:{fill:"currentColor"}},L(e.userStyle,e))})),An=x["a"].div((function(e){return kn({marginTop:e.theme.spacingNormal,marginBottom:e.theme.spacingNormal,fontSize:2*e.theme.fontSize,fontWeight:200},L(e.userStyle,e))})),In=x["a"].div((function(e){return kn({marginTop:e.theme.spacingNormal,marginBottom:e.theme.spacingNormal,fontSize:1.2*e.theme.fontSize,fontWeight:600},L(e.userStyle,e))})),Cn=x["a"].div((function(e){return kn({width:"100%",height:1,background:e.theme.controlColorSecondary},L(e.userStyle,e))})),Rn=["style","type","onChange","label","tooltip","badge"];function Mn(e){var t=Ln();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Ln(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fn=x["a"].div((function(e){return Nn({display:"flex",alignItems:"start",justifyContent:"space-between",width:"100%",boxSizing:"border-box",paddingLeft:e.level*e.theme.spacingLarge,marginBottom:e.theme.spacingSmall,">label":{marginTop:e.theme.spacingTiny,marginRight:e.theme.spacingSmall},">label + div":{flexGrow:1,maxWidth:320}},L(e.userStyle,e))})),zn=function(e){Object(a["a"])(r,e);var t=Mn(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_onChange",(function(e){i.props.onChange(i.props.name,e)})),Object(c["a"])(Object(o["a"])(i),"_renderTitle",(function(e,t){return f.a.createElement(An,Object(O["a"])({},e,{userStyle:t}),e.title)})),Object(c["a"])(Object(o["a"])(i),"_renderHeading",(function(e,t){return f.a.createElement(In,Object(O["a"])({},e,{userStyle:t}),e.title)})),Object(c["a"])(Object(o["a"])(i),"_renderSeparator",(function(e,t){return f.a.createElement(Cn,Object(O["a"])({},e,{userStyle:t}))})),Object(c["a"])(Object(o["a"])(i),"_renderToggle",(function(e,t){var r=i.props,n=r.label,o=r.onTitle,a=r.offTitle,s=r.value,u=r.className,c=(s?o:a)||n;return f.a.createElement(jr,Object(O["a"])({},e,{style:t,className:u,label:i._renderLabel(c),onChange:i._onChange}))})),Object(c["a"])(Object(o["a"])(i),"_renderSlider",(function(e,t){return[i._renderLabel(),f.a.createElement(Zt,Object(O["a"])({key:"slider"},e,{style:t,onChange:i._onChange}))]})),Object(c["a"])(Object(o["a"])(i),"_renderDropdown",(function(e,t){return[i._renderLabel(),f.a.createElement(ht,Object(O["a"])({key:"dropdown"},e,{style:t,onChange:i._onChange}))]})),Object(c["a"])(Object(o["a"])(i),"_renderRadio",(function(e,t){return[i._renderLabel(),f.a.createElement(Lt,Object(O["a"])({key:"radio"},e,{style:t,onChange:i._onChange}))]})),Object(c["a"])(Object(o["a"])(i),"_renderTextBox",(function(e,t){return[i._renderLabel(),f.a.createElement(vr,Object(O["a"])({key:"textbox"},e,{style:t,onChange:i._onChange}))]})),Object(c["a"])(Object(o["a"])(i),"_renderCheckbox",(function(e,t){return f.a.createElement(tt,Object(O["a"])({},e,{label:i._renderLabel(),style:t,onChange:i._onChange}))})),Object(c["a"])(Object(o["a"])(i),"_renderCustom",(function(){return i.props.render(i.props)})),Object(c["a"])(Object(o["a"])(i),"_renderLabel",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.props.label,t=i.props,r=t.isEnabled,n=t.tooltip,o=t.badge,a=t.style;return e&&f.a.createElement(_t,{key:"label",isEnabled:r,tooltip:n,badge:o,style:a.label},e)})),i.renders={title:i._renderTitle,header:i._renderHeading,separator:i._renderSeparator,toggle:i._renderToggle,text:i._renderTextBox,range:i._renderSlider,select:i._renderDropdown,radio:i._renderRadio,checkbox:i._renderCheckbox,custom:i._renderCustom},i}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=e.type,n=(e.onChange,e.label,e.tooltip,e.badge,Object(jn["a"])(e,Rn)),i=this.renders[r];if(!i)throw new Error("Unknown setting type ".concat(r));var o=t[r];return f.a.createElement(Fn,Object(O["a"])({},n,{userStyle:t.item}),i(n,o))}}]),r}(l["PureComponent"]);function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vn(e){var t=Gn();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Gn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(zn,"propTypes",{onChange:p.a.func.isRequired,name:p.a.string.isRequired,type:p.a.string.isRequired,level:p.a.number.isRequired}),Object(c["a"])(zn,"defaultProps",{className:""});var qn={position:"relative"},Wn=function(e){Object(a["a"])(r,e);var t=Vn(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"state",{collapsed:{}}),Object(c["a"])(Object(o["a"])(e),"_onChange",(function(t,r){e.props.onChange(Object(c["a"])({},t,r))})),e}return Object(i["a"])(r,[{key:"toggleCollapsed",value:function(e){var t=e.settingName,r=e.collapsed,n=Un(Un({},this.state.collapsed),{},Object(c["a"])({},t,!r));this.setState({collapsed:n})}},{key:"_renderSetting",value:function(e){var t,r=this,n=e.settingName,i=e.setting,o=e.value,a=e.isEnabled,s=void 0===a||a,u=e.level,c=this.props,l=c.theme,h=c.style,p=i.enabled,d=void 0===p||p,v=i.visible,m=void 0===v||v,y=i.children;if(s="function"===typeof d?s&&d(this.props.values):s&&Boolean(d),t="function"===typeof m?m(this.props.values):Boolean(m),!t)return null;var g="undefined"!==typeof this.state.collapsed[n]&&this.state.collapsed[n],b=f.a.createElement(zn,Object(O["a"])({key:n},i,{label:i.title||n,name:n,value:o,theme:l,style:h,level:u,isEnabled:s,onChange:this._onChange}));return y?f.a.createElement("div",{key:n,style:qn},i.collapsible&&f.a.createElement(Pn,{theme:l,userStyle:h.expander,onClick:function(){return r.toggleCollapsed({settingName:n,collapsed:g})},isExpanded:!g},g?h.iconCollapsed||f.a.createElement(Le,null):h.iconExpanded||f.a.createElement(De,null)),b,!g&&this._renderSettings(y,{isEnabled:s,level:u+1})):b}},{key:"_renderSettings",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.props.values,n=[],i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s=e[a],u=r[a],c=this.state.collapsed[a],l=t.level||0,f=this._renderSetting(Un(Un({},t),{},{settingName:a,setting:s,value:u,collapsed:c,level:l}));n.push(f)}return n}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=e.data;return f.a.createElement(Tn,{theme:t,userStyle:r.wrapper},this._renderSettings(n))}}]),r}(l["PureComponent"]);Object(c["a"])(Wn,"propTypes",{data:p.a.object.isRequired,style:p.a.object,values:p.a.object.isRequired,onChange:p.a.func.isRequired}),Object(c["a"])(Wn,"defaultProps",{style:{}});var Hn=D(Wn),Zn=r("b9ZJ"),Xn=r.n(Zn),$n=r("69XA"),Yn=r.n($n);function Kn(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Jn(e){var t,r=[];return function(){return Kn(arguments,r)||(t=e.apply(this,arguments),r=Array.from(arguments)),t}}function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ti=x["a"].div((function(e){return ei(ei({},e.theme.__reset__),{},{display:"flex",flexDirection:"column"},L(e.userStyle,e))})),ri=x["a"].div((function(e){return ei({flex:"1 1 auto"},L(e.userStyle,e))})),ni=x["a"].div((function(e){return ei({display:"table",flex:"0 0 auto"},L(e.userStyle,e))})),ii=x["a"].div((function(e){return ei({cursor:"pointer",display:"table-cell",position:"relative",fontWeight:"bold",background:e.isAscending||e.isDescending?e.theme.controlColorActive:e.theme.controlColorPrimary,color:e.theme.textColorInvert,paddingTop:e.theme.spacingTiny,paddingBottom:e.theme.spacingTiny,paddingLeft:e.theme.spacingSmall,paddingRight:e.theme.spacingSmall,"&:hover":{background:e.theme.controlColorHovered}},L(e.userStyle,e))})),oi=x["a"].div((function(e){return ei({position:"absolute",right:e.theme.spacingTiny,bottom:e.theme.spacingTiny},L(e.userStyle,e))})),ai=x["a"].div((function(e){return ei({position:"relative",display:"flex",alignItems:"stretch",borderBottomStyle:"solid",borderBottomWidth:1,borderBottomColor:e.theme.controlColorSecondary},L(e.userStyle,e))})),si=x["a"].div((function(e){return ei({flex:"0 0 auto",overflow:"hidden",boxSizing:"border-box",position:"relative",paddingTop:e.theme.spacingTiny,paddingBottom:e.theme.spacingTiny,paddingLeft:e.theme.spacingSmall,paddingRight:e.theme.spacingSmall,borderLeftStyle:"solid",borderLeftWidth:0===e.index?0:1,borderLeftColor:e.theme.controlColorSecondary},L(e.userStyle,e))})),ui=x["a"].div((function(e){return ei({position:"absolute",cursor:"pointer",left:-e.theme.spacingSmall},L(e.userStyle,e))}));function ci(e){var t=li();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function li(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var fi={NONE:0,ASCEND:1,DESCEND:2},hi=function(e){Object(a["a"])(r,e);var t=ci(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_onResize",(function(){var e=i.formatColumns(i.props.columns);e.map((function(e,t){var r=i._cells[t];r&&(e.width=r.clientWidth)})),i.props.onResize(e)})),Object(c["a"])(Object(o["a"])(i),"_sortColumn",(function(e){var t=i.formatColumns(i.props.columns),r=t[e].sort===fi.ASCEND?fi.DESCEND:fi.ASCEND;t.forEach((function(t,n){t.sort=n===e?r:fi.NONE}));var n=r===fi.ASCEND?1:-1,o=function(t,r){return t.data[e]<=r.data[e]?-n:n};i.props.onSort(o),i.forceUpdate()})),Object(c["a"])(Object(o["a"])(i),"_renderColumn",(function(e,t){var r=i.props,n=r.renderHeader,o=r.theme,a=r.userStyle,s={theme:o,isAscending:e.sort===fi.ASCEND,isDescending:e.sort===fi.DESCEND},u=null;return s.isAscending?u=a.iconAscending||"\u2191":s.isDescending&&(u=a.iconDescending||"\u2193"),f.a.createElement(ii,Object(O["a"])({},s,{userStyle:a.headerCell,style:{width:e.defaultWidth},key:t,index:t,ref:function(e){i._cells[t]=e},onClick:function(){return i._sortColumn(t)}}),n({column:e.srcObject,columnIndex:t}),u&&f.a.createElement(oi,Object(O["a"])({},s,{userStyle:a.sort}),u))})),i.formatColumns=Jn(i._formatColumns),i._cells=[],i}return Object(i["a"])(r,[{key:"_formatColumns",value:function(e){var t=0,r=[];return e.forEach((function(e,n){var i=1;0===n&&i++,"string"===e.type&&i++,r[n]=i,t+=i})),e.map((function(e,n){return{srcObject:e,name:e.name,type:e.type,sort:fi.NONE,defaultWidth:"".concat(100/t*r[n],"%")}}))}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.userStyle,n=this.formatColumns(this.props.columns);return f.a.createElement(ni,{theme:t,userStyle:r.header},n.map(this._renderColumn),f.a.createElement(w,{onResize:this._onResize,debounceTime:200}))}}]),r}(l["PureComponent"]);function pi(e){var t=di();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function di(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(hi,"propTypes",{columns:p.a.arrayOf(p.a.object),renderHeader:p.a.func,onSort:p.a.func,onResize:p.a.func});var vi=function(e){Object(a["a"])(r,e);var t=pi(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.id,r=e.index,n=e.data,i=e.theme,o=e.userStyle,a=e.columns,s=e.style,u=e.renderCell;return f.a.createElement("div",{style:s},f.a.createElement(ai,{theme:i,index:r,userStyle:o.row},n.data.map((function(e,r){var s=a[r];return f.a.createElement(si,{key:r,index:r,style:{width:s.width},title:"".concat(s.name,": ").concat(e),theme:i,userStyle:o.cell},u({value:e,column:s.srcObject,columnIndex:r,row:n.srcObject,rowId:t}))}))))}}]),r}(l["PureComponent"]);function mi(e){var t=yi();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function yi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(vi,"propTypes",{id:p.a.string,data:p.a.shape({data:p.a.array}),style:p.a.object,renderCell:p.a.func,columns:p.a.array});var gi=function(e){Object(a["a"])(r,e);var t=mi(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_onHeaderResize",(function(e){i.setState({columns:e},i._forceUpdate)})),Object(c["a"])(Object(o["a"])(i),"_onSort",(function(e){var t=i.formatRows(i.props.rows,i.state.sortFunc);e&&t.sort(e),i.setState({sortFunc:e}),i._forceUpdate()})),Object(c["a"])(Object(o["a"])(i),"_forceUpdate",(function(){i._list&&(i._cache.clearAll(),i._list.forceUpdateGrid())})),Object(c["a"])(Object(o["a"])(i),"_renderRowMeasurer",(function(e){var t=e.key,r=e.parent,n=e.index,o=e.style;return f.a.createElement(Yn.a,{cache:i._cache,parent:r,key:t,rowIndex:n,collumnIndex:0},(function(){return i._renderRow({key:t,index:n,style:o})}))})),i.state={columns:null,sortFunc:null},i.formatRows=Jn(i._formatRows),i._cache=new $n["CellMeasurerCache"]({fixedWidth:!0}),i}return Object(i["a"])(r,[{key:"componentDidUpdate",value:function(e){this.props.rows!==e.rows&&this._forceUpdate()}},{key:"_formatRows",value:function(e,t){return e=e.map((function(e,t){return{srcObject:e,data:e.data,children:e.children,id:String(t)}})),t&&e.sort(t),e}},{key:"_renderRow",value:function(e){var t=e.key,r=e.index,n=e.style,i=this.props,o=i.renderCell,a=i.theme,s=i.style,u=this.formatRows(this.props.rows,this.state.sortFunc),c=u[r];return f.a.createElement(vi,{key:t,id:c.id,index:r,data:c,style:n,theme:a,userStyle:s,renderCell:o,columns:this.state.columns})}},{key:"_renderBody",value:function(e){var t=this,r=e.width,n=e.height,i=this.state.columns,o=this.formatRows(this.props.rows,this.state.sortFunc);return i?f.a.createElement(Xn.a,{ref:function(e){t._list=e},tabIndex:null,height:n,rowCount:o.length,rowHeight:this._cache.rowHeight,rowRenderer:this._renderRowMeasurer,width:r}):null}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.width,n=e.height,i=e.style,o=e.columns,a=e.renderHeader;return f.a.createElement(ti,{style:{width:r,height:n},theme:t,userStyle:i.wrapper},f.a.createElement(hi,{theme:t,userStyle:i,columns:o,renderHeader:a,onSort:this._onSort,onResize:this._onHeaderResize}),f.a.createElement(ri,{theme:t,userStyle:i.body},f.a.createElement(v.a,null,this._renderBody.bind(this))))}}]),r}(l["PureComponent"]);Object(c["a"])(gi,"propTypes",{width:p.a.oneOfType([p.a.string,p.a.number]),height:p.a.oneOfType([p.a.string,p.a.number]),style:p.a.object,columns:p.a.array,rows:p.a.array,renderHeader:p.a.func,renderCell:p.a.func}),Object(c["a"])(gi,"defaultProps",{width:"100%",height:400,style:{},rows:[],renderHeader:function(e){var t=e.column;return t.name},renderCell:function(e){var t=e.value;return null===t?null:String(t)}});var bi=D(gi);function _i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xi(e){var t=Oi();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Oi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ei=function(e){Object(a["a"])(r,e);var t=xi(r);function r(){var e;Object(n["a"])(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(c["a"])(Object(o["a"])(e),"_renderItem",(function(t){var r=t.id,n=t.index,i=t.depth,o=void 0===i?0:i,a=t.key,s=t.data,u=t.style,c=e.props,l=c.indentSize,h=c.columns,p=c.theme,d=c.userStyle,v=c.renderCell,m=c.getIsExpanded,y=m(r),g=s.children.length>0,b=l*(o+1);return f.a.createElement("div",{key:a,style:u},f.a.createElement(ai,{theme:p,index:n,userStyle:d.row},g&&f.a.createElement(ui,{key:"toggle",isExpanded:y,theme:p,userStyle:d.expander,style:{marginLeft:b},onClick:function(){return e._toggleExpansion(r)}},y?d.iconExpanded||"\u25be":d.iconCollapsed||"\u25b8"),f.a.createElement("div",{style:{flexShrink:0,width:b}}),s.data.map((function(e,t){var n=h[t],i=0===t?n.width-b:n.width;return f.a.createElement(si,{key:t,index:t,style:{width:i},title:"".concat(n.name,": ").concat(e),theme:p,userStyle:d.cell},v({value:e,column:n.srcObject,columnIndex:t,row:s.srcObject,rowId:r}))}))),g&&y&&s.children.map((function(t,n){return e._renderItem({depth:o+1,id:"".concat(r,".").concat(n),index:n,key:n,data:t})})))})),e}return Object(i["a"])(r,[{key:"_toggleExpansion",value:function(e){this.props.toggleExpansion(e,this.props.id)}},{key:"render",value:function(){return this._renderItem(wi({},this.props))}}]),r}(l["PureComponent"]);function ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ki(e){var t=Ti();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object(c["a"])(Ei,"propTypes",{id:p.a.string,data:p.a.shape({data:p.a.array,children:p.a.array}),style:p.a.object,indentSize:p.a.number,renderCell:p.a.func,columns:p.a.array,getIsExpanded:p.a.func,toggleExpansion:p.a.func});var Pi=function(e){Object(a["a"])(r,e);var t=ki(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_isRowExpanded",(function(e){return i.state.expanded[e]})),Object(c["a"])(Object(o["a"])(i),"_toggleRowExpansion",(function(e,t){var r=i.state.expanded,n=i.formatRows(i.props.rows,i.state.sortFunc);r[e]=!r[e];var o=n.findIndex((function(e){return e.id===t}));i._cache.clear(o),i._list.recomputeRowHeights(o)})),i.state.expanded={},i}return Object(i["a"])(r,[{key:"_renderRow",value:function(e){var t=e.key,r=e.index,n=e.style,i=this.props,o=i.indentSize,a=i.renderCell,s=i.theme,u=i.style,c=this.formatRows(this.props.rows,this.state.sortFunc),l=c[r];return f.a.createElement(Ei,{key:t,id:l.id,index:r,data:l,style:n,theme:s,userStyle:u,indentSize:o,renderCell:a,getIsExpanded:this._isRowExpanded,toggleExpansion:this._toggleRowExpansion,columns:this.state.columns})}}]),r}(gi);Object(c["a"])(Pi,"propTypes",Si(Si({},gi.propTypes),{},{indentSize:p.a.number})),Object(c["a"])(Pi,"defaultProps",Si(Si({},gi.defaultProps),{},{indentSize:12}));var Ai=D(Pi);function Ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ii(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ri=x["a"].div((function(e){return Ci(Ci({},e.theme.__reset__),{},{position:"relative",fontSize:e.theme.fontSize},L(e.userStyle,e))})),Mi=x["a"].div((function(e){return Ci({textAlign:"center",fontWeight:200,fontSize:"1.6em",maxWidth:"100%",whiteSpace:"nowrap",textOverflow:"ellipsis"},L(e.userStyle,e))})),Li=x["a"].div((function(e){return Ci({fontWeight:"bold",textAlign:"center",margin:e.theme.spacingNormal,color:e.theme.textColorError},L(e.userStyle,e))})),Di=x["a"].div((function(e){return Ci(Ci({},e.theme.__reset__),{},{cursor:"pointer",background:e.theme.background,".rv-xy-plot":{color:e.theme.textColorPrimary,position:"relative"},".rv-xy-plot__inner":{display:"block",position:"relative",zIndex:1},".rv-xy-plot__axis__line":{display:"none"},".rv-xy-plot__axis__tick__line":{display:"none"},".rv-xy-plot__axis__tick__text":{fill:e.theme.textColorPrimary,fontSize:"0.8em"},".rv-xy-plot__series, .rv-xy-plot__series path":{pointerEvents:"all"},".rv-xy-plot__series--line":{fill:"none",stroke:"#000",strokeWidth:2},".rv-xy-plot__grid-lines__line":{stroke:e.theme.textColorSecondary,strokeDasharray:"1,2"},".rv-xy-plot__series--mark circle":{pointerEvents:"none"},".rv-crosshair":{position:"absolute",pointerEvents:"none",fontSize:e.theme.fontSize},".rv-crosshair__line":{background:e.theme.textColorPrimary,width:1},".rv-crosshair__inner":{zIndex:2,margin:-6,transform:"translateY(100%)",bottom:0,display:"none",position:"absolute",textAlign:"left"},"&:hover .rv-crosshair__inner":{display:"block"},".rv-crosshair__inner__content":Ci({borderRadius:2,background:e.theme.backgroundInvert,color:e.theme.textColorInvert,padding:e.theme.spacingSmall,boxShadow:e.theme.shadow},L(e.tooltipStyle,e)),".rv-crosshair__item":{whiteSpace:"nowrap",fontSize:"0.9em",lineHeight:"18px",position:"relative"}},L(e.userStyle,e))})),Ni=x["a"].span((function(e){return Ci({fontWeight:"bold",marginRight:e.theme.spacingTiny},L(e.userStyle,e))})),Fi=x["a"].span((function(e){return Ci({span:{color:e.theme.textColorSecondary,marginLeft:e.theme.spacingTiny}},L(e.userStyle,e))})),zi=x["a"].div((function(e){var t={background:e.color,width:4,left:-10,height:18,top:0,bottom:0,position:"absolute"};return e.isFirst&&(t.height+=e.theme.spacingSmall,t.top=-e.theme.spacingSmall,t.borderTopLeftRadius=4),e.isLast&&(t.height+=e.theme.spacingSmall,t.bottom=-e.theme.spacingSmall,t.borderBottomLeftRadius=4),Object.assign(t,L(e.userStyle,e))})),Bi=x["a"].div((function(e){return Ci(Ci({},e.theme.__reset__),{},{position:"relative",paddingLeft:e.theme.spacingLarge,fontSize:e.theme.fontSize},L(e.userStyle,e))})),Ui=x["a"].div((function(e){return Ci({position:"absolute",left:0,cursor:"pointer",fontWeight:"bold",width:16,height:16},L(e.userStyle,e))})),Vi=x["a"].div((function(e){return Ci({display:"flex",alignItems:"center",cursor:"pointer",marginBottom:e.theme.spacingTiny,fontWeight:e.isHovered?"bold":"normal",color:e.isActive?e.theme.textColorPrimary:e.theme.textColorDisabled},L(e.userStyle,e))})),Gi=x["a"].div((function(e){return Ci({display:"inline-block",width:16,height:16,textAlign:"center",lineHeight:"16px",marginRight:e.theme.spacingSmall,color:e.isActive?e.color:e.theme.textColorDisabled,path:{fill:"currentColor"}},L(e.userStyle,e))}));function qi(e){var t=Wi();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Wi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Hi=function(e){Object(a["a"])(r,e);var t=qi(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.style,n=e.error,i=e.isLoading,o=e.className,a=e.title,s=e.description,u={theme:t,hasError:Boolean(n),isLoading:i};return f.a.createElement(Ri,Object(O["a"])({className:o},u,{userStyle:r.wrapper}),a&&f.a.createElement(Mi,Object(O["a"])({},u,{userStyle:r.title}),f.a.createElement(Oe,{style:r.tooltip,content:s},a)),!i&&!n&&this.props.children,i&&f.a.createElement(ir,{style:r.spinner}),n&&f.a.createElement(Li,Object(O["a"])({},u,{userStyle:r.error}),n))}}]),r}(l["PureComponent"]);Object(c["a"])(Hi,"propTypes",{className:p.a.string,title:p.a.oneOfType([p.a.string,p.a.element]),description:p.a.oneOfType([p.a.string,p.a.element]),style:p.a.object,error:p.a.string,isLoading:p.a.bool,children:p.a.element}),Object(c["a"])(Hi,"defaultProps",{className:"",title:"",description:"",style:{},error:null,isLoading:!1});var Zi=D(Hi),Xi=function(e){return e.x};function $i(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xi,o=0,a=e.length-1;while(o<=a)if(r=(o+a)/2|0,n=i(e[r]),n<t)o=r+1;else{if(!(n>t))return e[r];a=r-1}var s=e[o],u=e[a];return s?u?Math.abs(i(s)-t)<=Math.abs(i(u)-t)?s:u:s:u}var Yi=r("U8pU"),Ki=r("fa/P"),Ji=r.n(Ki),Qi=r("Xi0B"),eo=r.n(Qi),to=r("SkEX"),ro=r.n(to),no=r("07zz"),io=r.n(no),oo=r("vUPS"),ao=r.n(oo),so=r("X9+P"),uo=r.n(so),co=r("hp4W"),lo=r.n(co),fo=r("OoP3"),ho=r.n(fo),po=r("QxB9"),vo=r.n(po);function mo(e){var t=yo();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function yo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var go=function(){},bo={left:32,right:20,top:20,bottom:32},_o=function(e){Object(a["a"])(r,e);var t=mo(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"_getScaleSettings",value:function(){var e=this.props,t=e.data,r=e.dataFilter,n=e.xDomain,i=e.yDomain,o=e.getX,a=e.getY0,s=e.getY;if(n&&i)return{xDomain:n,yDomain:i};var u=n||[1/0,-1/0],c=i||[0,0];for(var l in t)if(r(l)){var f=t[l];Array.isArray(f)&&f.length>0&&(u=n||f.reduce((function(e,t){var r=o(t);return e[0]=Math.min(e[0],r),e[1]=Math.max(e[1],r),e}),u),c=i||f.reduce((function(e,t){var r=s(t),n=a(t);return e[0]=Math.min(e[0],r),e[1]=Math.max(e[1],r),Number.isFinite(n)&&(e[0]=Math.min(e[0],n),e[1]=Math.max(e[1],n)),e}),c))}return i||(c=Object(en["scaleLinear"])().domain(c).nice().domain()),{xDomain:u,yDomain:c}}},{key:"_getColor",value:function(e){var t=this.props.getColor;switch(Object(Yi["a"])(t)){case"object":return t[e];case"function":return t(e);default:return t}}},{key:"_renderSeries",value:function(){var e=this,t=this.props,r=t.data,n=t.dataFilter,i=t.highlightSeries,o=t.getX,a=t.getY0,s=t.getY,u=t.xDomain,c=[],l=[];return Object.keys(r).forEach((function(t){if(n(t)){var h=u?r[t].filter((function(e){var t=o(e);return t>=u[0]&&t<=u[1]})):r[t];if(h.length){var p=Number.isFinite(a(h[0])),d=p?eo.a:ro.a,v=e._getColor(t),m=f.a.createElement(d,{key:"value-".concat(t,"-line"),data:h,getX:o,getY:s,getY0:a,color:v,fill:v,strokeWidth:i===t?4:2,onNearestX:e.props.onNearestX.bind(e,t),onSeriesMouseOver:function(){return e.props.onSeriesMouseOver(t)},onSeriesMouseOut:function(){return e.props.onSeriesMouseOut(t)}});p?c.push(m):l.push(m)}}})),c.concat(l)}},{key:"_renderCrosshair",value:function(){var e=this,t=this.props.highlightValues;if(!t)return null;var r=this.props,n=r.theme,i=r.style,o=r.unit,a=r.dataFilter,s=r.formatTitle,u=r.formatValue,c=r.getX,l=r.getY,h=r.getY0,p=r.xDomain,d=Object.keys(t).filter((function(e){var r=t[e],n=c(r);return a(e)&&(!p||n>=p[0]&&n<=p[1])})),v=d.map((function(r,a){var p=t[r],v=e._getColor(r),m=c(p),y=l(p),g=h(p),b={theme:n,name:r,displayName:s(r),color:v,isFirst:0===a,isLast:a===d.length-1};return{x:m,y:y,title:f.a.createElement(Ni,Object(O["a"])({},b,{userStyle:i.crosshairTitle}),f.a.createElement(zi,Object(O["a"])({},b,{userStyle:i.crosshairLegend})),b.displayName),value:f.a.createElement(Fi,Object(O["a"])({},b,{userStyle:i.crosshairValue}),Number.isFinite(g)&&"".concat(u(g),", "),u(y),o&&f.a.createElement("span",null,o)),color:v}}));return[f.a.createElement(vo.a,{key:"crosshair",values:v,titleFormat:function(){return null},itemsFormat:function(e){return e}}),f.a.createElement(io.a,{key:"hovered-values",data:v,stroke:"#fff",strokeWidth:2,getFill:function(e){return e.color},fillType:"literal"})]}},{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.width,i=t.height,o=t.style,a=t.formatYTick,s=t.formatXTick,u=t.xTicks,c=t.yTicks,l=t.horizontalGridLines,h=t.verticalGridLines,p=t.onMouseEnter,d=t.onMouseMove,v=t.onMouseLeave,m=t.onClick;return f.a.createElement(Di,{theme:r,userStyle:o.chart,tooltipStyle:o.crosshair,style:{width:n,height:i}},f.a.createElement(w,null,(function(t){var r=t.width,n=t.height;return f.a.createElement(Ji.a,Object(O["a"])({width:r,height:n,margin:o.margin||bo},e._getScaleSettings(),{onClick:m,onMouseEnter:p,onMouseMove:d,onMouseLeave:v}),u>0&&f.a.createElement(lo.a,{title:"",tickFormat:s,tickTotal:u}),c>0&&f.a.createElement(ho.a,{title:"",tickFormat:a,tickTotal:c}),l>0&&f.a.createElement(ao.a,{tickTotal:l}),h>0&&f.a.createElement(uo.a,{tickTotal:h}),e._renderSeries(),e._renderCrosshair())})))}}]),r}(l["PureComponent"]);Object(c["a"])(_o,"propTypes",{width:p.a.oneOfType([p.a.string,p.a.number]),height:p.a.oneOfType([p.a.string,p.a.number]),style:p.a.object,unit:p.a.string,data:p.a.object,dataFilter:p.a.func,onClick:p.a.func,onMouseEnter:p.a.func,onMouseMove:p.a.func,onMouseLeave:p.a.func,onNearestX:p.a.func,onSeriesMouseOver:p.a.func,onSeriesMouseOut:p.a.func,getX:p.a.func,getY0:p.a.func,getY:p.a.func,xDomain:p.a.array,yDomain:p.a.array,xTicks:p.a.number,yTicks:p.a.number,horizontalGridLines:p.a.number,verticalGridLines:p.a.number,highlightSeries:p.a.string,highlightValues:p.a.object,formatYTick:p.a.func,formatTitle:p.a.func,formatValue:p.a.func,formatXTick:p.a.func,getColor:p.a.oneOfType([p.a.object,p.a.string,p.a.func])}),Object(c["a"])(_o,"defaultProps",{width:"100%",height:300,style:{},data:{},dataFilter:function(e){return!0},unit:"",onClick:go,onMouseEnter:go,onMouseMove:go,onMouseLeave:go,onNearestX:go,onSeriesMouseOver:go,onSeriesMouseOut:go,getX:function(e){return e.x},getY0:function(e){return null},getY:function(e){return e.y},xTicks:4,yTicks:4,horizontalGridLines:4,verticalGridLines:4,formatTitle:function(e){return String(e)},formatValue:function(e){return String(e)},formatXTick:function(e){return String(e)},formatYTick:function(e){return String(e)},getColor:"#000"});var wo=D(_o);function xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eo(e){var t=jo();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function jo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var So=function(e){Object(a["a"])(r,e);var t=Eo(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_getCurrentValues",(function(e,t){if(!Number.isFinite(e)||!t)return null;var r=i.props.getX,n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=$i(t[o],e,r));return n})),Object(c["a"])(Object(o["a"])(i),"_onClick",(function(e){i.props.onClick(i.state.hoveredX,e)})),Object(c["a"])(Object(o["a"])(i),"_onNearestX",(function(e,t,r){var n=i.state.hoveredValues;n[e]=t,i.setState({isHovered:!0,hoveredX:i.props.getX(t),hoveredValues:Oo({},n)}),i.props.onNearestX(e,t,r)})),Object(c["a"])(Object(o["a"])(i),"_onMouseLeave",(function(e){i.setState({isHovered:!1,hoveredX:null}),i.props.onMouseLeave(e)})),i.state={isHovered:!1,hoveredX:null,hoveredValues:{}},i.getCurrentValues=Jn(i._getCurrentValues),i}return Object(i["a"])(r,[{key:"render",value:function(){var e=this.props,t=e.highlightX,r=e.data,n=this.state,i=n.isHovered,o=n.hoveredValues,a=this.getCurrentValues(t,r);return f.a.createElement(wo,Object(O["a"])({},this.props,{onClick:this._onClick,onNearestX:this._onNearestX,onMouseLeave:this._onMouseLeave,highlightValues:i?o:a}))}}]),r}(l["PureComponent"]);Object(c["a"])(So,"propTypes",Object.assign({highlightX:p.a.number},wo.propTypes)),Object(c["a"])(So,"defaultProps",wo.defaultProps);var ko=r("vBe5");function To(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?To(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):To(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ao(e){var t=Io();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function Io(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Co=Object(en["scaleOrdinal"])().range(["#12939A","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"]),Ro=function(e){Object(a["a"])(r,e);var t=Ao(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"_extractDataSeries",(function(e){var t=i.props,r=t.formatTitle,n=t.getY,o=[];for(var a in e){var s=e[a];if(Array.isArray(s)){var u=r(a),c=Object(ko["extent"])(s,n);o.push({key:a,displayName:u,color:i._getColor(a),data:s,extent:c,max:Math.max(Math.abs(c[0]),Math.abs(c[1]))})}}return o.sort((function(e,t){return t.max-e.max})),o})),Object(c["a"])(Object(o["a"])(i),"_isDataVisible",(function(e){var t=i.state,r=t.showTopSeriesOnly,n=t.dataVisibility,o=i.extractDataSeries(i.props.data);if(!1===n[e])return!1;if(r){var a=i.props.topSeriesCount;return o.findIndex((function(t){return t.key===e}))<a}return!0})),Object(c["a"])(Object(o["a"])(i),"_setHoveredDataName",(function(e){i.setState({hoveredSeriesName:e})})),Object(c["a"])(Object(o["a"])(i),"_toggleDataVisibility",(function(e){var t=i.state.dataVisibility;i.setState({dataVisibility:Po(Po({},t),{},Object(c["a"])({},e,!1===t[e]))})})),i.state={dataVisibility:{},showTopSeriesOnly:!0,hoveredSeriesName:null},i.extractDataSeries=Jn(i._extractDataSeries),i}return Object(i["a"])(r,[{key:"_getColor",value:function(e){var t=this.props.getColor;switch(Object(Yi["a"])(t)){case"object":return t[e];case"function":return t(e);default:return t}}},{key:"_renderDataFilters",value:function(){var e=this,t=this.state,r=t.showTopSeriesOnly,n=t.hoveredSeriesName,i=this.props,o=i.theme,a=i.style,s=i.topSeriesCount,u=this.extractDataSeries(this.props.data),c=r?u.slice(0,s):u;return f.a.createElement(Bi,{theme:o,userStyle:a.filter,isExpanded:!r},u.length>s&&f.a.createElement(Ui,{theme:o,userStyle:a.filterToggle,isExpanded:!r,onClick:function(){return e.setState({showTopSeriesOnly:!r})}},r?a.iconCollapsed||f.a.createElement(Le,null):a.iconExpanded||f.a.createElement(De,null)),c.map((function(t){var r={theme:o,name:t.key,displayName:t.displayName,color:t.color,isHovered:n===t.key,isActive:e._isDataVisible(t.key)};return f.a.createElement(Vi,Object(O["a"])({userStyle:a.filterItem},r,{key:"multiplot-".concat(t.key),onMouseOver:function(){return e._setHoveredDataName(t.key)},onMouseOut:function(){return e._setHoveredDataName(null)},onClick:function(){return e._toggleDataVisibility(t.key)}}),f.a.createElement(Gi,Object(O["a"])({},r,{userStyle:a.filterLegend}),r.isActive?a.iconOn||f.a.createElement(Be,null):a.iconOff),f.a.createElement("span",null,t.displayName))})))}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(So,Object(O["a"])({},this.props,{highlightSeries:this.state.hoveredSeriesName,onSeriesMouseOver:function(t){return e._setHoveredDataName(t)},onMouseLeave:function(){return e._setHoveredDataName(null)},dataFilter:this._isDataVisible})),this._renderDataFilters())}}]),r}(l["PureComponent"]);Object(c["a"])(Ro,"propTypes",Object.assign({},So.propTypes,{topSeriesCount:p.a.number})),Object(c["a"])(Ro,"defaultProps",Object.assign({},So.defaultProps,{topSeriesCount:5,getColor:Co}));D(Ro)},jM1q:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return g}));var n=r("1OyB"),i=r("vuIU"),o=r("ReuC"),a=r("Ji7U"),s=r("md7G"),u=r("foSv"),c=r("bB+V"),l=r("Valy"),f=r("qlE0"),h=r("08aV");function p(e){var t=d();return function(){var r,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s["a"])(this,r)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(t){if(ArrayBuffer.isView(t)&&(t=t.buffer),"undefined"!==typeof e&&t instanceof ArrayBuffer){for(var r=new e(t.byteLength),n=new Uint8Array(t),i=0;i<r.length;++i)r[i]=n[i];return r}throw new Error("Failed to convert to buffer")}var m=function(e){return"".concat(e+2,"-frame")};function y(e,t){var r=new l["a"](t),n=Object(f["a"])(e,r,null,t),i=t.useAVSXVIZExtension;return!0===i?r.addExtension(h["f"],n,{nopack:!0}):r.addApplicationData("xviz",n,{nopack:!0}),r.encodeAsGLB(t)}var g=function(e){Object(a["a"])(r,e);var t=p(r);function r(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,r),i=t.call(this,e);var a=o.envelope,s=void 0===a||a,u=o.flattenArrays,c=void 0===u||u,l=o.DracoWriter,f=o.DracoLoader;return i.messageTimings={messages:new Map},i.wroteMessageIndex=null,i.options={envelope:s,flattenArrays:c,DracoWriter:l,DracoLoader:f},i.encodingOptions={flattenArrays:i.options.flattenArrays},i.options.DracoWriter&&(i.encodingOptions.DracoWriter=l),i.options.DracoLoader&&(i.encodingOptions.DracoLoader=f),i}return Object(i["a"])(r,[{key:"writeMetadata",value:function(e){this._checkValid(),this._saveTimestamp(e),this.options.envelope&&(e=h["c"].Metadata(e));var t=y(e,this.encodingOptions);this.sink.writeSync("1-frame.glb",v(t),{flag:"w"})}},{key:"writeMessage",value:function(e,t){this._checkValid(),this._saveTimestamp(t,e),this.options.envelope&&(t=h["c"].StateUpdate(t));var r=y(t,this.encodingOptions);this.sink.writeSync("".concat(m(e),".glb"),v(r),{flag:"w"})}},{key:"_writeMessageIndex",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error("Error writing time index file. Messages are missing between ".concat(r+2," and ").concat(e+2));a.push(n.get(e))})),i.timing=a,this.sink.writeSync("0-frame.json",JSON.stringify(i)),this.wroteMessageIndex=a.length}},{key:"close",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),Object(o["a"])(Object(u["a"])(r.prototype),"close",this).call(this))}},{key:"_saveTimestamp",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error("Cannot find timestamp");if(0===n.length||!n.every((function(e){return"number"===typeof e.timestamp})))throw new Error("XVIZ updates did not contain a valid timestamp");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,m(t)])}}}]),r}(c["a"])}).call(this,r("HDXh").Buffer)},jQLo:function(e,t,r){"use strict";var n=r("qXHa"),i=r("+9rK"),o=r("iZoB"),a=r("9x6x"),s=r("1QhW"),u=i.ucs2length,c=r("aUsF"),l=o.Validation;function f(e,t,r,d){var _=this,w=this._opts,x=[void 0],O={},E=[],j={},S=[],k={},T=[];t=t||{schema:e,refVal:x,refs:O};var P=h.call(this,e,t,d),A=this._compilations[P.index];if(P.compiling)return A.callValidate=L;var I=this._formats,C=this.RULES;try{var R=D(e,t,r,d);A.validate=R;var M=A.callValidate;return M&&(M.schema=R.schema,M.errors=null,M.refs=R.refs,M.refVal=R.refVal,M.root=R.root,M.$async=R.$async,w.sourceCode&&(M.source=R.source)),R}finally{p.call(this,e,t,d)}function L(){var e=A.validate,t=e.apply(this,arguments);return L.errors=e.errors,t}function D(e,r,a,h){var p=!r||r&&r.schema==e;if(r.schema!=t.schema)return f.call(_,e,r,a,h);var d,j=!0===e.$async,k=s({isTop:!0,schema:e,isRoot:p,baseId:h,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:C,validate:s,util:i,resolve:n,resolveRef:N,usePattern:V,useDefault:G,useCustomRule:q,opts:w,formats:I,logger:_.logger,self:_});k=b(x,y)+b(E,v)+b(S,m)+b(T,g)+k,w.processCode&&(k=w.processCode(k,e));try{var P=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",k);d=P(_,C,I,t,x,S,T,c,u,l),x[0]=d}catch(A){throw _.logger.error("Error compiling schema, function code:",k),A}return d.schema=e,d.errors=null,d.refs=O,d.refVal=x,d.root=p?d:r,j&&(d.$async=!0),!0===w.sourceCode&&(d.source={code:k,patterns:E,defaults:S}),d}function N(e,i,o){i=n.url(e,i);var a,s,u=O[i];if(void 0!==u)return a=x[u],s="refVal["+u+"]",U(a,s);if(!o&&t.refs){var c=t.refs[i];if(void 0!==c)return a=t.refVal[c],s=F(i,a),U(a,s)}s=F(i);var l=n.call(_,D,t,i);if(void 0===l){var h=r&&r[i];h&&(l=n.inlineRef(h,w.inlineRefs)?h:f.call(_,h,t,r,e))}if(void 0!==l)return B(i,l),U(l,s);z(i)}function F(e,t){var r=x.length;return x[r]=t,O[e]=r,"refVal"+r}function z(e){delete O[e]}function B(e,t){var r=O[e];x[r]=t}function U(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function V(e){var t=j[e];return void 0===t&&(t=j[e]=E.length,E[t]=e),"pattern"+t}function G(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),r=k[t];return void 0===r&&(r=k[t]=S.length,S[r]=e),"default"+r}}function q(e,t,r,n){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o){var a=o(t);if(!a){var s="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(s);_.logger.error(s)}}}var u,c=e.definition.compile,l=e.definition.inline,f=e.definition.macro;if(c)u=c.call(_,t,r,n);else if(f)u=f.call(_,t,r,n),!1!==w.validateSchema&&_.validateSchema(u,!0);else if(l)u=l.call(_,n,e.keyword,t,r);else if(u=e.definition.validate,!u)return;if(void 0===u)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=T.length;return T[h]=u,{code:"customRule"+h,validate:u}}}function h(e,t,r){var n=d.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function p(e,t,r){var n=d.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function d(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function v(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function y(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function b(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}e.exports=f},jYz7:function(e,t,r){"use strict";(function(e){var n=r("q1tI"),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},c=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=void 0;l="undefined"!==typeof window?window:"undefined"!==typeof self?self:e;var f=null,h=null,p=20,d=l.clearTimeout,v=l.setTimeout,m=l.cancelAnimationFrame||l.mozCancelAnimationFrame||l.webkitCancelAnimationFrame,y=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame;function g(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u="undefined"!==typeof document&&document.attachEvent;if(!u){a=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,i=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=r.offsetWidth+1+"px",i.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&f(this.__resizeRAF__),this.__resizeRAF__=h((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}};var c=!1,p="";n="animationstart";var d="Webkit Moz O ms".split(" "),v="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m="",y=document.createElement("fakeelement");if(void 0!==y.style.animationName&&(c=!0),!1===c)for(var g=0;g<d.length;g++)if(void 0!==y.style[d[g]+"AnimationName"]){m=d[g],p="-"+m.toLowerCase()+"-",n=v[g],c=!0;break}r="resizeanim",t="@"+p+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",i=p+"animation: 1ms "+r+"; "}var b=function(r){if(!r.getElementById("detectElementResize")){var n=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=r.head||r.getElementsByTagName("head")[0],a=r.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(r.createTextNode(n)),o.appendChild(a)}},_=function(e,t){if(u)e.attachEvent("onresize",t);else{if(!e.__resizeTriggers__){var i=e.ownerDocument,o=l.getComputedStyle(e);o&&"static"===o.position&&(e.style.position="relative"),b(i),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=i.createElement("div")).className="resize-triggers";var c=i.createElement("div");c.className="expand-trigger",c.appendChild(i.createElement("div"));var f=i.createElement("div");f.className="contract-trigger",e.__resizeTriggers__.appendChild(c),e.__resizeTriggers__.appendChild(f),e.appendChild(e.__resizeTriggers__),a(e),e.addEventListener("scroll",s,!0),n&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName===r&&a(e)},e.__resizeTriggers__.addEventListener(n,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(t)}},w=function(e,t){if(u)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(r){}}};return{addResizeListener:_,removeResizeListener:w}}null==m||null==y?(f=d,h=function(e){return v(e,p)}):(f=function(e){var t=c(e,2),r=t[0],n=t[1];m(r),d(n)},h=function(e){var t=y((function(){d(r),e()})),r=v((function(){m(t),e()}),p);return[t,r]});var b=function(e){function t(){var e,r,n,o;i(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r=n,n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,i=e.onResize;if(n._parentNode){var o=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,h=o-l-f,p=a-u-c;(!t&&n.state.height!==h||!r&&n.state.width!==p)&&(n.setState({height:o-l-f,width:a-u-c}),i({height:o,width:a}))}},n._setRef=function(e){n._autoSizer=e},o=r,u(n,o)}return s(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=g(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,i=e.disableHeight,o=e.disableWidth,s=e.style,u=this.state,c=u.height,l=u.width,f={overflow:"visible"},h={},p=!1;return i||(0===c&&(p=!0),f.height=0,h.height=c),o||(0===l&&(p=!0),f.width=0,h.width=l),Object(n["createElement"])("div",{className:r,ref:this._setRef,style:a({},f,s)},!p&&t(h))}}]),t}(n["PureComponent"]);b.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t["a"]=b}).call(this,r("IyRk"))},jrin:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},"k+1r":function(e,t,r){var n=r("QkVE");function i(e){var t=n(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},k1fw:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("jrin");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},kCkZ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("8GlL"),o=r("5mdu");n({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),r=o(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}})},kO9b:function(e,t,r){"use strict";var n=r("4xfg"),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");function a(e){return function(){return e}}function s(e){return function(t){return e(t)+""}}t["a"]=function(e,t){var r,u,c,l=i.lastIndex=o.lastIndex=0,f=-1,h=[],p=[];e+="",t+="";while((r=i.exec(e))&&(u=o.exec(t)))(c=u.index)>l&&(c=t.slice(l,c),h[f]?h[f]+=c:h[++f]=c),(r=r[0])===(u=u[0])?h[f]?h[f]+=u:h[++f]=u:(h[++f]=null,p.push({i:f,x:Object(n["a"])(r,u)})),l=o.lastIndex;return l<t.length&&(c=t.slice(l),h[f]?h[f]+=c:h[++f]=c),h.length<2?p[0]?s(p[0].x):a(t):(t=p.length,function(e){for(var r,n=0;n<t;++n)h[(r=p[n]).i]=r.x(e);return h.join("")})}},kOOl:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},kRJp:function(e,t,r){var n=r("g6v/"),i=r("m/L8"),o=r("XGwC");e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},"kVK+":function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=d,a/=256,c-=8);e[r+p-d]|=128*v}},kXpG:function(e,t,r){"use strict";function n(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==r[n])return!1;var i="number"===typeof t[n]?t[n]:t[n].val;if(e[n]!==i)return!1}return!0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},kekF:function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},kmMV:function(e,t,r){"use strict";var n=r("rW0t"),i=r("n3/R"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=u||l||c;f&&(s=function(e){var t,r,i,s,f=this,h=c&&f.sticky,p=n.call(f),d=f.source,v=0,m=e;return h&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(d="(?: "+d+")",m=" "+m,v++),r=new RegExp("^(?:"+d+")",p)),l&&(r=new RegExp("^"+d+"$(?!\\s)",p)),u&&(t=f.lastIndex),i=o.call(h?r:f,m),h?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:t),l&&i&&i.length>1&&a.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},"l/vG":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),c=r("SEBh"),l=r("Sssf"),f=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),r=l(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),h=s(i.set);return f(r,(function(e,r){n(r,e,t)&&h.call(i,e,r)}),void 0,!0,!0),i}})},l8Tq:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_AnimationTimeoutId=t.requestAnimationTimeout=t.cancelAnimationTimeout=void 0;var i=r("OBSw"),o=(n(r("17x9")),null);t.bpfrpt_proptype_AnimationTimeoutId=o;var a=function(e){return(0,i.caf)(e.id)};t.cancelAnimationTimeout=a;var s=function(e,t){var r;Promise.resolve().then((function(){r=Date.now()}));var n=function n(){Date.now()-r>=t?e.call():o.id=(0,i.raf)(n)},o={id:(0,i.raf)(n)};return o};t.requestAnimationTimeout=s},lEou:function(e,t,r){var n=r("dG/n");n("toStringTag")},lMq5:function(e,t,r){var n=r("0Dky"),i=/#|\.prototype\./,o=function(e,t){var r=s[a(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},lSCD:function(e,t,r){var n=r("NykK"),i=r("GoyQ"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function c(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==u}e.exports=c},lSNA:function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},laie:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("fWQN"),i=r("mtLc"),o=r("rePB"),a=r("GawU"),s=function(){function e(t,r){Object(n["a"])(this,e),Object(o["a"])(this,"name",void 0),Object(o["a"])(this,"type",void 0),Object(o["a"])(this,"sampleSize",1),Object(o["a"])(this,"time",void 0),Object(o["a"])(this,"count",void 0),Object(o["a"])(this,"samples",void 0),Object(o["a"])(this,"lastTiming",void 0),Object(o["a"])(this,"lastSampleTime",void 0),Object(o["a"])(this,"lastSampleCount",void 0),Object(o["a"])(this,"_count",0),Object(o["a"])(this,"_time",0),Object(o["a"])(this,"_samples",0),Object(o["a"])(this,"_startTime",0),Object(o["a"])(this,"_timerPending",!1),this.name=t,this.type=r,this.reset()}return Object(i["a"])(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=Object(a["a"])(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(Object(a["a"])()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),u=function(){function e(t){Object(n["a"])(this,e),Object(o["a"])(this,"id",void 0),Object(o["a"])(this,"stats",{}),this.id=t.id,this.stats={},this._initializeStats(t.stats),Object.seal(this)}return Object(i["a"])(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"size",get:function(){return Object.keys(this.stats).length}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,r=e.type;return this.stats[t]||(this.stats[t]=e instanceof s?e:new s(t,r)),this.stats[t]}}]),e}()},leS6:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},lehK:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{iaddh:function(e,t,r,n){var i=e>>>0,o=t>>>0,a=r>>>0;return o+(n>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},ljhN:function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},lmH4:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("mh/w"),c=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=u(this),r=a(e),n=r.has;return"function"!=typeof n&&(r=new(o("Set"))(e),n=s(r.has)),!c(t,(function(e){if(!1===n.call(r,e))return c.stop()}),void 0,!1,!0).stopped}})},lwsE:function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"m+aA":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("i8i4"),i=r.n(n);function o(e){return e instanceof HTMLElement?e:i.a.findDOMNode(e)}},"m/L8":function(e,t,r){var n=r("g6v/"),i=r("DPsx"),o=r("glrk"),a=r("wE6v"),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},m92n:function(e,t,r){var n=r("glrk");e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(a){var o=e["return"];throw void 0!==o&&n(o.call(e)),a}}},mEWj:function(e,t,r){"use strict";function n(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(r){var n=r.callback,i=r.indices,o=Object.keys(i),a=!e||o.every((function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0})),s=o.length!==Object.keys(t).length||o.some((function(e){var r=t[e],n=i[e];return Array.isArray(n)?r.join(",")!==n.join(","):r!==n}));t=i,a&&s&&n(i)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},mGGf:function(e,t,r){"use strict";r("4mDm");var n=r("I+eb"),i=r("0GbY"),o=r("DTth"),a=r("busE"),s=r("4syw"),u=r("1E5z"),c=r("ntOU"),l=r("afO8"),f=r("GarU"),h=r("UTVS"),p=r("A2ZE"),d=r("9d/t"),v=r("glrk"),m=r("hh1v"),y=r("fHMY"),g=r("XGwC"),b=r("mh/w"),_=r("NaFW"),w=r("tiKp"),x=i("fetch"),O=i("Headers"),E=w("iterator"),j="URLSearchParams",S=j+"Iterator",k=l.set,T=l.getterFor(j),P=l.getterFor(S),A=/\+/g,I=Array(4),C=function(e){return I[e-1]||(I[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},M=function(e){var t=e.replace(A," "),r=4;try{return decodeURIComponent(t)}catch(n){while(r)t=t.replace(C(r--),R);return t}},L=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(e){return D[e]},F=function(e){return encodeURIComponent(e).replace(L,N)},z=function(e,t){if(t){var r,n,i=t.split("&"),o=0;while(o<i.length)r=i[o++],r.length&&(n=r.split("="),e.push({key:M(n.shift()),value:M(n.join("="))}))}},B=function(e){this.entries.length=0,z(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=c((function(e,t){k(this,{type:S,iterator:b(T(e).entries),kind:t})}),"Iterator",(function(){var e=P(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),G=function(){f(this,G,j);var e,t,r,n,i,o,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(k(l,{type:j,entries:p,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(m(c))if(e=_(c),"function"===typeof e){t=e.call(c),r=t.next;while(!(n=r.call(t)).done){if(i=b(v(n.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:s.value+""})}}else for(u in c)h(c,u)&&p.push({key:u,value:c[u]+""});else z(p,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},q=G.prototype;s(q,{append:function(e,t){U(arguments.length,2);var r=T(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){U(arguments.length,1);var t=T(this),r=t.entries,n=e+"",i=0;while(i<r.length)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=T(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){U(arguments.length,1);for(var t=T(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){U(arguments.length,1);var t=T(this).entries,r=e+"",n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var r,n=T(this),i=n.entries,o=!1,a=e+"",s=t+"",u=0;u<i.length;u++)r=i[u],r.key===a&&(o?i.splice(u--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL()},sort:function(){var e,t,r,n=T(this),i=n.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(e=o[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}n.updateURL()},forEach:function(e){var t,r=T(this).entries,n=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<r.length)t=r[i++],n(t.value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),a(q,E,q.entries),a(q,"toString",(function(){var e,t=T(this).entries,r=[],n=0;while(n<t.length)e=t[n++],r.push(F(e.key)+"="+F(e.value));return r.join("&")}),{enumerable:!0}),u(G,j),n({global:!0,forced:!o},{URLSearchParams:G}),o||"function"!=typeof x||"function"!=typeof O||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(r=t.body,d(r)===j&&(n=t.headers?new O(t.headers):new O,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:g(0,String(r)),headers:g(0,n)}))),i.push(t)),x.apply(this,i)}}),e.exports={URLSearchParams:G,getState:T}},mGKP:function(e,t,r){var n=r("EdiO");function i(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},mQ2N:function(e,t,r){"use strict";e.exports=u;var n,i=r("XOFf"),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")};function l(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}function p(e,t){var r,n=e.byteLength/t.BYTES_PER_ELEMENT;if(e.byteOffset%t.BYTES_PER_ELEMENT===0)r=new t(e.buffer,e.byteOffset,n);else{var i=e.byteOffset,o=e.byteOffset+e.byteLength;r=new t(e.buffer.slice(i,o))}return r}u.create=i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c,u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},u.prototype.fixed32_array=function(){return p(this.bytes(),Uint32Array)},u.prototype.sfixed32_array=function(){return p(this.bytes(),Int32Array)},u.prototype["float"]=function(){if(this.pos+4>this.len)throw s(this,4);var e=i["float"].readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.float_array=function(){return p(this.bytes(),Float32Array)},u.prototype["double"]=function(){if(this.pos+8>this.len)throw s(this,4);var e=i["float"].readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.double_array=function(){return p(this.bytes(),Float64Array)},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while(4!==(e=7&this.uint32()))this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e;var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},mQYA:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+p+" "+n+") { ";var d=t,v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+n+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=v.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},ma9I:function(e,t,r){"use strict";var n=r("I+eb"),i=r("0Dky"),o=r("6LWA"),a=r("hh1v"),s=r("ewvW"),u=r("UMSQ"),c=r("hBjN"),l=r("ZfDv"),f=r("Hd5f"),h=r("tiKp"),p=r("LQDL"),d=h("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",y=p>=51||!i((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),g=f("concat"),b=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)},_=!y||!g;n({target:"Array",proto:!0,forced:_},{concat:function(e){var t,r,n,i,o,a=s(this),f=l(a,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?a:arguments[t],b(o)){if(i=u(o.length),h+i>v)throw TypeError(m);for(r=0;r<i;r++,h++)r in o&&c(f,h,o[r])}else{if(h>=v)throw TypeError(m);c(f,h++,o)}return f.length=h,f}})},md7G:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("U8pU"),i=r("JX7q");function o(e,t){if(t&&("object"===Object(n["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(i["a"])(e)}},mdPL:function(e,t,r){(function(e){var n=r("WFqU"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&n.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=u}).call(this,r("hOG+")(e))},mdU6:function(e,t,r){},mdYE:function(e,t,r){"use strict";e.exports=o;var n=r("mQ2N");(o.prototype=Object.create(n.prototype)).constructor=o;var i=r("XOFf");function o(e){n.call(this,e)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},mgyK:function(e,t,r){var n=r("NC/Y");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"mh/w":function(e,t,r){var n=r("glrk"),i=r("NaFW");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},mtLc:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,"a",(function(){return i}))},"n+SQ":function(e,t,r){"use strict";var n=r("+9rK"),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,f=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,p=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,v=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",n.copy(m[e])}function y(e){return e%4===0&&(e%100!==0||e%400===0)}function g(e){var t=e.match(i);if(!t)return!1;var r=+t[1],n=+t[2],a=+t[3];return n>=1&&n<=12&&a>=1&&a<=(2==n&&y(r)?29:o[n])}function b(e,t){var r=e.match(a);if(!r)return!1;var n=r[1],i=r[2],o=r[3],s=r[5];return(n<=23&&i<=59&&o<=59||23==n&&59==i&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":l,url:f,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:j,uuid:h,"json-pointer":p,"json-pointer-uri-fragment":d,"relative-json-pointer":v},m.full={date:g,time:b,"date-time":w,uri:O,"uri-reference":c,"uri-template":l,url:f,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:j,uuid:h,"json-pointer":p,"json-pointer-uri-fragment":d,"relative-json-pointer":v};var _=/t|\s/i;function w(e){var t=e.split(_);return 2==t.length&&g(t[0])&&b(t[1],!0)}var x=/\/|:/;function O(e){return x.test(e)&&u.test(e)}var E=/[^\\]\\Z/;function j(e){if(E.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},"n+fv":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"h",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return f})),r.d(t,"e",(function(){return h})),r.d(t,"d",(function(){return p})),r.d(t,"q",(function(){return d})),r.d(t,"p",(function(){return v})),r.d(t,"r",(function(){return m})),r.d(t,"l",(function(){return y})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return b})),r.d(t,"b",(function(){return _})),r.d(t,"o",(function(){return w})),r.d(t,"i",(function(){return x})),r.d(t,"g",(function(){return O}));var n=r("yU0y");function i(){var e=new n["a"](3);return n["a"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function a(e,t,r){var i=new n["a"](3);return i[0]=e,i[1]=t,i[2]=r,i}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function u(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function c(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function l(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function f(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function h(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function p(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e}function d(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function v(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function m(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],u=t[1],c=t[2],l=i*c-o*u,f=o*s-n*c,h=n*u-i*s,p=i*h-o*f,d=o*l-n*h,v=n*f-i*l,m=2*a;return l*=m,f*=m,h*=m,p*=2,d*=2,v*=2,e[0]=s+l+p,e[1]=u+f+d,e[2]=c+h+v,e}function y(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function g(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function b(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function _(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(r*r+n*n+i*i),c=Math.sqrt(o*o+a*a+s*s),l=u*c,f=l&&h(e,t)/l;return Math.acos(Math.min(Math.max(f,-1),1))}var w=u,x=c,O=o;(function(){var e=i()})()},"n3/R":function(e,t,r){"use strict";var n=r("0Dky");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},n5b4:function(e,t,r){var n=r("I+eb"),i=r("2oRo"),o=r("tXUg"),a=r("xrYK"),s=i.process,u="process"==a(s);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=u&&s.domain;o(t?t.bind(e):e)}})},n5pg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e,r){if(n(r,e,t))return u.stop(e)}),void 0,!0,!0).result}})},nELz:function(e,t,r){"undefined"===typeof TextDecoder&&r(7),e.exports={TextEncoder:TextEncoder,TextDecoder:TextDecoder}},nIe3:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),c=r("SEBh"),l=r("Sssf"),f=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=a(this),r=l(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),h=s(i.set);return f(r,(function(e,r){h.call(i,n(r,e,t),r)}),void 0,!0,!0),i}})},nLCz:function(e,t,r){"use strict";function n(){var e=i(r("q1tI"));return n=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n()["default"].createContext({config:{mode:"doc",title:"",navs:{},menus:{},locales:[],repository:{branch:"master"},theme:{}},meta:{title:""},menu:[],nav:[],base:"",routes:[],apis:{},demos:{}});t["default"]=o},nmnc:function(e,t,r){var n=r("Kz5y"),i=n.Symbol;e.exports=i},ntOU:function(e,t,r){"use strict";var n=r("rpNk").IteratorPrototype,i=r("fHMY"),o=r("XGwC"),a=r("1E5z"),s=r("P4y1"),u=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=i(n,{next:o(1,r)}),a(e,c,!1,!0),s[c]=u,e}},nvu9:function(e,t,r){"use strict";t.__esModule=!0,t.getParameters=void 0;var n=r("e9O8");t.getParameters=n.getParameters},ny8l:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}})},o0kM:function(e,t,r){"use strict";var n=r("dmwd")["default"],i=r("5wUe")["default"];function o(){var e=r("q1tI");return o=function(){return e},e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return d(e)||p(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function d(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var v,m="https://riddle.alibaba-inc.com/riddles/define",y=function(){var e=(0,o().useState)(Boolean(v)),t=c(e,2),r=t[0],n=t[1];return(0,o().useEffect)((function(){if(void 0===v){var e=document.createElement("img");setTimeout((function(){e.src="",e.remove()}),200),e.onload=function(){v=!0,n(!0),e.remove()},e.src="https://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/rmsportal/RKuAiriJqrUhyqW.png"}}),[]),r};function g(e){var t=e.sources._.tsx||e.sources._.jsx;return t=t.replace(/^/,"import ReactDOM from 'react-dom';\n").replace("export default","const DumiDemo =").concat("\nReactDOM.render(<DumiDemo />, mountNode);"),t}var b=function(e){var t=(0,o().useState)(),r=c(t,2),a=r[0],u=r[1],l=y();return(0,o().useEffect)((function(){if(e&&l&&1===Object.keys(e.sources).length){var t,r=document.createElement("form"),o=document.createElement("input");return r.method="POST",r.target="_blank",r.style.display="none",r.action=m,r.appendChild(o),r.setAttribute("data-demo",e.title||""),o.name="data",o.value=JSON.stringify({title:e.titlle,js:g(e),css:Object.entries(e.dependencies).filter((function(e){var t=i(e,2),r=t[1];return r.css})).map((function(e){var t=i(e,2),r=t[0],n=t[1],o=n.version,a=n.css;return"@import '~".concat(a.replace(new RegExp("^(".concat(r,")")),"$1@".concat(o)),"';")})).concat(e.background?"body {\n  background: ".concat(e.background,";\n}"):"").join("\n"),json:JSON.stringify({description:e.description,dependencies:Object.entries(e.dependencies).reduce((function(e,t){var r=i(t,2),o=r[0],a=r[1].version;return s(s({},e),{},n({},o,a))}),{"react-dom":(null===(t=e.dependencies.react)||void 0===t?void 0:t.version)||"latest"})},null,2)}),document.body.appendChild(r),u((function(){return function(){return r.submit()}})),function(){return r.remove()}}}),[e,l]),a};t["default"]=b},o0o1:function(e,t,r){var n=r("fsL8")();e.exports=n;try{regeneratorRuntime=n}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},oBTY:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("leS6");function i(e){if(Array.isArray(e))return Object(n["a"])(e)}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var a=r("Qw5x");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return i(e)||o(e)||Object(a["a"])(e)||s()}},oHhm:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n="KHR_draco_mesh_compression",i="UBER_draco_point_cloud_compression"},"oHi+":function(e,t,r){var n=r("ewvW"),i=r("UMSQ"),o=r("NaFW"),a=r("6VoE"),s=r("A2ZE"),u=r("67WC").aTypedArrayConstructor;e.exports=function(e){var t,r,c,l,f,h,p=n(e),d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,y=o(p);if(void 0!=y&&!a(y)){f=y.call(p),h=f.next,p=[];while(!(l=h.call(f)).done)p.push(l.value)}for(m&&d>2&&(v=s(v,arguments[2],2)),r=i(p.length),c=new(u(this))(r),t=0;r>t;t++)c[t]=m?v(p[t],t):p[t];return c}},oNNP:function(e,t,r){"use strict";var n=r("D3zA");e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},oZsa:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,"a",(function(){return n}))},ofBz:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ntOU"),o=r("HYAF"),a=r("UMSQ"),s=r("HAuM"),u=r("glrk"),c=r("xrYK"),l=r("ROdP"),f=r("rW0t"),h=r("kRJp"),p=r("0Dky"),d=r("tiKp"),v=r("SEBh"),m=r("iqWW"),y=r("afO8"),g=r("xDBR"),b=d("matchAll"),_="RegExp String",w=_+" Iterator",x=y.set,O=y.getterFor(w),E=RegExp.prototype,j=E.exec,S="".matchAll,k=!!S&&!p((function(){"a".matchAll(/./)})),T=function(e,t){var r,n=e.exec;if("function"==typeof n){if(r=n.call(e,t),"object"!=typeof r)throw TypeError("Incorrect exec result");return r}return j.call(e,t)},P=i((function(e,t,r,n){x(this,{type:w,regexp:e,string:t,global:r,unicode:n,done:!1})}),_,(function(){var e=O(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=T(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=m(r,a(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),A=function(e){var t,r,n,i,o,s,c=u(this),l=String(e);return t=v(c,RegExp),r=c.flags,void 0===r&&c instanceof RegExp&&!("flags"in E)&&(r=f.call(c)),n=void 0===r?"":String(r),i=new t(t===RegExp?c.source:c,n),o=!!~n.indexOf("g"),s=!!~n.indexOf("u"),i.lastIndex=a(c.lastIndex),new P(i,l,o,s)};n({target:"String",proto:!0,forced:k},{matchAll:function(e){var t,r,n,i,a=o(this);if(null!=e){if(l(e)&&(t=String(o("flags"in E?e.flags:f.call(e))),!~t.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(k)return S.apply(a,arguments);if(n=e[b],void 0===n&&g&&"RegExp"==c(e)&&(n=A),null!=n)return s(n).call(e,a)}else if(k)return S.apply(a,arguments);return r=String(a),i=new RegExp(e,"g"),g?A.call(i,r):i[b](r)}}),g||b in E||h(E,b,A)},ogwx:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r("YS25"),i={basename:"/dumi-project/"};window.routerBase&&(i.basename=window.routerBase);var o=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(n["a"])(i),a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(o=Object(n["a"])(i)),o}},onlc:function(e,t,r){var n=r("t1N5");function i(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}function o(e){var t=i(),r=[e];t[e].distance=0;while(r.length)for(var o=r.pop(),a=Object.keys(n[o]),s=a.length,u=0;u<s;u++){var c=a[u],l=t[c];-1===l.distance&&(l.distance=t[o].distance+1,l.parent=o,r.unshift(c))}return t}function a(e,t){return function(r){return t(e(r))}}function s(e,t){var r=[t[e].parent,e],i=n[t[e].parent][e],o=t[e].parent;while(t[o].parent)r.unshift(t[o].parent),i=a(n[t[o].parent][o],i),o=t[o].parent;return i.conversion=r,i}e.exports=function(e){for(var t=o(e),r={},n=Object.keys(t),i=n.length,a=0;a<i;a++){var u=n[a],c=t[u];null!==c.parent&&(r[u]=s(u,t))}return r}},or5M:function(e,t,r){var n=r("1hJj"),i=r("QoRX"),o=r("xYSL"),a=1,s=2;function u(e,t,r,u,c,l){var f=r&a,h=e.length,p=t.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(e),v=l.get(t);if(d&&v)return d==t&&v==e;var m=-1,y=!0,g=r&s?new n:void 0;l.set(e,t),l.set(t,e);while(++m<h){var b=e[m],_=t[m];if(u)var w=f?u(_,b,m,t,e,l):u(b,_,m,e,t,l);if(void 0!==w){if(w)continue;y=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(b===e||c(b,e,r,u,l)))return g.push(t)}))){y=!1;break}}else if(b!==_&&!c(b,_,r,u,l)){y=!1;break}}return l["delete"](e),l["delete"](t),y}e.exports=u},or9q:function(e,t,r){"use strict";var n=r("6LWA"),i=r("UMSQ"),o=r("A2ZE"),a=function(e,t,r,s,u,c,l,f){var h,p=u,d=0,v=!!l&&o(l,f,3);while(d<s){if(d in r){if(h=v?v(r[d],d,t):r[d],c>0&&n(h))p=a(e,t,h,i(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}d++}return p};e.exports=a},p532:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("/qmn"),a=r("0Dky"),s=r("0GbY"),u=r("SEBh"),c=r("zfnd"),l=r("busE"),f=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(e){var t=u(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",s("Promise").prototype["finally"])},p5mE:function(e,t,r){var n=r("Tskq"),i=r("ENF9"),o=r("fHMY"),a=r("hh1v"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(e,t){return this[e]||(this[e]=t())},s.prototype.next=function(e,t,r){var o=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new i):this.primitives||(this.primitives=new n),a=o.get(t);return a||o.set(t,a=new s),a};var u=new s;e.exports=function(){var e,t,r=u,n=arguments.length;for(e=0;e<n;e++)a(t=arguments[e])&&(r=r.next(e,t,!0));if(this===Object&&r===u)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<n;e++)a(t=arguments[e])||(r=r.next(e,t,!1));return r}},p9CH:function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=r("Z6NN"),c=o(u),l=r("u461"),f=o(l),h=r("fXKH"),p=o(h),d=r("pwmp"),v=o(d),m=r("VciW"),y=o(m),g=r("xEkU"),b=o(g),_=r("kXpG"),w=o(_),x=r("q1tI"),O=o(x),E=r("17x9"),j=o(E),S=1e3/60;function k(e,t,r){var n=t;return null==n?e.map((function(e,t){return{key:e.key,data:e.data,style:r[t]}})):e.map((function(e,t){for(var i=0;i<n.length;i++)if(n[i].key===e.key)return{key:n[i].key,data:n[i].data,style:r[t]};return{key:e.key,data:e.data,style:r[t]}}))}function T(e,t,r,n){if(n.length!==t.length)return!1;for(var i=0;i<n.length;i++)if(n[i].key!==t[i].key)return!1;for(i=0;i<n.length;i++)if(!w["default"](e[i],t[i].style,r[i]))return!1;return!0}function P(e,t,r,n,i,o,a,s,u){for(var l=v["default"](n,i,(function(e,n){var i=t(n);return null==i||w["default"](o[e],i,a[e])?(r({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:i}})),f=[],h=[],p=[],d=[],m=0;m<l.length;m++){for(var y=l[m],g=null,b=0;b<n.length;b++)if(n[b].key===y.key){g=b;break}if(null==g){var _=e(y);f[m]=_,p[m]=_;var x=c["default"](y.style);h[m]=x,d[m]=x}else f[m]=o[g],p[m]=s[g],h[m]=a[g],d[m]=u[g]}return[l,f,h,p,d]}var A=function(e){function t(r){var i=this;a(this,t),e.call(this,r),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=P(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),r=t[0],o=t[1],a=t[2],s=t[3],u=t[4],c=0;c<e.length;c++){var l=e[c].style,f=!1;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=l[h];"number"===typeof p&&(f||(f=!0,o[c]=n({},o[c]),a[c]=n({},a[c]),s[c]=n({},s[c]),u[c]=n({},u[c]),r[c]={key:r[c].key,data:r[c].data,style:n({},r[c].style)}),o[c][h]=p,a[c][h]=0,s[c][h]=p,u[c][h]=0,r[c].style[h]=p)}}i.setState({currentStyles:o,currentVelocities:a,mergedPropsStyles:r,lastIdealStyles:s,lastIdealVelocities:u})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=b["default"]((function(e){if(!i.unmounting){var t=i.props.styles,r="function"===typeof t?t(k(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(T(i.state.currentStyles,r,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var n=e||y["default"](),o=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+o,i.accumulatedTime>10*S&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/S)*S)/S,s=Math.floor(i.accumulatedTime/S),u=P(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,r,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),c=u[0],l=u[1],f=u[2],h=u[3],d=u[4],v=0;v<c.length;v++){var m=c[v].style,g={},b={},_={},w={};for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){var O=m[x];if("number"===typeof O)g[x]=O,b[x]=0,_[x]=O,w[x]=0;else{for(var E=h[v][x],j=d[v][x],A=0;A<s;A++){var I=p["default"](S/1e3,E,j,O.val,O.stiffness,O.damping,O.precision);E=I[0],j=I[1]}var C=p["default"](S/1e3,E,j,O.val,O.stiffness,O.damping,O.precision),R=C[0],M=C[1];g[x]=E+(R-E)*a,b[x]=j+(M-j)*a,_[x]=E,w[x]=j}}h[v]=_,d[v]=w,l[v]=g,f[v]=b}i.animationID=null,i.accumulatedTime-=s*S,i.setState({currentStyles:l,currentVelocities:f,lastIdealStyles:h,lastIdealVelocities:d,mergedPropsStyles:c}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return s(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:j["default"].arrayOf(j["default"].shape({key:j["default"].string.isRequired,data:j["default"].any,style:j["default"].objectOf(j["default"].number).isRequired})),styles:j["default"].oneOfType([j["default"].func,j["default"].arrayOf(j["default"].shape({key:j["default"].string.isRequired,data:j["default"].any,style:j["default"].objectOf(j["default"].oneOfType([j["default"].number,j["default"].object])).isRequired}))]).isRequired,children:j["default"].func.isRequired,willEnter:j["default"].func,willLeave:j["default"].func,didLeave:j["default"].func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return f["default"](e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=e.willEnter,i=e.willLeave,o=e.didLeave,a="function"===typeof r?r(t):r,s=void 0;s=null==t?a:t.map((function(e){for(var t=0;t<a.length;t++)if(a[t].key===e.key)return a[t];return e}));var u=null==t?a.map((function(e){return f["default"](e.style)})):t.map((function(e){return f["default"](e.style)})),l=null==t?a.map((function(e){return c["default"](e.style)})):t.map((function(e){return c["default"](e.style)})),h=P(n,i,o,s,a,u,l,u,l),p=h[0],d=h[1],v=h[2],m=h[3],y=h[4];return{currentStyles:d,currentVelocities:v,lastIdealStyles:m,lastIdealVelocities:y,mergedPropsStyles:p}},t.prototype.componentDidMount=function(){this.prevTime=y["default"](),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"===typeof t?t(k(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=y["default"](),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(b["default"].cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=k(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&O["default"].Children.only(t)},t}(O["default"].Component);t["default"]=A,e.exports=t["default"]},pD2Y:function(e,t,r){"use strict";r.r(t),r.d(t,"interpolate",(function(){return s["a"]})),r.d(t,"interpolateArray",(function(){return u["a"]})),r.d(t,"interpolateBasis",(function(){return c["b"]})),r.d(t,"interpolateBasisClosed",(function(){return l["a"]})),r.d(t,"interpolateDate",(function(){return f["a"]})),r.d(t,"interpolateDiscrete",(function(){return h})),r.d(t,"interpolateHue",(function(){return d})),r.d(t,"interpolateNumber",(function(){return v["a"]})),r.d(t,"interpolateNumberArray",(function(){return m["a"]})),r.d(t,"interpolateObject",(function(){return y["a"]})),r.d(t,"interpolateRound",(function(){return g["a"]})),r.d(t,"interpolateString",(function(){return b["a"]})),r.d(t,"interpolateTransformCss",(function(){return S})),r.d(t,"interpolateTransformSvg",(function(){return k})),r.d(t,"interpolateZoom",(function(){return L})),r.d(t,"interpolateRgb",(function(){return D["a"]})),r.d(t,"interpolateRgbBasis",(function(){return D["b"]})),r.d(t,"interpolateRgbBasisClosed",(function(){return D["c"]})),r.d(t,"interpolateHsl",(function(){return z})),r.d(t,"interpolateHslLong",(function(){return B})),r.d(t,"interpolateLab",(function(){return V})),r.d(t,"interpolateHcl",(function(){return q})),r.d(t,"interpolateHclLong",(function(){return W})),r.d(t,"interpolateCubehelix",(function(){return H["b"]})),r.d(t,"interpolateCubehelixLong",(function(){return H["a"]})),r.d(t,"piecewise",(function(){return Z})),r.d(t,"quantize",(function(){return X}));var n,i,o,a,s=r("6h3Y"),u=r("ZzDG"),c=r("yEp2"),l=r("S83q"),f=r("G21l"),h=function(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}},p=r("sFV2"),d=function(e,t){var r=Object(p["c"])(+e,+t);return function(e){var t=r(e);return t-360*Math.floor(t/360)}},v=r("4xfg"),m=r("Ud7J"),y=r("cb2h"),g=r("WFeF"),b=r("kO9b"),_=180/Math.PI,w={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},x=function(e,t,r,n,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*_,skewX:Math.atan(u)*_,scaleX:a,scaleY:s}};function O(e){return"none"===e?w:(n||(n=document.createElement("DIV"),i=document.documentElement,o=document.defaultView),n.style.transform=e,e=o.getComputedStyle(i.appendChild(n),null).getPropertyValue("transform"),i.removeChild(n),e=e.slice(7,-1).split(","),x(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function E(e){return null==e?w:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",e),(e=a.transform.baseVal.consolidate())?(e=e.matrix,x(e.a,e.b,e.c,e.d,e.e,e.f)):w)}function j(e,t,r,n){function i(e){return e.length?e.pop()+" ":""}function o(e,n,i,o,a,s){if(e!==i||n!==o){var u=a.push("translate(",null,t,null,r);s.push({i:u-4,x:Object(v["a"])(e,i)},{i:u-2,x:Object(v["a"])(n,o)})}else(i||o)&&a.push("translate("+i+t+o+r)}function a(e,t,r,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:r.push(i(r)+"rotate(",null,n)-2,x:Object(v["a"])(e,t)})):t&&r.push(i(r)+"rotate("+t+n)}function s(e,t,r,o){e!==t?o.push({i:r.push(i(r)+"skewX(",null,n)-2,x:Object(v["a"])(e,t)}):t&&r.push(i(r)+"skewX("+t+n)}function u(e,t,r,n,o,a){if(e!==r||t!==n){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Object(v["a"])(e,r)},{i:s-2,x:Object(v["a"])(t,n)})}else 1===r&&1===n||o.push(i(o)+"scale("+r+","+n+")")}return function(t,r){var n=[],i=[];return t=e(t),r=e(r),o(t.translateX,t.translateY,r.translateX,r.translateY,n,i),a(t.rotate,r.rotate,n,i),s(t.skewX,r.skewX,n,i),u(t.scaleX,t.scaleY,r.scaleX,r.scaleY,n,i),t=r=null,function(e){var t,r=-1,o=i.length;while(++r<o)n[(t=i[r]).i]=t.x(e);return n.join("")}}}var S=j(O,"px, ","px)","deg)"),k=j(E,", ",")",")"),T=Math.SQRT2,P=2,A=4,I=1e-12;function C(e){return((e=Math.exp(e))+1/e)/2}function R(e){return((e=Math.exp(e))-1/e)/2}function M(e){return((e=Math.exp(2*e))-1)/(e+1)}var L=function(e,t){var r,n,i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],c=t[2],l=s-i,f=u-o,h=l*l+f*f;if(h<I)n=Math.log(c/a)/T,r=function(e){return[i+e*l,o+e*f,a*Math.exp(T*e*n)]};else{var p=Math.sqrt(h),d=(c*c-a*a+A*h)/(2*a*P*p),v=(c*c-a*a-A*h)/(2*c*P*p),m=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(v*v+1)-v);n=(y-m)/T,r=function(e){var t=e*n,r=C(m),s=a/(P*p)*(r*M(T*t+m)-R(m));return[i+s*l,o+s*f,a*r/C(T*t+m)]}}return r.duration=1e3*n,r},D=r("42CK"),N=r("FmoU");function F(e){return function(t,r){var n=e((t=Object(N["f"])(t)).h,(r=Object(N["f"])(r)).h),i=Object(p["a"])(t.s,r.s),o=Object(p["a"])(t.l,r.l),a=Object(p["a"])(t.opacity,r.opacity);return function(e){return t.h=n(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var z=F(p["c"]),B=F(p["a"]),U=r("YvDT");function V(e,t){var r=Object(p["a"])((e=Object(U["a"])(e)).l,(t=Object(U["a"])(t)).l),n=Object(p["a"])(e.a,t.a),i=Object(p["a"])(e.b,t.b),o=Object(p["a"])(e.opacity,t.opacity);return function(t){return e.l=r(t),e.a=n(t),e.b=i(t),e.opacity=o(t),e+""}}function G(e){return function(t,r){var n=e((t=Object(U["c"])(t)).h,(r=Object(U["c"])(r)).h),i=Object(p["a"])(t.c,r.c),o=Object(p["a"])(t.l,r.l),a=Object(p["a"])(t.opacity,r.opacity);return function(e){return t.h=n(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var q=G(p["c"]),W=G(p["a"]),H=r("OHKE");function Z(e,t){var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);while(r<n)o[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return o[t](e-t)}}var X=function(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}},pDQq:function(e,t,r){"use strict";var n=r("I+eb"),i=r("I8vh"),o=r("ppGB"),a=r("UMSQ"),s=r("ewvW"),u=r("ZfDv"),c=r("hBjN"),l=r("Hd5f"),f=r("rkAj"),h=l("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,v=Math.min,m=9007199254740991,y="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var r,n,l,f,h,p,g=s(this),b=a(g.length),_=i(e,b),w=arguments.length;if(0===w?r=n=0:1===w?(r=0,n=b-_):(r=w-2,n=v(d(o(t),0),b-_)),b+r-n>m)throw TypeError(y);for(l=u(g,n),f=0;f<n;f++)h=_+f,h in g&&c(l,f,g[h]);if(l.length=n,r<n){for(f=_;f<b-n;f++)h=f+n,p=f+r,h in g?g[p]=g[h]:delete g[p];for(f=b;f>b-n+r;f--)delete g[f-1]}else if(r>n)for(f=b-n;f>_;f--)h=f+n-1,p=f+r-1,h in g?g[p]=g[h]:delete g[p];for(f=0;f<r;f++)g[f+_]=arguments[f+2];return g.length=b-n+r,l}})},pEiA:function(e,t,r){e.exports=r("bdZi")},pNMO:function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("0GbY"),a=r("xDBR"),s=r("g6v/"),u=r("STAE"),c=r("/b8u"),l=r("0Dky"),f=r("UTVS"),h=r("6LWA"),p=r("hh1v"),d=r("glrk"),v=r("ewvW"),m=r("/GqU"),y=r("wE6v"),g=r("XGwC"),b=r("fHMY"),_=r("33Wh"),w=r("JBy8"),x=r("BX/b"),O=r("dBg+"),E=r("Bs8V"),j=r("m/L8"),S=r("0eef"),k=r("kRJp"),T=r("busE"),P=r("VpIT"),A=r("93I0"),I=r("0BK2"),C=r("kOOl"),R=r("tiKp"),M=r("5Tg+"),L=r("dG/n"),D=r("1E5z"),N=r("afO8"),F=r("tycR").forEach,z=A("hidden"),B="Symbol",U="prototype",V=R("toPrimitive"),G=N.set,q=N.getterFor(B),W=Object[U],H=i.Symbol,Z=o("JSON","stringify"),X=E.f,$=j.f,Y=x.f,K=S.f,J=P("symbols"),Q=P("op-symbols"),ee=P("string-to-symbol-registry"),te=P("symbol-to-string-registry"),re=P("wks"),ne=i.QObject,ie=!ne||!ne[U]||!ne[U].findChild,oe=s&&l((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=X(W,t);n&&delete W[t],$(e,t,r),n&&e!==W&&$(W,t,n)}:$,ae=function(e,t){var r=J[e]=b(H[U]);return G(r,{type:B,tag:e,description:t}),s||(r.description=t),r},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},ue=function(e,t,r){e===W&&ue(Q,t,r),d(e);var n=y(t,!0);return d(r),f(J,n)?(r.enumerable?(f(e,z)&&e[z][n]&&(e[z][n]=!1),r=b(r,{enumerable:g(0,!1)})):(f(e,z)||$(e,z,g(1,{})),e[z][n]=!0),oe(e,n,r)):$(e,n,r)},ce=function(e,t){d(e);var r=m(t),n=_(r).concat(de(r));return F(n,(function(t){s&&!fe.call(r,t)||ue(e,t,r[t])})),e},le=function(e,t){return void 0===t?b(e):ce(b(e),t)},fe=function(e){var t=y(e,!0),r=K.call(this,t);return!(this===W&&f(J,t)&&!f(Q,t))&&(!(r||!f(this,t)||!f(J,t)||f(this,z)&&this[z][t])||r)},he=function(e,t){var r=m(e),n=y(t,!0);if(r!==W||!f(J,n)||f(Q,n)){var i=X(r,n);return!i||!f(J,n)||f(r,z)&&r[z][n]||(i.enumerable=!0),i}},pe=function(e){var t=Y(m(e)),r=[];return F(t,(function(e){f(J,e)||f(I,e)||r.push(e)})),r},de=function(e){var t=e===W,r=Y(t?Q:m(e)),n=[];return F(r,(function(e){!f(J,e)||t&&!f(W,e)||n.push(J[e])})),n};if(u||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=C(e),r=function(e){this===W&&r.call(Q,e),f(this,z)&&f(this[z],t)&&(this[z][t]=!1),oe(this,t,g(1,e))};return s&&ie&&oe(W,t,{configurable:!0,set:r}),ae(t,e)},T(H[U],"toString",(function(){return q(this).tag})),T(H,"withoutSetter",(function(e){return ae(C(e),e)})),S.f=fe,j.f=ue,E.f=he,w.f=x.f=pe,O.f=de,M.f=function(e){return ae(R(e),e)},s&&($(H[U],"description",{configurable:!0,get:function(){return q(this).description}}),a||T(W,"propertyIsEnumerable",fe,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),F(_(re),(function(e){L(e)})),n({target:B,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var r=H(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:le,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:he}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:pe,getOwnPropertySymbols:de}),n({target:"Object",stat:!0,forced:l((function(){O.f(1)}))},{getOwnPropertySymbols:function(e){return O.f(v(e))}}),Z){var ve=!u||l((function(){var e=H();return"[null]"!=Z([e])||"{}"!=Z({a:e})||"{}"!=Z(Object(e))}));n({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,r){var n,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=t,(p(t)||void 0!==e)&&!se(e))return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),i[1]=t,Z.apply(null,i)}})}H[U][V]||k(H[U],V,H[U].valueOf),D(H,B),I[z]=!0},pSRY:function(e,t,r){var n=r("QkVE");function i(e){return n(this,e).has(e)}e.exports=i},pVnL:function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},peh1:function(e,t,r){"use strict";function n(e,t){return e===t}function i(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,o=null;return function(){return i(t,r,arguments)||(o=e.apply(null,arguments)),r=arguments,o}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=0,u=n.pop(),c=a(n),l=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(r)),f=o((function(){for(var e=[],t=c.length,r=0;r<t;r++)e.push(c[r].apply(null,arguments));return l.apply(null,e)}));return f.resultFunc=u,f.recomputations=function(){return s},f.resetRecomputations=function(){return s=0},f}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=c;var u=t.createSelector=s(o);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[r[n]]=t,e}),{})}))}},pevA:function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("JiZb"),a=r("HAuM"),s=r("glrk"),u=r("hh1v"),c=r("GarU"),l=r("m/L8").f,f=r("kRJp"),h=r("4syw"),p=r("mh/w"),d=r("ImZN"),v=r("RN6c"),m=r("tiKp"),y=r("afO8"),g=m("observable"),b=y.get,_=y.set,w=function(e){return null==e?void 0:a(e)},x=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(r){v(r)}}},O=function(e){return void 0===e.observer},E=function(e,t){if(!i){e.closed=!0;var r=t.subscriptionObserver;r&&(r.closed=!0)}t.observer=void 0},j=function(e,t){var r,n=_(this,{cleanup:void 0,observer:s(e),subscriptionObserver:void 0});i||(this.closed=!1);try{(r=w(e.start))&&r.call(e,this)}catch(l){v(l)}if(!O(n)){var o=n.subscriptionObserver=new S(this);try{var u=t(o),c=u;null!=u&&(n.cleanup="function"===typeof u.unsubscribe?function(){c.unsubscribe()}:a(u))}catch(l){return void o.error(l)}O(n)&&x(n)}};j.prototype=h({},{unsubscribe:function(){var e=b(this);O(e)||(E(this,e),x(e))}}),i&&l(j.prototype,"closed",{configurable:!0,get:function(){return O(b(this))}});var S=function(e){_(this,{subscription:e}),i||(this.closed=!1)};S.prototype=h({},{next:function(e){var t=b(b(this).subscription);if(!O(t)){var r=t.observer;try{var n=w(r.next);n&&n.call(r,e)}catch(i){v(i)}}},error:function(e){var t=b(this).subscription,r=b(t);if(!O(r)){var n=r.observer;E(t,r);try{var i=w(n.error);i?i.call(n,e):v(e)}catch(o){v(o)}x(r)}},complete:function(){var e=b(this).subscription,t=b(e);if(!O(t)){var r=t.observer;E(e,t);try{var n=w(r.complete);n&&n.call(r)}catch(i){v(i)}x(t)}}}),i&&l(S.prototype,"closed",{configurable:!0,get:function(){return O(b(b(this).subscription))}});var k=function(e){c(this,k,"Observable"),_(this,{subscriber:a(e)})};h(k.prototype,{subscribe:function(e){var t=arguments.length;return new j("function"===typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:u(e)?e:{},b(this).subscriber)}}),h(k,{from:function(e){var t="function"===typeof this?this:k,r=w(s(e)[g]);if(r){var n=s(r.call(e));return n.constructor===t?n:new t((function(e){return n.subscribe(e)}))}var i=p(e);return new t((function(e){d(i,(function(t){if(e.next(t),e.closed)return d.stop()}),void 0,!1,!0),e.complete()}))},of:function(){var e="function"===typeof this?this:k,t=arguments.length,r=new Array(t),n=0;while(n<t)r[n]=arguments[n++];return new e((function(e){for(var n=0;n<t;n++)if(e.next(r[n]),e.closed)return;e.complete()}))}}),f(k.prototype,g,(function(){return this})),n({global:!0},{Observable:k}),o("Observable")},pjDv:function(e,t,r){var n=r("I+eb"),i=r("TfTi"),o=r("HH4o"),a=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:a},{from:i})},pkCn:function(e,t,r){"use strict";var n=r("0Dky");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},ppGB:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},pv2x:function(e,t,r){var n=r("I+eb"),i=r("0GbY"),o=r("HAuM"),a=r("glrk"),s=r("0Dky"),u=i("Reflect","apply"),c=Function.apply,l=!s((function(){u((function(){}))}));n({target:"Reflect",stat:!0,forced:l},{apply:function(e,t,r){return o(e),a(r),u?u(e,t,r):c.call(e,t,r)}})},pwmp:function(e,t,r){"use strict";function n(e,t,r){for(var n={},i=0;i<e.length;i++)n[e[i].key]=i;var o={};for(i=0;i<t.length;i++)o[t[i].key]=i;var a=[];for(i=0;i<t.length;i++)a[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(o,e[i].key)){var s=r(i,e[i]);null!=s&&a.push(s)}return a.sort((function(e,r){var i=o[e.key],a=o[r.key],s=n[e.key],u=n[r.key];if(null!=i&&null!=a)return o[e.key]-o[r.key];if(null!=s&&null!=u)return n[e.key]-n[r.key];if(null!=i){for(var c=0;c<t.length;c++){var l=t[c].key;if(Object.prototype.hasOwnProperty.call(n,l)){if(i<o[l]&&u>n[l])return-1;if(i>o[l]&&u<n[l])return 1}}return 1}for(c=0;c<t.length;c++){l=t[c].key;if(Object.prototype.hasOwnProperty.call(n,l)){if(a<o[l]&&s>n[l])return 1;if(a>o[l]&&s<n[l])return-1}}return-1}))}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},q1tI:function(e,t,r){"use strict";e.exports=r("viRO")},qHiR:function(e,t,r){},qKvR:function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"c",(function(){return w})),r.d(t,"b",(function(){return E}));var n=r("dI71"),i=r("q1tI");function o(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function a(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var s=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,r=a(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=o(n);try{var s=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,s?0:i.cssRules.length)}catch(u){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();function u(e){function t(e,n,u,c,l){for(var p,d,v,m,y,w=0,O=0,E=0,j=0,S=0,k=0,R=v=p=0,L=0,N=0,F=0,z=0,B=u.length,U=B-1,V="",G="",q="",W="";L<B;){if(d=u.charCodeAt(L),L===U&&0!==O+j+E+w&&(0!==O&&(d=47===O?10:47),j=E=w=0,B++,U++),0===O+j+E+w){if(L===U&&(0<N&&(V=V.replace(h,"")),0<V.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(L)}d=59}switch(d){case 123:for(V=V.trim(),p=V.charCodeAt(0),v=1,z=++L;L<B;){switch(d=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(L+1)){case 42:case 47:e:{for(R=L+1;R<U;++R)switch(u.charCodeAt(R)){case 47:if(42===d&&42===u.charCodeAt(R-1)&&L+2!==R){L=R+1;break e}break;case 10:if(47===d){L=R+1;break e}}L=R}}break;case 91:d++;case 40:d++;case 34:case 39:for(;L++<U&&u.charCodeAt(L)!==d;);}if(0===v)break;L++}switch(v=u.substring(z,L),0===p&&(p=(V=V.replace(f,"").trim()).charCodeAt(0)),p){case 64:switch(0<N&&(V=V.replace(h,"")),d=V.charCodeAt(1),d){case 100:case 109:case 115:case 45:N=n;break;default:N=C}if(v=t(n,N,v,d,l+1),z=v.length,0<M&&(N=r(C,V,F),y=s(3,v,N,n,P,T,z,d,l,c),V=N.join(""),void 0!==y&&0===(z=(v=y.trim()).length)&&(d=0,v="")),0<z)switch(d){case 115:V=V.replace(x,a);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:V=V.replace(g,"$1 $2"),v=V+"{"+v+"}",v=1===I||2===I&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(G+=v,v="")}else v="";break;default:v=t(n,r(n,V,F),v,c,l+1)}q+=v,v=F=N=R=p=0,V="",d=u.charCodeAt(++L);break;case 125:case 59:if(V=(0<N?V.replace(h,""):V).trim(),1<(z=V.length))switch(0===R&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(z=(V=V.replace(" ",":")).length),0<M&&void 0!==(y=s(1,V,n,e,P,T,G.length,c,l,c))&&0===(z=(V=y.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),d=V.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){W+=V+u.charAt(L);break}default:58!==V.charCodeAt(z-1)&&(G+=i(V,p,d,V.charCodeAt(2)))}F=N=R=p=0,V="",d=u.charCodeAt(++L)}}switch(d){case 13:case 10:47===O?O=0:0===1+p&&107!==c&&0<V.length&&(N=1,V+="\0"),0<M*D&&s(0,V,n,e,P,T,G.length,c,l,c),T=1,P++;break;case 59:case 125:if(0===O+j+E+w){T++;break}default:switch(T++,m=u.charAt(L),d){case 9:case 32:if(0===j+w+O)switch(S){case 44:case 58:case 9:case 32:m="";break;default:32!==d&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===j+O+w&&(N=F=1,m="\f"+m);break;case 108:if(0===j+O+w+A&&0<R)switch(L-R){case 2:112===S&&58===u.charCodeAt(L-3)&&(A=S);case 8:111===k&&(A=k)}break;case 58:0===j+O+w&&(R=L);break;case 44:0===O+E+j+w&&(N=1,m+="\r");break;case 34:case 39:0===O&&(j=j===d?0:0===j?d:j);break;case 91:0===j+O+E&&w++;break;case 93:0===j+O+E&&w--;break;case 41:0===j+O+w&&E--;break;case 40:if(0===j+O+w){if(0===p)switch(2*S+3*k){case 533:break;default:p=1}E++}break;case 64:0===O+E+j+w+R+v&&(v=1);break;case 42:case 47:if(!(0<j+w+E))switch(O){case 0:switch(2*d+3*u.charCodeAt(L+1)){case 235:O=47;break;case 220:z=L,O=42}break;case 42:47===d&&42===S&&z+2!==L&&(33===u.charCodeAt(z+2)&&(G+=u.substring(z,L+1)),m="",O=0)}}0===O&&(V+=m)}k=S,S=d,L++}if(z=G.length,0<z){if(N=n,0<M&&(y=s(2,G,N,e,P,T,z,c,l,c),void 0!==y&&0===(G=y).length))return W+G+q;if(G=N.join(",")+"{"+G+"}",0!==I*A){switch(2!==I||o(G,2)||(A=0),A){case 111:G=G.replace(_,":-moz-$1")+G;break;case 112:G=G.replace(b,"::-webkit-input-$1")+G.replace(b,"::-moz-$1")+G.replace(b,":-ms-input-$1")+G}A=0}}return W+G+q}function r(e,t,r){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===I||2===I&&o(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+u+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(u=a.substring(13).trim(),t=u.indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim(),s=u.charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),L(2!==t?n:n.replace(j,"$1"),r,t)}function a(e,t){var r=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(O," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,i,o,a,s,u,c){for(var f,h=0,p=t;h<M;++h)switch(f=R[h].call(l,e,p,r,n,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){switch(e){case void 0:case null:M=R.length=0;break;default:if("function"===typeof e)R[M++]=e;else if("object"===typeof e)for(var t=0,r=e.length;t<r;++t)u(e[t]);else D=0|!!e}return u}function c(e){return e=e.prefix,void 0!==e&&(L=null,e?"function"!==typeof e?I=1:(I=2,L=e):I=0),c}function l(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),N=n,n=[N],0<M){var i=s(-1,r,n,n,P,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(r=i)}var o=t(C,n,r,0,0);return 0<M&&(i=s(-2,o,n,n,P,T,o.length,0,0,0),void 0!==i&&(o=i)),N="",A=0,T=P=1,o}var f=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,d=/zoo|gra/,v=/([,: ])(transform)/g,m=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,_=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,O=/([\s\S]*?);/g,E=/-self|flex-/g,j=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,T=1,P=1,A=0,I=1,C=[],R=[],M=0,L=null,D=0,N="";return l.use=u,l.set=c,void 0!==e&&c(e),l}var c=u,l="/*|*/",f=l+"}";function h(e){e&&p.current.insert(e+"}")}var p={current:null},d=function(e,t,r,n,i,o,a,s,u,c){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return p.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+l;break;case 3:switch(s){case 102:case 112:return p.current.insert(r[0]+t),"";default:return t+(0===c?l:"")}case-2:t.split(f).forEach(h)}},v=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new c(t);var i,o={};i=e.container||document.head;var a,u=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(u,(function(e){var t=e.getAttribute("data-emotion-"+r);t.split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),n.use(e.stylisPlugins)(d),a=function(e,t,r,i){var o=t.name;p.current=r,n(e,t.styles),i&&(l.inserted[o]=!0)};var l={key:r,sheet:new s({key:r,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:a};return l},m=v,y=(r("VbXa"),r("SIPS")),g=r("MiSq"),b=(Object.prototype.hasOwnProperty,Object(i["createContext"])("undefined"!==typeof HTMLElement?m():null)),_=Object(i["createContext"])({}),w=(b.Provider,function(e){var t=function(t,r){return Object(i["createElement"])(b.Consumer,null,(function(n){return e(t,n,r)}))};return Object(i["forwardRef"])(t)});function x(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(g["a"])(t)}var O=x,E=(i["Component"],function(){var e=O.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}),j=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function S(e,t,r){var n=[],i=Object(y["a"])(e,n,r);return n.length<2?r:i+t(n)}var k=function(){return null};w((function(e,t){return Object(i["createElement"])(_.Consumer,null,(function(r){var n=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=Object(g["a"])(r,t.registered);return Object(y["b"])(t,i,!1),t.key+"-"+i.name},o=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return S(t.registered,n,j(r))},a={css:n,cx:o,theme:r},s=e.children(a);var u=Object(i["createElement"])(k,null);return Object(i["createElement"])(i["Fragment"],null,u,s)}))}))},qLMh:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("QyJ8");function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new j(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return k()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var h={};function p(){}function d(){}function v(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,a)&&(m=g);var b=v.prototype=p.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(o,a,s,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Object(n["a"])(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=v,c(b,"constructor",v),c(v,"constructor",d),d.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),c(b,u,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}},qLUp:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;n(r("VZmc")),r("uUy6");function i(e){var t=e.cellSize,r=e.cellSizeAndPositionManager,n=e.previousCellsCount,i=e.previousCellSize,o=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,u=e.scrollOffset,c=e.scrollToAlignment,l=e.scrollToIndex,f=e.size,h=e.sizeJustIncreasedFromZero,p=e.updateScrollIndexCallback,d=r.getCellCount(),v=l>=0&&l<d,m=f!==s||h||!i||"number"===typeof t&&t!==i;v&&(m||c!==o||l!==a)?p(l):!v&&d>0&&(f<s||d<n)&&u>r.getTotalSize()-f&&p(d-1)}},qMUi:function(e,t,r){"use strict";var n,i,o=Object.prototype,a=o.hasOwnProperty,s=o.toString;"function"===typeof Symbol&&(n=Symbol.prototype.valueOf),"function"===typeof BigInt&&(i=BigInt.prototype.valueOf);var u=function(e){return e!==e},c={boolean:1,number:1,string:1,undefined:1},l=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,f=/^[A-Fa-f0-9]+$/,h={};h.a=h.type=function(e,t){return typeof e===t},h.defined=function(e){return"undefined"!==typeof e},h.empty=function(e){var t,r=s.call(e);if("[object Array]"===r||"[object Arguments]"===r||"[object String]"===r)return 0===e.length;if("[object Object]"===r){for(t in e)if(a.call(e,t))return!1;return!0}return!e},h.equal=function(e,t){if(e===t)return!0;var r,n=s.call(e);if(n!==s.call(t))return!1;if("[object Object]"===n){for(r in e)if(!h.equal(e[r],t[r])||!(r in t))return!1;for(r in t)if(!h.equal(e[r],t[r])||!(r in e))return!1;return!0}if("[object Array]"===n){if(r=e.length,r!==t.length)return!1;while(r--)if(!h.equal(e[r],t[r]))return!1;return!0}return"[object Function]"===n?e.prototype===t.prototype:"[object Date]"===n&&e.getTime()===t.getTime()},h.hosted=function(e,t){var r=typeof t[e];return"object"===r?!!t[e]:!c[r]},h.instance=h["instanceof"]=function(e,t){return e instanceof t},h.nil=h["null"]=function(e){return null===e},h.undef=h.undefined=function(e){return"undefined"===typeof e},h.args=h.arguments=function(e){var t="[object Arguments]"===s.call(e),r=!h.array(e)&&h.arraylike(e)&&h.object(e)&&h.fn(e.callee);return t||r},h.array=Array.isArray||function(e){return"[object Array]"===s.call(e)},h.args.empty=function(e){return h.args(e)&&0===e.length},h.array.empty=function(e){return h.array(e)&&0===e.length},h.arraylike=function(e){return!!e&&!h.bool(e)&&a.call(e,"length")&&isFinite(e.length)&&h.number(e.length)&&e.length>=0},h.bool=h["boolean"]=function(e){return"[object Boolean]"===s.call(e)},h["false"]=function(e){return h.bool(e)&&!1===Boolean(Number(e))},h["true"]=function(e){return h.bool(e)&&!0===Boolean(Number(e))},h.date=function(e){return"[object Date]"===s.call(e)},h.date.valid=function(e){return h.date(e)&&!isNaN(Number(e))},h.element=function(e){return void 0!==e&&"undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},h.error=function(e){return"[object Error]"===s.call(e)},h.fn=h["function"]=function(e){var t="undefined"!==typeof window&&e===window.alert;if(t)return!0;var r=s.call(e);return"[object Function]"===r||"[object GeneratorFunction]"===r||"[object AsyncFunction]"===r},h.number=function(e){return"[object Number]"===s.call(e)},h.infinite=function(e){return e===1/0||e===-1/0},h.decimal=function(e){return h.number(e)&&!u(e)&&!h.infinite(e)&&e%1!==0},h.divisibleBy=function(e,t){var r=h.infinite(e),n=h.infinite(t),i=h.number(e)&&!u(e)&&h.number(t)&&!u(t)&&0!==t;return r||n||i&&e%t===0},h.integer=h["int"]=function(e){return h.number(e)&&!u(e)&&e%1===0},h.maximum=function(e,t){if(u(e))throw new TypeError("NaN is not a valid value");if(!h.arraylike(t))throw new TypeError("second argument must be array-like");var r=t.length;while(--r>=0)if(e<t[r])return!1;return!0},h.minimum=function(e,t){if(u(e))throw new TypeError("NaN is not a valid value");if(!h.arraylike(t))throw new TypeError("second argument must be array-like");var r=t.length;while(--r>=0)if(e>t[r])return!1;return!0},h.nan=function(e){return!h.number(e)||e!==e},h.even=function(e){return h.infinite(e)||h.number(e)&&e===e&&e%2===0},h.odd=function(e){return h.infinite(e)||h.number(e)&&e===e&&e%2!==0},h.ge=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!h.infinite(e)&&!h.infinite(t)&&e>=t},h.gt=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!h.infinite(e)&&!h.infinite(t)&&e>t},h.le=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!h.infinite(e)&&!h.infinite(t)&&e<=t},h.lt=function(e,t){if(u(e)||u(t))throw new TypeError("NaN is not a valid value");return!h.infinite(e)&&!h.infinite(t)&&e<t},h.within=function(e,t,r){if(u(e)||u(t)||u(r))throw new TypeError("NaN is not a valid value");if(!h.number(e)||!h.number(t)||!h.number(r))throw new TypeError("all arguments must be numbers");var n=h.infinite(e)||h.infinite(t)||h.infinite(r);return n||e>=t&&e<=r},h.object=function(e){return"[object Object]"===s.call(e)},h.primitive=function(e){return!e||!("object"===typeof e||h.object(e)||h.fn(e)||h.array(e))},h.hash=function(e){return h.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},h.regexp=function(e){return"[object RegExp]"===s.call(e)},h.string=function(e){return"[object String]"===s.call(e)},h.base64=function(e){return h.string(e)&&(!e.length||l.test(e))},h.hex=function(e){return h.string(e)&&(!e.length||f.test(e))},h.symbol=function(e){return"function"===typeof Symbol&&"[object Symbol]"===s.call(e)&&"symbol"===typeof n.call(e)},h.bigint=function(e){return"function"===typeof BigInt&&"[object BigInt]"===s.call(e)&&"bigint"===typeof i.call(e)},e.exports=h},qT12:function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol["for"],i=n?Symbol["for"]("react.element"):60103,o=n?Symbol["for"]("react.portal"):60106,a=n?Symbol["for"]("react.fragment"):60107,s=n?Symbol["for"]("react.strict_mode"):60108,u=n?Symbol["for"]("react.profiler"):60114,c=n?Symbol["for"]("react.provider"):60109,l=n?Symbol["for"]("react.context"):60110,f=n?Symbol["for"]("react.async_mode"):60111,h=n?Symbol["for"]("react.concurrent_mode"):60111,p=n?Symbol["for"]("react.forward_ref"):60112,d=n?Symbol["for"]("react.suspense"):60113,v=n?Symbol["for"]("react.suspense_list"):60120,m=n?Symbol["for"]("react.memo"):60115,y=n?Symbol["for"]("react.lazy"):60116,g=n?Symbol["for"]("react.block"):60121,b=n?Symbol["for"]("react.fundamental"):60117,_=n?Symbol["for"]("react.responder"):60118,w=n?Symbol["for"]("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case f:case h:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof,e){case l:case p:case y:case m:case c:return e;default:return t}}case o:return t}}}function O(e){return x(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return O(e)||x(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===d||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===g)},t.typeOf=x},qTHO:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+o+";if (",h&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+o+" = "+f+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var d=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},qXHa:function(e,t,r){"use strict";var n=r("ThTW"),i=r("aUsF"),o=r("+9rK"),a=r("ugD5"),s=r("ialn");function u(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return u.call(this,e,t,n);n=this._refs[n]}if(n=n||this._schemas[r],n instanceof a)return d(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,o,s,l=c.call(this,t,r);return l&&(i=l.schema,t=l.root,s=l.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=d(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function c(e,t){var r=n.parse(t),i=g(r),o=y(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=_(i),u=this._refs[s];if("string"==typeof u)return l.call(this,e,u,r);if(u instanceof a)u.validate||this._compile(u),e=u;else{if(u=this._schemas[s],!(u instanceof a))return;if(u.validate||this._compile(u),s==_(t))return{schema:u,root:e,baseId:o};e=u}if(!e.schema)return;o=y(this._getId(e.schema))}return h.call(this,r,o,e.schema,e)}function l(e,t,r){var n=c.call(this,e,t);if(n){var i=n.schema,o=n.baseId;e=n.root;var a=this._getId(i);return a&&(o=w(o,a)),h.call(this,r,o,i,e)}}e.exports=u,u.normalizeId=_,u.fullPath=y,u.url=w,u.ids=x,u.inlineRef=d,u.schema=c;var f=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(s=o.unescapeFragment(s),r=r[s],void 0===r)break;var u;if(!f[s]&&(u=this._getId(r),u&&(t=w(t,u)),r.$ref)){var l=w(t,r.$ref),h=c.call(this,n,l);h&&(r=h.schema,n=h.root,t=h.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var p=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,t){return!1!==t&&(void 0===t||!0===t?v(e):t?m(e)<=t:void 0)}function v(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&!v(t))return!1}else for(var n in e){if("$ref"==n)return!1;if(t=e[n],"object"==typeof t&&!v(t))return!1}return!0}function m(e){var t,r=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],"object"==typeof t&&(r+=m(t)),r==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(p[i])r++;else if(t=e[i],"object"==typeof t&&(r+=m(t)+1),r==1/0)return 1/0}return r}function y(e,t){!1!==t&&(e=_(e));var r=n.parse(e);return g(r)}function g(e){return n.serialize(e).split("#")[0]+"#"}var b=/#\/?$/;function _(e){return e?e.replace(b,""):""}function w(e,t){return t=_(t),n.resolve(e,t)}function x(e){var t=_(this._getId(e)),r={"":t},a={"":y(t,!1)},u={},c=this;return s(e,{allKeys:!0},(function(e,t,s,l,f,h,p){if(""!==t){var d=c._getId(e),v=r[l],m=a[l]+"/"+f;if(void 0!==p&&(m+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof d){d=v=_(v?n.resolve(v,d):d);var y=c._refs[d];if("string"==typeof y&&(y=c._refs[y]),y&&y.schema){if(!i(e,y.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=_(m))if("#"==d[0]){if(u[d]&&!i(e,u[d]))throw new Error('id "'+d+'" resolves to more than one schema');u[d]=e}else c._refs[d]=m}r[t]=v,a[t]=m}})),u}},qY7S:function(e,t,r){"use strict";var n=r("HAuM"),i=r("A2ZE"),o=r("ImZN");e.exports=function(e){var t,r,a,s,u=arguments.length,c=u>1?arguments[1]:void 0;return n(this),t=void 0!==c,t&&n(c),void 0==e?new this:(r=[],t?(a=0,s=i(c,u>2?arguments[2]:void 0,2),o(e,(function(e){r.push(s(e,a++))}))):o(e,r.push,r),new this(r))}},qYE9:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},qZTm:function(e,t,r){var n=r("fR/l"),i=r("MvSz"),o=r("7GkX");function a(e){return n(e,o,i)}e.exports=a},qaHo:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e){if(n(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},qc1c:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){var t=o(this),r=a(t.set),n=0;while(n<arguments.length)s(arguments[n++],r,t,!0);return t}})},qgGA:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.toKey,s=i.set;n({target:"Reflect",stat:!0},{metadata:function(e,t){return function(r,n){s(e,t,o(r),a(n))}}})},qlE0:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("U8pU"),i=r("rePB");function o(e){return Number.isFinite(e[0])}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;if(0===e.length)return new Float32Array(0);if(!u(e))return null;if(o(e))return r.from(e);var n=s(e,t),i=new r(n);return c(e,i,t),i}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=0,n=0,i=-1;while(++i<e.length){var o=e[i];Array.isArray(o)||ArrayBuffer.isView(o)?r+=s(o):n++}return r+(0===r&&n<t?t:n)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.isFinite,r=-1;while(++r<e.length){var n=e[r];if(Array.isArray(n)||ArrayBuffer.isView(n)){if(!u(n,t))return!1}else if(!t(n))return!1}return!0}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return l(e,t,r,0),t}function l(e,t,r,n){var i=-1,o=0;while(++i<e.length){var a=e[i];Array.isArray(a)||ArrayBuffer.isView(a)?n=l(a,t,r,n):o<r&&(t[n++]=a,o++)}return o>0&&o<r&&(t[n++]=0),n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r,n){if(e.isImage(t)||n&&n.isImage){var i=e.addImage(t);return"#/images/".concat(i)}var o=n&&n.size?{size:n.size}:{size:3},a=e.addBuffer(t,o);return"#/accessors/".concat(a)}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i,a=o.flattenArrays,s=void 0===a||a,u=e,c=null;if("string"===typeof u&&0===u.indexOf("#/"))return"#".concat(u);if(Array.isArray(u)){var l=s&&v(r,u);if(!l)return u.map((function(e){return d(e,t,null,i)}));u=l.typedArray,c=l}if(ArrayBuffer.isView(u)&&t)return i&&i.isImage&&(c=h(h({},c),{},{isImage:!0})),p(t,u,r,c);if(null!==u&&"object"===Object(n["a"])(u)){var f={};for(var m in u)["data","width_px","height_px"].every((function(e){return e in u}))&&(i=h(h({},i),{},{isImage:!0})),f[m]=d(u[m],t,m,i);return f}return u}function v(e,t){var r=null,n=3;return"vertices"!==e&&"points"!==e||(r=a(t,n,Float32Array)),"colors"===e&&(n=4===t[0].length?4:3,r=a(t,n,Uint8Array)),r?{typedArray:r,size:n}:null}},qxPZ:function(e,t,r){var n=r("tiKp"),i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},r1Q5:function(e,t,r){"use strict";var n=r("5wUe")["default"];function i(){var e=r("q1tI");return i=function(){return e},e}function o(){var e=r("nvu9");return o=function(){return e},e}function a(e,t){return f(e)||l(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var h="https://codesandbox.io/api/v1/sandboxes/define",p=function(e,t){return"react-dom"===e?"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\n    \nimport React from 'react';\nimport ReactDOM from 'react-dom';\n".concat(t,"\nimport App from './App';\n    \nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);"):"react-dom/client"===e?"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\nimport React from 'react';\nimport { createRoot } from \"react-dom/client\";\n".concat(t,'\nimport App from "./App";\n\nconst rootElement = document.getElementById("root");\nconst root = createRoot(rootElement);\n\nroot.render(<App />);'):void 0};function d(e){var t=document.createElement("span");t.innerHTML=e;var r=t.textContent;return t.remove(),r}function v(e){var t,r=Boolean(e.sources._.tsx),i=r?".tsx":".jsx",a={},s={},u=Object.values(e.dependencies).filter((function(e){return e.css})),c="App".concat(i),l="index".concat(i);return Object.entries(e.dependencies).forEach((function(e){var t=n(e,2),r=t[0],i=t[1].version;s[r]=i})),s["react-dom"]||(s["react-dom"]=s.react||"latest"),a["sandbox.config.json"]={content:JSON.stringify({template:r?"create-react-app-typescript":"create-react-app"},null,2),isBinary:!1},a["package.json"]={content:JSON.stringify({name:e.title,description:d(e.description||"An auto-generated demo by dumi"),main:l,dependencies:s,devDependencies:r?{typescript:"^3"}:{}},null,2),isBinary:!1},a["index.html"]={content:'<div style="margin: 16px;" id="root"></div>',isBinary:!1},a[l]={content:p((null===s||void 0===s||null===(t=s["react-dom"])||void 0===t?void 0:t.startsWith("18."))||"latest"===s.react?"react-dom/client":"react-dom",u.map((function(e){var t=e.css;return"import '".concat(t,"';")})).join("\n")),isBinary:!1},Object.entries(e.sources).forEach((function(e){var t=n(e,2),r=t[0],i=t[1],o=i.tsx,s=i.jsx,u=i.content;a["_"===r?c:r]={content:o||s||u,isBinary:!1}})),(0,o().getParameters)({files:a})}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,r=(0,i().useState)(),n=a(r,2),o=n[0],s=n[1];return(0,i().useEffect)((function(){if(e){var r=document.createElement("form"),n=document.createElement("input"),i=v(e);return r.method="POST",r.target="_blank",r.style.display="none",r.action=t,r.appendChild(n),r.setAttribute("data-demo",e.title||""),n.name="parameters",n.value=i,document.body.appendChild(r),s((function(){return function(){return r.submit()}})),function(){return r.remove()}}}),[e]),o};t["default"]=m},r7wP:function(e,t,r){"use strict";e.exports=o,o.className="ReflectionObject";var n,i=r("CzZC");function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){var e=this;while(null!==e.parent)e=e.parent;return e}},fullName:{get:function(){var e=[this.name],t=this.parent;while(t)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},o.prototype.getOption=function(e){if(this.options)return this.options[e]},o.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},o.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){n=e}},"r9X/":function(e,t,r){"use strict";var n=r("TqRt"),i=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o,a,s=n(r("lwsE")),u=n(r("W8MJ")),c=n(r("a1gu")),l=n(r("Nsbk")),f=n(r("PJYZ")),h=n(r("7W2i")),p=n(r("lSNA")),d=i(r("q1tI")),v=n(r("UhzQ"));n(r("17x9"));function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){(0,p["default"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=(a=o=function(e){function t(){var e,r;(0,s["default"])(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=(0,c["default"])(this,(e=(0,l["default"])(t)).call.apply(e,[this].concat(i))),(0,p["default"])((0,f["default"])(r),"state",{height:r.props.defaultHeight||0,width:r.props.defaultWidth||0}),(0,p["default"])((0,f["default"])(r),"_parentNode",void 0),(0,p["default"])((0,f["default"])(r),"_autoSizer",void 0),(0,p["default"])((0,f["default"])(r),"_window",void 0),(0,p["default"])((0,f["default"])(r),"_detectElementResize",void 0),(0,p["default"])((0,f["default"])(r),"_onResize",(function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=r._window||window,u=s.getComputedStyle(r._parentNode)||{},c=parseInt(u.paddingLeft,10)||0,l=parseInt(u.paddingRight,10)||0,f=parseInt(u.paddingTop,10)||0,h=parseInt(u.paddingBottom,10)||0,p=o-f-h,d=a-c-l;(!t&&r.state.height!==p||!n&&r.state.width!==d)&&(r.setState({height:o-f-h,width:a-c-l}),i({height:o,width:a}))}})),(0,p["default"])((0,f["default"])(r),"_setRef",(function(e){r._autoSizer=e})),r}return(0,h["default"])(t,e),(0,u["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=(0,v["default"])(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.disableHeight,i=e.disableWidth,o=e.style,a=this.state,s=a.height,u=a.width,c={overflow:"visible"},l={};return n||(c.height=0,l.height=s),i||(c.width=0,l.width=u),d.createElement("div",{className:r,ref:this._setRef,style:y({},c,{},o)},t(l))}}]),t}(d.Component),(0,p["default"])(o,"propTypes",null),a);t["default"]=g,(0,p["default"])(g,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}})},"rAM+":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("Qw5x");function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(u)throw a}}}}},rB9j:function(e,t,r){"use strict";var n=r("I+eb"),i=r("kmMV");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},rEGp:function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}e.exports=r},rKzb:function(e,t,r){"use strict";var n=r("4syw"),i=r("8YOa").getWeakData,o=r("glrk"),a=r("hh1v"),s=r("GarU"),u=r("ImZN"),c=r("tycR"),l=r("UTVS"),f=r("afO8"),h=f.set,p=f.getterFor,d=c.find,v=c.findIndex,m=0,y=function(e){return e.frozen||(e.frozen=new g)},g=function(){this.entries=[]},b=function(e,t){return d(e.entries,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,c){var f=e((function(e,n){s(e,f,t),h(e,{type:t,id:m++,frozen:void 0}),void 0!=n&&u(n,e[c],e,r)})),d=p(t),v=function(e,t,r){var n=d(e),a=i(o(t),!0);return!0===a?y(n).set(t,r):a[n.id]=r,e};return n(f.prototype,{delete:function(e){var t=d(this);if(!a(e))return!1;var r=i(e);return!0===r?y(t)["delete"](e):r&&l(r,t.id)&&delete r[t.id]},has:function(e){var t=d(this);if(!a(e))return!1;var r=i(e);return!0===r?y(t).has(e):r&&l(r,t.id)}}),n(f.prototype,r?{get:function(e){var t=d(this);if(a(e)){var r=i(e);return!0===r?y(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),f}}},rNhl:function(e,t,r){var n=r("I+eb"),i=r("fhKU");n({global:!0,forced:parseFloat!=i},{parseFloat:i})},rOQg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("0Dky"),o=r("Yhre"),a=r("glrk"),s=r("I8vh"),u=r("UMSQ"),c=r("SEBh"),l=o.ArrayBuffer,f=o.DataView,h=l.prototype.slice,p=i((function(){return!new l(2).slice(1,void 0).byteLength}));n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:p},{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(a(this),e);var r=a(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),o=new(c(this,l))(u(i-n)),p=new f(this),d=new f(o),v=0;while(n<i)d.setUint8(v++,p.getUint8(n++));return o}})},rW0t:function(e,t,r){"use strict";var n=r("glrk");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},rZ3M:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HYAF"),o=r("ROdP"),a=r("rW0t"),s=r("tiKp"),u=r("xDBR"),c=s("replace"),l=RegExp.prototype;n({target:"String",proto:!0},{replaceAll:function e(t,r){var n,s,f,h,p,d,v,m,y,g=i(this);if(null!=t){if(n=o(t),n&&(s=String(i("flags"in l?t.flags:a.call(t))),!~s.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(f=t[c],void 0!==f)return f.call(t,g,r);if(u&&n)return String(g).replace(t,r)}if(h=String(g),p=String(t),""===p)return e.call(h,/(?:)/g,r);if(d=h.split(p),"function"!==typeof r)return d.join(String(r));for(v=d[0],m=v.length,y=1;y<d.length;y++)v+=String(r(p,m,h)),m+=p.length+d[y].length,v+=d[y];return v}})},rb3L:function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"WeakSet",stat:!0},{of:i})},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},"rhT+":function(e,t){function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},rkAj:function(e,t,r){var n=r("g6v/"),i=r("0Dky"),o=r("UTVS"),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var r=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:u,f=o(t,1)?t[1]:void 0;return s[e]=!!r&&!i((function(){if(c&&!n)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,l,f)}))}},rpNk:function(e,t,r){"use strict";var n,i,o,a=r("4WOD"),s=r("kRJp"),u=r("UTVS"),c=r("tiKp"),l=r("xDBR"),f=c("iterator"),h=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(n=i)):h=!0),void 0==n&&(n={}),l||u(n,f)||s(n,f,p),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},rxlC:function(e,t,r){"use strict";e.exports=i,e.exports["default"]=i;var n=1e20;function i(e,t,r,n,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(e,t,r,i,o,a,s){a.fill(n,0,t*r),s.fill(0,0,t*r);for(var u=(t-i)/2,c=0;c<o;c++)for(var l=0;l<i;l++){var f=(c+u)*t+l+u,h=e.data[4*(c*i+l)+3]/255;if(1===h)a[f]=0,s[f]=n;else if(0===h)a[f]=n,s[f]=0;else{var p=Math.max(0,.5-h),d=Math.max(0,h-.5);a[f]=p*p,s[f]=d*d}}}function a(e,t,r,n,i,o,a){for(var s=0;s<t*r;s++){var u=Math.sqrt(n[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(u/o+a))}}function s(e,t,r,n,i,o){for(var a=0;a<t;a++)u(e,a,t,r,n,i,o);for(var s=0;s<r;s++)u(e,s*t,1,t,n,i,o)}function u(e,t,r,i,o,a,s){var u,c,l,f;for(a[0]=0,s[0]=-n,s[1]=n,u=0;u<i;u++)o[u]=e[t+u*r];for(u=1,c=0,l=0;u<i;u++){do{f=a[c],l=(o[u]-o[f]+u*u-f*f)/(u-f)/2}while(l<=s[c]&&--c>-1);c++,a[c]=u,s[c]=l,s[c+1]=n}for(u=0,c=0;u<i;u++){while(s[c+1]<u)c++;f=a[c],e[t+u*r]=o[f]+(u-f)*(u-f)}}i.prototype._draw=function(e,t){var r,n,i,u,c,l,f,h,p,d=this.ctx.measureText(e),v=d.width,m=2*this.buffer;t&&this.useMetrics?(c=Math.floor(d.actualBoundingBoxAscent),h=this.buffer+Math.ceil(d.actualBoundingBoxAscent),l=this.buffer,f=this.buffer,n=Math.min(this.size,Math.ceil(d.actualBoundingBoxRight-d.actualBoundingBoxLeft)),u=Math.min(this.size-l,Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent)),r=n+m,i=u+m,this.ctx.textBaseline="alphabetic"):(r=n=this.size,i=u=this.size,c=19*this.fontSize/24,l=f=0,h=this.middle,this.ctx.textBaseline="middle"),n&&u&&(this.ctx.clearRect(f,l,n,u),this.ctx.fillText(e,this.buffer,h),p=this.ctx.getImageData(f,l,n,u));var y=new Uint8ClampedArray(r*i);return o(p,r,i,n,u,this.gridOuter,this.gridInner),s(this.gridOuter,r,i,this.f,this.v,this.z),s(this.gridInner,r,i,this.f,this.v,this.z),a(y,r,i,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:y,metrics:{width:n,height:u,sdfWidth:r,sdfHeight:i,top:c,left:0,advance:v}}},i.prototype.draw=function(e){return this._draw(e,!1).data},i.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},s33p:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getDOMNode=t.isReactDOMSupported=void 0;var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.warning=v,t.warnOnce=m;var i=r("q1tI"),o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}var s=o["default"].version.split("."),u=n(s,2),c=u[0],l=u[1],f=Number(l)>13||Number(c)>13,h=t.isReactDOMSupported=function(){return f},p=(t.getDOMNode=function(e){return h()?e:e&&e.getDOMNode()},{}),d={test:!0,production:!0};function v(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.process&&d["production"]||r&&p[t]||(console.warn(t),p[t]=!0)}function m(e){v(e,!0)}}).call(this,r("IyRk"))},s4An:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,"a",(function(){return n}))},s5qe:function(e,t,r){"use strict";var n=r("2oRo"),i=r("67WC"),o=r("0Dky"),a=n.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,f=!!a&&o((function(){c.call(new a(1))})),h=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return c.apply(f?l.call(s(this)):s(this),arguments)}),h)},"sBL/":function(e,t){function r(e,t,r){var n,i,o,a,s;function u(){var c=Date.now()-a;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,a=Date.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(s=e.apply(o,i),o=i=null,clearTimeout(n),n=null)},c}r.debounce=r,e.exports=r},sEFX:function(e,t,r){"use strict";var n=r("AO7/"),i=r("9d/t");e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},sEf8:function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},sFV2:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u}));var n=r("xpj1");function i(e,t){return function(r){return e+r*t}}function o(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function a(e,t){var r=t-e;return r?i(e,r>180||r<-180?r-360*Math.round(r/360):r):Object(n["a"])(isNaN(e)?t:e)}function s(e){return 1===(e=+e)?u:function(t,r){return r-t?o(t,r,e):Object(n["a"])(isNaN(t)?r:t)}}function u(e,t){var r=t-e;return r?i(e,r):Object(n["a"])(isNaN(e)?t:e)}},sQ9d:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.keys,s=i.toKey;n({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return a(o(e),t)}})},"sSh/":function(e,t,r){"use strict";function n(e,t,r){var n=t[0],i=t[1],o=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/o,e[1]=(r[1]*n+r[5]*i)/o,e}function i(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o||1;return e[0]=(r[0]*n+r[4]*i+r[8]*o)/a,e[1]=(r[1]*n+r[5]*i+r[9]*o)/a,e[2]=(r[2]*n+r[6]*i+r[10]*o)/a,e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e[3]=t[3],e}function s(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n+r[3]*i+r[6]*o,e[1]=r[1]*n+r[4]*i+r[7]*o,e[2]=r[2]*n+r[5]*i+r[8]*o,e[3]=t[3],e}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s}))},sYR6:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("fWQN"),i=r("mtLc"),o=r("yKVA"),a=r("879j"),s=r("41X0"),u=r("+H0l"),c=r("tS8E"),l=function(e){Object(o["a"])(r,e);var t=Object(a["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(u["a"])(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(u["a"])(e)}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-e[r];t+=n*n}return Object(u["a"])(t)}},{key:"dot",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(u["a"])(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]*=o[a];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]/=o[a];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return Object(c["a"])(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(u["a"])(this[e])}},{key:"setComponent",value:function(e,t){return Object(c["a"])(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}]),r}(s["a"])},sYn3:function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r("1KsK"),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),d=function(e){if("undefined"===typeof window||!p)return f(e);try{return f(e)}catch(t){return!1}};n=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===o.call(e),n=a(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(s&&e.length>0&&!i.call(e,0))for(var p=0;p<e.length;++p)f.push(String(p));if(n&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var m in e)h&&"prototype"===m||!i.call(e,m)||f.push(String(m));if(u)for(var y=d(e),g=0;g<l.length;++g)y&&"constructor"===l[g]||!i.call(e,l[g])||f.push(l[g]);return f}}e.exports=n},sagP:function(e,t,r){"use strict";var n=r("iZoB").MissingRef;function i(e,t,r){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(r=t,t=void 0);var a=s(e).then((function(){var r=o._addSchema(e,void 0,t);return r.validate||u(r)}));return r&&a.then((function(e){r(null,e)}),r),a;function s(e){var t=e.$schema;return t&&!o.getSchema(t)?i.call(o,{$ref:t},!0):Promise.resolve()}function u(e){try{return o._compile(e)}catch(i){if(i instanceof n)return r(i);throw i}function r(r){var n=r.missingSchema;if(c(n))throw new Error("Schema "+n+" is loaded but "+r.missingRef+" cannot be resolved");var i=o._loadingSchemas[n];return i||(i=o._loadingSchemas[n]=o._opts.loadSchema(n),i.then(a,a)),i.then((function(e){if(!c(n))return s(e).then((function(){c(n)||o.addSchema(e,n,void 0,t)}))})).then((function(){return u(e)}));function a(){delete o._loadingSchemas[n]}function c(e){return o._refs[e]||o._schemas[e]}}}}e.exports=i},seXi:function(e,t,r){var n=r("qZTm"),i=1,o=Object.prototype,a=o.hasOwnProperty;function s(e,t,r,o,s,u){var c=r&i,l=n(e),f=l.length,h=n(t),p=h.length;if(f!=p&&!c)return!1;var d=f;while(d--){var v=l[d];if(!(c?v in t:a.call(t,v)))return!1}var m=u.get(e),y=u.get(t);if(m&&y)return m==t&&y==e;var g=!0;u.set(e,t),u.set(t,e);var b=c;while(++d<f){v=l[d];var _=e[v],w=t[v];if(o)var x=c?o(w,_,v,t,e,u):o(_,w,v,e,t,u);if(!(void 0===x?_===w||s(_,w,r,o,u):x)){g=!1;break}b||(b="constructor"==v)}if(g&&!b){var O=e.constructor,E=t.constructor;O==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof E&&E instanceof E||(g=!1)}return u["delete"](e),u["delete"](t),g}e.exports=s},shjB:function(e,t){var r=9007199254740991;function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}e.exports=n},spTT:function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"WeakSet",stat:!0},{from:i})},"t+aO":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],v=a;if(v){var m,y=-1,g=v.length-1;while(y<g){m=v[y+=1];var b=e.schema.properties[m];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(d[d.length]=m)}}}else d=a;if(h||d.length){var _=e.errorPath,w=h||d.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(c)if(n+=" var missing"+i+"; ",w){h||(n+=" var "+p+" = validate.schema"+s+"; ");var O="i"+i,E="schema"+i+"["+O+"]",j="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,E,e.opts.jsonPointers)),n+=" var "+f+" = true; ",h&&(n+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),n+=" for (var "+O+" = 0; "+O+" < "+p+".length; "+O+"++) { "+f+" = "+l+"["+p+"["+O+"]] !== undefined ",x&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+O+"]) "),n+="; if (!"+f+") break; } ",h&&(n+="  }  "),n+="  if (!"+f+") {   ";var S=S||[];S.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+j+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var k=n;n=S.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+k+"]); ":n+=" validate.errors = ["+k+"]; return false; ":n+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var T=d;if(T){O=-1;var P=T.length-1;while(O<P){R=T[O+=1],O&&(n+=" || ");var A=e.util.getProperty(R),I=l+A;n+=" ( ( "+I+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(R)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?R:A)+") ) "}}n+=") {  ";E="missing"+i,j="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,E,!0):_+" + "+E);S=S||[];S.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+j+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";k=n;n=S.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+k+"]); ":n+=" validate.errors = ["+k+"]; return false; ":n+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){h||(n+=" var "+p+" = validate.schema"+s+"; ");O="i"+i,E="schema"+i+"["+O+"]",j="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,E,e.opts.jsonPointers)),h&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+j+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+O+" = 0; "+O+" < "+p+".length; "+O+"++) { if ("+l+"["+p+"["+O+"]] === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+O+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+j+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var C=d;if(C){var R,M=-1,L=C.length-1;while(M<L){R=C[M+=1];A=e.util.getProperty(R),j=e.util.escapeQuotes(R),I=l+A;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,R,e.opts.jsonPointers)),n+=" if ( "+I+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(R)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+j+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}e.errorPath=_}else c&&(n+=" if (true) {");return n}},"t/kZ":function(e,t,r){"use strict";var n=r("R5yR")["default"];function i(){var e=r("q1tI");return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=r("dEAq");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return d(e)||p(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function d(e){if(Array.isArray(e))return e}var v=function(e){var t=(0,i().useContext)(o.context),r=t.locale,a=t.routes,s=t.config.locales,u=(0,i().useState)([]),l=c(u,2),f=l[0],h=l[1],p=(0,i().useState)([]),d=c(p,2),v=d[0],m=d[1];return(0,i().useEffect)((function(){h(a.filter((function(e){var t=e.title,n=e.meta,i=(null===n||void 0===n?void 0:n.locale)===r,o=!(null===n||void 0===n?void 0:n.locale)&&(!s.length||r===s[0].name);return t&&(o||i)})).reduce((function(e,t){var r,i,o,a={title:(null===(r=t.meta)||void 0===r?void 0:r.title)||t.title,path:t.path};return(null===(i=t.meta)||void 0===i?void 0:i.group)&&(a.parent=t.meta.group),e.push(a),e.push.apply(e,n(((null===(o=t.meta)||void 0===o?void 0:o.slugs)||[]).filter((function(e){var r,n=e.value;return n!==((null===(r=t.meta)||void 0===r?void 0:r.title)||t.title)})).map((function(e){return{title:e.value,path:"".concat(t.path,"#").concat(e.heading),parent:a}})))),e}),[]))}),[a.length,r]),(0,i().useEffect)((function(){var t=null===e||void 0===e?void 0:e.trim().toUpperCase();if(t){for(var r=[],n=0;n<f.length;n+=1)f[n].title.toUpperCase().indexOf(t)>-1&&r.push(f[n]);m(r)}else m([])}),[e,f.length]),v},m=function(){var e=(0,i().useContext)(o.context),t=e.config.algolia,r=(0,i().useCallback)((function(e){window.docsearch(s({inputSelector:e},t))}),[t]);return r},y=function(e){var t=(0,i().useContext)(o.context),r=t.config,n=v(e),a=m();return r.algolia?a:n};t["default"]=y},t1N5:function(e,t,r){var n=r("i2N1"),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:c})}function l(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}a.rgb.hsl=function(e){var t,r,n,i=e[0]/255,o=e[1]/255,a=e[2]/255,s=Math.min(i,o,a),u=Math.max(i,o,a),c=u-s;return u===s?t=0:i===u?t=(o-a)/c:o===u?t=2+(a-i)/c:a===u&&(t=4+(i-o)/c),t=Math.min(60*t,360),t<0&&(t+=360),n=(s+u)/2,r=u===s?0:n<=.5?c/(u+s):c/(2-u-s),[t,100*r,100*n]},a.rgb.hsv=function(e){var t,r,n,i,o,a=e[0]/255,s=e[1]/255,u=e[2]/255,c=Math.max(a,s,u),l=c-Math.min(a,s,u),f=function(e){return(c-e)/6/l+.5};return 0===l?i=o=0:(o=l/c,t=f(a),r=f(s),n=f(u),a===c?i=n-r:s===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},a.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2],i=a.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,100*o,100*n]},a.rgb.cmyk=function(e){var t,r,n,i,o=e[0]/255,a=e[1]/255,s=e[2]/255;return i=Math.min(1-o,1-a,1-s),t=(1-o-i)/(1-i)||0,r=(1-a-i)/(1-i)||0,n=(1-s-i)/(1-i)||0,[100*t,100*r,100*n,100*i]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,o=1/0;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=l(e,s);u<o&&(o=u,r=a)}return r},a.keyword.rgb=function(e){return n[e]},a.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=.4124*t+.3576*r+.1805*n,o=.2126*t+.7152*r+.0722*n,a=.0193*t+.1192*r+.9505*n;return[100*i,100*o,100*a]},a.rgb.lab=function(e){var t,r,n,i=a.rgb.xyz(e),o=i[0],s=i[1],u=i[2];return o/=95.047,s/=100,u/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,t=116*s-16,r=500*(o-s),n=200*(s-u),[t,r,n]},a.hsl.rgb=function(e){var t,r,n,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return o=255*u,[o,o,o];r=u<.5?u*(1+s):u+s-u*s,t=2*u-r,i=[0,0,0];for(var c=0;c<3;c++)n=a+1/3*-(c-1),n<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[c]=255*o;return i},a.hsl.hsv=function(e){var t,r,n=e[0],i=e[1]/100,o=e[2]/100,a=i,s=Math.max(o,.01);return o*=2,i*=o<=1?o:2-o,a*=s<=1?s:2-s,r=(o+i)/2,t=0===o?2*a/(s+a):2*i/(o+i),[n,100*t,100*r]},a.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*n*(1-r),s=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,a];case 1:return[s,n,a];case 2:return[a,n,u];case 3:return[a,s,n];case 4:return[u,a,n];case 5:return[n,a,s]}},a.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return n=(2-o)*a,t=(2-o)*s,r=o*s,r/=t<=1?t:2-t,r=r||0,n/=2,[i,100*r,100*n]},a.hwb.rgb=function(e){var t,r,n,i,o,a,s,u=e[0]/360,c=e[1]/100,l=e[2]/100,f=c+l;switch(f>1&&(c/=f,l/=f),t=Math.floor(6*u),r=1-l,n=6*u-t,0!==(1&t)&&(n=1-n),i=c+n*(r-c),t){default:case 6:case 0:o=r,a=i,s=c;break;case 1:o=i,a=r,s=c;break;case 2:o=c,a=r,s=i;break;case 3:o=c,a=i,s=r;break;case 4:o=i,a=c,s=r;break;case 5:o=r,a=c,s=i;break}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,a=e[2]/100,s=e[3]/100;return t=1-Math.min(1,i*(1-s)+s),r=1-Math.min(1,o*(1-s)+s),n=1-Math.min(1,a*(1-s)+s),[255*t,255*r,255*n]},a.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,a=e[2]/100;return t=3.2406*i+-1.5372*o+-.4986*a,r=-.9689*i+1.8758*o+.0415*a,n=.0557*i+-.204*o+1.057*a,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,t=Math.min(Math.max(0,t),1),r=Math.min(Math.max(0,r),1),n=Math.min(Math.max(0,n),1),[255*t,255*r,255*n]},a.xyz.lab=function(e){var t,r,n,i=e[0],o=e[1],a=e[2];return i/=95.047,o/=100,a/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,t=116*o-16,r=500*(i-o),n=200*(o-a),[t,r,n]},a.lab.xyz=function(e){var t,r,n,i=e[0],o=e[1],a=e[2];r=(i+16)/116,t=o/500+r,n=r-a/200;var s=Math.pow(r,3),u=Math.pow(t,3),c=Math.pow(n,3);return r=s>.008856?s:(r-16/116)/7.787,t=u>.008856?u:(t-16/116)/7.787,n=c>.008856?c:(n-16/116)/7.787,t*=95.047,r*=100,n*=108.883,[t,r,n]},a.lab.lch=function(e){var t,r,n,i=e[0],o=e[1],a=e[2];return t=Math.atan2(a,o),r=360*t/2/Math.PI,r<0&&(r+=360),n=Math.sqrt(o*o+a*a),[i,n,r]},a.lch.lab=function(e){var t,r,n,i=e[0],o=e[1],a=e[2];return n=a/360*2*Math.PI,t=o*Math.cos(n),r=o*Math.sin(n),[i,t,r]},a.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(i=Math.round(i/50),0===i)return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=.5*(1+~~(e>50)),n=(1&t)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;e-=16;var n=Math.floor(e/36)/5*255,i=Math.floor((r=e%36)/6)/5*255,o=r%6/5*255;return[n,i,o]},a.rgb.hex=function(e){var t=((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2])),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16),i=n>>16&255,o=n>>8&255,a=255&n;return[i,o,a]},a.rgb.hcg=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.max(Math.max(n,i),o),s=Math.min(Math.min(n,i),o),u=a-s;return t=u<1?s/(1-u):0,r=u<=0?0:a===n?(i-o)/u%6:a===i?2+(o-n)/u:4+(n-i)/u+4,r/=6,r%=1,[360*r,100*u,100*t]},a.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return n=r<.5?2*t*r:2*t*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i=[0,0,0],o=t%1*6,a=o%1,s=1-a,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return u=(1-r)*n,[255*(r*i[0]+u),255*(r*i[1]+u),255*(r*i[2]+u)]},a.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],100*i,100*o]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]}},t23M:function(e,t,r){"use strict";var n=r("wx14"),i=r("q1tI"),o=r("Zm9Q"),a=(r("Kwbf"),r("VTBJ")),s=r("c+Xe"),u=r("m+aA"),c=r("bdgK"),l=new Map;function f(e){e.forEach((function(e){var t,r=e.target;null===(t=l.get(r))||void 0===t||t.forEach((function(e){return e(r)}))}))}var h=new c["a"](f);function p(e,t){l.has(e)||(l.set(e,new Set),h.observe(e)),l.get(e).add(t)}function d(e,t){l.has(e)&&(l.get(e)["delete"](t),l.get(e).size||(h.unobserve(e),l["delete"](e)))}var v=r("1OyB"),m=r("vuIU"),y=r("Ji7U"),g=r("LK+K"),b=function(e){Object(y["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(v["a"])(this,r),t.apply(this,arguments)}return Object(m["a"])(r,[{key:"render",value:function(){return this.props.children}}]),r}(i["Component"]),_=i["createContext"](null);function w(e){var t=e.children,r=e.onBatchResize,n=i["useRef"](0),o=i["useRef"]([]),a=i["useContext"](_),s=i["useCallback"]((function(e,t,i){n.current+=1;var s=n.current;o.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){s===n.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===a||void 0===a||a(e,t,i)}),[r,a]);return i["createElement"](_.Provider,{value:s},t)}function x(e){var t=e.children,r=e.disabled,n=i["useRef"](null),o=i["useRef"](null),c=i["useContext"](_),l="function"===typeof t,f=l?t(n):t,h=i["useRef"]({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!l&&i["isValidElement"](f)&&Object(s["c"])(f),m=v?f.ref:null,y=i["useMemo"]((function(){return Object(s["a"])(m,n)}),[m,n]),g=i["useRef"](e);g.current=e;var w=i["useCallback"]((function(e){var t=g.current,r=t.onResize,n=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,u=e.offsetWidth,l=e.offsetHeight,f=Math.floor(o),p=Math.floor(s);if(h.current.width!==f||h.current.height!==p||h.current.offsetWidth!==u||h.current.offsetHeight!==l){var d={width:f,height:p,offsetWidth:u,offsetHeight:l};h.current=d;var v=u===Math.round(o)?o:u,m=l===Math.round(s)?s:l,y=Object(a["a"])(Object(a["a"])({},d),{},{offsetWidth:v,offsetHeight:m});null===c||void 0===c||c(y,e,n),r&&Promise.resolve().then((function(){r(y,e)}))}}),[]);return i["useEffect"]((function(){var e=Object(u["a"])(n.current)||Object(u["a"])(o.current);return e&&!r&&p(e,w),function(){return d(e,w)}}),[n.current,r]),i["createElement"](b,{ref:o},v?i["cloneElement"](f,{ref:y}):f)}var O="rc-observer-key";function E(e){var t=e.children,r="function"===typeof t?[t]:Object(o["a"])(t);return r.map((function(t,r){var o=(null===t||void 0===t?void 0:t.key)||"".concat(O,"-").concat(r);return i["createElement"](x,Object(n["a"])({},e,{key:o}),t)}))}E.Collection=w;t["a"]=E},tEiQ:function(e,t,r){"use strict";(function(e){var n=r("q1tI"),i=r.n(n),o=r("dI71"),a=r("17x9"),s=r.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function h(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(r,n){e=r,t.forEach((function(t){return t(e,n)}))}}}function p(e){return Array.isArray(e)?e[0]:e}function d(e,t){var r,i,a="__create-react-context-"+l()+"__",c=function(e){function r(){var t;return t=e.apply(this,arguments)||this,t.emitter=h(t.props.value),t}Object(o["a"])(r,e);var n=r.prototype;return n.getChildContext=function(){var e;return e={},e[a]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r,n=this.props.value,i=e.value;f(n,i)?r=0:(r="function"===typeof t?t(n,i):u,r|=0,0!==r&&this.emitter.set(e.value,r))}},n.render=function(){return this.props.children},r}(n["Component"]);c.childContextTypes=(r={},r[a]=s.a.object.isRequired,r);var d=function(t){function r(){var e;return e=t.apply(this,arguments)||this,e.state={value:e.getValue()},e.onUpdate=function(t,r){var n=0|e.observedBits;0!==(n&r)&&e.setState({value:e.getValue()})},e}Object(o["a"])(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():e},n.render=function(){return p(this.props.children)(this.state.value)},r}(n["Component"]);return d.contextTypes=(i={},i[a]=s.a.object,i),{Provider:c,Consumer:d}}var v=i.a.createContext||d;t["a"]=v}).call(this,r("IyRk"))},tJVT:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}function i(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}r.d(t,"a",(function(){return s}));var o=r("Qw5x");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return n(e)||i(e,t)||Object(o["a"])(e,t)||a()}},tMB7:function(e,t,r){var n=r("y1pI");function i(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}e.exports=i},tS8E:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}r.d(t,"a",(function(){return n}))},tS8v:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},tW5y:function(e,t,r){"use strict";var n=r("hh1v"),i=r("m/L8"),o=r("4WOD"),a=r("tiKp"),s=a("hasInstance"),u=Function.prototype;s in u||i.f(u,s,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;while(e=o(e))if(this.prototype===e)return!0;return!1}})},tXUg:function(e,t,r){var n,i,o,a,s,u,c,l,f=r("2oRo"),h=r("Bs8V").f,p=r("xrYK"),d=r("LPSS").set,v=r("HNyW"),m=f.MutationObserver||f.WebKitMutationObserver,y=f.process,g=f.Promise,b="process"==p(y),_=h(f,"queueMicrotask"),w=_&&_.value;w||(n=function(){var e,t;b&&(e=y.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(r){throw i?a():o=void 0,r}}o=void 0,e&&e.enter()},b?a=function(){y.nextTick(n)}:m&&!v?(s=!0,u=document.createTextNode(""),new m(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):g&&g.resolve?(c=g.resolve(void 0),l=c.then,a=function(){l.call(c,n)}):a=function(){d.call(f,n)}),e.exports=w||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},tYRH:function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e){return e&&e.__esModule?e:{default:e}}t["default"]=u;var o=r("LQNH"),a=i(o),s=n({},a["default"].noWobble,{precision:.01});function u(e,t){return n({},s,t,{val:e})}e.exports=t["default"]},tadb:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"DataView");e.exports=o},tfas:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("q1tI"),a=h(o),s=r("17x9"),u=h(s),c=r("pD2Y"),l=r("e+5M"),f=r("c/BZ");function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=30;function y(e,t,r,n){var i=0,o=setInterval((function(){e?(g(e,t,r,n,i),i>m&&clearInterval(o),i+=1):clearInterval(o)}),1)}function g(e,t,r,n,o){e.clearRect(0,0,r,t),n.forEach((function(t){var r=t.interpolator,n=t.newProps,a=t.animation,s=a?r?r(o/m):r:function(){return{}};t.renderLayer(i({},n,s),e)}))}function b(e,t){return e.map((function(e,r){var n=t[r]?t[r].props:{},o=e.props,a=(0,l.extractAnimatedPropValues)(i({},n,{animatedProps:f.ANIMATED_SERIES_PROPS})),s=o?(0,l.extractAnimatedPropValues)(i({},o,{animatedProps:f.ANIMATED_SERIES_PROPS})):null,u=(0,c.interpolate)(a,s);return{renderLayer:e.type.renderLayer,newProps:e.props,animation:e.props.animation,interpolator:u}}))}var _=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this.canvas.getContext("2d");if(e){var t=this.props.pixelRatio;e&&(e.scale(t,t),this.drawChildren(null,this.props,e))}}},{key:"componentDidUpdate",value:function(e){this.drawChildren(e,this.props,this.canvas.getContext("2d"))}},{key:"drawChildren",value:function(e,t,r){var n=t.children,i=t.innerHeight,o=t.innerWidth,a=t.marginBottom,s=t.marginLeft,u=t.marginRight,c=t.marginTop;if(r){var l=n.find((function(e){return e.props.animation})),f=i+c+a,h=o+s+u,p=b(t.children,e?e.children:[]);l?y(r,f,h,p):g(r,f,h,p)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.innerHeight,n=t.innerWidth,i=t.marginBottom,o=t.marginLeft,s=t.marginRight,u=t.marginTop,c=t.pixelRatio,l=r+u+i,f=n+o+s;return a["default"].createElement("div",{style:{left:0,top:0},className:"rv-xy-canvas"},a["default"].createElement("canvas",{className:"rv-xy-canvas-element",height:l*c,width:f*c,style:{height:l+"px",width:f+"px"},ref:function(t){return e.canvas=t}}),this.props.children)}}],[{key:"defaultProps",get:function(){return{pixelRatio:window&&window.devicePixelRatio||1}}}]),t}(o.Component);_.displayName="CanvasWrapper",_.propTypes={marginBottom:u["default"].number.isRequired,marginLeft:u["default"].number.isRequired,marginRight:u["default"].number.isRequired,marginTop:u["default"].number.isRequired,innerHeight:u["default"].number.isRequired,innerWidth:u["default"].number.isRequired,pixelRatio:u["default"].number.isRequired},t["default"]=_},tiKp:function(e,t,r){var n=r("2oRo"),i=r("VpIT"),o=r("UTVS"),a=r("kOOl"),s=r("STAE"),u=r("/b8u"),c=i("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return o(c,e)||(s&&o(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},tijO:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e){if(n(e,e,t))return u.stop(e)}),void 0,!1,!0).result}})},tjZM:function(e,t,r){var n=r("dG/n");n("asyncIterator")},toAj:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ppGB"),o=r("QIpd"),a=r("EUja"),s=r("0Dky"),u=1..toFixed,c=Math.floor,l=function(e,t,r){return 0===t?r:t%2===1?l(e,t-1,r*e):l(e*e,t/2,r)},f=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},h=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));n({target:"Number",proto:!0,forced:h},{toFixed:function(e){var t,r,n,s,u=o(this),h=i(e),p=[0,0,0,0,0,0],d="",v="0",m=function(e,t){var r=-1,n=t;while(++r<6)n+=e*p[r],p[r]=n%1e7,n=c(n/1e7)},y=function(e){var t=6,r=0;while(--t>=0)r+=p[t],p[t]=c(r/e),r=r%e*1e7},g=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var r=String(p[e]);t=""===t?r:t+a.call("0",7-r.length)+r}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(d="-",u=-u),u>1e-21)if(t=f(u*l(2,69,1))-69,r=t<0?u*l(2,-t,1):u/l(2,t,1),r*=4503599627370496,t=52-t,t>0){m(0,r),n=h;while(n>=7)m(1e7,0),n-=7;m(l(10,n,1),0),n=t-1;while(n>=23)y(1<<23),n-=23;y(1<<n),m(1,1),y(2),v=g()}else m(0,r),m(1<<-t,0),v=g()+a.call("0",h);return h>0?(s=v.length,v=d+(s<=h?"0."+a.call("0",h-s)+v:v.slice(0,s-h)+"."+v.slice(s-h))):v=d+v,v}})},tqrP:function(e,t,r){"use strict";function n(e,t,r){var n,i=e instanceof Error?e:new Error(e);if("object"===typeof t?r=t:null!=t&&(i.code=t),r)for(n in r)i[n]=r[n];return i}e.exports=n},tudb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s,t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0;r("uUy6");var n=-1;t.SCROLL_DIRECTION_BACKWARD=n;var i=1;t.SCROLL_DIRECTION_FORWARD=i;var o="horizontal";t.SCROLL_DIRECTION_HORIZONTAL=o;var a="vertical";function s(e){var t=e.cellCount,r=e.overscanCellsCount,n=e.scrollDirection,o=e.startIndex,a=e.stopIndex;return n===i?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,a+r)}:{overscanStartIndex:Math.max(0,o-r),overscanStopIndex:Math.min(t-1,a)}}t.SCROLL_DIRECTION_VERTICAL=a},tycR:function(e,t,r){var n=r("A2ZE"),i=r("RK3t"),o=r("ewvW"),a=r("UMSQ"),s=r("ZfDv"),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,f=6==e,h=5==e||f;return function(p,d,v,m){for(var y,g,b=o(p),_=i(b),w=n(d,v,3),x=a(_.length),O=0,E=m||s,j=t?E(p,x):r?E(p,0):void 0;x>O;O++)if((h||O in _)&&(y=_[O],g=w(y,O,b),e))if(t)j[O]=g;else if(g)switch(e){case 3:return!0;case 5:return y;case 6:return O;case 2:u.call(j,y)}else if(l)return!1;return f?-1:c||l?l:j}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},u461:function(e,t,r){"use strict";function n(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"===typeof e[r]?e[r]:e[r].val);return t}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},u8Dt:function(e,t,r){var n=r("YESw"),i="__lodash_hash_undefined__",o=Object.prototype,a=o.hasOwnProperty;function s(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return a.call(t,e)?t[e]:void 0}e.exports=s},uPr3:function(e,t){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},uSCx:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=e.util.copy(e),p="";h.level++;var d="valid"+h.level,v={},m={},y=e.opts.ownProperties;for(w in a)if("__proto__"!=w){var g=a[w],b=Array.isArray(g)?m:v;b[w]=g}n+="var "+f+" = errors;";var _=e.errorPath;for(var w in n+="var missing"+i+";",m)if(b=m[w],b.length){if(n+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),c){n+=" && ( ";var x=b;if(x){var O=-1,E=x.length-1;while(O<E){C=x[O+=1],O&&(n+=" || ");var j=e.util.getProperty(C),S=l+j;n+=" ( ( "+S+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:j)+") ) "}}n+=")) {  ";var k="missing"+i,T="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,k,!0):_+" + "+k);var P=P||[];P.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var A=n;n=P.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var I=b;if(I){var C,R=-1,M=I.length-1;while(R<M){C=I[R+=1];j=e.util.getProperty(C),T=e.util.escapeQuotes(C),S=l+j;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,C,e.opts.jsonPointers)),n+=" if ( "+S+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}n+=" }   ",c&&(p+="}",n+=" else { ")}e.errorPath=_;var L=h.baseId;for(var w in v){g=v[w];(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))&&(n+=" "+d+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),n+=") { ",h.schema=g,h.schemaPath=s+e.util.getProperty(w),h.errSchemaPath=u+"/"+e.util.escapeFragment(w),n+="  "+e.validate(h)+" ",h.baseId=L,n+=" }  ",c&&(n+=" if ("+d+") { ",p+="}"))}return c&&(n+="   "+p+" if ("+f+" == errors) {"),n}},uUy6:function(e,t,r){"use strict";var n=r("TqRt"),i=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_VisibleCellRange=t.bpfrpt_proptype_Alignment=t.bpfrpt_proptype_OverscanIndicesGetter=t.bpfrpt_proptype_OverscanIndices=t.bpfrpt_proptype_OverscanIndicesGetterParams=t.bpfrpt_proptype_RenderedSection=t.bpfrpt_proptype_ScrollbarPresenceChange=t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_NoContentRenderer=t.bpfrpt_proptype_CellSize=t.bpfrpt_proptype_CellSizeGetter=t.bpfrpt_proptype_CellRangeRenderer=t.bpfrpt_proptype_CellRangeRendererParams=t.bpfrpt_proptype_StyleCache=t.bpfrpt_proptype_CellCache=t.bpfrpt_proptype_CellRenderer=t.bpfrpt_proptype_CellRendererParams=t.bpfrpt_proptype_CellPosition=void 0;i(r("q1tI")),n(r("VZmc")),n(r("17x9"));var o=null;t.bpfrpt_proptype_CellPosition=o;var a=null;t.bpfrpt_proptype_CellRendererParams=a;var s=null;t.bpfrpt_proptype_CellRenderer=s;var u=null;t.bpfrpt_proptype_CellCache=u;var c=null;t.bpfrpt_proptype_StyleCache=c;var l=null;t.bpfrpt_proptype_CellRangeRendererParams=l;var f=null;t.bpfrpt_proptype_CellRangeRenderer=f;var h=null;t.bpfrpt_proptype_CellSizeGetter=h;var p=null;t.bpfrpt_proptype_CellSize=p;var d=null;t.bpfrpt_proptype_NoContentRenderer=d;var v=null;t.bpfrpt_proptype_Scroll=v;var m=null;t.bpfrpt_proptype_ScrollbarPresenceChange=m;var y=null;t.bpfrpt_proptype_RenderedSection=y;var g=null;t.bpfrpt_proptype_OverscanIndicesGetterParams=g;var b=null;t.bpfrpt_proptype_OverscanIndices=b;var _=null;t.bpfrpt_proptype_OverscanIndicesGetter=_;var w=null;t.bpfrpt_proptype_Alignment=w;var x=null;t.bpfrpt_proptype_VisibleCellRange=x},uWhJ:function(e,t,r){var n=r("I+eb"),i=Math.PI/180;n({target:"Math",stat:!0},{radians:function(e){return e*i}})},ugD5:function(e,t,r){"use strict";var n=r("+9rK");function i(e){n.copy(e,this)}e.exports=i},unQa:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ImZN"),o=r("HAuM");n({target:"Map",stat:!0},{keyBy:function(e,t){var r=new this;o(t);var n=o(r.set);return i(e,(function(e){n.call(r,t(e),e)})),r}})},unm8:function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=r("Z6NN"),c=o(u),l=r("u461"),f=o(l),h=r("fXKH"),p=o(h),d=r("VciW"),v=o(d),m=r("xEkU"),y=o(m),g=r("kXpG"),b=o(g),_=r("q1tI"),w=o(_),x=r("17x9"),O=o(x),E=1e3/60;function j(e,t,r){for(var n=0;n<e.length;n++)if(!b["default"](e[n],t[n],r[n]))return!1;return!0}var S=function(e){function t(r){var i=this;a(this,t),e.call(this,r),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,r=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,u=!1,c=0;c<e.length;c++){var l=e[c],f=!1;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=l[h];"number"===typeof p&&(f||(f=!0,u=!0,r[c]=n({},r[c]),o[c]=n({},o[c]),a[c]=n({},a[c]),s[c]=n({},s[c])),r[c][h]=p,o[c][h]=0,a[c][h]=p,s[c][h]=0)}}u&&i.setState({currentStyles:r,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.animationID=y["default"]((function(e){var t=i.props.styles(i.state.lastIdealStyles);if(j(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var r=e||v["default"](),n=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+n,i.accumulatedTime>10*E&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/E)*E)/E,a=Math.floor(i.accumulatedTime/E),s=[],u=[],c=[],l=[],f=0;f<t.length;f++){var h=t[f],d={},m={},y={},g={};for(var b in h)if(Object.prototype.hasOwnProperty.call(h,b)){var _=h[b];if("number"===typeof _)d[b]=_,m[b]=0,y[b]=_,g[b]=0;else{for(var w=i.state.lastIdealStyles[f][b],x=i.state.lastIdealVelocities[f][b],O=0;O<a;O++){var S=p["default"](E/1e3,w,x,_.val,_.stiffness,_.damping,_.precision);w=S[0],x=S[1]}var k=p["default"](E/1e3,w,x,_.val,_.stiffness,_.damping,_.precision),T=k[0],P=k[1];d[b]=w+(T-w)*o,m[b]=x+(P-x)*o,y[b]=w,g[b]=x}}c[f]=d,l[f]=m,s[f]=y,u[f]=g}i.animationID=null,i.accumulatedTime-=a*E,i.setState({currentStyles:c,currentVelocities:l,lastIdealStyles:s,lastIdealVelocities:u}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return s(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:O["default"].arrayOf(O["default"].objectOf(O["default"].number)),styles:O["default"].func.isRequired,children:O["default"].func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(f["default"]),i=n.map((function(e){return c["default"](e)}));return{currentStyles:n,currentVelocities:i,lastIdealStyles:n,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=v["default"](),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=v["default"](),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(y["default"].cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&w["default"].Children.only(e)},t}(w["default"].Component);t["default"]=S,e.exports=t["default"]},uqXc:function(e,t,r){var n=r("I+eb"),i=r("5Yz+");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},uxXc:function(e,t,r){var n=r("t1N5"),i=r("onlc"),o={},a=Object.keys(n);function s(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function u(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"===typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}a.forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=i(e),r=Object.keys(t);r.forEach((function(r){var n=t[r];o[e][r]=u(n),o[e][r].raw=s(n)}))})),e.exports=o},uy83:function(e,t,r){var n=r("0Dky");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},v43d:function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=s;var p="maximum"==t,d=p?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[d],m=e.opts.$data&&v&&v.$data,y=p?"<":">",g=p?">":"<",b=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!m&&void 0!==v&&"number"!=typeof v&&"boolean"!=typeof v)throw new Error(d+" must be number or boolean");if(m){var _=e.util.getData(v.$data,a,e.dataPathArr),w="exclusive"+o,x="exclType"+o,O="exclIsNumber"+o,E="op"+o,j="' + "+E+" + '";i+=" var schemaExcl"+o+" = "+_+"; ",_="schemaExcl"+o,i+=" var "+w+"; var "+x+" = typeof "+_+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";b=d;var S=S||[];S.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var k=i;i=S.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+w+" = "+n+" === undefined || "+_+" "+y+"= "+n+") ? "+f+" "+g+"= "+_+" : "+f+" "+g+" "+n+" ) : ( ("+w+" = "+_+" === true) ? "+f+" "+g+"= "+n+" : "+f+" "+g+" "+n+" ) || "+f+" !== "+f+") { var op"+o+" = "+w+" ? '"+y+"' : '"+y+"='; ",void 0===s&&(b=d,c=e.errSchemaPath+"/"+d,n=_,h=m)}else{O="number"==typeof v,j=y;if(O&&h){E="'"+j+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+v+" "+y+"= "+n+" ? "+f+" "+g+"= "+v+" : "+f+" "+g+" "+n+" ) || "+f+" !== "+f+") { "}else{O&&void 0===s?(w=!0,b=d,c=e.errSchemaPath+"/"+d,n=v,g+="="):(O&&(n=Math[p?"min":"max"](v,s)),v===(!O||n)?(w=!0,b=d,c=e.errSchemaPath+"/"+d,g+="="):(w=!1,j+="="));E="'"+j+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+" "+g+" "+n+" || "+f+" !== "+f+") { "}}b=b||t;S=S||[];S.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+E+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+j+" ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";k=i;return i=S.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},v5b1:function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("wE6v"),u=r("4WOD"),c=r("Bs8V").f;i&&n({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,r=a(this),n=s(e,!0);do{if(t=c(r,n))return t.get}while(r=u(r))}})},vBe5:function(e,t,r){"use strict";r.r(t),r.d(t,"bisect",(function(){return c})),r.d(t,"bisectRight",(function(){return s})),r.d(t,"bisectLeft",(function(){return u})),r.d(t,"ascending",(function(){return n})),r.d(t,"bisector",(function(){return i})),r.d(t,"cross",(function(){return h})),r.d(t,"descending",(function(){return p})),r.d(t,"deviation",(function(){return m})),r.d(t,"extent",(function(){return y})),r.d(t,"histogram",(function(){return I})),r.d(t,"thresholdFreedmanDiaconis",(function(){return R})),r.d(t,"thresholdScott",(function(){return M})),r.d(t,"thresholdSturges",(function(){return A})),r.d(t,"max",(function(){return L})),r.d(t,"mean",(function(){return D})),r.d(t,"median",(function(){return N})),r.d(t,"merge",(function(){return F})),r.d(t,"min",(function(){return z})),r.d(t,"pairs",(function(){return l})),r.d(t,"permute",(function(){return B})),r.d(t,"quantile",(function(){return C})),r.d(t,"range",(function(){return O})),r.d(t,"scan",(function(){return U})),r.d(t,"shuffle",(function(){return V})),r.d(t,"sum",(function(){return G})),r.d(t,"ticks",(function(){return k})),r.d(t,"tickIncrement",(function(){return T})),r.d(t,"tickStep",(function(){return P})),r.d(t,"transpose",(function(){return q})),r.d(t,"variance",(function(){return v})),r.d(t,"zip",(function(){return H}));var n=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){return 1===e.length&&(e=o(e)),{left:function(t,r,n,i){null==n&&(n=0),null==i&&(i=t.length);while(n<i){var o=n+i>>>1;e(t[o],r)<0?n=o+1:i=o}return n},right:function(t,r,n,i){null==n&&(n=0),null==i&&(i=t.length);while(n<i){var o=n+i>>>1;e(t[o],r)>0?i=o:n=o+1}return n}}};function o(e){return function(t,r){return n(e(t),r)}}var a=i(n),s=a.right,u=a.left,c=s,l=function(e,t){null==t&&(t=f);var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);while(r<n)o[r]=t(i,i=e[++r]);return o};function f(e,t){return[e,t]}var h=function(e,t,r){var n,i,o,a,s=e.length,u=t.length,c=new Array(s*u);for(null==r&&(r=f),n=o=0;n<s;++n)for(a=e[n],i=0;i<u;++i,++o)c[o]=r(a,t[i]);return c},p=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d=function(e){return null===e?NaN:+e},v=function(e,t){var r,n,i=e.length,o=0,a=-1,s=0,u=0;if(null==t)while(++a<i)isNaN(r=d(e[a]))||(n=r-s,s+=n/++o,u+=n*(r-s));else while(++a<i)isNaN(r=d(t(e[a],a,e)))||(n=r-s,s+=n/++o,u+=n*(r-s));if(o>1)return u/(o-1)},m=function(e,t){var r=v(e,t);return r?Math.sqrt(r):r},y=function(e,t){var r,n,i,o=e.length,a=-1;if(null==t){while(++a<o)if(null!=(r=e[a])&&r>=r){n=i=r;while(++a<o)null!=(r=e[a])&&(n>r&&(n=r),i<r&&(i=r))}}else while(++a<o)if(null!=(r=t(e[a],a,e))&&r>=r){n=i=r;while(++a<o)null!=(r=t(e[a],a,e))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},g=Array.prototype,b=g.slice,_=g.map,w=function(e){return function(){return e}},x=function(e){return e},O=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(i);while(++n<i)o[n]=e+n*r;return o},E=Math.sqrt(50),j=Math.sqrt(10),S=Math.sqrt(2),k=function(e,t,r){var n,i,o,a,s=-1;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),0===(a=T(e,t,r))||!isFinite(a))return[];if(a>0){e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));while(++s<i)o[s]=(e+s)*a}else{e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));while(++s<i)o[s]=(e-s)/a}return n&&o.reverse(),o};function T(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return i>=0?(o>=E?10:o>=j?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=E?10:o>=j?5:o>=S?2:1)}function P(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/i;return o>=E?i*=10:o>=j?i*=5:o>=S&&(i*=2),t<e?-i:i}var A=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},I=function(){var e=x,t=y,r=A;function n(n){var i,o,a=n.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(n[i],i,n);var u=t(s),l=u[0],f=u[1],h=r(s,l,f);Array.isArray(h)||(h=P(l,f,h),h=O(Math.ceil(l/h)*h,f,h));var p=h.length;while(h[0]<=l)h.shift(),--p;while(h[p-1]>f)h.pop(),--p;var d,v=new Array(p+1);for(i=0;i<=p;++i)d=v[i]=[],d.x0=i>0?h[i-1]:l,d.x1=i<p?h[i]:f;for(i=0;i<a;++i)o=s[i],l<=o&&o<=f&&v[c(h,o,0,p)].push(n[i]);return v}return n.value=function(t){return arguments.length?(e="function"===typeof t?t:w(t),n):e},n.domain=function(e){return arguments.length?(t="function"===typeof e?e:w([e[0],e[1]]),n):t},n.thresholds=function(e){return arguments.length?(r="function"===typeof e?e:Array.isArray(e)?w(b.call(e)):w(e),n):r},n},C=function(e,t,r){if(null==r&&(r=d),n=e.length){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}},R=function(e,t,r){return e=_.call(e,d).sort(n),Math.ceil((r-t)/(2*(C(e,.75)-C(e,.25))*Math.pow(e.length,-1/3)))},M=function(e,t,r){return Math.ceil((r-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},L=function(e,t){var r,n,i=e.length,o=-1;if(null==t){while(++o<i)if(null!=(r=e[o])&&r>=r){n=r;while(++o<i)null!=(r=e[o])&&r>n&&(n=r)}}else while(++o<i)if(null!=(r=t(e[o],o,e))&&r>=r){n=r;while(++o<i)null!=(r=t(e[o],o,e))&&r>n&&(n=r)}return n},D=function(e,t){var r,n=e.length,i=n,o=-1,a=0;if(null==t)while(++o<n)isNaN(r=d(e[o]))?--i:a+=r;else while(++o<n)isNaN(r=d(t(e[o],o,e)))?--i:a+=r;if(i)return a/i},N=function(e,t){var r,i=e.length,o=-1,a=[];if(null==t)while(++o<i)isNaN(r=d(e[o]))||a.push(r);else while(++o<i)isNaN(r=d(t(e[o],o,e)))||a.push(r);return C(a.sort(n),.5)},F=function(e){var t,r,n,i=e.length,o=-1,a=0;while(++o<i)a+=e[o].length;r=new Array(a);while(--i>=0){n=e[i],t=n.length;while(--t>=0)r[--a]=n[t]}return r},z=function(e,t){var r,n,i=e.length,o=-1;if(null==t){while(++o<i)if(null!=(r=e[o])&&r>=r){n=r;while(++o<i)null!=(r=e[o])&&n>r&&(n=r)}}else while(++o<i)if(null!=(r=t(e[o],o,e))&&r>=r){n=r;while(++o<i)null!=(r=t(e[o],o,e))&&n>r&&(n=r)}return n},B=function(e,t){var r=t.length,n=new Array(r);while(r--)n[r]=e[t[r]];return n},U=function(e,t){if(r=e.length){var r,i,o=0,a=0,s=e[a];null==t&&(t=n);while(++o<r)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},V=function(e,t,r){var n,i,o=(null==r?e.length:r)-(t=null==t?0:+t);while(o)i=Math.random()*o--|0,n=e[o+t],e[o+t]=e[i+t],e[i+t]=n;return e},G=function(e,t){var r,n=e.length,i=-1,o=0;if(null==t)while(++i<n)(r=+e[i])&&(o+=r);else while(++i<n)(r=+t(e[i],i,e))&&(o+=r);return o},q=function(e){if(!(i=e.length))return[];for(var t=-1,r=z(e,W),n=new Array(r);++t<r;)for(var i,o=-1,a=n[t]=new Array(i);++o<i;)a[o]=e[o][t];return n};function W(e){return e.length}var H=function(){return q(arguments)}},vRGJ:function(e,t,r){var n=r("AqCL");e.exports=g,e.exports.parse=o,e.exports.compile=a,e.exports.tokensToFunction=c,e.exports.tokensToRegExp=y;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){var r,n=[],o=0,a=0,s="",u=t&&t.delimiter||"/";while(null!=(r=i.exec(e))){var c=r[0],h=r[1],p=r.index;if(s+=e.slice(a,p),a=p+c.length,h)s+=h[1];else{var d=e[a],v=r[2],m=r[3],y=r[4],g=r[5],b=r[6],_=r[7];s&&(n.push(s),s="");var w=null!=v&&null!=d&&d!==v,x="+"===b||"*"===b,O="?"===b||"*"===b,E=r[2]||u,j=y||g;n.push({name:m||o++,prefix:v||"",delimiter:E,optional:O,repeat:x,partial:w,asterisk:!!_,pattern:j?f(j):_?".*":"[^"+l(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&n.push(s),n}function a(e,t){return c(o(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",p(t)));return function(t,i){for(var o="",a=t||{},c=i||{},l=c.pretty?s:encodeURIComponent,f=0;f<e.length;f++){var h=e[f];if("string"!==typeof h){var p,d=a[h.name];if(null==d){if(h.optional){h.partial&&(o+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(n(d)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var v=0;v<d.length;v++){if(p=l(d[v]),!r[f].test(p))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===v?h.prefix:h.delimiter)+p}}else{if(p=h.asterisk?u(d):l(d),!r[f].test(p))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+p+'"');o+=h.prefix+p}}else o+=h}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function d(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}function v(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(g(e[i],t,r).source);var o=new RegExp("(?:"+n.join("|")+")",p(r));return h(o,t)}function m(e,t,r){return y(o(e,r),t,r)}function y(e,t,r){n(t)||(r=t||r,t=[]),r=r||{};for(var i=r.strict,o=!1!==r.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=l(u);else{var c=l(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+c+f+")*"),f=u.optional?u.partial?c+"("+f+")?":"(?:"+c+"("+f+"))?":c+"("+f+")",a+=f}}var d=l(r.delimiter||"/"),v=a.slice(-d.length)===d;return i||(a=(v?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+d+"|$)",h(new RegExp("^"+a,p(r)),t)}function g(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?d(e,t):n(e)?v(e,t,r):m(e,t,r)}},vUPS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r("q1tI"),o=f(i),a=r("17x9"),s=f(a),u=r("2Vc7"),c=r("PImj"),l=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var h=u.DIRECTION.HORIZONTAL,p=n({},l["default"].propTypes,{direction:s["default"].oneOf([h])}),d={direction:h,attr:"y"};function v(e){return o["default"].createElement(l["default"],e)}v.displayName="HorizontalGridLines",v.propTypes=p,v.defaultProps=d,v.requiresSVG=!0,t["default"]=v},vVvC:function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(o||""),f="errs__"+i,h=e.util.copy(e),p="";h.level++;var d="valid"+h.level,v="key"+i,m="idx"+i,y=h.dataLevel=e.dataLevel+1,g="data"+y,b="dataProperties"+i,_=Object.keys(a||{}).filter(R),w=e.schema.patternProperties||{},x=Object.keys(w).filter(R),O=e.schema.additionalProperties,E=_.length||x.length,j=!1===O,S="object"==typeof O&&Object.keys(O).length,k=e.opts.removeAdditional,T=j||S||k,P=e.opts.ownProperties,A=e.baseId,I=e.schema.required;if(I&&(!e.opts.$data||!I.$data)&&I.length<e.opts.loopRequired)var C=e.util.toHash(I);function R(e){return"__proto__"!==e}if(n+="var "+f+" = errors;var "+d+" = true;",P&&(n+=" var "+b+" = undefined;"),T){if(n+=P?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",E){if(n+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+v+") ";else{var M=_;if(M){var L=-1,D=M.length-1;while(L<D)Y=M[L+=1],n+=" || "+v+" == "+e.util.toQuotedString(Y)+" "}}if(x.length){var N=x;if(N){var F=-1,z=N.length-1;while(F<z)oe=N[F+=1],n+=" || "+e.usePattern(oe)+".test("+v+") "}}n+=" ); if (isAdditional"+i+") { "}if("all"==k)n+=" delete "+l+"["+v+"]; ";else{var B=e.errorPath,U="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),j)if(k)n+=" delete "+l+"["+v+"]; ";else{n+=" "+d+" = false; ";var V=u;u=e.errSchemaPath+"/additionalProperties";var G=G||[];G.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+U+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var q=n;n=G.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=V,c&&(n+=" break; ")}else if(S)if("failing"==k){n+=" var "+f+" = errors;  ";var W=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=O,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var H=l+"["+v+"]";h.dataPathArr[y]=v;var Z=e.validate(h);h.baseId=A,e.util.varOccurences(Z,g)<2?n+=" "+e.util.varReplace(Z,g,H)+" ":n+=" var "+g+" = "+H+"; "+Z+" ",n+=" if (!"+d+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+v+"]; }  ",e.compositeRule=h.compositeRule=W}else{h.schema=O,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);H=l+"["+v+"]";h.dataPathArr[y]=v;Z=e.validate(h);h.baseId=A,e.util.varOccurences(Z,g)<2?n+=" "+e.util.varReplace(Z,g,H)+" ":n+=" var "+g+" = "+H+"; "+Z+" ",c&&(n+=" if (!"+d+") break; ")}e.errorPath=B}E&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+d+") { ",p+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(_.length){var $=_;if($){var Y,K=-1,J=$.length-1;while(K<J){Y=$[K+=1];var Q=a[Y];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){var ee=e.util.getProperty(Y),te=(H=l+ee,X&&void 0!==Q["default"]);h.schema=Q,h.schemaPath=s+ee,h.errSchemaPath=u+"/"+e.util.escapeFragment(Y),h.errorPath=e.util.getPath(e.errorPath,Y,e.opts.jsonPointers),h.dataPathArr[y]=e.util.toQuotedString(Y);Z=e.validate(h);if(h.baseId=A,e.util.varOccurences(Z,g)<2){Z=e.util.varReplace(Z,g,H);var re=H}else{re=g;n+=" var "+g+" = "+H+"; "}if(te)n+=" "+Z+" ";else{if(C&&C[Y]){n+=" if ( "+re+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),n+=") { "+d+" = false; ";B=e.errorPath,V=u;var ne=e.util.escapeQuotes(Y);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,Y,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";G=G||[];G.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";q=n;n=G.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=V,e.errorPath=B,n+=" } else { "}else c?(n+=" if ( "+re+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),n+=") { "+d+" = true; } else { "):(n+=" if ("+re+" !== undefined ",P&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),n+=" ) { ");n+=" "+Z+" } "}}c&&(n+=" if ("+d+") { ",p+="}")}}}if(x.length){var ie=x;if(ie){var oe,ae=-1,se=ie.length-1;while(ae<se){oe=ie[ae+=1];Q=w[oe];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){h.schema=Q,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),n+=P?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",n+=" if ("+e.usePattern(oe)+".test("+v+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);H=l+"["+v+"]";h.dataPathArr[y]=v;Z=e.validate(h);h.baseId=A,e.util.varOccurences(Z,g)<2?n+=" "+e.util.varReplace(Z,g,H)+" ":n+=" var "+g+" = "+H+"; "+Z+" ",c&&(n+=" if (!"+d+") break; "),n+=" } ",c&&(n+=" else "+d+" = true; "),n+=" }  ",c&&(n+=" if ("+d+") { ",p+="}")}}}}return c&&(n+=" "+p+" if ("+f+" == errors) {"),n}},vZi8:function(e,t,r){var n=r("I+eb"),i=r("YGK4"),o=r("eDxR"),a=r("glrk"),s=r("4WOD"),u=r("ImZN"),c=o.keys,l=o.toKey,f=function(e){var t=[];return u(e,t.push,t),t},h=function(e,t){var r=c(e,t),n=s(e);if(null===n)return r;var o=h(n,t);return o.length?r.length?f(new i(r.concat(o))):o:r};n({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:l(arguments[1]);return h(a(e),t)}})},vdRX:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},vdpk:function(e,t,r){"use strict";(function(e){function n(t){if("undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof e&&"object"===typeof e.versions&&Boolean(e.versions.electron))return!0;var r="object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=t||r;return!!(n&&n.indexOf("Electron")>=0)}r.d(t,"a",(function(){return n}))}).call(this,r("Q2Ig"))},viRO:function(e,t,r){"use strict";var n=r("MgzW"),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}function w(){}function x(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var O=x.prototype=new w;O.constructor=x,n(O,_.prototype),O.isPureReactComponent=!0;var E={current:null},j=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,n)&&!S.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)void 0===i[n]&&(i[n]=u[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function T(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}function A(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}var I=/\/+/g,C=[];function R(e,t,r,n){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function L(e,t,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return r(n,e,""===t?"."+N(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){i=e[u];var c=t+N(i,u);s+=L(i,c,r,n)}else if(null===e||"object"!==typeof e?c=null:(c=m&&e[m]||e["@@iterator"],c="function"===typeof c?c:null),"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=t+N(i,u++),s+=L(i,c,r,n);else if("object"===i)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function D(e,t,r){return null==e?0:L(e,"",t,r)}function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?A(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,n,r,(function(e){return e})):null!=e&&(P(e)&&(e=T(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+r)),n.push(e))}function B(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(I,"$&/")+"/"),t=R(t,o,n,i),D(e,z,t),M(t)}var U={current:null};function V(){var e=U.current;if(null===e)throw Error(y(321));return e}var G={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return B(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;t=R(null,null,t,r),D(e,F,t),M(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(y(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=c,t.PureComponent=x,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(y(267,e));var i=n({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)j.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return V().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,r){return V().useReducer(e,t,r)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},vo4V:function(e,t,r){var n=r("90hW"),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),c=o(2,-126),l=function(e){return e+1/a-1/a};e.exports=Math.fround||function(e){var t,r,o=i(e),f=n(e);return o<c?f*l(o/c/s)*c*s:(t=(1+s/a)*o,r=t-(t-o),r>u||r!=r?f*(1/0):f*r)}},voyM:function(e,t){e.exports=Math.scale||function(e,t,r,n,i){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-n)/(r-t)+n}},vuIU:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,"a",(function(){return i}))},vxnP:function(e,t,r){"use strict";var n=r("I+eb");n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},vzwy:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ppGB"),o=r("wg0c"),a="Invalid number representation",s="Invalid radix",u=/^[\da-z]+$/;n({target:"Number",stat:!0},{fromString:function(e,t){var r,n,c=1;if("string"!=typeof e)throw TypeError(a);if(!e.length)throw SyntaxError(a);if("-"==e.charAt(0)&&(c=-1,e=e.slice(1),!e.length))throw SyntaxError(a);if(r=void 0===t?10:i(t),r<2||r>36)throw RangeError(s);if(!u.test(e)||(n=o(e,r)).toString(r)!==e)throw SyntaxError(a);return c*n}})},w1rZ:function(e,t,r){var n=r("I+eb"),i=r("fhKU");n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},w7s6:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},wE6v:function(e,t,r){var n=r("hh1v");e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"wF/u":function(e,t,r){var n=r("e5cp"),i=r("ExA7");function o(e,t,r,a,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:n(e,t,r,a,o,s))}e.exports=o},wJg7:function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?r:t,!!t&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},wVpn:function(e,t,r){"use strict";var n=r("WDQk"),i=r("82c2");e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},wXyd:function(e,t,r){"use strict";var n=r("Y3YA"),i=r("+9rK").toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],r=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],o=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.types=i(o),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if("object"==typeof r){var o=Object.keys(r)[0];i=r[o],r=o,i.forEach((function(r){t.push(r),e.all[r]=!0}))}t.push(r);var a=e.all[r]={keyword:r,code:n[r],implements:i};return a})),e.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=i(t.concat(r)),e.custom={},e}},"wZ/5":function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("Yhre"),a=r("JiZb"),s="ArrayBuffer",u=o[s],c=i[s];n({global:!0,forced:c!==u},{ArrayBuffer:u}),a(s)},wbcz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MARGINS=t.MarginPropType=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.getInnerDimensions=s,t.getRadialLayoutMargin=u;var i=r("17x9"),o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=e.margin,i=e.width,o=e.height,a=n({},t,"number"===typeof r?{left:r,right:r,top:r,bottom:r}:r),s=a.left,u=void 0===s?0:s,c=a.top,l=void 0===c?0:c,f=a.right,h=void 0===f?0:f,p=a.bottom,d=void 0===p?0:p;return{marginLeft:u,marginTop:l,marginRight:h,marginBottom:d,innerHeight:o-d-l,innerWidth:i-u-h}}function u(e,t,r){var n=e/2-r,i=t/2-r;return{bottom:i,left:n,right:n,top:i}}t.MarginPropType=o["default"].oneOfType([o["default"].shape({left:o["default"].number,top:o["default"].number,right:o["default"].number,bottom:o["default"].number}),o["default"].number]),t.DEFAULT_MARGINS={left:40,right:10,top:10,bottom:40}},wfmh:function(e,t,r){var n=r("I+eb"),i=r("ImZN"),o=r("hBjN");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),void 0,!0),t}})},wg0c:function(e,t,r){var n=r("2oRo"),i=r("WKiH").trim,o=r("WJkJ"),a=n.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");e.exports=u?function(e,t){var r=i(String(e));return a(r,t>>>0||(s.test(r)?16:10))}:a},wgJM:function(e,t,r){"use strict";var n=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(n=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var o=0,a=new Map;function s(e){a["delete"](e)}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o+=1;var r=o;function i(t){if(0===t)s(r),e();else{var o=n((function(){i(t-1)}));a.set(r,o)}}return i(t),r};u.cancel=function(e){var t=a.get(e);return s(t),i(t)},t["a"]=u},wgYD:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},wx14:function(e,t,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,"a",(function(){return n}))},x8cr:function(e,t,r){},"xCC/":function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=r("Z6NN"),c=o(u),l=r("u461"),f=o(l),h=r("fXKH"),p=o(h),d=r("VciW"),v=o(d),m=r("xEkU"),y=o(m),g=r("kXpG"),b=o(g),_=r("q1tI"),w=o(_),x=r("17x9"),O=o(x),E=1e3/60,j=function(e){function t(r){var i=this;a(this,t),e.call(this,r),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,r=i.state,o=r.currentStyle,a=r.currentVelocity,s=r.lastIdealStyle,u=r.lastIdealVelocity;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l=e[c];"number"===typeof l&&(t||(t=!0,o=n({},o),a=n({},a),s=n({},s),u=n({},u)),o[c]=l,a[c]=0,s[c]=l,u[c]=0)}t&&i.setState({currentStyle:o,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:u})},this.startAnimationIfNecessary=function(){i.animationID=y["default"]((function(e){var t=i.props.style;if(b["default"](i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var r=e||v["default"](),n=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+n,i.accumulatedTime>10*E&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/E)*E)/E,a=Math.floor(i.accumulatedTime/E),s={},u={},c={},l={};for(var f in t)if(Object.prototype.hasOwnProperty.call(t,f)){var h=t[f];if("number"===typeof h)c[f]=h,l[f]=0,s[f]=h,u[f]=0;else{for(var d=i.state.lastIdealStyle[f],m=i.state.lastIdealVelocity[f],y=0;y<a;y++){var g=p["default"](E/1e3,d,m,h.val,h.stiffness,h.damping,h.precision);d=g[0],m=g[1]}var _=p["default"](E/1e3,d,m,h.val,h.stiffness,h.damping,h.precision),w=_[0],x=_[1];c[f]=d+(w-d)*o,l[f]=m+(x-m)*o,s[f]=d,u[f]=m}}i.animationID=null,i.accumulatedTime-=a*E,i.setState({currentStyle:c,currentVelocity:l,lastIdealStyle:s,lastIdealVelocity:u}),i.unreadPropStyle=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return s(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:O["default"].objectOf(O["default"].number),style:O["default"].objectOf(O["default"].oneOfType([O["default"].number,O["default"].object])).isRequired,children:O["default"].func.isRequired,onRest:O["default"].func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||f["default"](r),i=c["default"](n);return{currentStyle:n,currentVelocity:i,lastIdealStyle:n,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=v["default"](),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=v["default"](),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(y["default"].cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&w["default"].Children.only(e)},t}(w["default"].Component);t["default"]=j,e.exports=t["default"]},xDBR:function(e,t){e.exports=!1},xEkU:function(e,t,r){(function(t){for(var n=r("bQgK"),i="undefined"===typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],u=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!u){var l=0,f=0,h=[],p=1e3/60;s=function(e){if(0===h.length){var t=n(),r=Math.max(0,p-(t-l));l=r+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(r){setTimeout((function(){throw r}),0)}}),Math.round(r))}return h.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,r("IyRk"))},xYSL:function(e,t){function r(e,t){return e.has(t)}e.exports=r},xbqb:function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},xdlL:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("iZzK"),i=r("cHpt");function o(e,t,r){return o=Object(i["a"])()?Reflect.construct.bind():function(e,t,r){var i=[null];i.push.apply(i,t);var o=Function.bind.apply(e,i),a=new o;return r&&Object(n["a"])(a,r.prototype),a},o.apply(null,arguments)}},xpj1:function(e,t,r){"use strict";t["a"]=function(e){return function(){return e}}},xrYK:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},xs3f:function(e,t,r){var n=r("2oRo"),i=r("zk60"),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},y1pI:function(e,t,r){var n=r("ljhN");function i(e,t){var r=e.length;while(r--)if(n(e[r][0],t))return r;return-1}e.exports=i},yEp2:function(e,t,r){"use strict";function n(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}r.d(t,"a",(function(){return n})),t["b"]=function(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,u=i<t-1?e[i+2]:2*a-o;return n((r-i/t)*t,s,o,a,u)}}},yGk4:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"Set");e.exports=o},yKVA:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("iZzK");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(n["a"])(e,t)}},yLV6:function(e,t,r){var n;(function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),f="function",h=Math.round,p=Math.abs,d=Date.now;function v(e,t,r){return setTimeout(x(e,r),t)}function m(e,t,r){return!!Array.isArray(e)&&(y(e,r[t],r),!0)}function y(e,t,r){var n;if(e)if(e.forEach)e.forEach(t,r);else if(e.length!==s){n=0;while(n<e.length)t.call(r,e[n],n,e),n++}else for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}function g(e,t,r){var n="DEPRECATED METHOD: "+t+"\n"+r+" AT \n";return function(){var t=new Error("get-stack-trace"),r=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,n,r),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!==s&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}:Object.assign;var b=g((function(e,t,r){var n=Object.keys(t),i=0;while(i<n.length)(!r||r&&e[n[i]]===s)&&(e[n[i]]=t[n[i]]),i++;return e}),"extend","Use `assign`."),_=g((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function w(e,t,r){var n,i=t.prototype;n=e.prototype=Object.create(i),n.constructor=e,n._super=i,r&&u(n,r)}function x(e,t){return function(){return e.apply(t,arguments)}}function O(e,t){return typeof e==f?e.apply(t&&t[0]||s,t):e}function E(e,t){return e===s?t:e}function j(e,t,r){y(P(t),(function(t){e.addEventListener(t,r,!1)}))}function S(e,t,r){y(P(t),(function(t){e.removeEventListener(t,r,!1)}))}function k(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function P(e){return e.trim().split(/\s+/g)}function A(e,t,r){if(e.indexOf&&!r)return e.indexOf(t);var n=0;while(n<e.length){if(r&&e[n][r]==t||!r&&e[n]===t)return n;n++}return-1}function I(e){return Array.prototype.slice.call(e,0)}function C(e,t,r){var n=[],i=[],o=0;while(o<e.length){var a=t?e[o][t]:e[o];A(i,a)<0&&n.push(e[o]),i[o]=a,o++}return r&&(n=t?n.sort((function(e,r){return e[t]>r[t]})):n.sort()),n}function R(e,t){var r,n,i=t[0].toUpperCase()+t.slice(1),o=0;while(o<c.length){if(r=c[o],n=r?r+i:t,n in e)return n;o++}return s}var M=1;function L(){return M++}function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N=/mobile|tablet|ip(ad|hone|od)|android/i,F="ontouchstart"in i,z=R(i,"PointerEvent")!==s,B=F&&N.test(navigator.userAgent),U="touch",V="pen",G="mouse",q="kinect",W=25,H=1,Z=2,X=4,$=8,Y=1,K=2,J=4,Q=8,ee=16,te=K|J,re=Q|ee,ne=te|re,ie=["x","y"],oe=["clientX","clientY"];function ae(e,t){var r=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){O(e.options.enable,[e])&&r.handler(t)},this.init()}function se(e){var t,r=e.options.inputClass;return t=r||(z?Te:B?De:F?Be:Oe),new t(e,ue)}function ue(e,t,r){var n=r.pointers.length,i=r.changedPointers.length,o=t&H&&n-i===0,a=t&(X|$)&&n-i===0;r.isFirst=!!o,r.isFinal=!!a,o&&(e.session={}),r.eventType=t,ce(e,r),e.emit("hammer.input",r),e.recognize(r),e.session.prevInput=r}function ce(e,t){var r=e.session,n=t.pointers,i=n.length;r.firstInput||(r.firstInput=he(t)),i>1&&!r.firstMultiple?r.firstMultiple=he(t):1===i&&(r.firstMultiple=!1);var o=r.firstInput,a=r.firstMultiple,s=a?a.center:o.center,u=t.center=pe(n);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=ye(s,u),t.distance=me(s,u),le(r,t),t.offsetDirection=ve(t.deltaX,t.deltaY);var c=de(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,t.scale=a?be(a.pointers,n):1,t.rotation=a?ge(a.pointers,n):0,t.maxPointers=r.prevInput?t.pointers.length>r.prevInput.maxPointers?t.pointers.length:r.prevInput.maxPointers:t.pointers.length,fe(r,t);var l=e.element;k(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function le(e,t){var r=t.center,n=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==H&&o.eventType!==X||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:r.x,y:r.y}),t.deltaX=i.x+(r.x-n.x),t.deltaY=i.y+(r.y-n.y)}function fe(e,t){var r,n,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=$&&(u>W||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,f=de(u,c,l);n=f.x,i=f.y,r=p(f.x)>p(f.y)?f.x:f.y,o=ve(c,l),e.lastInterval=t}else r=a.velocity,n=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=r,t.velocityX=n,t.velocityY=i,t.direction=o}function he(e){var t=[],r=0;while(r<e.pointers.length)t[r]={clientX:h(e.pointers[r].clientX),clientY:h(e.pointers[r].clientY)},r++;return{timeStamp:d(),pointers:t,center:pe(t),deltaX:e.deltaX,deltaY:e.deltaY}}function pe(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};var r=0,n=0,i=0;while(i<t)r+=e[i].clientX,n+=e[i].clientY,i++;return{x:h(r/t),y:h(n/t)}}function de(e,t,r){return{x:t/e||0,y:r/e||0}}function ve(e,t){return e===t?Y:p(e)>=p(t)?e<0?K:J:t<0?Q:ee}function me(e,t,r){r||(r=ie);var n=t[r[0]]-e[r[0]],i=t[r[1]]-e[r[1]];return Math.sqrt(n*n+i*i)}function ye(e,t,r){r||(r=ie);var n=t[r[0]]-e[r[0]],i=t[r[1]]-e[r[1]];return 180*Math.atan2(i,n)/Math.PI}function ge(e,t){return ye(t[1],t[0],oe)+ye(e[1],e[0],oe)}function be(e,t){return me(t[0],t[1],oe)/me(e[0],e[1],oe)}ae.prototype={handler:function(){},init:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)}};var _e={mousedown:H,mousemove:Z,mouseup:X},we="mousedown",xe="mousemove mouseup";function Oe(){this.evEl=we,this.evWin=xe,this.pressed=!1,ae.apply(this,arguments)}w(Oe,ae,{handler:function(e){var t=_e[e.type];t&H&&0===e.button&&(this.pressed=!0),t&Z&&1!==e.which&&(t=X),this.pressed&&(t&X&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:G,srcEvent:e}))}});var Ee={pointerdown:H,pointermove:Z,pointerup:X,pointercancel:$,pointerout:$},je={2:U,3:V,4:G,5:q},Se="pointerdown",ke="pointermove pointerup pointercancel";function Te(){this.evEl=Se,this.evWin=ke,ae.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Se="MSPointerDown",ke="MSPointerMove MSPointerUp MSPointerCancel"),w(Te,ae,{handler:function(e){var t=this.store,r=!1,n=e.type.toLowerCase().replace("ms",""),i=Ee[n],o=je[e.pointerType]||e.pointerType,a=o==U,s=A(t,e.pointerId,"pointerId");i&H&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(X|$)&&(r=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),r&&t.splice(s,1))}});var Pe={touchstart:H,touchmove:Z,touchend:X,touchcancel:$},Ae="touchstart",Ie="touchstart touchmove touchend touchcancel";function Ce(){this.evTarget=Ae,this.evWin=Ie,this.started=!1,ae.apply(this,arguments)}function Re(e,t){var r=I(e.touches),n=I(e.changedTouches);return t&(X|$)&&(r=C(r.concat(n),"identifier",!0)),[r,n]}w(Ce,ae,{handler:function(e){var t=Pe[e.type];if(t===H&&(this.started=!0),this.started){var r=Re.call(this,e,t);t&(X|$)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:U,srcEvent:e})}}});var Me={touchstart:H,touchmove:Z,touchend:X,touchcancel:$},Le="touchstart touchmove touchend touchcancel";function De(){this.evTarget=Le,this.targetIds={},ae.apply(this,arguments)}function Ne(e,t){var r=I(e.touches),n=this.targetIds;if(t&(H|Z)&&1===r.length)return n[r[0].identifier]=!0,[r,r];var i,o,a=I(e.changedTouches),s=[],u=this.target;if(o=r.filter((function(e){return k(e.target,u)})),t===H){i=0;while(i<o.length)n[o[i].identifier]=!0,i++}i=0;while(i<a.length)n[a[i].identifier]&&s.push(a[i]),t&(X|$)&&delete n[a[i].identifier],i++;return s.length?[C(o.concat(s),"identifier",!0),s]:void 0}w(De,ae,{handler:function(e){var t=Me[e.type],r=Ne.call(this,e,t);r&&this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:U,srcEvent:e})}});var Fe=2500,ze=25;function Be(){ae.apply(this,arguments);var e=x(this.handler,this);this.touch=new De(this.manager,e),this.mouse=new Oe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ue(e,t){e&H?(this.primaryTouch=t.changedPointers[0].identifier,Ve.call(this,t)):e&(X|$)&&Ve.call(this,t)}function Ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY};this.lastTouches.push(r);var n=this.lastTouches,i=function(){var e=n.indexOf(r);e>-1&&n.splice(e,1)};setTimeout(i,Fe)}}function Ge(e){for(var t=e.srcEvent.clientX,r=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],o=Math.abs(t-i.x),a=Math.abs(r-i.y);if(o<=ze&&a<=ze)return!0}return!1}w(Be,ae,{handler:function(e,t,r){var n=r.pointerType==U,i=r.pointerType==G;if(!(i&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(n)Ue.call(this,t,r);else if(i&&Ge.call(this,r))return;this.callback(e,t,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var qe=R(l.style,"touchAction"),We=qe!==s,He="compute",Ze="auto",Xe="manipulation",$e="none",Ye="pan-x",Ke="pan-y",Je=tt();function Qe(e,t){this.manager=e,this.set(t)}function et(e){if(T(e,$e))return $e;var t=T(e,Ye),r=T(e,Ke);return t&&r?$e:t||r?t?Ye:Ke:T(e,Xe)?Xe:Ze}function tt(){if(!We)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(r){e[r]=!t||i.CSS.supports("touch-action",r)})),e}Qe.prototype={set:function(e){e==He&&(e=this.compute()),We&&this.manager.element.style&&Je[e]&&(this.manager.element.style[qe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){O(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),et(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,r=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var n=this.actions,i=T(n,$e)&&!Je[$e],o=T(n,Ke)&&!Je[Ke],a=T(n,Ye)&&!Je[Ye];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&r&te||a&&r&re?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var rt=1,nt=2,it=4,ot=8,at=ot,st=16,ut=32;function ct(e){this.options=u({},this.defaults,e||{}),this.id=L(),this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=rt,this.simultaneous={},this.requireFail=[]}function lt(e){return e&st?"cancel":e&ot?"end":e&it?"move":e&nt?"start":""}function ft(e){return e==ee?"down":e==Q?"up":e==K?"left":e==J?"right":""}function ht(e,t){var r=t.manager;return r?r.get(e):e}function pt(){ct.apply(this,arguments)}function dt(){pt.apply(this,arguments),this.pX=null,this.pY=null}function vt(){pt.apply(this,arguments)}function mt(){ct.apply(this,arguments),this._timer=null,this._input=null}function yt(){pt.apply(this,arguments)}function gt(){pt.apply(this,arguments)}function bt(){ct.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function _t(e,t){return t=t||{},t.recognizers=E(t.recognizers,_t.defaults.preset),new Ot(e,t)}ct.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ht(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=ht(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return e=ht(e,this),-1===A(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=ht(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,r=this.state;function n(r){t.manager.emit(r,e)}r<ot&&n(t.options.event+lt(r)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),r>=ot&&n(t.options.event+lt(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=ut},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(ut|rt)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!O(this.options.enable,[this,t]))return this.reset(),void(this.state=ut);this.state&(at|st|ut)&&(this.state=rt),this.state=this.process(t),this.state&(nt|it|ot|st)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(pt,ct,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,r=e.eventType,n=t&(nt|it),i=this.attrTest(e);return n&&(r&$||!i)?t|st:n||i?r&X?t|ot:t&nt?t|it:nt:ut}}),w(dt,pt,{defaults:{event:"pan",threshold:10,pointers:1,direction:ne},getTouchAction:function(){var e=this.options.direction,t=[];return e&te&&t.push(Ke),e&re&&t.push(Ye),t},directionTest:function(e){var t=this.options,r=!0,n=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&te?(i=0===o?Y:o<0?K:J,r=o!=this.pX,n=Math.abs(e.deltaX)):(i=0===a?Y:a<0?Q:ee,r=a!=this.pY,n=Math.abs(e.deltaY))),e.direction=i,r&&n>t.threshold&&i&t.direction},attrTest:function(e){return pt.prototype.attrTest.call(this,e)&&(this.state&nt||!(this.state&nt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ft(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(vt,pt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[$e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&nt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(mt,ct,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!n||!r||e.eventType&(X|$)&&!i)this.reset();else if(e.eventType&H)this.reset(),this._timer=v((function(){this.state=at,this.tryEmit()}),t.time,this);else if(e.eventType&X)return at;return ut},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===at&&(e&&e.eventType&X?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(yt,pt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[$e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&nt)}}),w(gt,pt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:te|re,pointers:1},getTouchAction:function(){return dt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,r=this.options.direction;return r&(te|re)?t=e.overallVelocity:r&te?t=e.overallVelocityX:r&re&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&r&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&e.eventType&X},emit:function(e){var t=ft(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(bt,ct,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xe]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&H&&0===this.count)return this.failTimeout();if(n&&i&&r){if(e.eventType!=X)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||me(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=v((function(){this.state=at,this.tryEmit()}),t.interval,this),nt):at}return ut},failTimeout:function(){return this._timer=v((function(){this.state=ut}),this.options.interval,this),ut},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==at&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),_t.VERSION="2.0.7",_t.defaults={domEvents:!1,touchAction:He,enable:!0,inputTarget:null,inputClass:null,preset:[[yt,{enable:!1}],[vt,{enable:!1},["rotate"]],[gt,{direction:te}],[dt,{direction:te},["swipe"]],[bt],[bt,{event:"doubletap",taps:2},["tap"]],[mt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wt=1,xt=2;function Ot(e,t){this.options=u({},_t.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=se(this),this.touchAction=new Qe(this,this.options.touchAction),Et(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Et(e,t){var r,n=e.element;n.style&&(y(e.options.cssProps,(function(i,o){r=R(n.style,o),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||""})),t||(e.oldCssProps={}))}function jt(e,t){var r=o.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t,t.target.dispatchEvent(r)}Ot.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?xt:wt},recognize:function(e){var t=this.session;if(!t.stopped){var r;this.touchAction.preventDefaults(e);var n=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&at)&&(i=t.curRecognizer=null);var o=0;while(o<n.length)r=n[o],t.stopped===xt||i&&r!=i&&!r.canRecognizeWith(i)?r.reset():r.recognize(e),!i&&r.state&(nt|it|ot)&&(i=t.curRecognizer=r),o++}},get:function(e){if(e instanceof ct)return e;for(var t=this.recognizers,r=0;r<t.length;r++)if(t[r].options.event==e)return t[r];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,r=A(t,e);-1!==r&&(t.splice(r,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var r=this.handlers;return y(P(e),(function(e){r[e]=r[e]||[],r[e].push(t)})),this}},off:function(e,t){if(e!==s){var r=this.handlers;return y(P(e),(function(e){t?r[e]&&r[e].splice(A(r[e],t),1):delete r[e]})),this}},emit:function(e,t){this.options.domEvents&&jt(e,t);var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var n=0;while(n<r.length)r[n](t),n++}},destroy:function(){this.element&&Et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(_t,{INPUT_START:H,INPUT_MOVE:Z,INPUT_END:X,INPUT_CANCEL:$,STATE_POSSIBLE:rt,STATE_BEGAN:nt,STATE_CHANGED:it,STATE_ENDED:ot,STATE_RECOGNIZED:at,STATE_CANCELLED:st,STATE_FAILED:ut,DIRECTION_NONE:Y,DIRECTION_LEFT:K,DIRECTION_RIGHT:J,DIRECTION_UP:Q,DIRECTION_DOWN:ee,DIRECTION_HORIZONTAL:te,DIRECTION_VERTICAL:re,DIRECTION_ALL:ne,Manager:Ot,Input:ae,TouchAction:Qe,TouchInput:De,MouseInput:Oe,PointerEventInput:Te,TouchMouseInput:Be,SingleTouchInput:Ce,Recognizer:ct,AttrRecognizer:pt,Tap:bt,Pan:dt,Swipe:gt,Pinch:vt,Rotate:yt,Press:mt,on:j,off:S,each:y,merge:_,extend:b,assign:u,inherit:w,bindFn:x,prefixed:R});var St="undefined"!==typeof i?i:"undefined"!==typeof self?self:{};St.Hammer=_t,n=function(){return _t}.call(t,r,t,e),n===s||(e.exports=n)})(window,document)},yNLB:function(e,t,r){var n=r("0Dky"),i=r("WJkJ"),o="\u200b\x85\u180e";e.exports=function(e){return n((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},yNTq:function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:55296===(64512&r)&&56320===(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){var n=r-t;if(n<1)return"";var i,o=null,a=[],s=0;while(t<r)i=e[t++],i<128?a[s++]=i:i>191&&i<224?a[s++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[s++]=55296+(i>>10),a[s++]=56320+(1023&i)):a[s++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))},n.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)n=e.charCodeAt(a),n<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296===(64512&n)&&56320===(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},yU0y:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o}));var n=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){var e=0,t=arguments.length;while(t--)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},yXV3:function(e,t,r){"use strict";var n=r("I+eb"),i=r("TWQb").indexOf,o=r("pkCn"),a=r("rkAj"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},ye7q:function(e,t,r){"use strict";e.exports=a;var n=r("r7wP");((a.prototype=Object.create(n.prototype)).constructor=a).className="OneOf";var i=r("OuHM"),o=r("CzZC");function a(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}s(this)},a.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){var e=new Array(arguments.length),t=0;while(t<arguments.length)e[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new a(r,e)),Object.defineProperty(t,r,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},yl30:function(e,t,r){"use strict";var n=r("q1tI"),i=r("MgzW"),o=r("QCnb");function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));function s(e,t,r,n,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,h={onError:function(e){u=!0,c=e}};function p(e,t,r,n,i,o,a,l,f){u=!1,c=null,s.apply(h,arguments)}function d(e,t,r,n,i,o,s,h,d){if(p.apply(this,arguments),u){if(!u)throw Error(a(198));var v=c;u=!1,c=null,l||(l=!0,f=v)}}var v=null,m=null,y=null;function g(e,t,r){var n=e.type||"unknown-event";e.currentTarget=y(r),d(n,t,void 0,e),e.currentTarget=null}var b=null,_={};function w(){if(b)for(var e in _){var t=_[e],r=b.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!O[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in O[r]=t,r=t.eventTypes,r){var i=void 0,o=r[n],s=t,u=n;if(E.hasOwnProperty(u))throw Error(a(99,u));E[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&x(c[i],s,u);i=!0}else o.registrationName?(x(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function x(e,t,r){if(j[e])throw Error(a(100,e));j[e]=t,S[e]=t.eventTypes[r].dependencies}var O=[],E={},j={},S={};function k(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!_.hasOwnProperty(t)||_[t]!==n){if(_[t])throw Error(a(102,t));_[t]=n,r=!0}}r&&w()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,A=null,I=null;function C(e){if(e=m(e)){if("function"!==typeof P)throw Error(a(280));var t=e.stateNode;t&&(t=v(t),P(e.stateNode,e.type,t))}}function R(e){A?I?I.push(e):I=[e]:A=e}function M(){if(A){var e=A,t=I;if(I=A=null,C(e),t)for(e=0;e<t.length;e++)C(t[e])}}function L(e,t){return e(t)}function D(e,t,r,n,i){return e(t,r,n,i)}function N(){}var F=L,z=!1,B=!1;function U(){null===A&&null===I||(N(),M())}function V(e,t,r){if(B)return e(t,r);B=!0;try{return F(e,t,r)}finally{B=!1,U()}}var G=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,W={},H={};function Z(e){return!!q.call(H,e)||!q.call(W,e)&&(G.test(e)?H[e]=!0:(W[e]=!0,!1))}function X(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function $(e,t,r,n){if(null===t||"undefined"===typeof t||X(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Y(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){K[e]=new Y(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];K[t]=new Y(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){K[e]=new Y(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){K[e]=new Y(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){K[e]=new Y(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){K[e]=new Y(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){K[e]=new Y(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){K[e]=new Y(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){K[e]=new Y(e,5,!1,e.toLowerCase(),null,!1)}));var J=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(J,Q);K[t]=new Y(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(J,Q);K[t]=new Y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(J,Q);K[t]=new Y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){K[e]=new Y(e,1,!1,e.toLowerCase(),null,!1)})),K.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){K[e]=new Y(e,1,!1,e.toLowerCase(),null,!0)}));var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function te(e,t,r,n){var i=K.hasOwnProperty(t)?K[t]:null,o=null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));o||($(t,r,i,n)&&(r=null),n||null===i?Z(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}ee.hasOwnProperty("ReactCurrentDispatcher")||(ee.ReactCurrentDispatcher={current:null}),ee.hasOwnProperty("ReactCurrentBatchConfig")||(ee.ReactCurrentBatchConfig={suspense:null});var re=/^(.*)[\\\/]/,ne="function"===typeof Symbol&&Symbol.for,ie=ne?Symbol.for("react.element"):60103,oe=ne?Symbol.for("react.portal"):60106,ae=ne?Symbol.for("react.fragment"):60107,se=ne?Symbol.for("react.strict_mode"):60108,ue=ne?Symbol.for("react.profiler"):60114,ce=ne?Symbol.for("react.provider"):60109,le=ne?Symbol.for("react.context"):60110,fe=ne?Symbol.for("react.concurrent_mode"):60111,he=ne?Symbol.for("react.forward_ref"):60112,pe=ne?Symbol.for("react.suspense"):60113,de=ne?Symbol.for("react.suspense_list"):60120,ve=ne?Symbol.for("react.memo"):60115,me=ne?Symbol.for("react.lazy"):60116,ye=ne?Symbol.for("react.block"):60121,ge="function"===typeof Symbol&&Symbol.iterator;function be(e){return null===e||"object"!==typeof e?null:(e=ge&&e[ge]||e["@@iterator"],"function"===typeof e?e:null)}function _e(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}function we(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ae:return"Fragment";case oe:return"Portal";case ue:return"Profiler";case se:return"StrictMode";case pe:return"Suspense";case de:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case le:return"Context.Consumer";case ce:return"Context.Provider";case he:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ve:return we(e.type);case ye:return we(e.render);case me:if(e=1===e._status?e._result:null)return we(e)}return null}function xe(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=we(e.type);r=null,n&&(r=we(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(re,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}function Oe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function je(e){var t=Ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Se(e){e._valueTracker||(e._valueTracker=je(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ee(e)?e.checked?"true":"false":e.value),e=n,e!==r&&(t.setValue(e),!0)}function Te(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Pe(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Oe(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ae(e,t){t=t.checked,null!=t&&te(e,"checked",t,!1)}function Ie(e,t){Ae(e,t);var r=Oe(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Re(e,t.type,r):t.hasOwnProperty("defaultValue")&&Re(e,t.type,Oe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,""!==r&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Re(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Me(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function Le(e,t){return e=i({children:void 0},t),(t=Me(t.children))&&(e.children=t),e}function De(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oe(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Oe(r)}}function ze(e,t){var r=Oe(t.value),n=Oe(t.defaultValue);null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Be(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ve(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var qe,We=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r,n,i)}))}:e}((function(e,t){if(e.namespaceURI!==Ue.svg||"innerHTML"in e)e.innerHTML=t;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function He(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ze(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xe={animationend:Ze("Animation","AnimationEnd"),animationiteration:Ze("Animation","AnimationIteration"),animationstart:Ze("Animation","AnimationStart"),transitionend:Ze("Transition","TransitionEnd")},$e={},Ye={};function Ke(e){if($e[e])return $e[e];if(!Xe[e])return e;var t,r=Xe[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ye)return $e[e]=r[t];return e}T&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete Xe.animationend.animation,delete Xe.animationiteration.animation,delete Xe.animationstart.animation),"TransitionEvent"in window||delete Xe.transitionend.transition);var Je=Ke("animationend"),Qe=Ke("animationiteration"),et=Ke("animationstart"),tt=Ke("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=new("function"===typeof WeakMap?WeakMap:Map);function it(e){var t=nt.get(e);return void 0===t&&(t=new Map,nt.set(e,t)),t}function ot(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function at(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function st(e){if(ot(e)!==e)throw Error(a(188))}function ut(e){var t=e.alternate;if(!t){if(t=ot(e),null===t)throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(n=i.return,null!==n){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return st(i),e;if(o===n)return st(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=o;break}if(u===n){s=!0,n=i,r=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===r){s=!0,r=o,n=i;break}if(u===n){s=!0,n=o,r=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}function ct(e){if(e=ut(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function lt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ft(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var ht=null;function pt(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)g(e,t[n],r[n]);else t&&g(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function dt(e){if(null!==e&&(ht=lt(ht,e)),e=ht,ht=null,e){if(ft(e,pt),ht)throw Error(a(95));if(l)throw e=f,l=!1,f=null,e}}function vt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function mt(e){if(!T)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t}var yt=[];function gt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>yt.length&&yt.push(e)}function bt(e,t,r,n){if(yt.length){var i=yt.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function _t(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;t=r.tag,5!==t&&6!==t||e.ancestors.push(r),r=Br(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=vt(e.nativeEvent);n=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===r&&(a|=64);for(var s=null,u=0;u<O.length;u++){var c=O[u];c&&(c=c.extractEvents(n,t,o,i,a))&&(s=lt(s,c))}dt(s)}}function wt(e,t,r){if(!r.has(e)){switch(e){case"scroll":nr(t,"scroll",!0);break;case"focus":case"blur":nr(t,"focus",!0),nr(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":mt(e)&&nr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(e)&&rr(e,t)}r.set(e,null)}}var xt,Ot,Et,jt=!1,St=[],kt=null,Tt=null,Pt=null,At=new Map,It=new Map,Ct=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Mt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Lt(e,t){var r=it(t);Rt.forEach((function(e){wt(e,t,r)})),Mt.forEach((function(e){wt(e,t,r)}))}function Dt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function Nt(e,t){switch(e){case"focus":case"blur":kt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ft(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=Dt(t,r,n,i,o),null!==t&&(t=Ur(t),null!==t&&Ot(t)),e):(e.eventSystemFlags|=n,e)}function zt(e,t,r,n,i){switch(t){case"focus":return kt=Ft(kt,e,t,r,n,i),!0;case"dragenter":return Tt=Ft(Tt,e,t,r,n,i),!0;case"mouseover":return Pt=Ft(Pt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Ft(At.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Ft(It.get(o)||null,e,t,r,n,i)),!0}return!1}function Bt(e){var t=Br(e.target);if(null!==t){var r=ot(t);if(null!==r)if(t=r.tag,13===t){if(t=at(r),null!==t)return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){Et(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;var t=sr(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Ur(t);return null!==r&&Ot(r),e.blockedOn=t,!1}return!0}function Vt(e,t,r){Ut(e)&&r.delete(t)}function Gt(){for(jt=!1;0<St.length;){var e=St[0];if(null!==e.blockedOn){e=Ur(e.blockedOn),null!==e&&xt(e);break}var t=sr(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:St.shift()}null!==kt&&Ut(kt)&&(kt=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==Pt&&Ut(Pt)&&(Pt=null),At.forEach(Vt),It.forEach(Vt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Gt)))}function Wt(e){function t(t){return qt(t,e)}if(0<St.length){qt(St[0],e);for(var r=1;r<St.length;r++){var n=St[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==kt&&qt(kt,e),null!==Tt&&qt(Tt,e),null!==Pt&&qt(Pt,e),At.forEach(t),It.forEach(t),r=0;r<Ct.length;r++)n=Ct[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],null===r.blockedOn);)Bt(r),null===r.blockedOn&&Ct.shift()}var Ht={},Zt=new Map,Xt=new Map,$t=["abort","abort",Je,"animationEnd",Qe,"animationIteration",et,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",tt,"transitionEnd","waiting","waiting"];function Yt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:t},Xt.set(n,t),Zt.set(n,o),Ht[i]=o}}Yt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Yt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Yt($t,2);for(var Kt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Jt=0;Jt<Kt.length;Jt++)Xt.set(Kt[Jt],0);var Qt=o.unstable_UserBlockingPriority,er=o.unstable_runWithPriority,tr=!0;function rr(e,t){nr(t,e,!1)}function nr(e,t,r){var n=Xt.get(t);switch(void 0===n?2:n){case 0:n=ir.bind(null,t,1,e);break;case 1:n=or.bind(null,t,1,e);break;default:n=ar.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function ir(e,t,r,n){z||N();var i=ar,o=z;z=!0;try{D(i,e,t,r,n)}finally{(z=o)||U()}}function or(e,t,r,n){er(Qt,ar.bind(null,e,t,r,n))}function ar(e,t,r,n){if(tr)if(0<St.length&&-1<Rt.indexOf(e))e=Dt(null,e,t,r,n),St.push(e);else{var i=sr(e,t,r,n);if(null===i)Nt(e,n);else if(-1<Rt.indexOf(e))e=Dt(i,e,t,r,n),St.push(e);else if(!zt(i,e,t,r,n)){Nt(e,n),e=bt(e,n,null,t);try{V(_t,e)}finally{gt(e)}}}}function sr(e,t,r,n){if(r=vt(n),r=Br(r),null!==r){var i=ot(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(r=at(i),null!==r)return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=bt(e,n,r,t);try{V(_t,e)}finally{gt(e)}return null}var ur={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];function lr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function fr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=lr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(ur).forEach((function(e){cr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]}))}));var hr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pr(e,t){if(t){if(hr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function dr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=Ue.html;function mr(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var r=it(e);t=S[t];for(var n=0;n<t.length;n++)wt(t[n],e,r)}function yr(){}function gr(e){if(e=e||("undefined"!==typeof document?document:void 0),"undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _r(e,t){var r,n=br(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=br(n)}}function wr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function xr(){for(var e=window,t=gr();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=t.contentWindow,t=gr(e.document)}return t}function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Er="$",jr="/$",Sr="$?",kr="$!",Tr=null,Pr=null;function Ar(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ir(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Cr="function"===typeof setTimeout?setTimeout:void 0,Rr="function"===typeof clearTimeout?clearTimeout:void 0;function Mr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Lr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Er||r===kr||r===Sr){if(0===t)return e;t--}else r===jr&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),Nr="__reactInternalInstance$"+Dr,Fr="__reactEventHandlers$"+Dr,zr="__reactContainere$"+Dr;function Br(e){var t=e[Nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zr]||r[Nr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Lr(e);null!==e;){if(r=e[Nr])return r;e=Lr(e)}return t}e=r,r=e.parentNode}return null}function Ur(e){return e=e[Nr]||e[zr],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Vr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Gr(e){return e[Fr]||null}function qr(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t){var r=e.stateNode;if(!r)return null;var n=v(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}function Hr(e,t,r){(t=Wr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=lt(r._dispatchListeners,t),r._dispatchInstances=lt(r._dispatchInstances,e))}function Zr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=qr(t);for(t=r.length;0<t--;)Hr(r[t],"captured",e);for(t=0;t<r.length;t++)Hr(r[t],"bubbled",e)}}function Xr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Wr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=lt(r._dispatchListeners,t),r._dispatchInstances=lt(r._dispatchInstances,e))}function $r(e){e&&e.dispatchConfig.registrationName&&Xr(e._targetInst,null,e)}function Yr(e){ft(e,Zr)}var Kr=null,Jr=null,Qr=null;function en(){if(Qr)return Qr;var e,t,r=Jr,n=r.length,i="value"in Kr?Kr.value:Kr.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return Qr=i.slice(e,1<t?1-t:void 0)}function tn(){return!0}function rn(){return!1}function nn(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface,e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?tn:rn,this.isPropagationStopped=rn,this}function on(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function an(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function sn(e){e.eventPool=[],e.getPooled=on,e.release=an}i(nn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){this.isPersistent=tn},isPersistent:rn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=rn,this._dispatchInstances=this._dispatchListeners=null}}),nn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},nn.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,sn(r),r},sn(nn);var un=nn.extend({data:null}),cn=nn.extend({data:null}),ln=[9,13,27,32],fn=T&&"CompositionEvent"in window,hn=null;T&&"documentMode"in document&&(hn=document.documentMode);var pn=T&&"TextEvent"in window&&!hn,dn=T&&(!fn||hn&&8<hn&&11>=hn),vn=String.fromCharCode(32),mn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},yn=!1;function gn(e,t){switch(e){case"keyup":return-1!==ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function bn(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}var _n=!1;function wn(e,t){switch(e){case"compositionend":return bn(t);case"keypress":return 32!==t.which?null:(yn=!0,vn);case"textInput":return e=t.data,e===vn&&yn?null:e;default:return null}}function xn(e,t){if(_n)return"compositionend"===e||!fn&&gn(e,t)?(e=en(),Qr=Jr=Kr=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dn&&"ko"!==t.locale?null:t.data;default:return null}}var On={eventTypes:mn,extractEvents:function(e,t,r,n){var i;if(fn)e:{switch(e){case"compositionstart":var o=mn.compositionStart;break e;case"compositionend":o=mn.compositionEnd;break e;case"compositionupdate":o=mn.compositionUpdate;break e}o=void 0}else _n?gn(e,r)&&(o=mn.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=mn.compositionStart);return o?(dn&&"ko"!==r.locale&&(_n||o!==mn.compositionStart?o===mn.compositionEnd&&_n&&(i=en()):(Kr=n,Jr="value"in Kr?Kr.value:Kr.textContent,_n=!0)),o=un.getPooled(o,t,r,n),i?o.data=i:(i=bn(r),null!==i&&(o.data=i)),Yr(o),i=o):i=null,(e=pn?wn(e,r):xn(e,r))?(t=cn.getPooled(mn.beforeInput,t,r,n),t.data=e,Yr(t)):t=null,null===i?t:null===t?i:[i,t]}},En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!En[e.type]:"textarea"===t}var Sn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function kn(e,t,r){return e=nn.getPooled(Sn.change,e,t,r),e.type="change",R(r),Yr(e),e}var Tn=null,Pn=null;function An(e){dt(e)}function In(e){var t=Vr(e);if(ke(t))return e}function Cn(e,t){if("change"===e)return t}var Rn=!1;function Mn(){Tn&&(Tn.detachEvent("onpropertychange",Ln),Pn=Tn=null)}function Ln(e){if("value"===e.propertyName&&In(Pn))if(e=kn(Pn,e,vt(e)),z)dt(e);else{z=!0;try{L(An,e)}finally{z=!1,U()}}}function Dn(e,t,r){"focus"===e?(Mn(),Tn=t,Pn=r,Tn.attachEvent("onpropertychange",Ln)):"blur"===e&&Mn()}function Nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return In(Pn)}function Fn(e,t){if("click"===e)return In(t)}function zn(e,t){if("input"===e||"change"===e)return In(t)}T&&(Rn=mt("input")&&(!document.documentMode||9<document.documentMode));var Bn={eventTypes:Sn,_isInputEventSupported:Rn,extractEvents:function(e,t,r,n){var i=t?Vr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Cn;else if(jn(i))if(Rn)a=zn;else{a=Nn;var s=Dn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Fn);if(a&&(a=a(e,t)))return kn(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Re(i,"number",i.value)}},Un=nn.extend({view:null,detail:null}),Vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vn[e])&&!!t[e]}function qn(){return Gn}var Wn=0,Hn=0,Zn=!1,Xn=!1,$n=Un.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Wn;return Wn=e.screenX,Zn?"mousemove"===e.type?e.screenX-t:0:(Zn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Hn;return Hn=e.screenY,Xn?"mousemove"===e.type?e.screenY-t:0:(Xn=!0,0)}}),Yn=$n.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Kn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jn={eventTypes:Kn,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;if(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=t,t=(t=r.relatedTarget||r.toElement)?Br(t):null,null!==t){var s=ot(t);(t!==s||5!==t.tag&&6!==t.tag)&&(t=null)}}else a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var u=$n,c=Kn.mouseLeave,l=Kn.mouseEnter,f="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Yn,c=Kn.pointerLeave,l=Kn.pointerEnter,f="pointer");if(e=null==a?o:Vr(a),o=null==t?o:Vr(t),c=u.getPooled(c,a,r,n),c.type=f+"leave",c.target=e,c.relatedTarget=o,r=u.getPooled(l,t,r,n),r.type=f+"enter",r.target=o,r.relatedTarget=e,n=a,f=t,n&&f)e:{for(u=n,l=f,a=0,e=u;e;e=qr(e))a++;for(e=0,t=l;t;t=qr(t))e++;for(;0<a-e;)u=qr(u),a--;for(;0<e-a;)l=qr(l),e--;for(;a--;){if(u===l||u===l.alternate)break e;u=qr(u),l=qr(l)}u=null}else u=null;for(l=u,u=[];n&&n!==l;){if(a=n.alternate,null!==a&&a===l)break;u.push(n),n=qr(n)}for(n=[];f&&f!==l;){if(a=f.alternate,null!==a&&a===l)break;n.push(f),f=qr(f)}for(f=0;f<u.length;f++)Xr(u[f],"bubbled",c);for(f=n.length;0<f--;)Xr(n[f],"captured",r);return 0===(64&i)?[c]:[c,r]}};function Qn(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var ei="function"===typeof Object.is?Object.is:Qn,ti=Object.prototype.hasOwnProperty;function ri(e,t){if(ei(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!ti.call(t,r[n])||!ei(e[r[n]],t[r[n]]))return!1;return!0}var ni=T&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},oi=null,ai=null,si=null,ui=!1;function ci(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ui||null==oi||oi!==gr(r)?null:(r=oi,"selectionStart"in r&&Or(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),si&&ri(si,r)?null:(si=r,e=nn.getPooled(ii.select,ai,e,t),e.type="select",e.target=oi,Yr(e),e))}var li={eventTypes:ii,extractEvents:function(e,t,r,n,i,o){if(i=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument),!(o=!i)){e:{i=it(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Vr(t):window,e){case"focus":(jn(i)||"true"===i.contentEditable)&&(oi=i,ai=t,si=null);break;case"blur":si=ai=oi=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":return ui=!1,ci(r,n);case"selectionchange":if(ni)break;case"keydown":case"keyup":return ci(r,n)}return null}},fi=nn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),hi=nn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pi=Un.extend({relatedTarget:null});function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}var vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi=Un.extend({key:function(e){if(e.key){var t=vi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=di(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?mi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qn,charCode:function(e){return"keypress"===e.type?di(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?di(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),gi=$n.extend({dataTransfer:null}),bi=Un.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qn}),_i=nn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),wi=$n.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),xi={eventTypes:Ht,extractEvents:function(e,t,r,n){var i=Zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===di(r))return null;case"keydown":case"keyup":e=yi;break;case"blur":case"focus":e=pi;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=bi;break;case Je:case Qe:case et:e=fi;break;case tt:e=_i;break;case"scroll":e=Un;break;case"wheel":e=wi;break;case"copy":case"cut":case"paste":e=hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yn;break;default:e=nn}return t=e.getPooled(i,t,r,n),Yr(t),t}};if(b)throw Error(a(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w();var Oi=Ur;v=Gr,m=Oi,y=Vr,k({SimpleEventPlugin:xi,EnterLeaveEventPlugin:Jn,ChangeEventPlugin:Bn,SelectEventPlugin:li,BeforeInputEventPlugin:On});var Ei=[],ji=-1;function Si(e){0>ji||(e.current=Ei[ji],Ei[ji]=null,ji--)}function ki(e,t){ji++,Ei[ji]=e.current,e.current=t}var Ti={},Pi={current:Ti},Ai={current:!1},Ii=Ti;function Ci(e,t){var r=e.type.contextTypes;if(!r)return Ti;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return e=e.childContextTypes,null!==e&&void 0!==e}function Mi(){Si(Ai),Si(Pi)}function Li(e,t,r){if(Pi.current!==Ti)throw Error(a(168));ki(Pi,t),ki(Ai,r)}function Di(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext(),n)if(!(o in e))throw Error(a(108,we(t)||"Unknown",o));return i({},r,{},n)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ii=Pi.current,ki(Pi,e),ki(Ai,Ai.current),!0}function Fi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Di(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Pi),ki(Pi,e)):Si(Ai),ki(Ai,r)}var zi=o.unstable_runWithPriority,Bi=o.unstable_scheduleCallback,Ui=o.unstable_cancelCallback,Vi=o.unstable_requestPaint,Gi=o.unstable_now,qi=o.unstable_getCurrentPriorityLevel,Wi=o.unstable_ImmediatePriority,Hi=o.unstable_UserBlockingPriority,Zi=o.unstable_NormalPriority,Xi=o.unstable_LowPriority,$i=o.unstable_IdlePriority,Yi={},Ki=o.unstable_shouldYield,Ji=void 0!==Vi?Vi:function(){},Qi=null,eo=null,to=!1,ro=Gi(),no=1e4>ro?Gi:function(){return Gi()-ro};function io(){switch(qi()){case Wi:return 99;case Hi:return 98;case Zi:return 97;case Xi:return 96;case $i:return 95;default:throw Error(a(332))}}function oo(e){switch(e){case 99:return Wi;case 98:return Hi;case 97:return Zi;case 96:return Xi;case 95:return $i;default:throw Error(a(332))}}function ao(e,t){return e=oo(e),zi(e,t)}function so(e,t,r){return e=oo(e),Bi(e,t,r)}function uo(e){return null===Qi?(Qi=[e],eo=Bi(Wi,lo)):Qi.push(e),Yi}function co(){if(null!==eo){var e=eo;eo=null,Ui(e)}lo()}function lo(){if(!to&&null!==Qi){to=!0;var e=0;try{var t=Qi;ao(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Qi=null}catch(r){throw null!==Qi&&(Qi=Qi.slice(e+1)),Bi(Wi,co),r}finally{to=!1}}}function fo(e,t,r){return r/=10,1073741821-(1+((1073741821-e+t/10)/r|0))*r}function ho(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps,e)void 0===t[r]&&(t[r]=e[r]);return t}var po={current:null},vo=null,mo=null,yo=null;function go(){yo=mo=vo=null}function bo(e){var t=po.current;Si(po),e.type._context._currentValue=t}function _o(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function wo(e,t){vo=e,yo=mo=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(e.expirationTime>=t&&(Xa=!0),e.firstContext=null)}function xo(e,t){if(yo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(yo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===mo){if(null===vo)throw Error(a(308));mo=t,vo.dependencies={expirationTime:0,firstContext:t,responders:null}}else mo=mo.next=t;return e._currentValue}var Oo=!1;function Eo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function So(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function ko(e,t){if(e=e.updateQueue,null!==e){e=e.shared;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function To(e,t){var r=e.alternate;null!==r&&jo(r,e),e=e.updateQueue,r=e.baseQueue,null===r?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function Po(e,t,r,n){var o=e.updateQueue;Oo=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,u=e.alternate,null!==u&&(u=u.updateQueue,null!==u&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,h=null,p=null;if(null!==u){var d=u;do{if(s=d.expirationTime,s<n){var v={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(h=p=v,f=c):p=p.next=v,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),Du(s,d.suspenseConfig);e:{var m=e,y=d;switch(s=t,v=r,y.tag){case 1:if(m=y.payload,"function"===typeof m){c=m.call(v,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(m=y.payload,s="function"===typeof m?m.call(v,c,s):m,null===s||void 0===s)break e;c=i({},c,s);break e;case 2:Oo=!0}}null!==d.callback&&(e.effectTag|=32,s=o.effects,null===s?o.effects=[d]:s.push(d))}if(d=d.next,null===d||d===u){if(s=o.shared.pending,null===s)break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}while(1)}null===p?f=c:p.next=h,o.baseState=f,o.baseQueue=p,Nu(l),e.expirationTime=l,e.memoizedState=c}}function Ao(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!==typeof n)throw Error(a(191,n));n.call(i)}}}var Io=ee.ReactCurrentBatchConfig,Co=(new n.Component).refs;function Ro(e,t,r,n){t=e.memoizedState,r=r(n,t),r=null===r||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var Mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&ot(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=xu(),i=Io.suspense;n=Ou(n,e,i),i=So(n,i),i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ko(e,i),Eu(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=xu(),i=Io.suspense;n=Ou(n,e,i),i=So(n,i),i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ko(e,i),Eu(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=xu(),n=Io.suspense;r=Ou(r,e,n),n=So(r,n),n.tag=2,void 0!==t&&null!==t&&(n.callback=t),ko(e,n),Eu(e,r)}};function Lo(e,t,r,n,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ri(r,n)||!ri(i,o))}function Do(e,t,r){var n=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Ri(t)?Ii:Pi.current,n=t.contextTypes,o=(n=null!==n&&void 0!==n)?Ci(e,i):Ti),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternalFiber=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function No(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Fo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Co,Eo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Ri(t)?Ii:Pi.current,i.context=Ci(e,o)),Po(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,"function"===typeof o&&(Ro(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mo.enqueueReplaceState(i,i.state,null),Po(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var zo=Array.isArray;function Bo(e,t,r){if(e=r.ref,null!==e&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner,r){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;t===Co&&(t=n.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Uo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Vo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=oc(e,t),e.index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?(n=t.alternate,null!==n?(n=n.index,n<r?(t.effectTag=2,r):n):(t.effectTag=2,r)):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,r,n){return null===t||6!==t.tag?(t=uc(r,e.mode,n),t.return=e,t):(t=i(t,r),t.return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?(n=i(t,r.props),n.ref=Bo(e,t,r),n.return=e,n):(n=ac(r.type,r.key,r.props,null,e.mode,n),n.ref=Bo(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=cc(r,e.mode,n),t.return=e,t):(t=i(t,r.children||[]),t.return=e,t)}function f(e,t,r,n,o){return null===t||7!==t.tag?(t=sc(r,e.mode,n,o),t.return=e,t):(t=i(t,r),t.return=e,t)}function h(e,t,r){if("string"===typeof t||"number"===typeof t)return t=uc(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ie:return r=ac(t.type,t.key,t.props,null,e.mode,r),r.ref=Bo(e,null,t),r.return=e,r;case oe:return t=cc(t,e.mode,r),t.return=e,t}if(zo(t)||be(t))return t=sc(t,e.mode,r,null),t.return=e,t;Uo(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ie:return r.key===i?r.type===ae?f(e,t,r.props.children,n,i):c(e,t,r,n):null;case oe:return r.key===i?l(e,t,r,n):null}if(zo(r)||be(r))return null!==i?null:f(e,t,r,n,null);Uo(e,r)}return null}function d(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return e=e.get(r)||null,u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ie:return e=e.get(null===n.key?r:n.key)||null,n.type===ae?f(t,e,n.props.children,i,n.key):c(t,e,n,i);case oe:return e=e.get(null===n.key?r:n.key)||null,l(t,e,n,i)}if(zo(n)||be(n))return e=e.get(r)||null,f(t,e,n,i,null);Uo(t,n)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=p(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return r(i,f),c;if(null===f){for(;v<s.length;v++)f=h(i,s[v],u),null!==f&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=n(i,f);v<s.length;v++)m=d(f,i,v,s[v],u),null!==m&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=be(u);if("function"!==typeof l)throw Error(a(150));if(u=l.call(u),null==u)throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=p(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return r(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())g=h(i,g.value,c),null!==g&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=n(i,v);!g.done;m++,g=u.next())g=d(v,i,m,g.value,c),null!==g&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,n,o,u){var c="object"===typeof o&&null!==o&&o.type===ae&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case ie:e:{for(l=o.key,c=n;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===ae){r(e,c.sibling),n=i(c,o.props.children),n.return=e,e=n;break e}break;default:if(c.elementType===o.type){r(e,c.sibling),n=i(c,o.props),n.ref=Bo(e,c,o),n.return=e,e=n;break e}}r(e,c);break}t(e,c),c=c.sibling}o.type===ae?(n=sc(o.props.children,e.mode,u,o.key),n.return=e,e=n):(u=ac(o.type,o.key,o.props,null,e.mode,u),u.ref=Bo(e,n,o),u.return=e,e=u)}return s(e);case oe:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),n=i(n,o.children||[]),n.return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}n=cc(o,e.mode,u),n.return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,o),n.return=e,e=n):(r(e,n),n=uc(o,e.mode,u),n.return=e,e=n),s(e);if(zo(o))return v(e,n,o,u);if(be(o))return m(e,n,o,u);if(l&&Uo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Go=Vo(!0),qo=Vo(!1),Wo={},Ho={current:Wo},Zo={current:Wo},Xo={current:Wo};function $o(e){if(e===Wo)throw Error(a(174));return e}function Yo(e,t){switch(ki(Xo,t),ki(Zo,e),ki(Ho,Wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ge(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ge(t,e)}Si(Ho),ki(Ho,t)}function Ko(){Si(Ho),Si(Zo),Si(Xo)}function Jo(e){$o(Xo.current);var t=$o(Ho.current),r=Ge(t,e.type);t!==r&&(ki(Zo,e),ki(Ho,r))}function Qo(e){Zo.current===e&&(Si(Ho),Si(Zo))}var ea={current:0};function ta(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||r.data===Sr||r.data===kr))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ra(e,t){return{responder:e,props:t}}var na=ee.ReactCurrentDispatcher,ia=ee.ReactCurrentBatchConfig,oa=0,aa=null,sa=null,ua=null,ca=!1;function la(){throw Error(a(321))}function fa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ei(e[r],t[r]))return!1;return!0}function ha(e,t,r,n,i,o){if(oa=o,aa=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,na.current=null===e||null===e.memoizedState?La:Da,e=r(n,i),t.expirationTime===oa){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,ua=sa=null,t.updateQueue=null,na.current=Na,e=r(n,i)}while(t.expirationTime===oa)}if(na.current=Ma,t=null!==sa&&null!==sa.next,oa=0,ua=sa=aa=null,ca=!1,t)throw Error(a(300));return e}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?aa.memoizedState=ua=e:ua=ua.next=e,ua}function da(){if(null===sa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=sa.next;var t=null===ua?aa.memoizedState:ua.next;if(null!==t)ua=t,sa=e;else{if(null===e)throw Error(a(310));sa=e,e={memoizedState:sa.memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},null===ua?aa.memoizedState=ua=e:ua=ua.next=e}return ua}function va(e,t){return"function"===typeof t?t(e):t}function ma(e){var t=da(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=sa,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<oa){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=n):u=u.next=f,l>aa.expirationTime&&(aa.expirationTime=l,Nu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Du(l,c.suspenseConfig),n=c.eagerReducer===e?c.eagerState:e(n,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=n:u.next=s,ei(n,t.memoizedState)||(Xa=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function ya(e){var t=da(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ei(o,t.memoizedState)||(Xa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ga(e){var t=pa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},e=e.dispatch=Ra.bind(null,aa,e),[t.memoizedState,e]}function ba(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=aa.updateQueue,null===t?(t={lastEffect:null},aa.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,null===r?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _a(){return da().memoizedState}function wa(e,t,r,n){var i=pa();aa.effectTag|=e,i.memoizedState=ba(1|t,r,void 0,void 0===n?null:n)}function xa(e,t,r,n){var i=da();n=void 0===n?null:n;var o=void 0;if(null!==sa){var a=sa.memoizedState;if(o=a.destroy,null!==n&&fa(n,a.deps))return void ba(t,r,o,n)}aa.effectTag|=e,i.memoizedState=ba(1|t,r,o,n)}function Oa(e,t){return wa(516,4,e,t)}function Ea(e,t){return xa(516,4,e,t)}function ja(e,t){return xa(4,2,e,t)}function Sa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,xa(4,2,Sa.bind(null,t,e),r)}function Ta(){}function Pa(e,t){return pa().memoizedState=[e,void 0===t?null:t],e}function Aa(e,t){var r=da();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ia(e,t){var r=da();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ca(e,t,r){var n=io();ao(98>n?98:n,(function(){e(!0)})),ao(97<n?97:n,(function(){var n=ia.suspense;ia.suspense=void 0===t?null:t;try{e(!1),r()}finally{ia.suspense=n}}))}function Ra(e,t,r){var n=xu(),i=Io.suspense;n=Ou(n,e,i),i={expirationTime:n,suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===aa||null!==o&&o===aa)ca=!0,i.expirationTime=oa,aa.expirationTime=oa;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&(o=t.lastRenderedReducer,null!==o))try{var a=t.lastRenderedState,s=o(a,r);if(i.eagerReducer=o,i.eagerState=s,ei(s,a))return}catch(u){}Eu(e,n)}}var Ma={readContext:xo,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},La={readContext:xo,useCallback:Pa,useContext:xo,useEffect:Oa,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,wa(4,2,Sa.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var r=pa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Ra.bind(null,aa,e),[n.memoizedState,e]},useRef:function(e){var t=pa();return e={current:e},t.memoizedState=e},useState:ga,useDebugValue:Ta,useResponder:ra,useDeferredValue:function(e,t){var r=ga(e),n=r[0],i=r[1];return Oa((function(){var r=ia.suspense;ia.suspense=void 0===t?null:t;try{i(e)}finally{ia.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ga(!1),r=t[0];return t=t[1],[Pa(Ca.bind(null,t,e),[t,e]),r]}},Da={readContext:xo,useCallback:Aa,useContext:xo,useEffect:Ea,useImperativeHandle:ka,useLayoutEffect:ja,useMemo:Ia,useReducer:ma,useRef:_a,useState:function(){return ma(va)},useDebugValue:Ta,useResponder:ra,useDeferredValue:function(e,t){var r=ma(va),n=r[0],i=r[1];return Ea((function(){var r=ia.suspense;ia.suspense=void 0===t?null:t;try{i(e)}finally{ia.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ma(va),r=t[0];return t=t[1],[Aa(Ca.bind(null,t,e),[t,e]),r]}},Na={readContext:xo,useCallback:Aa,useContext:xo,useEffect:Ea,useImperativeHandle:ka,useLayoutEffect:ja,useMemo:Ia,useReducer:ya,useRef:_a,useState:function(){return ya(va)},useDebugValue:Ta,useResponder:ra,useDeferredValue:function(e,t){var r=ya(va),n=r[0],i=r[1];return Ea((function(){var r=ia.suspense;ia.suspense=void 0===t?null:t;try{i(e)}finally{ia.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ya(va),r=t[0];return t=t[1],[Aa(Ca.bind(null,t,e),[t,e]),r]}},Fa=null,za=null,Ba=!1;function Ua(e,t){var r=rc(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Va(e,t){switch(e.tag){case 5:var r=e.type;return t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function Ga(e){if(Ba){var t=za;if(t){var r=t;if(!Va(e,t)){if(t=Mr(r.nextSibling),!t||!Va(e,t))return e.effectTag=-1025&e.effectTag|2,Ba=!1,void(Fa=e);Ua(Fa,r)}Fa=e,za=Mr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ba=!1,Fa=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!Ba)return qa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ir(t,e.memoizedProps))for(t=za;t;)Ua(e,t),t=Mr(t.nextSibling);if(qa(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if(r===jr){if(0===t){za=Mr(e.nextSibling);break e}t--}else r!==Er&&r!==kr&&r!==Sr||t++}e=e.nextSibling}za=null}}else za=Fa?Mr(e.stateNode.nextSibling):null;return!0}function Ha(){za=Fa=null,Ba=!1}var Za=ee.ReactCurrentOwner,Xa=!1;function $a(e,t,r,n){t.child=null===e?qo(t,null,r,n):Go(t,e.child,r,n)}function Ya(e,t,r,n,i){r=r.render;var o=t.ref;return wo(t,i),n=ha(e,t,r,n,o,i),null===e||Xa?(t.effectTag|=1,$a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ps(e,t,i))}function Ka(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!==typeof a||nc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?(e=ac(r.type,null,n,null,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ja(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,r=r.compare,r=null!==r?r:ri,r(i,n)&&e.ref===t.ref)?ps(e,t,o):(t.effectTag|=1,e=oc(a,n),e.ref=t.ref,e.return=t,t.child=e)}function Ja(e,t,r,n,i,o){return null!==e&&ri(e.memoizedProps,n)&&e.ref===t.ref&&(Xa=!1,i<o)?(t.expirationTime=e.expirationTime,ps(e,t,o)):es(e,t,r,n,o)}function Qa(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function es(e,t,r,n,i){var o=Ri(r)?Ii:Pi.current;return o=Ci(t,o),wo(t,i),r=ha(e,t,r,n,o,i),null===e||Xa?(t.effectTag|=1,$a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ps(e,t,i))}function ts(e,t,r,n,i){if(Ri(r)){var o=!0;Ni(t)}else o=!1;if(wo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Do(t,r,n),Fo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=r.contextType;"object"===typeof c&&null!==c?c=xo(c):(c=Ri(r)?Ii:Pi.current,c=Ci(t,c));var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==c)&&No(t,a,n,c),Oo=!1;var h=t.memoizedState;a.state=h,Po(t,n,a,i),u=t.memoizedState,s!==n||h!==u||Ai.current||Oo?("function"===typeof l&&(Ro(t,r,l,n),u=t.memoizedState),(s=Oo||Lo(t,r,s,n,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,jo(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:ho(t.type,s),u=a.context,c=r.contextType,"object"===typeof c&&null!==c?c=xo(c):(c=Ri(r)?Ii:Pi.current,c=Ci(t,c)),l=r.getDerivedStateFromProps,(f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==c)&&No(t,a,n,c),Oo=!1,u=t.memoizedState,a.state=u,Po(t,n,a,i),h=t.memoizedState,s!==n||u!==h||Ai.current||Oo?("function"===typeof l&&(Ro(t,r,l,n),h=t.memoizedState),(l=Oo||Lo(t,r,s,n,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=c,n=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),n=!1);return rs(e,t,r,n,o,i)}function rs(e,t,r,n,i,o){Qa(e,t);var a=0!==(64&t.effectTag);if(!n&&!a)return i&&Fi(t,r,!1),ps(e,t,o);n=t.stateNode,Za.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=Go(t,e.child,null,o),t.child=Go(t,null,s,o)):$a(e,t,s,o),t.memoizedState=n.state,i&&Fi(t,r,!0),t.child}function ns(e){var t=e.stateNode;t.pendingContext?Li(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(e,t.context,!1),Yo(e,t.containerInfo)}var is,os,as,ss,us={dehydrated:null,retryTime:0};function cs(e,t,r){var n,i=t.mode,o=t.pendingProps,a=ea.current,s=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ki(ea,1&a),null===e){if(void 0!==o.fallback&&Ga(t),s){if(s=o.fallback,o=sc(null,i,0,null),o.return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return r=sc(s,i,r,null),r.return=t,o.sibling=r,t.memoizedState=us,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=qo(t,null,i,r)}if(null!==e.memoizedState){if(e=e.child,i=e.sibling,s){if(o=o.fallback,r=oc(e,e.pendingProps),r.return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child,s!==e.child))for(r.child=s;null!==s;)s.return=r,s=s.sibling;return i=oc(i,o),i.return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=us,t.child=r,i}return r=Go(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,o=sc(null,i,0,null),o.return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return r=sc(s,i,r,null),r.return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=us,t.child=o,r}return t.memoizedState=null,t.child=Go(t,e,o.children,r)}function ls(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),_o(e.return,t)}function fs(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function hs(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if($a(e,t,n.children,r),n=ea.current,0!==(2&n))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ls(e,r);else if(19===e.tag)ls(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ki(ea,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)e=r.alternate,null!==e&&null===ta(e)&&(i=r),r=r.sibling;r=i,null===r?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),fs(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(e=i.alternate,null!==e&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}fs(t,!0,r,null,o,t.lastEffect);break;case"together":fs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ps(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&Nu(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(e=t.child,r=oc(e,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=oc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ds(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function vs(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ri(t.type)&&Mi(),null;case 3:return Ko(),Si(Ai),Si(Pi),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Wa(t)||(t.effectTag|=4),os(t),null;case 5:Qo(t),r=$o(Xo.current);var o=t.type;if(null!==e&&null!=t.stateNode)as(e,t,o,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=$o(Ho.current),Wa(t)){n=t.stateNode,o=t.type;var s=t.memoizedProps;switch(n[Nr]=t,n[Fr]=s,o){case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(e=0;e<rt.length;e++)rr(rt[e],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"form":rr("reset",n),rr("submit",n);break;case"details":rr("toggle",n);break;case"input":Pe(n,s),rr("invalid",n),mr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},rr("invalid",n),mr(r,"onChange");break;case"textarea":Fe(n,s),rr("invalid",n),mr(r,"onChange")}for(var u in pr(o,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?n.textContent!==c&&(e=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(e=["children",""+c]):j.hasOwnProperty(u)&&null!=c&&mr(r,u)}switch(o){case"input":Se(n),Ce(n,s,!0);break;case"textarea":Se(n),Be(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=yr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(u=9===r.nodeType?r:r.ownerDocument,e===vr&&(e=Ve(o)),e===vr?"script"===o?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(o,{is:n.is}):(e=u.createElement(o),"select"===o&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,o),e[Nr]=t,e[Fr]=n,is(e,t,!1,!1),t.stateNode=e,u=dr(o,n),o){case"iframe":case"object":case"embed":rr("load",e),c=n;break;case"video":case"audio":for(c=0;c<rt.length;c++)rr(rt[c],e);c=n;break;case"source":rr("error",e),c=n;break;case"img":case"image":case"link":rr("error",e),rr("load",e),c=n;break;case"form":rr("reset",e),rr("submit",e),c=n;break;case"details":rr("toggle",e),c=n;break;case"input":Pe(e,n),c=Te(e,n),rr("invalid",e),mr(r,"onChange");break;case"option":c=Le(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},c=i({},n,{value:void 0}),rr("invalid",e),mr(r,"onChange");break;case"textarea":Fe(e,n),c=Ne(e,n),rr("invalid",e),mr(r,"onChange");break;default:c=n}pr(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?fr(e,f):"dangerouslySetInnerHTML"===s?(f=f?f.__html:void 0,null!=f&&We(e,f)):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&He(e,f):"number"===typeof f&&He(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(j.hasOwnProperty(s)?null!=f&&mr(r,s):null!=f&&te(e,s,f,u))}switch(o){case"input":Se(e),Ce(e,n,!1);break;case"textarea":Se(e),Be(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Oe(n.value));break;case"select":e.multiple=!!n.multiple,r=n.value,null!=r?De(e,!!n.multiple,r,!1):null!=n.defaultValue&&De(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=yr)}Ar(o,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)ss(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=$o(Xo.current),$o(Ho.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Nr]=t,r.nodeValue!==n&&(t.effectTag|=4)):(r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n),r[Nr]=t,t.stateNode=r)}return null;case 13:return Si(ea),n=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):(o=e.memoizedState,n=null!==o,r||null===o||(o=e.child.sibling,null!==o&&(s=t.firstEffect,null!==s?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8))),r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ea.current)?ru===Hs&&(ru=$s):(ru!==Hs&&ru!==$s||(ru=Ys),0!==su&&null!==Qs&&(hc(Qs,tu),pc(Qs,su)))),(r||n)&&(t.effectTag|=4),null);case 4:return Ko(),os(t),null;case 10:return bo(t),null;case 17:return Ri(t.type)&&Mi(),null;case 19:if(Si(ea),n=t.memoizedState,null===n)return null;if(o=0!==(64&t.effectTag),s=n.rendering,null===s){if(o)ds(n,!1);else if(ru!==Hs||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(e=ta(s),null!==e){for(t.effectTag|=64,ds(n,!1),o=e.updateQueue,null!==o&&(t.updateQueue=o,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)o=n,s=r,o.effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,e=o.alternate,null===e?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return ki(ea,1&ea.current|2),t.child}s=s.sibling}}else{if(!o)if(e=ta(s),null!==e){if(t.effectTag|=64,o=!0,r=e.updateQueue,null!==r&&(t.updateQueue=r,t.effectTag|=4),ds(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return t=t.lastEffect=n.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*no()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,ds(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(r=n.last,null!==r?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=no()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=no(),r.sibling=null,t=ea.current,ki(ea,o?1&t|2:1&t),r):null}throw Error(a(156,t.tag))}function ms(e){switch(e.tag){case 1:Ri(e.type)&&Mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ko(),Si(Ai),Si(Pi),t=e.effectTag,0!==(64&t))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Qo(e),null;case 13:return Si(ea),t=e.effectTag,4096&t?(e.effectTag=-4097&t|64,e):null;case 19:return Si(ea),null;case 4:return Ko(),null;case 10:return bo(e),null;default:return null}}function ys(e,t){return{value:e,source:t,stack:xe(t)}}is=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},os=function(){},as=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,u,c=t.stateNode;switch($o(Ho.current),e=null,r){case"input":a=Te(c,a),n=Te(c,n),e=[];break;case"option":a=Le(c,a),n=Le(c,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=Ne(c,a),n=Ne(c,n),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(c.onclick=yr)}for(s in pr(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s],c)c.hasOwnProperty(u)&&(r||(r={}),r[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(j.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var l=n[s];if(c=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(r||(r={}),r[u]=l[u])}else r||(e||(e=[]),e.push(s,r)),r=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(j.hasOwnProperty(s)?(null!=l&&mr(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},ss=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var gs="function"===typeof WeakSet?WeakSet:Set;function bs(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=xe(r)),null!==r&&we(r.type),t=t.value,null!==e&&1===e.tag&&we(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function _s(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){$u(e,r)}}function ws(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){$u(e,r)}else t.current=null}function xs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:ho(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Os(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function Es(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function js(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void Es(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:ho(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return t=r.updateQueue,void(null!==t&&Ao(r,t,e));case 3:if(t=r.updateQueue,null!==t){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}Ao(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&Ar(r.type,r.memoizedProps)&&e.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Wt(r)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function Ss(e,t,r){switch("function"===typeof Qu&&Qu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,null!==e&&(e=e.lastEffect,null!==e)){var n=e.next;ao(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(o){$u(i,o)}}e=e.next}while(e!==n)}))}break;case 1:ws(t),r=t.stateNode,"function"===typeof r.componentWillUnmount&&_s(t,r);break;case 5:ws(t);break;case 4:Cs(e,t,r)}}function ks(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ks(t)}function Ts(e){return 5===e.tag||3===e.tag||4===e.tag}function Ps(e){e:{for(var t=e.return;null!==t;){if(Ts(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(He(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Ts(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?As(e,r,t):Is(e,r,t)}function As(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==t.onclick||(t.onclick=yr));else if(4!==n&&(e=e.child,null!==e))for(As(e,t,r),e=e.sibling;null!==e;)As(e,t,r),e=e.sibling}function Is(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(e=e.child,null!==e))for(Is(e,t,r),e=e.sibling;null!==e;)Is(e,t,r),e=e.sibling}function Cs(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:n=n.containerInfo,i=!0;break e;case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=r,f=c;;)if(Ss(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=n,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ss(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return,4===o.tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Rs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Os(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Fr]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Ae(r,n),dr(e,i),t=dr(e,n),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?fr(r,u):"dangerouslySetInnerHTML"===s?We(r,u):"children"===s?He(r,u):te(r,s,u,t)}switch(e){case"input":Ie(r,n);break;case"textarea":ze(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,e=n.value,null!=e?De(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?De(r,!!n.multiple,n.defaultValue,!0):De(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return t=t.stateNode,void(t.hydrate&&(t.hydrate=!1,Wt(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,cu=no()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?(o=o.style,"function"===typeof o.setProperty?o.setProperty("display","none","important"):o.display="none"):(o=e.stateNode,i=e.memoizedProps.style,i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=lr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){o=e.child.sibling,o.return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Ms(t);case 19:return void Ms(t);case 17:return}throw Error(a(163))}function Ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new gs),t.forEach((function(t){var n=Ku.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var Ls="function"===typeof WeakMap?WeakMap:Map;function Ds(e,t,r){r=So(r,null),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hu||(hu=!0,pu=n),bs(e,t)},r}function Ns(e,t,r){r=So(r,null),r.tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return bs(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===du?du=new Set([this]):du.add(this),bs(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var Fs,zs=Math.ceil,Bs=ee.ReactCurrentDispatcher,Us=ee.ReactCurrentOwner,Vs=0,Gs=8,qs=16,Ws=32,Hs=0,Zs=1,Xs=2,$s=3,Ys=4,Ks=5,Js=Vs,Qs=null,eu=null,tu=0,ru=Hs,nu=null,iu=1073741823,ou=1073741823,au=null,su=0,uu=!1,cu=0,lu=500,fu=null,hu=!1,pu=null,du=null,vu=!1,mu=null,yu=90,gu=null,bu=0,_u=null,wu=0;function xu(){return(Js&(qs|Ws))!==Vs?1073741821-(no()/10|0):0!==wu?wu:wu=1073741821-(no()/10|0)}function Ou(e,t,r){if(t=t.mode,0===(2&t))return 1073741823;var n=io();if(0===(4&t))return 99===n?1073741823:1073741822;if((Js&qs)!==Vs)return tu;if(null!==r)e=fo(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=fo(e,150,100);break;case 97:case 96:e=fo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Qs&&e===tu&&--e,e}function Eu(e,t){if(50<bu)throw bu=0,_u=null,Error(a(185));if(e=ju(e,t),null!==e){var r=io();1073741823===t?(Js&Gs)!==Vs&&(Js&(qs|Ws))===Vs?Pu(e):(ku(e),Js===Vs&&co()):ku(e),(4&Js)===Vs||98!==r&&99!==r||(null===gu?gu=new Map([[e,t]]):(r=gu.get(e),(void 0===r||r>t)&&gu.set(e,t)))}}function ju(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Qs===i&&(Nu(t),ru===Ys&&hc(i,tu)),pc(i,t)),i}function Su(e){var t=e.lastExpiredTime;if(0!==t)return t;if(t=e.firstPendingTime,!fc(e,t))return t;var r=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=r>e?r:e,2>=e&&t!==e?0:e}function ku(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=uo(Pu.bind(null,e));else{var t=Su(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=xu();if(1073741823===t?n=99:1===t||2===t?n=95:(n=10*(1073741821-t)-10*(1073741821-n),n=0>=n?99:250>=n?98:5250>=n?97:95),null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Yi&&Ui(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?uo(Pu.bind(null,e)):so(n,Tu.bind(null,e),{timeout:10*(1073741821-t)-no()}),e.callbackNode=t}}}function Tu(e,t){if(wu=0,t)return t=xu(),dc(e,t),ku(e),null;var r=Su(e);if(0!==r){if(t=e.callbackNode,(Js&(qs|Ws))!==Vs)throw Error(a(327));if(Hu(),e===Qs&&r===tu||Ru(e,r),null!==eu){var n=Js;Js|=qs;var i=Lu();do{try{zu();break}catch(u){Mu(e,u)}}while(1);if(go(),Js=n,Bs.current=i,ru===Zs)throw t=nu,Ru(e,r),hc(e,r),ku(e),t;if(null===eu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=ru,Qs=null,n){case Hs:case Zs:throw Error(a(345));case Xs:dc(e,2<r?2:r);break;case $s:if(hc(e,r),n=e.lastSuspendedTime,r===n&&(e.nextKnownPendingLevel=Vu(i)),1073741823===iu&&(i=cu+lu-no(),10<i)){if(uu){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,Ru(e,r);break}}if(o=Su(e),0!==o&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=Cr(Gu.bind(null,e),i);break}Gu(e);break;case Ys:if(hc(e,r),n=e.lastSuspendedTime,r===n&&(e.nextKnownPendingLevel=Vu(i)),uu&&(i=e.lastPingedTime,0===i||i>=r)){e.lastPingedTime=r,Ru(e,r);break}if(i=Su(e),0!==i&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==ou?n=10*(1073741821-ou)-no():1073741823===iu?n=0:(n=10*(1073741821-iu)-5e3,i=no(),r=10*(1073741821-r)-i,n=i-n,0>n&&(n=0),n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zs(n/1960))-n,r<n&&(n=r)),10<n){e.timeoutHandle=Cr(Gu.bind(null,e),n);break}Gu(e);break;case Ks:if(1073741823!==iu&&null!==au){o=iu;var s=au;if(n=0|s.busyMinDurationMs,0>=n?n=0:(i=0|s.busyDelayMs,o=no()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)),n=o<=i?0:i+n-o),10<n){hc(e,r),e.timeoutHandle=Cr(Gu.bind(null,e),n);break}}Gu(e);break;default:throw Error(a(329))}if(ku(e),e.callbackNode===t)return Tu.bind(null,e)}}return null}function Pu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Js&(qs|Ws))!==Vs)throw Error(a(327));if(Hu(),e===Qs&&t===tu||Ru(e,t),null!==eu){var r=Js;Js|=qs;var n=Lu();do{try{Fu();break}catch(i){Mu(e,i)}}while(1);if(go(),Js=r,Bs.current=n,ru===Zs)throw r=nu,Ru(e,t),hc(e,t),ku(e),r;if(null!==eu)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Qs=null,Gu(e),ku(e)}return null}function Au(){if(null!==gu){var e=gu;gu=null,e.forEach((function(e,t){dc(t,e),ku(t)})),co()}}function Iu(e,t){var r=Js;Js|=1;try{return e(t)}finally{Js=r,Js===Vs&&co()}}function Cu(e,t){var r=Js;Js&=-2,Js|=Gs;try{return e(t)}finally{Js=r,Js===Vs&&co()}}function Ru(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Rr(r)),null!==eu)for(r=eu.return;null!==r;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,null!==n&&void 0!==n&&Mi();break;case 3:Ko(),Si(Ai),Si(Pi);break;case 5:Qo(n);break;case 4:Ko();break;case 13:Si(ea);break;case 19:Si(ea);break;case 10:bo(n)}r=r.return}Qs=e,eu=oc(e.current,null),tu=t,ru=Hs,nu=null,ou=iu=1073741823,au=null,su=0,uu=!1}function Mu(e,t){do{try{if(go(),na.current=Ma,ca)for(var r=aa.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(oa=0,ua=sa=aa=null,ca=!1,null===eu||null===eu.return)return ru=Zs,nu=t,eu=null;e:{var i=e,o=eu.return,a=eu,s=t;if(t=tu,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&ea.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var d=f.memoizedProps;h=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=So(1073741823,null);y.tag=2,ko(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new Ls,s=new Set,g.set(u,s)):(s=g.get(u),void 0===s&&(s=new Set,g.set(u,s))),!s.has(a)){s.add(a);var b=Yu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((we(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+xe(a))}ru!==Ks&&(ru=Xs),s=ys(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t;var _=Ds(f,u,t);To(f,_);break e;case 1:u=s;var w=f.type,x=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===du||!du.has(x)))){f.effectTag|=4096,f.expirationTime=t;var O=Ns(f,u,t);To(f,O);break e}}f=f.return}while(null!==f)}eu=Uu(eu)}catch(E){t=E;continue}break}while(1)}function Lu(){var e=Bs.current;return Bs.current=Ma,null===e?Ma:e}function Du(e,t){e<iu&&2<e&&(iu=e),null!==t&&e<ou&&2<e&&(ou=e,au=t)}function Nu(e){e>su&&(su=e)}function Fu(){for(;null!==eu;)eu=Bu(eu)}function zu(){for(;null!==eu&&!Ki();)eu=Bu(eu)}function Bu(e){var t=Fs(e.alternate,e,tu);return e.memoizedProps=e.pendingProps,null===t&&(t=Uu(e)),Us.current=null,t}function Uu(e){eu=e;do{var t=eu.alternate;if(e=eu.return,0===(2048&eu.effectTag)){if(t=vs(t,eu,tu),1===tu||1!==eu.childExpirationTime){for(var r=0,n=eu.child;null!==n;){var i=n.expirationTime,o=n.childExpirationTime;i>r&&(r=i),o>r&&(r=o),n=n.sibling}eu.childExpirationTime=r}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=eu.firstEffect),null!==eu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=eu.firstEffect),e.lastEffect=eu.lastEffect),1<eu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=eu:e.firstEffect=eu,e.lastEffect=eu))}else{if(t=ms(eu),null!==t)return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(t=eu.sibling,null!==t)return t;eu=e}while(null!==eu);return ru===Hs&&(ru=Ks),null}function Vu(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function Gu(e){var t=io();return ao(99,qu.bind(null,e,t)),null}function qu(e,t){do{Hu()}while(null!==mu);if((Js&(qs|Ws))!==Vs)throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Vu(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Qs&&(eu=Qs=null,tu=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Js;Js|=Ws,Us.current=null,Tr=tr;var s=xr();if(Or(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(S){u=null;break e}var h=0,p=-1,d=-1,v=0,m=0,y=s,g=null;t:for(;;){for(var b;;){if(y!==u||0!==l&&3!==y.nodeType||(p=h+l),y!==f||0!==c&&3!==y.nodeType||(d=h+c),3===y.nodeType&&(h+=y.nodeValue.length),null===(b=y.firstChild))break;g=y,y=b}for(;;){if(y===s)break t;if(g===u&&++v===l&&(p=h),g===f&&++m===c&&(d=h),null!==(b=y.nextSibling))break;y=g,g=y.parentNode}y=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;Pr={activeElementDetached:null,focusedElem:s,selectionRange:u},tr=!1,fu=i;do{try{Wu()}catch(S){if(null===fu)throw Error(a(330));$u(fu,S),fu=fu.nextEffect}}while(null!==fu);fu=i;do{try{for(s=e,u=t;null!==fu;){var _=fu.effectTag;if(16&_&&He(fu.stateNode,""),128&_){var w=fu.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&_){case 2:Ps(fu),fu.effectTag&=-3;break;case 6:Ps(fu),fu.effectTag&=-3,Rs(fu.alternate,fu);break;case 1024:fu.effectTag&=-1025;break;case 1028:fu.effectTag&=-1025,Rs(fu.alternate,fu);break;case 4:Rs(fu.alternate,fu);break;case 8:l=fu,Cs(s,l,u),ks(l)}fu=fu.nextEffect}}catch(S){if(null===fu)throw Error(a(330));$u(fu,S),fu=fu.nextEffect}}while(null!==fu);if(x=Pr,w=xr(),_=x.focusedElem,u=x.selectionRange,w!==_&&_&&_.ownerDocument&&wr(_.ownerDocument.documentElement,_)){null!==u&&Or(_)&&(w=u.start,x=u.end,void 0===x&&(x=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(x,_.value.length)):(x=(w=_.ownerDocument||document)&&w.defaultView||window,x.getSelection&&(x=x.getSelection(),l=_.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!x.extend&&s>u&&(l=u,u=s,s=l),l=_r(_,s),f=_r(_,u),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&(w=w.createRange(),w.setStart(l.node,l.offset),x.removeAllRanges(),s>u?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w)))))),w=[];for(x=_;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)x=w[_],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}tr=!!Tr,Pr=Tr=null,e.current=r,fu=i;do{try{for(_=e;null!==fu;){var O=fu.effectTag;if(36&O&&js(_,fu.alternate,fu),128&O){w=void 0;var E=fu.ref;if(null!==E){var j=fu.stateNode;switch(fu.tag){case 5:w=j;break;default:w=j}"function"===typeof E?E(w):E.current=w}}fu=fu.nextEffect}}catch(S){if(null===fu)throw Error(a(330));$u(fu,S),fu=fu.nextEffect}}while(null!==fu);fu=null,Ji(),Js=o}else e.current=r;if(vu)vu=!1,mu=e,yu=t;else for(fu=i;null!==fu;)t=fu.nextEffect,fu.nextEffect=null,fu=t;if(t=e.firstPendingTime,0===t&&(du=null),1073741823===t?e===_u?bu++:(bu=0,_u=e):bu=0,"function"===typeof Ju&&Ju(r.stateNode,n),ku(e),hu)throw hu=!1,e=pu,pu=null,e;return(Js&Gs)!==Vs||co(),null}function Wu(){for(;null!==fu;){var e=fu.effectTag;0!==(256&e)&&xs(fu.alternate,fu),0===(512&e)||vu||(vu=!0,so(97,(function(){return Hu(),null}))),fu=fu.nextEffect}}function Hu(){if(90!==yu){var e=97<yu?97:yu;return yu=90,ao(e,Zu)}}function Zu(){if(null===mu)return!1;var e=mu;if(mu=null,(Js&(qs|Ws))!==Vs)throw Error(a(331));var t=Js;for(Js|=Ws,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:Os(5,r),Es(5,r)}}catch(n){if(null===e)throw Error(a(330));$u(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return Js=t,co(),!0}function Xu(e,t,r){t=ys(r,t),t=Ds(e,t,1073741823),ko(e,t),e=ju(e,1073741823),null!==e&&ku(e)}function $u(e,t){if(3===e.tag)Xu(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Xu(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===du||!du.has(n))){e=ys(t,e),e=Ns(r,e,1073741823),ko(r,e),r=ju(r,1073741823),null!==r&&ku(r);break}}r=r.return}}function Yu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Qs===e&&tu===r?ru===Ys||ru===$s&&1073741823===iu&&no()-cu<lu?Ru(e,tu):uu=!0:fc(e,r)&&(t=e.lastPingedTime,0!==t&&t<r||(e.lastPingedTime=r,ku(e)))}function Ku(e,t){var r=e.stateNode;null!==r&&r.delete(t),t=0,0===t&&(t=xu(),t=Ou(t,e,null)),e=ju(e,t),null!==e&&ku(e)}Fs=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Ai.current)Xa=!0;else{if(n<r){switch(Xa=!1,t.tag){case 3:ns(t),Ha();break;case 5:if(Jo(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Ri(t.type)&&Ni(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,ki(po,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return n=t.child.childExpirationTime,0!==n&&n>=r?cs(e,t,r):(ki(ea,1&ea.current),t=ps(e,t,r),null!==t?t.sibling:null);ki(ea,1&ea.current);break;case 19:if(n=t.childExpirationTime>=r,0!==(64&e.effectTag)){if(n)return hs(e,t,r);t.effectTag|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null),ki(ea,ea.current),!n)return null}return ps(e,t,r)}Xa=!1}}else Xa=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Ci(t,Pi.current),wo(t,r),i=ha(null,t,n,e,i,r),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(n)){var o=!0;Ni(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Eo(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&Ro(t,n,s,e),i.updater=Mo,t.stateNode=i,i._reactInternalFiber=t,Fo(t,n,e,r),t=rs(null,t,n,!0,o,r)}else t.tag=0,$a(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,_e(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=ic(i),e=ho(i,e),o){case 0:t=es(null,t,i,e,r);break e;case 1:t=ts(null,t,i,e,r);break e;case 11:t=Ya(null,t,i,e,r);break e;case 14:t=Ka(null,t,i,ho(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),es(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),ts(e,t,n,i,r);case 3:if(ns(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,jo(e,t),Po(t,n,null,r),n=t.memoizedState.element,n===i)Ha(),t=ps(e,t,r);else{if((i=t.stateNode.hydrate)&&(za=Mr(t.stateNode.containerInfo.firstChild),Fa=t,i=Ba=!0),i)for(r=qo(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else $a(e,t,n,r),Ha();t=t.child}return t;case 5:return Jo(t),null===e&&Ga(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Ir(n,i)?s=null:null!==o&&Ir(n,o)&&(t.effectTag|=16),Qa(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):($a(e,t,s,r),t=t.child),t;case 6:return null===e&&Ga(t),null;case 13:return cs(e,t,r);case 4:return Yo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Go(t,null,n,r):$a(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),Ya(e,t,n,i,r);case 7:return $a(e,t,t.pendingProps,r),t.child;case 8:return $a(e,t,t.pendingProps.children,r),t.child;case 12:return $a(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ki(po,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,o=ei(u,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,o):1073741823),0===o){if(s.children===i.children&&!Ai.current){t=ps(e,t,r);break e}}else for(u=t.child,null!==u&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&o)){1===u.tag&&(l=So(r,null),l.tag=2,ko(u,l)),u.expirationTime<r&&(u.expirationTime=r),l=u.alternate,null!==l&&l.expirationTime<r&&(l.expirationTime=r),_o(u.return,r),c.expirationTime<r&&(c.expirationTime=r);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(u=s.sibling,null!==u){u.return=s.return,s=u;break}s=s.return}u=s}$a(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,wo(t,r),i=xo(i,o.unstable_observedBits),n=n(i),t.effectTag|=1,$a(e,t,n,r),t.child;case 14:return i=t.type,o=ho(i,t.pendingProps),o=ho(i.type,o),Ka(e,t,i,o,n,r);case 15:return Ja(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ho(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ri(n)?(e=!0,Ni(t)):e=!1,wo(t,r),Do(t,n,i),Fo(t,n,i,r),rs(null,t,n,!0,e,r);case 19:return hs(e,t,r)}throw Error(a(156,t.tag))};var Ju=null,Qu=null;function ec(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Ju=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(n){}},Qu=function(e){try{t.onCommitFiberUnmount(r,e)}catch(n){}}}catch(n){}return!0}function tc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function rc(e,t,r,n){return new tc(e,t,r,n)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ic(e){if("function"===typeof e)return nc(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===he)return 11;if(e===ve)return 14}return 2}function oc(e,t){var r=e.alternate;return null===r?(r=rc(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ac(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)nc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ae:return sc(r.children,i,o,t);case fe:s=8,i|=7;break;case se:s=8,i|=1;break;case ue:return e=rc(12,r,t,8|i),e.elementType=ue,e.type=ue,e.expirationTime=o,e;case pe:return e=rc(13,r,t,i),e.type=pe,e.elementType=pe,e.expirationTime=o,e;case de:return e=rc(19,r,t,i),e.elementType=de,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ce:s=10;break e;case le:s=9;break e;case he:s=11;break e;case ve:s=14;break e;case me:s=16,n=null;break e;case ye:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return t=rc(s,r,t,i),t.elementType=e,t.type=n,t.expirationTime=o,t}function sc(e,t,r,n){return e=rc(7,e,n,t),e.expirationTime=r,e}function uc(e,t,r){return e=rc(6,e,null,t),e.expirationTime=r,e}function cc(e,t,r){return t=rc(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lc(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function fc(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function hc(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function pc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function dc(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function vc(e,t,r,n){var i=t.current,o=xu(),s=Io.suspense;o=Ou(o,i,s);e:if(r){r=r._reactInternalFiber;t:{if(ot(r)!==r||1!==r.tag)throw Error(a(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Ri(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===r.tag){var c=r.type;if(Ri(c)){r=Di(r,c,u);break e}}r=u}else r=Ti;return null===t.context?t.context=r:t.pendingContext=r,t=So(o,s),t.payload={element:e},n=void 0===n?null:n,null!==n&&(t.callback=n),ko(i,t),Eu(i,o),o}function mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yc(e,t){e=e.memoizedState,null!==e&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function gc(e,t){yc(e,t),(e=e.alternate)&&yc(e,t)}function bc(e,t,r){r=null!=r&&!0===r.hydrate;var n=new lc(e,t,r),i=rc(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,Eo(i),e[zr]=n.current,r&&0!==t&&Lt(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function _c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function wc(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new bc(e,0,t?{hydrate:!0}:void 0)}function xc(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=mc(a);s.call(e)}}vc(t,a,e,i)}else{if(o=r._reactRootContainer=wc(r,n),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=mc(a);u.call(e)}}Cu((function(){vc(t,a,e,i)}))}return mc(a)}function Oc(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:oe,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Ec(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!_c(t))throw Error(a(200));return Oc(e,t,null,r)}bc.prototype.render=function(e){vc(e,this._internalRoot,null,null)},bc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;vc(null,e,null,(function(){t[zr]=null}))},xt=function(e){if(13===e.tag){var t=fo(xu(),150,100);Eu(e,t),gc(e,t)}},Ot=function(e){13===e.tag&&(Eu(e,3),gc(e,3))},Et=function(e){if(13===e.tag){var t=xu();t=Ou(t,e,null),Eu(e,t),gc(e,t)}},P=function(e,t,r){switch(t){case"input":if(Ie(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Gr(n);if(!i)throw Error(a(90));ke(n),Ie(n,i)}}}break;case"textarea":ze(e,r);break;case"select":t=r.value,null!=t&&De(e,!!r.multiple,t,!1)}},L=Iu,D=function(e,t,r,n,i){var o=Js;Js|=4;try{return ao(98,e.bind(null,t,r,n,i))}finally{Js=o,Js===Vs&&co()}},N=function(){(Js&(1|qs|Ws))===Vs&&(Au(),Hu())},F=function(e,t){var r=Js;Js|=2;try{return e(t)}finally{Js=r,Js===Vs&&co()}};var jc={Events:[Ur,Vr,Gr,k,E,Yr,function(e){ft(e,$r)},R,M,ar,dt,Hu,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;ec(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ct(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Br,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jc,t.createPortal=Ec,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=ct(t),e=null===e?null:e.stateNode,e},t.flushSync=function(e,t){if((Js&(qs|Ws))!==Vs)throw Error(a(187));var r=Js;Js|=1;try{return ao(99,e.bind(null,t))}finally{Js=r,co()}},t.hydrate=function(e,t,r){if(!_c(t))throw Error(a(200));return xc(null,e,t,!0,r)},t.render=function(e,t,r){if(!_c(t))throw Error(a(200));return xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!_c(e))throw Error(a(40));return!!e._reactRootContainer&&(Cu((function(){xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[zr]=null}))})),!0)},t.unstable_batchedUpdates=Iu,t.unstable_createPortal=function(e,t){return Ec(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_c(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return xc(e,t,r,!1,n)},t.version="16.14.0"},yoRg:function(e,t,r){var n=r("UTVS"),i=r("/GqU"),o=r("TWQb").indexOf,a=r("0BK2");e.exports=function(e,t){var r,s=i(e),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);while(t.length>u)n(s,r=t[u++])&&(~o(c,r)||c.push(r));return c}},yq1k:function(e,t,r){"use strict";var n=r("I+eb"),i=r("TWQb").includes,o=r("RNIs"),a=r("rkAj"),s=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},"z01/":function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},z8NH:function(e,t,r){var n=r("dOgj");n("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},zBJ4:function(e,t,r){var n=r("2oRo"),i=r("hh1v"),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},zKZe:function(e,t,r){var n=r("I+eb"),i=r("YNrV");n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},zLVn:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,"a",(function(){return n}))},zXfU:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n,i=r("fWQN"),o=r("mtLc"),a=r("yKVA"),s=r("879j"),u=r("sYR6"),c=r("a3TU"),l=r("+H0l"),f=r("n+fv"),h=r("sSh/"),p=[0,0,0],d=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])(this,r),e=t.call(this,-0,-0,-0),1===arguments.length&&Object(c["f"])(n)?e.copy(n):(c["b"].debug&&(Object(l["a"])(n),Object(l["a"])(o),Object(l["a"])(a)),e[0]=n,e[1]=o,e[2]=a),e}return Object(o["a"])(r,[{key:"set",value:function(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return c["b"].debug&&(Object(l["a"])(e.x),Object(l["a"])(e.y),Object(l["a"])(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l["a"])(e)}},{key:"angle",value:function(e){return f["b"](this,e)}},{key:"cross",value:function(e){return f["d"](this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return f["l"](this,this,n,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return f["m"](this,this,n,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return f["n"](this,this,n,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return f["q"](this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(h["c"])(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return f["p"](this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(h["b"])(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return f["r"](this,this,e),this.check()}}],[{key:"ZERO",get:function(){return n||(n=new r(0,0,0),Object.freeze(n)),n}}]),r}(u["a"])},zYLY:function(e,t,r){"use strict";function n(){var e=r("q1tI");return n=function(){return e},e}function i(e,t){return c(e)||u(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function c(e){if(Array.isArray(e))return e}function l(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(o<t.length){var a=t[o],s=function(){return l(e,t,r,o+1)},u=a.match(/^([^:]+):?(.*)$/)||[],c=i(u,3),f=c[1],h=c[2];switch(f){case"autoplay":s();break;case"click":var p=h.match(/^(global\()?(.+?)\)?$/)||[],d=i(p,3),v=d[1],m=d[2],y=v?document:e;null===(n=y.querySelector(m))||void 0===n||n.click(),s();break;case"timeout":setTimeout(s,Number(h));break;case"capture":window.postMessage({type:"dumi:capture-element",value:h},"*"),s();break;default:console.warn("[dumi: motion] unknown motion '".concat(a,"', skip.")),s()}}else r()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f=function(e,t){var r=(0,n().useState)(!1),o=i(r,2),a=o[0],s=o[1],u=(0,n().useCallback)((function(){a||(l(t,e,(function(){s(!1)})),s(!0))}),[e,t,a]);return(0,n().useEffect)((function(){"autoplay"===e[0]&&t&&u()}),[e,t]),[u,a]};t["default"]=f},ze9q:function(e,t,r){"use strict";e.exports=p;var n=/[\s{}=;:[\],'"()<>]/g,i=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*/]+ */,s=/^\s*\*?\/*/,u=/\n/g,c=/\s/,l=/\\(.?)/g,f={0:"\0",r:"\r",n:"\n",t:"\t"};function h(e){return e.replace(l,(function(e,t){switch(t){case"\\":case"":return t;default:return f[t]||""}}))}function p(e,t){e=e.toString();var r=0,l=e.length,f=1,p=null,d=null,v=0,m=!1,y=[],g=null;function b(e){return Error("illegal "+e+" (line "+f+")")}function _(){var t="'"===g?o:i;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw b("string");return r=t.lastIndex,S(g),g=null,h(n[1])}function w(t){return e.charAt(t)}function x(r,n){var i;p=e.charAt(r++),v=f,m=!1,i=t?2:3;var o,c=r-i;do{if(--c<0||"\n"===(o=e.charAt(c))){m=!0;break}}while(" "===o||"\t"===o);for(var l=e.substring(r,n).split(u),h=0;h<l.length;++h)l[h]=l[h].replace(t?s:a,"").trim();d=l.join("\n").trim()}function O(t){var r=E(t),n=e.substring(t,r),i=/^\s*\/{1,2}/.test(n);return i}function E(e){var t=e;while(t<l&&"\n"!==w(t))t++;return t}function j(){if(y.length>0)return y.shift();if(g)return _();var i,o,a,s,u;do{if(r===l)return null;i=!1;while(c.test(a=w(r)))if("\n"===a&&++f,++r===l)return null;if("/"===w(r)){if(++r===l)throw b("comment");if("/"===w(r))if(t){if(s=r,u=!1,O(r)){u=!0;do{if(r=E(r),r===l)break;r++}while(O(r))}else r=Math.min(l,E(r)+1);u&&x(s,r),f++,i=!0}else{u="/"===w(s=r+1);while("\n"!==w(++r))if(r===l)return null;++r,u&&x(s,r-1),++f,i=!0}else{if("*"!==(a=w(r)))return"/";s=r+1,u=t||"*"===w(s);do{if("\n"===a&&++f,++r===l)throw b("comment");o=a,a=w(r)}while("*"!==o||"/"!==a);++r,u&&x(s,r-2),i=!0}}}while(i);var h=r;n.lastIndex=0;var p=n.test(w(h++));if(!p)while(h<l&&!n.test(w(h)))++h;var d=e.substring(r,r=h);return'"'!==d&&"'"!==d||(g=d),d}function S(e){y.push(e)}function k(){if(!y.length){var e=j();if(null===e)return null;S(e)}return y[0]}function T(e,t){var r=k(),n=r===e;if(n)return j(),!0;if(!t)throw b("token '"+r+"', '"+e+"' expected");return!1}function P(e){var r=null;return void 0===e?v===f-1&&(t||"*"===p||m)&&(r=d):(v<e&&k(),v!==e||m||!t&&"/"!==p||(r=d)),r}return Object.defineProperty({next:j,peek:k,push:S,skip:T,cmnt:P},"line",{get:function(){return f}})}p.unescape=h},zfnd:function(e,t,r){var n=r("glrk"),i=r("hh1v"),o=r("8GlL");e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e),a=r.resolve;return a(t),r.promise}},zjNn:function(e,t,r){"use strict";e.exports=i;var n=r("XOFf");function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},zk60:function(e,t,r){var n=r("2oRo"),i=r("kRJp");e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},zlVK:function(e,t,r){"use strict";var n=r("QGke")["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=r("LtsZ"),o=r("q1tI"),a=r("i8i4"),s=r("V/vL");function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c=u(o);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function y(e,t){if(null==e)return{};var r,n,i=m(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g(e,t){return b(e)||_(e,t)||w(e,t)||O()}function b(e){if(Array.isArray(e))return e}function _(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function w(e,t){if(e){if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}function j(e){return c["default"].createElement(i.__RouterContext.Consumer,null,(function(t){var r=e.location||t.location,n=e.computedMatch,o=f(f({},t),{},{location:r,match:n}),a=e.render;return c["default"].createElement(i.__RouterContext.Provider,{value:o},o.match?a(f(f({},e.layoutProps),o)):null)}))}var S=["children"];function k(e){return c["default"].createElement(i.__RouterContext.Consumer,null,(function(t){var r,n=e.children,a=y(e,S),s=e.location||t.location,u=null;return o.Children.forEach(n,(function(e){if(null===u&&o.isValidElement(e)){r=e;var n=e.props.path||e.props.from;u=n?i.matchPath(s.pathname,f(f({},e.props),{},{path:n})):t.match}})),u?o.cloneElement(r,{location:s,computedMatch:u,layoutProps:a}):null}))}var T=["component"];function P(e,t){e.component;var r=y(e,T),a=e.component;function s(s){var u=o.useState((function(){return window.g_initialProps})),l=g(u,2),h=l[0],d=l[1];return o.useEffect((function(){var o=function(){var o=p(n().mark((function o(){var u,c,l,h,p;return n().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c=a,!a.preload){n.next=6;break}return n.next=4,a.preload();case 4:c=n.sent,c=c["default"]||c;case 6:if(l=f(f({isServer:!1,match:null===s||void 0===s?void 0:s.match,history:null===s||void 0===s?void 0:s.history,route:e},t.getInitialPropsCtx||{}),r),!(null===(u=c)||void 0===u?void 0:u.getInitialProps)){n.next=15;break}return n.next=10,t.plugin.applyPlugins({key:"ssr.modifyGetInitialPropsCtx",type:i.ApplyPluginsType.modify,initialValue:l,async:!0});case 10:return h=n.sent,n.next=13,c.getInitialProps(h||l);case 13:p=n.sent,d(p);case 15:case"end":return n.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();window.g_initialProps||o()}),[window.location.pathname,window.location.search]),c["default"].createElement(a,v({},s,h))}return s.wrapInitialPropsLoaded=!0,s.displayName="ComponentWithInitialPropsFetch",s}function A(e){var t=e.route,r=e.opts,n=e.props,i=C(f(f({},r),{},{routes:t.routes||[],rootRoutes:r.rootRoutes}),{location:n.location}),a=t.component,s=t.wrappers;if(a){var u=r.isServer?{}:window.g_initialProps,l=f(f(f(f({},n),r.extraProps),r.pageInitialProps||u),{},{route:t,routes:r.rootRoutes}),h=c["default"].createElement(a,l,i);if(s){var p=s.length-1;while(p>=0)h=o.createElement(s[p],l,h),p-=1}return h}return i}function I(e){var t,r,n,o=e.route,a=e.index,s=e.opts,u={key:o.key||a,exact:o.exact,strict:o.strict,sensitive:o.sensitive,path:o.path};return o.redirect?c["default"].createElement(i.Redirect,v({},u,{from:o.path,to:o.redirect})):(!s.ssrProps||s.isServer||(null===(t=o.component)||void 0===t?void 0:t.wrapInitialPropsLoaded)||!(null===(r=o.component)||void 0===r?void 0:r.getInitialProps)&&!(null===(n=o.component)||void 0===n?void 0:n.preload)||(o.component=P(o,s)),c["default"].createElement(j,v({},u,{render:function(e){return A({route:o,opts:s,props:e})}})))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.routes?c["default"].createElement(k,t,e.routes.map((function(t,r){return I({route:t,index:r,opts:f(f({},e),{},{rootRoutes:e.rootRoutes||e.routes})})}))):null}var R=["history"];function M(e){var t=e.history,r=y(e,R);return o.useEffect((function(){function n(t,n){var o=s.matchRoutes(e.routes,t.pathname);"undefined"!==typeof document&&void 0!==r.defaultTitle&&(document.title=o.length&&o[o.length-1].route.title||r.defaultTitle||""),e.plugin.applyPlugins({key:"onRouteChange",type:i.ApplyPluginsType.event,args:{routes:e.routes,matchedRoutes:o,location:t,action:n}})}return window.g_useSSR&&(window.g_initialProps=null),n(t.location,"POP"),t.listen(n)}),[t]),c["default"].createElement(i.Router,{history:t},C(r))}function L(e){return e.plugin.applyPlugins({type:i.ApplyPluginsType.modify,key:"rootContainer",initialValue:c["default"].createElement(M,{history:e.history,routes:e.routes,plugin:e.plugin,ssrProps:e.ssrProps,defaultTitle:e.defaultTitle}),args:{history:e.history,routes:e.routes,plugin:e.plugin}})}function D(e){return N.apply(this,arguments)}function N(){return N=p(n().mark((function e(t){var r,i,o,a,u,c,l,f,h=arguments;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=h.length>1&&void 0!==h[1]?h[1]:window.location.pathname,i=s.matchRoutes(t,r),o=E(i),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=19;break}if(c=a.value,l=c.route,"string"===typeof l.component||!(null===(u=l.component)||void 0===u?void 0:u.preload)){e.next=13;break}return e.next=11,l.component.preload();case 11:f=e.sent,l.component=f["default"]||f;case 13:if(!l.routes){e.next=17;break}return e.next=16,D(l.routes,r);case 16:l.routes=e.sent;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](3),o.e(e.t0);case 24:return e.prev=24,o.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[3,21,24,27]])}))),N.apply(this,arguments)}function F(e){var t=L(e);if(!e.rootElement)return t;var r="string"===typeof e.rootElement?document.getElementById(e.rootElement):e.rootElement,n=e.callback||function(){};window.g_useSSR?e.dynamicImport?D(e.routes).then((function(){a.hydrate(t,r,n)})):a.hydrate(t,r,n):a.render(t,r,n)}t.renderClient=F,t.renderRoutes=C},zqmC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.LinkWrapper=void 0;var n=a(r("q1tI")),i=r("LtsZ"),o=["to"];function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,i=c(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function c(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var l=function(e){return function(t){var r=t.to,i=u(t,o),a=/^(\w+:)?\/\/|^(mailto|tel):/.test(r)||!r,c=n["default"].isValidElement(i.children);return n["default"].createElement(e,s({to:r||"",component:a?function(){return n["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},i.children,r&&!c&&n["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},n["default"].createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),n["default"].createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))}:void 0},i,a?{}:{onClick:function(){var e;window.scrollTo({top:0});for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];null===(e=i.onClick)||void 0===e||e.apply(this,r)}}))}};t.LinkWrapper=l;var f=l(i.Link);t["default"]=f},zt7j:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r("k1fw"),i=r("q1tI"),o=r.n(i),a=r("/dIn"),s=r("AGfQ"),u=(r("j74i"),Object({NODE_ENV:"production"}).MapboxAccessToken,{PLAYBACK_FRAME_RATE:10});s["a"].sedan({origin:[1.08,-.32,0],length:4.3,width:2.2,height:1.5,color:[160,160,160]});Object(a["h"])(u);Object(a["f"])().TIMESTAMP_FORMAT;var c=r("K0Bd").default;class l extends i["PureComponent"]{constructor(){super(...arguments),this.state={log:c,settings:{viewMode:"PERSPECTIVE",showTooltip:!1}},this._onSettingsChange=e=>{this.setState({settings:Object(n["a"])(Object(n["a"])({},this.state.settings),e)})}}componentDidMount(){this.state.log.on("error",console.error).connect()}render(){var e=this.state;e.log,e.settings;return o.a.createElement("div",{id:"container"},o.a.createElement("div",{id:"control-panel"},o.a.createElement("hr",null)))}}},"zu+z":function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"Map",stat:!0},{from:i})}});